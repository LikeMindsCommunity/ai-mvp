---
# SDK: likeminds-feed-android

# Summary
Repository: likemindscommunity/likeminds-feed-android
Files analyzed: 657

Estimated tokens: 533.7k

# Tree
Directory structure:
└── likemindscommunity-likeminds-feed-android/
    ├── README.md
    ├── gradle.properties
    ├── gradlew
    ├── gradlew.bat
    ├── gradle/
    │   └── wrapper/
    │       └── gradle-wrapper.properties
    ├── likeminds-feed-android-core/
    │   ├── consumer-rules.pro
    │   ├── proguard-rules.pro
    │   ├── .DS_Store
    │   ├── .gitignore
    │   └── src/
    │       ├── androidTest/
    │       │   └── java/
    │       │       └── com/
    │       │           └── likeminds/
    │       │               └── feed/
    │       │                   └── android/
    │       │                       └── core/
    │       │                           └── ExampleInstrumentedTest.kt
    │       ├── main/
    │       │   ├── AndroidManifest.xml
    │       │   ├── assets/
    │       │   │   └── fonts/
    │       │   │       ├── lm_feed_montserrat-bold.ttf
    │       │   │       ├── lm_feed_montserrat-medium.ttf
    │       │   │       └── lm_feed_montserrat-regular.ttf
    │       │   ├── java/
    │       │   │   └── com/
    │       │   │       └── likeminds/
    │       │   │           └── feed/
    │       │   │               └── android/
    │       │   │                   └── core/
    │       │   │                       ├── LMFeedCore.kt
    │       │   │                       ├── LMFeedCoreApplication.kt
    │       │   │                       ├── LMFeedCoreCallback.kt
    │       │   │                       ├── LMFeedTheme.kt
    │       │   │                       ├── activityfeed/
    │       │   │                       │   ├── adapter/
    │       │   │                       │   │   ├── LMFeedActivityFeedAdapter.kt
    │       │   │                       │   │   └── databinder/
    │       │   │                       │   │       └── LMFeedItemActivityFeedViewDataBinder.kt
    │       │   │                       │   ├── model/
    │       │   │                       │   │   ├── LMFeedActivityEntityType.kt
    │       │   │                       │   │   ├── LMFeedActivityEntityViewData.kt
    │       │   │                       │   │   └── LMFeedActivityViewData.kt
    │       │   │                       │   ├── style/
    │       │   │                       │   │   └── LMFeedActivityFeedFragmentViewStyle.kt
    │       │   │                       │   ├── view/
    │       │   │                       │   │   ├── LMFeedActivityFeedActivity.kt
    │       │   │                       │   │   ├── LMFeedActivityFeedFragment.kt
    │       │   │                       │   │   └── LMFeedActivityFeedListView.kt
    │       │   │                       │   └── viewmodel/
    │       │   │                       │       └── LMFeedActivityFeedViewModel.kt
    │       │   │                       ├── delete/
    │       │   │                       │   ├── adapter/
    │       │   │                       │   │   ├── LMFeedReasonChooseAdapter.kt
    │       │   │                       │   │   └── databinder/
    │       │   │                       │   │       └── LMFeedReasonChooseViewDataBinder.kt
    │       │   │                       │   ├── model/
    │       │   │                       │   │   ├── LMFeedDeleteExtras.kt
    │       │   │                       │   │   ├── LMFeedDeleteType.kt
    │       │   │                       │   │   └── LMFeedReasonChooseViewData.kt
    │       │   │                       │   ├── style/
    │       │   │                       │   │   ├── LMFeedAdminDeleteDialogFragmentStyle.kt
    │       │   │                       │   │   └── LMFeedSelfDeleteDialogFragmentStyle.kt
    │       │   │                       │   ├── view/
    │       │   │                       │   │   ├── LMFeedAdminDeleteDialogFragment.kt
    │       │   │                       │   │   ├── LMFeedReasonChooseBottomSheetFragment.kt
    │       │   │                       │   │   ├── LMFeedReasonChooseListView.kt
    │       │   │                       │   │   └── LMFeedSelfDeleteDialogFragment.kt
    │       │   │                       │   └── viewmodel/
    │       │   │                       │       └── LMFeedReasonChooseViewModel.kt
    │       │   │                       ├── likes/
    │       │   │                       │   ├── adapter/
    │       │   │                       │   │   ├── LMFeedLikesAdapter.kt
    │       │   │                       │   │   └── databinder/
    │       │   │                       │   │       └── LMFeedItemLikesViewDataBinder.kt
    │       │   │                       │   ├── model/
    │       │   │                       │   │   ├── LMFeedLikeViewData.kt
    │       │   │                       │   │   ├── LMFeedLikesScreenEntityType.kt
    │       │   │                       │   │   └── LMFeedLikesScreenExtras.kt
    │       │   │                       │   ├── style/
    │       │   │                       │   │   └── LMFeedLikesFragmentViewStyle.kt
    │       │   │                       │   ├── view/
    │       │   │                       │   │   ├── LMFeedLikesActivity.kt
    │       │   │                       │   │   ├── LMFeedLikesFragment.kt
    │       │   │                       │   │   └── LMFeedLikesListView.kt
    │       │   │                       │   └── viewmodel/
    │       │   │                       │       └── LMFeedLikesViewModel.kt
    │       │   │                       ├── poll/
    │       │   │                       │   ├── create/
    │       │   │                       │   │   ├── adapter/
    │       │   │                       │   │   │   ├── LMFeedCreatePollOptionAdapter.kt
    │       │   │                       │   │   │   ├── LMFeedPollAdvancedOptionsAdapter.kt
    │       │   │                       │   │   │   └── databinding/
    │       │   │                       │   │   │       └── LMFeedItemCreatePollOptionViewDataBinder.kt
    │       │   │                       │   │   ├── model/
    │       │   │                       │   │   │   └── LMFeedCreatePollOptionViewData.kt
    │       │   │                       │   │   ├── style/
    │       │   │                       │   │   │   ├── LMFeedCreatePollFragmentViewStyle.kt
    │       │   │                       │   │   │   └── LMFeedCreatePollOptionViewStyle.kt
    │       │   │                       │   │   ├── view/
    │       │   │                       │   │   │   ├── LMFeedCreatePollActivity.kt
    │       │   │                       │   │   │   ├── LMFeedCreatePollFragment.kt
    │       │   │                       │   │   │   └── LMFeedCreatePollOptionListView.kt
    │       │   │                       │   │   └── viewmodel/
    │       │   │                       │   │       └── LMFeedCreatePollViewModel.kt
    │       │   │                       │   ├── result/
    │       │   │                       │   │   ├── adapter/
    │       │   │                       │   │   │   ├── LMFeedPollResultsTabAdapter.kt
    │       │   │                       │   │   │   ├── LMFeedPollVoteResultsAdapter.kt
    │       │   │                       │   │   │   └── databinder/
    │       │   │                       │   │   │       └── LMFeedItemPollVoteResultsViewDataBinder.kt
    │       │   │                       │   │   ├── model/
    │       │   │                       │   │   │   ├── LMFeedPollOptionViewData.kt
    │       │   │                       │   │   │   ├── LMFeedPollResultsExtras.kt
    │       │   │                       │   │   │   ├── LMFeedPollResultsTabExtras.kt
    │       │   │                       │   │   │   ├── LMFeedPollViewData.kt
    │       │   │                       │   │   │   └── LMFeedPollVoteViewData.kt
    │       │   │                       │   │   ├── style/
    │       │   │                       │   │   │   └── LMFeedPollResultsFragmentViewStyle.kt
    │       │   │                       │   │   ├── view/
    │       │   │                       │   │   │   ├── LMFeedPollResultsActivity.kt
    │       │   │                       │   │   │   ├── LMFeedPollResultsFragment.kt
    │       │   │                       │   │   │   ├── LMFeedPollResultsTabFragment.kt
    │       │   │                       │   │   │   └── LMFeedPollVoteResultsListView.kt
    │       │   │                       │   │   └── viewmodel/
    │       │   │                       │   │       └── LMFeedPollResultsViewModel.kt
    │       │   │                       │   └── util/
    │       │   │                       │       └── LMFeedPollUtil.kt
    │       │   │                       ├── post/
    │       │   │                       │   ├── create/
    │       │   │                       │   │   ├── model/
    │       │   │                       │   │   │   ├── LMFeedCreatePostExtras.kt
    │       │   │                       │   │   │   └── LMFeedFileUploadViewData.kt
    │       │   │                       │   │   ├── util/
    │       │   │                       │   │   │   ├── LMFeedCreateEditPostViewStyleUtil.kt
    │       │   │                       │   │   │   └── LMFeedPostAttachmentUploadWorker.kt
    │       │   │                       │   │   ├── view/
    │       │   │                       │   │   │   ├── LMFeedCreatePostActivity.kt
    │       │   │                       │   │   │   └── LMFeedCreatePostFragment.kt
    │       │   │                       │   │   ├── viewmodel/
    │       │   │                       │   │   │   └── LMFeedCreatePostViewModel.kt
    │       │   │                       │   │   └── viewstyle/
    │       │   │                       │   │       └── LMFeedCreatePostFragmentViewStyle.kt
    │       │   │                       │   ├── detail/
    │       │   │                       │   │   ├── adapter/
    │       │   │                       │   │   │   ├── LMFeedPostDetailAdapter.kt
    │       │   │                       │   │   │   ├── LMFeedReplyAdapter.kt
    │       │   │                       │   │   │   └── databinders/
    │       │   │                       │   │   │       ├── LMFeedItemCommentViewDataBinder.kt
    │       │   │                       │   │   │       ├── LMFeedItemCommentsCountViewDataBinder.kt
    │       │   │                       │   │   │       ├── LMFeedItemNoCommentsFoundViewDataBinder.kt
    │       │   │                       │   │   │       ├── LMFeedItemReplyViewDataBinder.kt
    │       │   │                       │   │   │       └── LMFeedItemViewMoreReplyViewDataBinder.kt
    │       │   │                       │   │   ├── model/
    │       │   │                       │   │   │   ├── LMFeedCommentViewData.kt
    │       │   │                       │   │   │   ├── LMFeedCommentsCountViewData.kt
    │       │   │                       │   │   │   ├── LMFeedNoCommentsViewData.kt
    │       │   │                       │   │   │   ├── LMFeedPostDetailExtras.kt
    │       │   │                       │   │   │   └── LMFeedViewMoreReplyViewData.kt
    │       │   │                       │   │   ├── style/
    │       │   │                       │   │   │   └── LMFeedPostDetailFragmentViewStyle.kt
    │       │   │                       │   │   ├── util/
    │       │   │                       │   │   │   └── LMFeedPostDetailBinderUtils.kt
    │       │   │                       │   │   ├── view/
    │       │   │                       │   │   │   ├── LMFeedPostDetailActivity.kt
    │       │   │                       │   │   │   ├── LMFeedPostDetailFragment.kt
    │       │   │                       │   │   │   ├── LMFeedPostDetailListView.kt
    │       │   │                       │   │   │   └── LMFeedReplyListView.kt
    │       │   │                       │   │   └── viewmodel/
    │       │   │                       │   │       └── LMFeedPostDetailViewModel.kt
    │       │   │                       │   ├── edit/
    │       │   │                       │   │   ├── model/
    │       │   │                       │   │   │   ├── LMFeedEditPostDisabledTopicsDialogExtras.kt
    │       │   │                       │   │   │   └── LMFeedEditPostExtras.kt
    │       │   │                       │   │   ├── style/
    │       │   │                       │   │   │   └── LMFeedEditPostFragmentViewStyle.kt
    │       │   │                       │   │   ├── view/
    │       │   │                       │   │   │   ├── LMFeedEditPostActivity.kt
    │       │   │                       │   │   │   ├── LMFeedEditPostDisabledTopicsDialogFragment.kt
    │       │   │                       │   │   │   └── LMFeedEditPostFragment.kt
    │       │   │                       │   │   └── viewmodel/
    │       │   │                       │   │       └── LMFeedEditPostViewModel.kt
    │       │   │                       │   ├── model/
    │       │   │                       │   │   ├── LMFeedAttachmentMetaViewData.kt
    │       │   │                       │   │   ├── LMFeedAttachmentType.kt
    │       │   │                       │   │   ├── LMFeedAttachmentViewData.kt
    │       │   │                       │   │   └── LMFeedLinkOGTagsViewData.kt
    │       │   │                       │   ├── style/
    │       │   │                       │   │   └── LMFeedPostViewStyle.kt
    │       │   │                       │   ├── util/
    │       │   │                       │   │   └── LMFeedPostEvent.kt
    │       │   │                       │   └── viewmodel/
    │       │   │                       │       ├── LMFeedHelperViewModel.kt
    │       │   │                       │       └── LMFeedPostViewModel.kt
    │       │   │                       ├── postmenu/
    │       │   │                       │   ├── adapter/
    │       │   │                       │   │   └── LMFeedPostMenuAdapter.kt
    │       │   │                       │   ├── model/
    │       │   │                       │   │   ├── LMFeedPostMenuExtras.kt
    │       │   │                       │   │   ├── LMFeedPostMenuItemId.kt
    │       │   │                       │   │   └── LMFeedPostMenuItemViewData.kt
    │       │   │                       │   ├── style/
    │       │   │                       │   │   └── LMFeedPostMenuViewStyle.kt
    │       │   │                       │   └── view/
    │       │   │                       │       ├── LMFeedPostMenuBottomSheetFragment.kt
    │       │   │                       │       ├── LMFeedPostMenuItemViewDataBinder.kt
    │       │   │                       │       └── LMFeedPostMenuListView.kt
    │       │   │                       ├── pushnotification/
    │       │   │                       │   ├── LMFeedNotificationHandler.kt
    │       │   │                       │   └── model/
    │       │   │                       │       └── LMFeedNotificationActionData.kt
    │       │   │                       ├── qnafeed/
    │       │   │                       │   ├── style/
    │       │   │                       │   │   └── LMFeedQnAFeedFragmentViewStyle.kt
    │       │   │                       │   ├── view/
    │       │   │                       │   │   └── LMFeedQnAFeedFragment.kt
    │       │   │                       │   └── viewmodel/
    │       │   │                       │       └── LMFeedQnAFeedViewModel.kt
    │       │   │                       ├── report/
    │       │   │                       │   ├── adapter/
    │       │   │                       │   │   ├── LMFeedReportTagAdapter.kt
    │       │   │                       │   │   └── databinder/
    │       │   │                       │   │       └── LMFeedItemReportTagViewDataBinder.kt
    │       │   │                       │   ├── model/
    │       │   │                       │   │   ├── LMFeedReportExtras.kt
    │       │   │                       │   │   ├── LMFeedReportTagViewData.kt
    │       │   │                       │   │   └── LMFeedReportType.kt
    │       │   │                       │   ├── style/
    │       │   │                       │   │   └── LMFeedReportFragmentViewStyle.kt
    │       │   │                       │   ├── view/
    │       │   │                       │   │   ├── LMFeedReportActivity.kt
    │       │   │                       │   │   ├── LMFeedReportFragment.kt
    │       │   │                       │   │   ├── LMFeedReportSuccessDialogFragment.kt
    │       │   │                       │   │   └── LMFeedReportTagListView.kt
    │       │   │                       │   └── viewmodel/
    │       │   │                       │       └── LMFeedReportViewModel.kt
    │       │   │                       ├── search/
    │       │   │                       │   ├── model/
    │       │   │                       │   │   └── LMFeedSearchExtras.kt
    │       │   │                       │   ├── style/
    │       │   │                       │   │   └── LMFeedSearchFragmentViewStyle.kt
    │       │   │                       │   ├── util/
    │       │   │                       │   │   └── LMFeedSearchUtil.kt
    │       │   │                       │   ├── view/
    │       │   │                       │   │   ├── LMFeedSearchActivity.kt
    │       │   │                       │   │   ├── LMFeedSearchFragment.kt
    │       │   │                       │   │   └── LMFeedSearchListView.kt
    │       │   │                       │   └── viewmodel/
    │       │   │                       │       └── LMFeedSearchViewModel.kt
    │       │   │                       ├── socialfeed/
    │       │   │                       │   ├── adapter/
    │       │   │                       │   │   ├── LMFeedDocumentsPostAdapter.kt
    │       │   │                       │   │   ├── LMFeedMultipleMediaPostAdapter.kt
    │       │   │                       │   │   ├── LMFeedPostAdapterListener.kt
    │       │   │                       │   │   ├── LMFeedSelectedTopicAdapter.kt
    │       │   │                       │   │   ├── LMFeedSocialFeedAdapter.kt
    │       │   │                       │   │   └── databinders/
    │       │   │                       │   │       ├── LMFeedItemPostCustomWidgetViewDataBinder.kt
    │       │   │                       │   │       ├── LMFeedItemPostDocumentsViewDataBinder.kt
    │       │   │                       │   │       ├── LMFeedItemPostLinkViewDataBinder.kt
    │       │   │                       │   │       ├── LMFeedItemPostMultipleMediaViewDataBinder.kt
    │       │   │                       │   │       ├── LMFeedItemPostPollViewDataBinder.kt
    │       │   │                       │   │       ├── LMFeedItemPostSingleImageViewDataBinder.kt
    │       │   │                       │   │       ├── LMFeedItemPostSingleVideoViewDataBinder.kt
    │       │   │                       │   │       ├── LMFeedItemPostTextOnlyViewDataBinder.kt
    │       │   │                       │   │       ├── LMFeedItemSelectedFilterTopicViewDataBinder.kt
    │       │   │                       │   │       ├── postdocuments/
    │       │   │                       │   │       │   └── LMFeedItemDocumentViewDataBinder.kt
    │       │   │                       │   │       └── postmultiplemedia/
    │       │   │                       │   │           ├── LMFeedItemMultipleMediaImageViewDataBinder.kt
    │       │   │                       │   │           └── LMFeedItemMultipleMediaVideoViewDataBinder.kt
    │       │   │                       │   ├── model/
    │       │   │                       │   │   ├── LMFeedMediaViewData.kt
    │       │   │                       │   │   ├── LMFeedPostActionViewData.kt
    │       │   │                       │   │   ├── LMFeedPostContentViewData.kt
    │       │   │                       │   │   ├── LMFeedPostHeaderViewData.kt
    │       │   │                       │   │   ├── LMFeedPostViewData.kt
    │       │   │                       │   │   └── LMFeedSDKClientInfoViewData.kt
    │       │   │                       │   ├── style/
    │       │   │                       │   │   ├── LMFeedPostingViewStyle.kt
    │       │   │                       │   │   ├── LMFeedSocialFeedFragmentViewStyle.kt
    │       │   │                       │   │   └── LMFeedTopicSelectorBarViewStyle.kt
    │       │   │                       │   ├── util/
    │       │   │                       │   │   └── LMFeedPostBinderUtils.kt
    │       │   │                       │   ├── view/
    │       │   │                       │   │   ├── LMFeedDocumentListView.kt
    │       │   │                       │   │   ├── LMFeedPostingView.kt
    │       │   │                       │   │   ├── LMFeedSocialFeedFragment.kt
    │       │   │                       │   │   ├── LMFeedSocialFeedListView.kt
    │       │   │                       │   │   ├── LMFeedSocialSelectedTopicListView.kt
    │       │   │                       │   │   └── LMFeedTopicSelectorBarView.kt
    │       │   │                       │   └── viewmodel/
    │       │   │                       │       └── LMFeedSocialFeedViewModel.kt
    │       │   │                       ├── topics/
    │       │   │                       │   └── model/
    │       │   │                       │       └── LMFeedTopicViewData.kt
    │       │   │                       ├── topicselection/
    │       │   │                       │   ├── adapter/
    │       │   │                       │   │   ├── LMFeedTopicSelectionAdapter.kt
    │       │   │                       │   │   └── databinder/
    │       │   │                       │   │       ├── LMFeedItemAllTopicsViewDataBinder.kt
    │       │   │                       │   │       └── LMFeedItemTopicViewDataBinder.kt
    │       │   │                       │   ├── model/
    │       │   │                       │   │   ├── LMFeedAllTopicsViewData.kt
    │       │   │                       │   │   ├── LMFeedTopicSelectionExtras.kt
    │       │   │                       │   │   └── LMFeedTopicSelectionResultExtras.kt
    │       │   │                       │   ├── style/
    │       │   │                       │   │   └── LMFeedTopicSelectionFragmentViewStyle.kt
    │       │   │                       │   ├── view/
    │       │   │                       │   │   ├── LMFeedTopicSelectionActivity.kt
    │       │   │                       │   │   ├── LMFeedTopicSelectionFragment.kt
    │       │   │                       │   │   └── LMFeedTopicSelectionListView.kt
    │       │   │                       │   └── viewmodel/
    │       │   │                       │       └── LMFeedTopicSelectionViewModel.kt
    │       │   │                       ├── ui/
    │       │   │                       │   ├── .DS_Store
    │       │   │                       │   ├── base/
    │       │   │                       │   │   ├── .DS_Store
    │       │   │                       │   │   ├── styles/
    │       │   │                       │   │   │   ├── LMFeedButtonStyle.kt
    │       │   │                       │   │   │   ├── LMFeedChipGroupStyle.kt
    │       │   │                       │   │   │   ├── LMFeedChipStyle.kt
    │       │   │                       │   │   │   ├── LMFeedEditTextStyle.kt
    │       │   │                       │   │   │   ├── LMFeedFABStyle.kt
    │       │   │                       │   │   │   ├── LMFeedIconStyle.kt
    │       │   │                       │   │   │   ├── LMFeedImageStyle.kt
    │       │   │                       │   │   │   ├── LMFeedProgressBarStyle.kt
    │       │   │                       │   │   │   ├── LMFeedSwitchStyle.kt
    │       │   │                       │   │   │   └── LMFeedTextStyle.kt
    │       │   │                       │   │   └── views/
    │       │   │                       │   │       ├── LMFeedButton.kt
    │       │   │                       │   │       ├── LMFeedChip.kt
    │       │   │                       │   │       ├── LMFeedChipGroup.kt
    │       │   │                       │   │       ├── LMFeedEditText.kt
    │       │   │                       │   │       ├── LMFeedFAB.kt
    │       │   │                       │   │       ├── LMFeedIcon.kt
    │       │   │                       │   │       ├── LMFeedImageView.kt
    │       │   │                       │   │       ├── LMFeedProgressBar.kt
    │       │   │                       │   │       ├── LMFeedSwitch.kt
    │       │   │                       │   │       ├── LMFeedTextView.kt
    │       │   │                       │   │       └── LMFeedVideoView.kt
    │       │   │                       │   ├── theme/
    │       │   │                       │   │   ├── LMFeedAppearance.kt
    │       │   │                       │   │   └── model/
    │       │   │                       │   │       └── LMFeedAppearanceRequest.kt
    │       │   │                       │   └── widgets/
    │       │   │                       │       ├── acitivityfeed/
    │       │   │                       │       │   ├── style/
    │       │   │                       │       │   │   └── LMFeedActivityViewStyle.kt
    │       │   │                       │       │   └── view/
    │       │   │                       │       │       └── LMFeedActivityView.kt
    │       │   │                       │       ├── alertdialog/
    │       │   │                       │       │   ├── style/
    │       │   │                       │       │   │   └── LMFeedAlertDialogViewStyle.kt
    │       │   │                       │       │   └── view/
    │       │   │                       │       │       └── LMFeedAlertDialogView.kt
    │       │   │                       │       ├── comment/
    │       │   │                       │       │   ├── commentcomposer/
    │       │   │                       │       │   │   ├── style/
    │       │   │                       │       │   │   │   └── LMFeedCommentComposerViewStyle.kt
    │       │   │                       │       │   │   └── view/
    │       │   │                       │       │   │       └── LMFeedCommentComposerView.kt
    │       │   │                       │       │   └── commentlayout/
    │       │   │                       │       │       ├── style/
    │       │   │                       │       │       │   └── LMFeedCommentView.kt
    │       │   │                       │       │       └── view/
    │       │   │                       │       │           └── LMFeedCommentViewStyle.kt
    │       │   │                       │       ├── headerview/
    │       │   │                       │       │   ├── style/
    │       │   │                       │       │   │   └── LMFeedHeaderViewStyle.kt
    │       │   │                       │       │   └── view/
    │       │   │                       │       │       └── LMFeedHeaderView.kt
    │       │   │                       │       ├── labeliconcontainer/
    │       │   │                       │       │   ├── style/
    │       │   │                       │       │   │   └── LMFeedLabelIconContainerViewStyle.kt
    │       │   │                       │       │   └── view/
    │       │   │                       │       │       └── LMFeedLabelIconContainerView.kt
    │       │   │                       │       ├── labelimagecontainer/
    │       │   │                       │       │   ├── style/
    │       │   │                       │       │   │   └── LMFeedLabelImageContainerViewStyle.kt
    │       │   │                       │       │   └── view/
    │       │   │                       │       │       └── LMFeedLabelImageContainerView.kt
    │       │   │                       │       ├── noentitylayout/
    │       │   │                       │       │   ├── style/
    │       │   │                       │       │   │   └── LMFeedNoEntityLayoutViewStyle.kt
    │       │   │                       │       │   └── view/
    │       │   │                       │       │       └── LMFeedNoEntityLayoutView.kt
    │       │   │                       │       ├── overflowmenu/
    │       │   │                       │       │   └── view/
    │       │   │                       │       │       └── LMFeedOverflowMenu.kt
    │       │   │                       │       ├── poll/
    │       │   │                       │       │   ├── adapter/
    │       │   │                       │       │   │   ├── LMFeedPollOptionsAdapter.kt
    │       │   │                       │       │   │   └── databinder/
    │       │   │                       │       │   │       └── LMFeedItemPollOptionsViewDataBinder.kt
    │       │   │                       │       │   ├── model/
    │       │   │                       │       │   │   └── LMFeedAddPollOptionExtras.kt
    │       │   │                       │       │   ├── style/
    │       │   │                       │       │   │   ├── LMFeedAddPollOptionBottomSheetFragmentStyle.kt
    │       │   │                       │       │   │   ├── LMFeedAnonymousPollDialogFragmentStyle.kt
    │       │   │                       │       │   │   ├── LMFeedPostPollOptionViewStyle.kt
    │       │   │                       │       │   │   └── LMFeedPostPollViewStyle.kt
    │       │   │                       │       │   └── view/
    │       │   │                       │       │       ├── LMFeedAddPollOptionBottomSheetFragment.kt
    │       │   │                       │       │       ├── LMFeedAnonymousPollDialogFragment.kt
    │       │   │                       │       │       ├── LMFeedPollOptionView.kt
    │       │   │                       │       │       ├── LMFeedPollOptionsListView.kt
    │       │   │                       │       │       └── LMFeedPostPollView.kt
    │       │   │                       │       ├── post/
    │       │   │                       │       │   ├── postactionview/
    │       │   │                       │       │   │   ├── style/
    │       │   │                       │       │   │   │   └── LMFeedPostActionViewStyle.kt
    │       │   │                       │       │   │   └── view/
    │       │   │                       │       │   │       ├── LMFeedPostActionHorizontalView.kt
    │       │   │                       │       │   │       ├── LMFeedPostActionVerticalView.kt
    │       │   │                       │       │   │       └── LMFeedPostQnAActionHorizontalView.kt
    │       │   │                       │       │   ├── postcontent/
    │       │   │                       │       │   │   └── style/
    │       │   │                       │       │   │       └── LMFeedPostContentViewStyle.kt
    │       │   │                       │       │   ├── postheaderview/
    │       │   │                       │       │   │   ├── style/
    │       │   │                       │       │   │   │   └── LMFeedPostHeaderViewStyle.kt
    │       │   │                       │       │   │   └── view/
    │       │   │                       │       │   │       └── LMFeedPostHeaderView.kt
    │       │   │                       │       │   ├── postmedia/
    │       │   │                       │       │   │   ├── style/
    │       │   │                       │       │   │   │   ├── LMFeedPostDocumentsMediaViewStyle.kt
    │       │   │                       │       │   │   │   ├── LMFeedPostImageMediaViewStyle.kt
    │       │   │                       │       │   │   │   ├── LMFeedPostLinkMediaViewStyle.kt
    │       │   │                       │       │   │   │   ├── LMFeedPostMediaViewStyle.kt
    │       │   │                       │       │   │   │   ├── LMFeedPostMultipleMediaViewStyle.kt
    │       │   │                       │       │   │   │   └── LMFeedPostVideoMediaViewStyle.kt
    │       │   │                       │       │   │   └── view/
    │       │   │                       │       │   │       ├── LMFeedPostDocumentView.kt
    │       │   │                       │       │   │       ├── LMFeedPostDocumentsMediaView.kt
    │       │   │                       │       │   │       ├── LMFeedPostImageMediaView.kt
    │       │   │                       │       │   │       ├── LMFeedPostLinkMediaView.kt
    │       │   │                       │       │   │       ├── LMFeedPostMultipleMediaView.kt
    │       │   │                       │       │   │       ├── LMFeedPostVerticalVideoMediaView.kt
    │       │   │                       │       │   │       └── LMFeedPostVideoMediaView.kt
    │       │   │                       │       │   └── posttopresponse/
    │       │   │                       │       │       ├── style/
    │       │   │                       │       │       │   └── LMFeedPostTopResponseViewStyle.kt
    │       │   │                       │       │       └── view/
    │       │   │                       │       │           └── LMFeedPostTopResponseView.kt
    │       │   │                       │       ├── searchbar/
    │       │   │                       │       │   ├── style/
    │       │   │                       │       │   │   └── LMFeedSearchBarViewStyle.kt
    │       │   │                       │       │   └── view/
    │       │   │                       │       │       └── LMFeedSearchBarView.kt
    │       │   │                       │       ├── snackbar/
    │       │   │                       │       │   └── view/
    │       │   │                       │       │       ├── LMFeedSnackbar.kt
    │       │   │                       │       │       └── LMFeedSnackbarView.kt
    │       │   │                       │       ├── user/
    │       │   │                       │       │   ├── style/
    │       │   │                       │       │   │   └── LMFeedUserViewStyle.kt
    │       │   │                       │       │   └── view/
    │       │   │                       │       │       └── LMFeedUserView.kt
    │       │   │                       │       └── viewmore/
    │       │   │                       │           ├── style/
    │       │   │                       │           │   └── LMFeedViewMoreViewStyle.kt
    │       │   │                       │           └── view/
    │       │   │                       │               └── LMFeedViewMoreView.kt
    │       │   │                       ├── utils/
    │       │   │                       │   ├── LMFeedAndroidUtils.kt
    │       │   │                       │   ├── LMFeedAnimationUtils.kt
    │       │   │                       │   ├── LMFeedBounceInterpolator.kt
    │       │   │                       │   ├── LMFeedCommunityUtil.kt
    │       │   │                       │   ├── LMFeedEndlessRecyclerViewScrollListener.kt
    │       │   │                       │   ├── LMFeedErrorUtil.kt
    │       │   │                       │   ├── LMFeedExtrasUtil.kt
    │       │   │                       │   ├── LMFeedImageBindingUtil.kt
    │       │   │                       │   ├── LMFeedProgressBarHelper.kt
    │       │   │                       │   ├── LMFeedRecyclerViewScrollStateListener.kt
    │       │   │                       │   ├── LMFeedRoute.kt
    │       │   │                       │   ├── LMFeedSeeMoreUtil.kt
    │       │   │                       │   ├── LMFeedShareUtils.kt
    │       │   │                       │   ├── LMFeedStyleTransformer.kt
    │       │   │                       │   ├── LMFeedTimeUtil.kt
    │       │   │                       │   ├── LMFeedValueUtils.kt
    │       │   │                       │   ├── LMFeedViewDataConvertor.kt
    │       │   │                       │   ├── LMFeedViewStyle.kt
    │       │   │                       │   ├── LMFeedViewUtils.kt
    │       │   │                       │   ├── analytics/
    │       │   │                       │   │   └── LMFeedAnalytics.kt
    │       │   │                       │   ├── base/
    │       │   │                       │   │   ├── LMFeedBaseRecyclerAdapter.java
    │       │   │                       │   │   ├── LMFeedBaseViewType.kt
    │       │   │                       │   │   ├── LMFeedDataBoundViewHolder.kt
    │       │   │                       │   │   ├── LMFeedViewDataBinder.kt
    │       │   │                       │   │   ├── PostItemViewDataBinder.kt
    │       │   │                       │   │   └── model/
    │       │   │                       │   │       └── LMFeedViewType.kt
    │       │   │                       │   ├── coroutine/
    │       │   │                       │   │   ├── DispatcherUtil.kt
    │       │   │                       │   │   └── ObserverUtil.kt
    │       │   │                       │   ├── feed/
    │       │   │                       │   │   ├── LMFeedBaseListViewFragment.kt
    │       │   │                       │   │   ├── LMFeedBaseThemeFragment.kt
    │       │   │                       │   │   ├── LMFeedPostSeenUtil.kt
    │       │   │                       │   │   └── LMFeedType.kt
    │       │   │                       │   ├── generator/
    │       │   │                       │   │   ├── LMFeedColorGenerator.kt
    │       │   │                       │   │   └── LMFeedTextDrawable.kt
    │       │   │                       │   ├── link/
    │       │   │                       │   │   ├── LMFeedLinkMovementMethod.kt
    │       │   │                       │   │   └── LMFeedOnLinkClickListener.kt
    │       │   │                       │   ├── listeners/
    │       │   │                       │   │   ├── LMFeedMenuItemClickListener.kt
    │       │   │                       │   │   ├── LMFeedOnClickListener.kt
    │       │   │                       │   │   └── LMFeedOnTaggedMemberClickListener.kt
    │       │   │                       │   ├── mediauploader/
    │       │   │                       │   │   ├── LMFeedMediaUploadWorker.kt
    │       │   │                       │   │   ├── model/
    │       │   │                       │   │   │   ├── LMFeedAWSFileResponse.kt
    │       │   │                       │   │   │   ├── LMFeedGenericFileRequest.kt
    │       │   │                       │   │   │   └── LMFeedWorkerContinuationType.kt
    │       │   │                       │   │   └── utils/
    │       │   │                       │   │       ├── LMFeedAWSKeys.kt
    │       │   │                       │   │       ├── LMFeedUploadHelper.kt
    │       │   │                       │   │       └── LMFeedWorkerUtil.kt
    │       │   │                       │   ├── membertagging/
    │       │   │                       │   │   └── MemberTaggingUtil.kt
    │       │   │                       │   ├── model/
    │       │   │                       │   │   └── LMFeedPadding.kt
    │       │   │                       │   ├── pluralize/
    │       │   │                       │   │   ├── LMFeedPluralize.kt
    │       │   │                       │   │   ├── LMFeedPluralizeRules.kt
    │       │   │                       │   │   └── model/
    │       │   │                       │   │       └── LMFeedWordAction.kt
    │       │   │                       │   ├── sharedpreferences/
    │       │   │                       │   │   └── LMFeedBasePreferences.kt
    │       │   │                       │   ├── user/
    │       │   │                       │   │   ├── LMFeedMemberRightsState.kt
    │       │   │                       │   │   ├── LMFeedMemberRightsUtil.kt
    │       │   │                       │   │   ├── LMFeedMemberState.kt
    │       │   │                       │   │   ├── LMFeedUserImageUtil.kt
    │       │   │                       │   │   ├── LMFeedUserMetaData.kt
    │       │   │                       │   │   ├── LMFeedUserPreferences.kt
    │       │   │                       │   │   ├── LMFeedUserViewData.kt
    │       │   │                       │   │   ├── UserResponse.kt
    │       │   │                       │   │   └── UserResponseConvertor.kt
    │       │   │                       │   └── video/
    │       │   │                       │       ├── LMFeedPostVideoAutoPlayHelper.kt
    │       │   │                       │       ├── LMFeedPostVideoPreviewAutoPlayHelper.kt
    │       │   │                       │       ├── LMFeedVideoCache.kt
    │       │   │                       │       └── LMFeedVideoPlayerListener.kt
    │       │   │                       ├── videofeed/
    │       │   │                       │   ├── adapter/
    │       │   │                       │   │   ├── LMFeedVideoFeedAdapter.kt
    │       │   │                       │   │   └── databinders/
    │       │   │                       │   │       ├── LMFeedItemPostVideoFeedCaughtUpViewDataBinder.kt
    │       │   │                       │   │       └── LMFeedItemPostVideoFeedViewDataBinder.kt
    │       │   │                       │   ├── model/
    │       │   │                       │   │   ├── LMFeedCaughtUpViewData.kt
    │       │   │                       │   │   ├── LMFeedVideoFeedConfig.kt
    │       │   │                       │   │   └── LMFeedVideoFeedProps.kt
    │       │   │                       │   ├── view/
    │       │   │                       │   │   └── LMFeedVideoFeedFragment.kt
    │       │   │                       │   ├── viewmodel/
    │       │   │                       │   │   └── LMFeedVideoFeedViewModel.kt
    │       │   │                       │   └── viewstyle/
    │       │   │                       │       └── LMFeedVideoFeedFragmentViewStyle.kt
    │       │   │                       └── widget/
    │       │   │                           └── model/
    │       │   │                               └── LMFeedWidgetViewData.kt
    │       │   └── res/
    │       │       ├── .DS_Store
    │       │       ├── anim/
    │       │       │   ├── lm_feed_bounce.xml
    │       │       │   ├── lm_feed_slide_from_left.xml
    │       │       │   └── lm_feed_slide_to_right.xml
    │       │       ├── drawable/
    │       │       │   ├── ic_launcher_foreground.xml
    │       │       │   ├── lm_feed_background_document.xml
    │       │       │   ├── lm_feed_background_poll_item_selected.xml
    │       │       │   ├── lm_feed_background_qna_upvote_button.xml
    │       │       │   ├── lm_feed_background_round_2dp.xml
    │       │       │   ├── lm_feed_background_round_8dp.xml
    │       │       │   ├── lm_feed_background_selected_filter_topic.xml
    │       │       │   ├── lm_feed_bg_input_add_poll_option.xml
    │       │       │   ├── lm_feed_bg_report_tags.xml
    │       │       │   ├── lm_feed_bg_rounded_top_10dp.xml
    │       │       │   ├── lm_feed_bg_sheet_handle.xml
    │       │       │   ├── lm_feed_circular_progress_bar.xml
    │       │       │   ├── lm_feed_circular_shape.xml
    │       │       │   ├── lm_feed_document_item_divider.xml
    │       │       │   ├── lm_feed_ic_add_image.xml
    │       │       │   ├── lm_feed_ic_add_option.xml
    │       │       │   ├── lm_feed_ic_add_topics.xml
    │       │       │   ├── lm_feed_ic_add_video.xml
    │       │       │   ├── lm_feed_ic_arrow_back_black_24dp.xml
    │       │       │   ├── lm_feed_ic_arrow_down.xml
    │       │       │   ├── lm_feed_ic_arrow_drop_down.xml
    │       │       │   ├── lm_feed_ic_arrow_edge_down.xml
    │       │       │   ├── lm_feed_ic_arrow_edge_up.xml
    │       │       │   ├── lm_feed_ic_arrow_right_white.xml
    │       │       │   ├── lm_feed_ic_attach_files.xml
    │       │       │   ├── lm_feed_ic_bookmark_filled.xml
    │       │       │   ├── lm_feed_ic_bookmark_unfilled.xml
    │       │       │   ├── lm_feed_ic_check_circle.xml
    │       │       │   ├── lm_feed_ic_circle_tick.xml
    │       │       │   ├── lm_feed_ic_comment.xml
    │       │       │   ├── lm_feed_ic_comment_send_disable.xml
    │       │       │   ├── lm_feed_ic_comment_send_enable.xml
    │       │       │   ├── lm_feed_ic_completed_green.xml
    │       │       │   ├── lm_feed_ic_cross.xml
    │       │       │   ├── lm_feed_ic_cross_black.xml
    │       │       │   ├── lm_feed_ic_cross_circle.xml
    │       │       │   ├── lm_feed_ic_cross_topics.xml
    │       │       │   ├── lm_feed_ic_delete.xml
    │       │       │   ├── lm_feed_ic_doc_attachment.xml
    │       │       │   ├── lm_feed_ic_edit_poll.xml
    │       │       │   ├── lm_feed_ic_edit_topic.xml
    │       │       │   ├── lm_feed_ic_img_attachment.xml
    │       │       │   ├── lm_feed_ic_large_tick.xml
    │       │       │   ├── lm_feed_ic_like_comment_filled.xml
    │       │       │   ├── lm_feed_ic_like_comment_unfilled.xml
    │       │       │   ├── lm_feed_ic_like_filled.xml
    │       │       │   ├── lm_feed_ic_like_unfilled.xml
    │       │       │   ├── lm_feed_ic_like_white.xml
    │       │       │   ├── lm_feed_ic_link.xml
    │       │       │   ├── lm_feed_ic_media_attachment.xml
    │       │       │   ├── lm_feed_ic_multiply.xml
    │       │       │   ├── lm_feed_ic_mute.xml
    │       │       │   ├── lm_feed_ic_new_post_plus.xml
    │       │       │   ├── lm_feed_ic_notification_bell.xml
    │       │       │   ├── lm_feed_ic_overflow_menu.xml
    │       │       │   ├── lm_feed_ic_overflow_menu_vertical.xml
    │       │       │   ├── lm_feed_ic_overflow_menu_white.xml
    │       │       │   ├── lm_feed_ic_pause.xml
    │       │       │   ├── lm_feed_ic_pdf.xml
    │       │       │   ├── lm_feed_ic_pin.xml
    │       │       │   ├── lm_feed_ic_play.xml
    │       │       │   ├── lm_feed_ic_plus.xml
    │       │       │   ├── lm_feed_ic_poll.xml
    │       │       │   ├── lm_feed_ic_post.xml
    │       │       │   ├── lm_feed_ic_radio_button_off.xml
    │       │       │   ├── lm_feed_ic_remove_poll_option.xml
    │       │       │   ├── lm_feed_ic_search_icon.xml
    │       │       │   ├── lm_feed_ic_share.xml
    │       │       │   ├── lm_feed_ic_share_white.xml
    │       │       │   ├── lm_feed_ic_topic_selected.xml
    │       │       │   ├── lm_feed_ic_unmute.xml
    │       │       │   ├── lm_feed_ic_upvote_filled.xml
    │       │       │   ├── lm_feed_ic_upvote_unfilled.xml
    │       │       │   ├── lm_feed_item_divider.xml
    │       │       │   ├── lm_feed_notification_badge.xml
    │       │       │   ├── lm_feed_picture_placeholder.xml
    │       │       │   ├── lm_feed_poll_result_background_selected.xml
    │       │       │   └── lm_feed_shape_dot_grey.xml
    │       │       ├── font/
    │       │       │   ├── lm_feed_roboto.ttf
    │       │       │   ├── lm_feed_roboto_bold.ttf
    │       │       │   └── lm_feed_roboto_medium.ttf
    │       │       ├── layout/
    │       │       │   ├── lm_feed_activity_activity_feed.xml
    │       │       │   ├── lm_feed_activity_create_poll.xml
    │       │       │   ├── lm_feed_activity_create_post.xml
    │       │       │   ├── lm_feed_activity_edit_post.xml
    │       │       │   ├── lm_feed_activity_likes.xml
    │       │       │   ├── lm_feed_activity_poll_results.xml
    │       │       │   ├── lm_feed_activity_post_detail.xml
    │       │       │   ├── lm_feed_activity_report.xml
    │       │       │   ├── lm_feed_activity_topic_selection.xml
    │       │       │   ├── lm_feed_activity_view.xml
    │       │       │   ├── lm_feed_add_poll_option_bottom_sheet_fragment.xml
    │       │       │   ├── lm_feed_alert_dialog_view.xml
    │       │       │   ├── lm_feed_chip.xml
    │       │       │   ├── lm_feed_comment_composer_view.xml
    │       │       │   ├── lm_feed_comment_view.xml
    │       │       │   ├── lm_feed_dialog_fragment_admin_delete.xml
    │       │       │   ├── lm_feed_dialog_fragment_anonymous_poll.xml
    │       │       │   ├── lm_feed_dialog_fragment_edit_post_disabled_topics.xml
    │       │       │   ├── lm_feed_dialog_fragment_report_success.xml
    │       │       │   ├── lm_feed_dialog_fragment_self_delete.xml
    │       │       │   ├── lm_feed_fragment_activity_feed.xml
    │       │       │   ├── lm_feed_fragment_create_poll.xml
    │       │       │   ├── lm_feed_fragment_create_post.xml
    │       │       │   ├── lm_feed_fragment_edit_post.xml
    │       │       │   ├── lm_feed_fragment_likes.xml
    │       │       │   ├── lm_feed_fragment_poll_results.xml
    │       │       │   ├── lm_feed_fragment_poll_results_tab.xml
    │       │       │   ├── lm_feed_fragment_post_detail.xml
    │       │       │   ├── lm_feed_fragment_qna_feed.xml
    │       │       │   ├── lm_feed_fragment_report.xml
    │       │       │   ├── lm_feed_fragment_social_feed.xml
    │       │       │   ├── lm_feed_fragment_topic_selection.xml
    │       │       │   ├── lm_feed_fragment_video_feed.xml
    │       │       │   ├── lm_feed_header_view.xml
    │       │       │   ├── lm_feed_item_activity_feed.xml
    │       │       │   ├── lm_feed_item_all_topics.xml
    │       │       │   ├── lm_feed_item_comment.xml
    │       │       │   ├── lm_feed_item_comments_count.xml
    │       │       │   ├── lm_feed_item_create_poll_option.xml
    │       │       │   ├── lm_feed_item_create_post_single_image.xml
    │       │       │   ├── lm_feed_item_document.xml
    │       │       │   ├── lm_feed_item_likes.xml
    │       │       │   ├── lm_feed_item_multiple_media_image.xml
    │       │       │   ├── lm_feed_item_multiple_media_video.xml
    │       │       │   ├── lm_feed_item_no_comments_found.xml
    │       │       │   ├── lm_feed_item_poll_dropdown.xml
    │       │       │   ├── lm_feed_item_poll_options.xml
    │       │       │   ├── lm_feed_item_poll_vote_results.xml
    │       │       │   ├── lm_feed_item_post_custom_widget.xml
    │       │       │   ├── lm_feed_item_post_documents.xml
    │       │       │   ├── lm_feed_item_post_link.xml
    │       │       │   ├── lm_feed_item_post_menu.xml
    │       │       │   ├── lm_feed_item_post_multiple_media.xml
    │       │       │   ├── lm_feed_item_post_poll.xml
    │       │       │   ├── lm_feed_item_post_single_image.xml
    │       │       │   ├── lm_feed_item_post_single_video.xml
    │       │       │   ├── lm_feed_item_post_text_only.xml
    │       │       │   ├── lm_feed_item_post_video_feed.xml
    │       │       │   ├── lm_feed_item_post_video_feed_caught_up.xml
    │       │       │   ├── lm_feed_item_reason_choose.xml
    │       │       │   ├── lm_feed_item_reply_view.xml
    │       │       │   ├── lm_feed_item_report_tag.xml
    │       │       │   ├── lm_feed_item_selected_filter_topic.xml
    │       │       │   ├── lm_feed_item_topic.xml
    │       │       │   ├── lm_feed_item_view_more_reply.xml
    │       │       │   ├── lm_feed_label_icon_container_view.xml
    │       │       │   ├── lm_feed_label_image_container_view.xml
    │       │       │   ├── lm_feed_layout_create_post_link.xml
    │       │       │   ├── lm_feed_layout_edit_post_documents.xml
    │       │       │   ├── lm_feed_layout_edit_post_multiple_media.xml
    │       │       │   ├── lm_feed_layout_edit_post_single_image.xml
    │       │       │   ├── lm_feed_layout_edit_post_single_video.xml
    │       │       │   ├── lm_feed_layout_poll_results_tab.xml
    │       │       │   ├── lm_feed_layout_posting.xml
    │       │       │   ├── lm_feed_layout_progress_bar.xml
    │       │       │   ├── lm_feed_no_entity_layout_view.xml
    │       │       │   ├── lm_feed_poll_option_view.xml
    │       │       │   ├── lm_feed_post_action_horizontal_view.xml
    │       │       │   ├── lm_feed_post_action_vertical_view.xml
    │       │       │   ├── lm_feed_post_document_view.xml
    │       │       │   ├── lm_feed_post_documents_media_view.xml
    │       │       │   ├── lm_feed_post_header_view.xml
    │       │       │   ├── lm_feed_post_image_media_view.xml
    │       │       │   ├── lm_feed_post_link_media_view.xml
    │       │       │   ├── lm_feed_post_menu_bottom_sheet_fragment.xml
    │       │       │   ├── lm_feed_post_multiple_media_view.xml
    │       │       │   ├── lm_feed_post_poll_view.xml
    │       │       │   ├── lm_feed_post_top_response_view.xml
    │       │       │   ├── lm_feed_post_topics_view.xml
    │       │       │   ├── lm_feed_post_vertical_video_media_view.xml
    │       │       │   ├── lm_feed_post_video_media_view.xml
    │       │       │   ├── lm_feed_qna_action_horizontal_view.xml
    │       │       │   ├── lm_feed_reason_choose_bottom_sheet_fragment.xml
    │       │       │   ├── lm_feed_search_activity.xml
    │       │       │   ├── lm_feed_search_bar.xml
    │       │       │   ├── lm_feed_search_fragment.xml
    │       │       │   ├── lm_feed_snackbar.xml
    │       │       │   ├── lm_feed_snackbar_view.xml
    │       │       │   ├── lm_feed_social_topic_selector_bar.xml
    │       │       │   ├── lm_feed_user_view.xml
    │       │       │   ├── lm_feed_view_more_view.xml
    │       │       │   └── .DS_Store
    │       │       ├── mipmap-hdpi/
    │       │       ├── mipmap-xhdpi/
    │       │       └── values/
    │       │           ├── colors.xml
    │       │           ├── dimen.xml
    │       │           ├── strings.xml
    │       │           └── styles.xml
    │       └── test/
    │           └── java/
    │               └── com/
    │                   └── likeminds/
    │                       └── feed/
    │                           └── android/
    │                               └── core/
    │                                   └── ExampleUnitTest.kt
    ├── qna-feed/
    │   ├── proguard-rules.pro
    │   ├── .gitignore
    │   └── src/
    │       ├── androidTest/
    │       │   └── java/
    │       │       └── com/
    │       │           └── example/
    │       │               └── feedqna/
    │       │                   └── ExampleInstrumentedTest.kt
    │       ├── main/
    │       │   ├── AndroidManifest.xml
    │       │   ├── java/
    │       │   │   └── com/
    │       │   │       └── example/
    │       │   │           └── feedqna/
    │       │   │               ├── GetTokensTask.kt
    │       │   │               ├── LMQnAFeed.kt
    │       │   │               ├── LMQnAFeedMessagingService.kt
    │       │   │               ├── MainActivity.kt
    │       │   │               └── auth/
    │       │   │                   ├── util/
    │       │   │                   │   └── LMQnAFeedAuthPreferences.kt
    │       │   │                   └── view/
    │       │   │                       └── LMQnAFeedAuthActivity.kt
    │       │   └── res/
    │       │       ├── drawable/
    │       │       │   ├── ic_launcher_background.xml
    │       │       │   └── ic_launcher_foreground.xml
    │       │       ├── font/
    │       │       │   ├── roboto.ttf
    │       │       │   ├── roboto_bold.ttf
    │       │       │   └── roboto_medium.ttf
    │       │       ├── layout/
    │       │       │   ├── activity_feed_qna_auth.xml
    │       │       │   └── activity_main.xml
    │       │       ├── mipmap-anydpi-v26/
    │       │       │   ├── ic_launcher.xml
    │       │       │   └── ic_launcher_round.xml
    │       │       ├── mipmap-hdpi/
    │       │       │   ├── ic_launcher.webp
    │       │       │   └── ic_launcher_round.webp
    │       │       ├── mipmap-mdpi/
    │       │       │   ├── ic_launcher.webp
    │       │       │   └── ic_launcher_round.webp
    │       │       ├── mipmap-xhdpi/
    │       │       │   ├── ic_launcher.webp
    │       │       │   └── ic_launcher_round.webp
    │       │       ├── mipmap-xxhdpi/
    │       │       │   ├── ic_launcher.webp
    │       │       │   └── ic_launcher_round.webp
    │       │       ├── mipmap-xxxhdpi/
    │       │       │   ├── ic_launcher.webp
    │       │       │   └── ic_launcher_round.webp
    │       │       ├── values/
    │       │       │   ├── colors.xml
    │       │       │   ├── strings.xml
    │       │       │   ├── styles.xml
    │       │       │   └── themes.xml
    │       │       └── values-night/
    │       │           └── themes.xml
    │       └── test/
    │           └── java/
    │               └── com/
    │                   └── example/
    │                       └── feedqna/
    │                           └── ExampleUnitTest.kt
    ├── social-feed/
    │   ├── proguard-rules.pro
    │   ├── .gitignore
    │   └── src/
    │       ├── androidTest/
    │       │   └── java/
    │       │       └── com/
    │       │           └── likeminds/
    │       │               └── feedsocial/
    │       │                   └── ExampleInstrumentedTest.kt
    │       ├── main/
    │       │   ├── AndroidManifest.xml
    │       │   ├── java/
    │       │   │   └── com/
    │       │   │       └── likeminds/
    │       │   │           └── feedsocial/
    │       │   │               ├── GetTokensTask.kt
    │       │   │               ├── LMSocialFeed.kt
    │       │   │               ├── LMSocialFeedMessagingService.kt
    │       │   │               ├── MainActivity.kt
    │       │   │               ├── SocialFeedActivity.kt
    │       │   │               └── auth/
    │       │   │                   ├── util/
    │       │   │                   │   └── LMSocialFeedAuthPreferences.kt
    │       │   │                   └── view/
    │       │   │                       └── LMSocialFeedAuthActivity.kt
    │       │   └── res/
    │       │       ├── drawable/
    │       │       │   ├── ic_launcher_background.xml
    │       │       │   └── ic_launcher_foreground.xml
    │       │       ├── font/
    │       │       │   ├── roboto.ttf
    │       │       │   ├── roboto_bold.ttf
    │       │       │   └── roboto_medium.ttf
    │       │       ├── layout/
    │       │       │   ├── activity_feed_social_auth.xml
    │       │       │   ├── activity_main.xml
    │       │       │   ├── activity_social_feed.xml
    │       │       │   └── fragment_main.xml
    │       │       ├── mipmap-anydpi-v26/
    │       │       │   ├── ic_launcher.xml
    │       │       │   └── ic_launcher_round.xml
    │       │       ├── mipmap-hdpi/
    │       │       │   ├── ic_launcher.webp
    │       │       │   └── ic_launcher_round.webp
    │       │       ├── mipmap-mdpi/
    │       │       │   ├── ic_launcher.webp
    │       │       │   └── ic_launcher_round.webp
    │       │       ├── mipmap-xhdpi/
    │       │       │   ├── ic_launcher.webp
    │       │       │   └── ic_launcher_round.webp
    │       │       ├── mipmap-xxhdpi/
    │       │       │   ├── ic_launcher.webp
    │       │       │   └── ic_launcher_round.webp
    │       │       ├── mipmap-xxxhdpi/
    │       │       │   ├── ic_launcher.webp
    │       │       │   └── ic_launcher_round.webp
    │       │       ├── values/
    │       │       │   ├── colors.xml
    │       │       │   ├── strings.xml
    │       │       │   ├── styles.xml
    │       │       │   └── themes.xml
    │       │       ├── values-night/
    │       │       │   └── themes.xml
    │       │       └── xml/
    │       │           ├── backup_rules.xml
    │       │           └── data_extraction_rules.xml
    │       └── test/
    │           └── java/
    │               └── com/
    │                   └── likeminds/
    │                       └── feedsocial/
    │                           └── ExampleUnitTest.kt
    ├── video-feed/
    │   ├── proguard-rules.pro
    │   ├── .gitignore
    │   └── src/
    │       ├── androidTest/
    │       │   └── java/
    │       │       └── com/
    │       │           └── likeminds/
    │       │               └── feedvideo/
    │       │                   └── ExampleInstrumentedTest.kt
    │       ├── main/
    │       │   ├── AndroidManifest.xml
    │       │   ├── java/
    │       │   │   └── com/
    │       │   │       └── likeminds/
    │       │   │           └── feedvideo/
    │       │   │               ├── CustomReelsViewDataBinder.kt
    │       │   │               ├── GetTokensTask.kt
    │       │   │               ├── InvestClickListener.kt
    │       │   │               ├── LMVideoFeed.kt
    │       │   │               ├── LMVideoFeedMessagingService.kt
    │       │   │               ├── MainActivity.kt
    │       │   │               └── auth/
    │       │   │                   ├── util/
    │       │   │                   │   └── LMVideoFeedAuthPreferences.kt
    │       │   │                   └── view/
    │       │   │                       └── LMVideoFeedAuthActivity.kt
    │       │   └── res/
    │       │       ├── drawable/
    │       │       │   ├── ic_launcher_background.xml
    │       │       │   ├── ic_launcher_foreground.xml
    │       │       │   └── ic_video_feed_invest.xml
    │       │       ├── layout/
    │       │       │   ├── activity_feed_video_auth.xml
    │       │       │   ├── activity_main.xml
    │       │       │   ├── fragment_main.xml
    │       │       │   └── item_custom_reels_view_data_binder.xml
    │       │       ├── mipmap-anydpi-v26/
    │       │       │   ├── ic_launcher.xml
    │       │       │   └── ic_launcher_round.xml
    │       │       ├── mipmap-hdpi/
    │       │       │   ├── ic_launcher.webp
    │       │       │   └── ic_launcher_round.webp
    │       │       ├── mipmap-mdpi/
    │       │       │   ├── ic_launcher.webp
    │       │       │   └── ic_launcher_round.webp
    │       │       ├── mipmap-xhdpi/
    │       │       │   ├── ic_launcher.webp
    │       │       │   └── ic_launcher_round.webp
    │       │       ├── mipmap-xxhdpi/
    │       │       │   ├── ic_launcher.webp
    │       │       │   └── ic_launcher_round.webp
    │       │       ├── mipmap-xxxhdpi/
    │       │       │   ├── ic_launcher.webp
    │       │       │   └── ic_launcher_round.webp
    │       │       ├── values/
    │       │       │   ├── colors.xml
    │       │       │   ├── strings.xml
    │       │       │   └── themes.xml
    │       │       └── values-night/
    │       │           └── themes.xml
    │       └── test/
    │           └── java/
    │               └── com/
    │                   └── likeminds/
    │                       └── feedvideo/
    │                           └── ExampleUnitTest.kt
    └── .github/
        └── pull_request_template.md


# Content
================================================
File: README.md
================================================
# likeminds-feed-android



================================================
File: gradle.properties
================================================
# Project-wide Gradle settings.
# IDE (e.g. Android Studio) users:
# Gradle settings configured through the IDE *will override*
# any settings specified in this file.
# For more details on how to configure your build environment visit
# http://www.gradle.org/docs/current/userguide/build_environment.html
# Specifies the JVM arguments used for the daemon process.
# The setting is particularly useful for tweaking memory settings.
org.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8
# When configured, Gradle will run in incubating parallel mode.
# This option should only be used with decoupled projects. More details, visit
# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects
# org.gradle.parallel=true
# AndroidX package structure to make it clearer which packages are bundled with the
# Android operating system, and which are packaged with your app's APK
# https://developer.android.com/topic/libraries/support-library/androidx-rn
android.useAndroidX=true
# Kotlin code style for this project: "official" or "obsolete":
kotlin.code.style=official
# Enables namespacing of each library's R class so that its R class includes only the
# resources declared in the library itself and none from the library's dependencies,
# thereby reducing the size of the R class for that library
android.nonTransitiveRClass=true


================================================
File: gradlew
================================================
#!/usr/bin/env sh

#
# Copyright 2015 the original author or authors.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

##############################################################################
##
##  Gradle start up script for UN*X
##
##############################################################################

# Attempt to set APP_HOME
# Resolve links: $0 may be a link
PRG="$0"
# Need this for relative symlinks.
while [ -h "$PRG" ] ; do
    ls=`ls -ld "$PRG"`
    link=`expr "$ls" : '.*-> \(.*\)$'`
    if expr "$link" : '/.*' > /dev/null; then
        PRG="$link"
    else
        PRG=`dirname "$PRG"`"/$link"
    fi
done
SAVED="`pwd`"
cd "`dirname \"$PRG\"`/" >/dev/null
APP_HOME="`pwd -P`"
cd "$SAVED" >/dev/null

APP_NAME="Gradle"
APP_BASE_NAME=`basename "$0"`

# Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.
DEFAULT_JVM_OPTS='"-Xmx64m" "-Xms64m"'

# Use the maximum available, or set MAX_FD != -1 to use that value.
MAX_FD="maximum"

warn () {
    echo "$*"
}

die () {
    echo
    echo "$*"
    echo
    exit 1
}

# OS specific support (must be 'true' or 'false').
cygwin=false
msys=false
darwin=false
nonstop=false
case "`uname`" in
  CYGWIN* )
    cygwin=true
    ;;
  Darwin* )
    darwin=true
    ;;
  MINGW* )
    msys=true
    ;;
  NONSTOP* )
    nonstop=true
    ;;
esac

CLASSPATH=$APP_HOME/gradle/wrapper/gradle-wrapper.jar


# Determine the Java command to use to start the JVM.
if [ -n "$JAVA_HOME" ] ; then
    if [ -x "$JAVA_HOME/jre/sh/java" ] ; then
        # IBM's JDK on AIX uses strange locations for the executables
        JAVACMD="$JAVA_HOME/jre/sh/java"
    else
        JAVACMD="$JAVA_HOME/bin/java"
    fi
    if [ ! -x "$JAVACMD" ] ; then
        die "ERROR: JAVA_HOME is set to an invalid directory: $JAVA_HOME

Please set the JAVA_HOME variable in your environment to match the
location of your Java installation."
    fi
else
    JAVACMD="java"
    which java >/dev/null 2>&1 || die "ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.

Please set the JAVA_HOME variable in your environment to match the
location of your Java installation."
fi

# Increase the maximum file descriptors if we can.
if [ "$cygwin" = "false" -a "$darwin" = "false" -a "$nonstop" = "false" ] ; then
    MAX_FD_LIMIT=`ulimit -H -n`
    if [ $? -eq 0 ] ; then
        if [ "$MAX_FD" = "maximum" -o "$MAX_FD" = "max" ] ; then
            MAX_FD="$MAX_FD_LIMIT"
        fi
        ulimit -n $MAX_FD
        if [ $? -ne 0 ] ; then
            warn "Could not set maximum file descriptor limit: $MAX_FD"
        fi
    else
        warn "Could not query maximum file descriptor limit: $MAX_FD_LIMIT"
    fi
fi

# For Darwin, add options to specify how the application appears in the dock
if $darwin; then
    GRADLE_OPTS="$GRADLE_OPTS \"-Xdock:name=$APP_NAME\" \"-Xdock:icon=$APP_HOME/media/gradle.icns\""
fi

# For Cygwin or MSYS, switch paths to Windows format before running java
if [ "$cygwin" = "true" -o "$msys" = "true" ] ; then
    APP_HOME=`cygpath --path --mixed "$APP_HOME"`
    CLASSPATH=`cygpath --path --mixed "$CLASSPATH"`

    JAVACMD=`cygpath --unix "$JAVACMD"`

    # We build the pattern for arguments to be converted via cygpath
    ROOTDIRSRAW=`find -L / -maxdepth 1 -mindepth 1 -type d 2>/dev/null`
    SEP=""
    for dir in $ROOTDIRSRAW ; do
        ROOTDIRS="$ROOTDIRS$SEP$dir"
        SEP="|"
    done
    OURCYGPATTERN="(^($ROOTDIRS))"
    # Add a user-defined pattern to the cygpath arguments
    if [ "$GRADLE_CYGPATTERN" != "" ] ; then
        OURCYGPATTERN="$OURCYGPATTERN|($GRADLE_CYGPATTERN)"
    fi
    # Now convert the arguments - kludge to limit ourselves to /bin/sh
    i=0
    for arg in "$@" ; do
        CHECK=`echo "$arg"|egrep -c "$OURCYGPATTERN" -`
        CHECK2=`echo "$arg"|egrep -c "^-"`                                 ### Determine if an option

        if [ $CHECK -ne 0 ] && [ $CHECK2 -eq 0 ] ; then                    ### Added a condition
            eval `echo args$i`=`cygpath --path --ignore --mixed "$arg"`
        else
            eval `echo args$i`="\"$arg\""
        fi
        i=`expr $i + 1`
    done
    case $i in
        0) set -- ;;
        1) set -- "$args0" ;;
        2) set -- "$args0" "$args1" ;;
        3) set -- "$args0" "$args1" "$args2" ;;
        4) set -- "$args0" "$args1" "$args2" "$args3" ;;
        5) set -- "$args0" "$args1" "$args2" "$args3" "$args4" ;;
        6) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" ;;
        7) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" ;;
        8) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" "$args7" ;;
        9) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" "$args7" "$args8" ;;
    esac
fi

# Escape application args
save () {
    for i do printf %s\\n "$i" | sed "s/'/'\\\\''/g;1s/^/'/;\$s/\$/' \\\\/" ; done
    echo " "
}
APP_ARGS=`save "$@"`

# Collect all arguments for the java command, following the shell quoting and substitution rules
eval set -- $DEFAULT_JVM_OPTS $JAVA_OPTS $GRADLE_OPTS "\"-Dorg.gradle.appname=$APP_BASE_NAME\"" -classpath "\"$CLASSPATH\"" org.gradle.wrapper.GradleWrapperMain "$APP_ARGS"

exec "$JAVACMD" "$@"



================================================
File: gradlew.bat
================================================
@rem
@rem Copyright 2015 the original author or authors.
@rem
@rem Licensed under the Apache License, Version 2.0 (the "License");
@rem you may not use this file except in compliance with the License.
@rem You may obtain a copy of the License at
@rem
@rem      https://www.apache.org/licenses/LICENSE-2.0
@rem
@rem Unless required by applicable law or agreed to in writing, software
@rem distributed under the License is distributed on an "AS IS" BASIS,
@rem WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
@rem See the License for the specific language governing permissions and
@rem limitations under the License.
@rem

@if "%DEBUG%" == "" @echo off
@rem ##########################################################################
@rem
@rem  Gradle startup script for Windows
@rem
@rem ##########################################################################

@rem Set local scope for the variables with windows NT shell
if "%OS%"=="Windows_NT" setlocal

set DIRNAME=%~dp0
if "%DIRNAME%" == "" set DIRNAME=.
set APP_BASE_NAME=%~n0
set APP_HOME=%DIRNAME%

@rem Resolve any "." and ".." in APP_HOME to make it shorter.
for %%i in ("%APP_HOME%") do set APP_HOME=%%~fi

@rem Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.
set DEFAULT_JVM_OPTS="-Xmx64m" "-Xms64m"

@rem Find java.exe
if defined JAVA_HOME goto findJavaFromJavaHome

set JAVA_EXE=java.exe
%JAVA_EXE% -version >NUL 2>&1
if "%ERRORLEVEL%" == "0" goto execute

echo.
echo ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.
echo.
echo Please set the JAVA_HOME variable in your environment to match the
echo location of your Java installation.

goto fail

:findJavaFromJavaHome
set JAVA_HOME=%JAVA_HOME:"=%
set JAVA_EXE=%JAVA_HOME%/bin/java.exe

if exist "%JAVA_EXE%" goto execute

echo.
echo ERROR: JAVA_HOME is set to an invalid directory: %JAVA_HOME%
echo.
echo Please set the JAVA_HOME variable in your environment to match the
echo location of your Java installation.

goto fail

:execute
@rem Setup the command line

set CLASSPATH=%APP_HOME%\gradle\wrapper\gradle-wrapper.jar


@rem Execute Gradle
"%JAVA_EXE%" %DEFAULT_JVM_OPTS% %JAVA_OPTS% %GRADLE_OPTS% "-Dorg.gradle.appname=%APP_BASE_NAME%" -classpath "%CLASSPATH%" org.gradle.wrapper.GradleWrapperMain %*

:end
@rem End local scope for the variables with windows NT shell
if "%ERRORLEVEL%"=="0" goto mainEnd

:fail
rem Set variable GRADLE_EXIT_CONSOLE if you need the _script_ return code instead of
rem the _cmd.exe /c_ return code!
if  not "" == "%GRADLE_EXIT_CONSOLE%" exit 1
exit /b 1

:mainEnd
if "%OS%"=="Windows_NT" endlocal

:omega



================================================
File: gradle/wrapper/gradle-wrapper.properties
================================================
#Tue Dec 19 11:02:56 IST 2023
distributionBase=GRADLE_USER_HOME
distributionPath=wrapper/dists
distributionUrl=https\://services.gradle.org/distributions/gradle-7.4-bin.zip
zipStoreBase=GRADLE_USER_HOME
zipStorePath=wrapper/dists



================================================
File: likeminds-feed-android-core/consumer-rules.pro
================================================
# Keeping all models

-keep class com.likeminds.feed.android.core.activityfeed.model.** { *; }
-keep class com.likeminds.feed.android.core.delete.model.** { *; }
-keep class com.likeminds.feed.android.core.likes.model.** { *; }
-keep class com.likeminds.feed.android.core.poll.create.model.** { *; }
-keep class com.likeminds.feed.android.core.poll.result.model.** { *; }
-keep class com.likeminds.feed.android.core.post.create.model.** { *; }
-keep class com.likeminds.feed.android.core.post.detail.model.** { *; }
-keep class com.likeminds.feed.android.core.post.edit.model.** { *; }
-keep class com.likeminds.feed.android.core.post.model.** { *; }
-keep class com.likeminds.feed.android.core.postmenu.model.** { *; }
-keep class com.likeminds.feed.android.core.pushnotification.model.** { *; }
-keep class com.likeminds.feed.android.core.report.model.** { *; }
-keep class com.likeminds.feed.android.core.search.model.** { *; }
-keep class com.likeminds.feed.android.core.socialfeed.model.** { *; }
-keep class com.likeminds.feed.android.core.topics.model.** { *; }
-keep class com.likeminds.feed.android.core.topicselection.model.** { *; }
-keep class com.likeminds.feed.android.core.ui.theme.model.** { *; }
-keep class com.likeminds.feed.android.core.ui.widgets.poll.model.** { *; }
-keep class com.likeminds.feed.android.core.utils.base.model.** { *; }
-keep class com.likeminds.feed.android.core.utils.feed.** { *; }
-keep class com.likeminds.feed.android.core.utils.mediauploader.model.** { *; }
-keep class com.likeminds.feed.android.core.utils.pluralize.model.** { *; }
-keep class com.likeminds.feed.android.core.videofeed.model.** { *; }
-keep class com.likeminds.feed.android.core.widget.model.** { *; }

# Enums are not obfuscated correctly in combination with Gson
-keepclassmembers enum * { *; }

# Kotlin
-keep class kotlin.coroutines.Continuation


================================================
File: likeminds-feed-android-core/proguard-rules.pro
================================================
# Add project specific ProGuard rules here.
# You can control the set of applied configuration files using the
# proguardFiles setting in build.gradle.
#
# For more details, see
#   http://developer.android.com/guide/developing/tools/proguard.html

# If your project uses WebView with JS, uncomment the following
# and specify the fully qualified class name to the JavaScript interface
# class:
#-keepclassmembers class fqcn.of.javascript.interface.for.webview {
#   public *;
#}

# Uncomment this to preserve the line number information for
# debugging stack traces.
#-keepattributes SourceFile,LineNumberTable

# If you keep the line number information, uncomment this to
# hide the original source file name.
#-renamesourcefileattribute SourceFile


================================================
File: likeminds-feed-android-core/.DS_Store
================================================
[Non-text file]


================================================
File: likeminds-feed-android-core/.gitignore
================================================
/build


================================================
File: likeminds-feed-android-core/src/androidTest/java/com/likeminds/feed/android/core/ExampleInstrumentedTest.kt
================================================
package com.likeminds.feed.android.core

import androidx.test.platform.app.InstrumentationRegistry
import androidx.test.ext.junit.runners.AndroidJUnit4

import org.junit.Test
import org.junit.runner.RunWith

import org.junit.Assert.*

/**
 * Instrumented test, which will execute on an Android device.
 *
 * See [testing documentation](http://d.android.com/tools/testing).
 */
@RunWith(AndroidJUnit4::class)
class ExampleInstrumentedTest {
    @Test
    fun useAppContext() {
        // Context of the app under test.
        val appContext = InstrumentationRegistry.getInstrumentation().targetContext
        assertEquals("com.likeminds.feed.android.integration.test", appContext.packageName)
    }
}


================================================
File: likeminds-feed-android-core/src/main/AndroidManifest.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">

    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission
        android:name="android.permission.WRITE_EXTERNAL_STORAGE"
        tools:ignore="ScopedStorage" />
    <uses-permission android:name="android.permission.READ_MEDIA_VIDEO" />
    <uses-permission android:name="android.permission.READ_MEDIA_IMAGES" />
    <uses-permission
        android:name="android.permission.READ_EXTERNAL_STORAGE"
        android:maxSdkVersion="32" />
    <uses-permission android:name="com.google.android.c2dm.permission.RECEIVE" />
    <uses-permission android:name="android.permission.POST_NOTIFICATIONS" />

    <application android:usesCleartextTraffic="true">

        <activity
            android:name="com.likeminds.feed.android.core.post.detail.view.LMFeedPostDetailActivity"
            android:exported="false"
            android:screenOrientation="portrait"
            android:theme="@style/LMFeedAppTheme.NoActionBar" />

        <activity
            android:name="com.likeminds.feed.android.core.activityfeed.view.LMFeedActivityFeedActivity"
            android:exported="false"
            android:screenOrientation="portrait"
            android:theme="@style/LMFeedAppTheme.NoActionBar" />

        <activity
            android:name="com.likeminds.feed.android.core.search.view.LMFeedSearchActivity"
            android:exported="false"
            android:screenOrientation="portrait"
            android:theme="@style/LMFeedAppTheme.NoActionBar" />

        <activity
            android:name=".likes.view.LMFeedLikesActivity"
            android:exported="false"
            android:screenOrientation="portrait"
            android:theme="@style/LMFeedAppTheme.NoActionBar" />

        <activity
            android:name=".report.view.LMFeedReportActivity"
            android:exported="false"
            android:screenOrientation="portrait"
            android:theme="@style/LMFeedAppTheme.NoActionBar"
            android:windowSoftInputMode="adjustPan" />

        <activity
            android:name=".post.edit.view.LMFeedEditPostActivity"
            android:exported="false"
            android:screenOrientation="portrait"
            android:theme="@style/LMFeedAppTheme.NoActionBar" />

        <activity
            android:name=".topicselection.view.LMFeedTopicSelectionActivity"
            android:exported="false"
            android:screenOrientation="portrait"
            android:theme="@style/LMFeedAppTheme.NoActionBar" />

        <activity
            android:name=".post.create.view.LMFeedCreatePostActivity"
            android:exported="false"
            android:screenOrientation="portrait"
            android:theme="@style/LMFeedAppTheme.NoActionBar"
            android:windowSoftInputMode="adjustPan" />

        <activity
            android:name=".poll.result.view.LMFeedPollResultsActivity"
            android:exported="false"
            android:screenOrientation="portrait"
            android:theme="@style/LMFeedAppTheme.NoActionBar" />

        <activity
            android:name=".poll.create.view.LMFeedCreatePollActivity"
            android:exported="false"
            android:screenOrientation="portrait"
            android:theme="@style/LMFeedAppTheme.NoActionBar" />
    </application>

</manifest>


================================================
File: likeminds-feed-android-core/src/main/assets/fonts/lm_feed_montserrat-bold.ttf
================================================



================================================
File: likeminds-feed-android-core/src/main/assets/fonts/lm_feed_montserrat-medium.ttf
================================================
[Non-text file]


================================================
File: likeminds-feed-android-core/src/main/assets/fonts/lm_feed_montserrat-regular.ttf
================================================
[Non-text file]


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/LMFeedCore.kt
================================================
package com.likeminds.feed.android.core

import android.app.Application
import android.content.Context
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.theme.model.LMFeedAppearanceRequest
import com.likeminds.feed.android.core.utils.user.*
import com.likeminds.likemindsfeed.LMFeedClient
import com.likeminds.likemindsfeed.user.model.InitiateUserRequest
import com.likeminds.likemindsfeed.user.model.ValidateUserRequest
import kotlinx.coroutines.*

object LMFeedCore {

    /**
     * Initial setup function for customers and blocker function
     * @param application: Instance of the application class
     * @param theme: Theme selected for feed
     * @param domain: Domain of the client used in share post
     * @param enablePushNotifications: Whether to enable push notifications or not
     * @param deviceId: Device Id of the user
     * @param lmFeedAppearance: Object of [LMFeedAppearance] to add your customizable theme in whole feed
     * @param lmFeedCoreCallback: Instance of [LMFeedCoreCallback] so that we can share data/events to customers code
     */
    fun setup(
        application: Application,
        theme: LMFeedTheme,
        domain: String? = null,
        enablePushNotifications: Boolean = false,
        deviceId: String? = null,
        lmFeedAppearance: LMFeedAppearanceRequest? = null,
        lmFeedCoreCallback: LMFeedCoreCallback? = null
    ) {
        //set theme
        LMFeedAppearance.setAppearance(lmFeedAppearance)

        //initialize core application
        val coreApplication = LMFeedCoreApplication.getInstance()
        coreApplication.initCoreApplication(
            application,
            theme,
            lmFeedCoreCallback,
            domain,
            enablePushNotifications,
            deviceId
        )
    }

    fun showFeed(
        context: Context,
        apiKey: String,
        uuid: String,
        userName: String,
        success: ((UserResponse) -> Unit)?,
        error: ((String?) -> Unit)?
    ) {
        CoroutineScope(Dispatchers.IO).launch {
            val lmFeedClient = LMFeedClient.getInstance()
            val tokens = lmFeedClient.getTokens().data

            val userMeta = LMFeedUserMetaData.getInstance()
            val deviceId = userMeta.deviceId

            if (tokens?.first.isNullOrEmpty() || tokens?.second.isNullOrEmpty()) {
                val initiateUserRequest = InitiateUserRequest.Builder()
                    .apiKey(apiKey)
                    .userName(userName)
                    .uuid(uuid)
                    .deviceId(deviceId)
                    .build()

                val response = lmFeedClient.initiateUser(initiateUserRequest)
                if (response.success) {
                    success?.let { success ->
                        //return user response
                        response.data?.let { data ->
                            val userResponse = UserResponseConvertor.getUserResponse(data)
                            success(userResponse)

                            val imageUrl = userResponse.user?.imageUrl

                            //perform post session actions
                            userMeta.onPostSessionInit(
                                context,
                                userName,
                                uuid,
                                imageUrl
                            )
                        }
                    }
                } else {
                    error?.let { it(response.errorMessage) }
                }
            } else {
                showFeed(context, tokens?.first, tokens?.second, success, error)
            }
        }
    }

    fun showFeed(
        context: Context,
        accessToken: String?,
        refreshToken: String?,
        success: ((UserResponse) -> Unit)?,
        error: ((String?) -> Unit)?
    ) {
        CoroutineScope(Dispatchers.IO).launch {
            val userMeta = LMFeedUserMetaData.getInstance()
            val deviceId = userMeta.deviceId

            val lmFeedClient = LMFeedClient.getInstance()
            val tokens = if (accessToken.isNullOrEmpty() || refreshToken.isNullOrEmpty()) {
                lmFeedClient.getTokens().data
            } else {
                Pair(accessToken, refreshToken)
            } ?: Pair("", "")

            val validateUserRequest = ValidateUserRequest.Builder()
                .accessToken(tokens.first)
                .refreshToken(tokens.second)
                .deviceId(deviceId)
                .build()

            val response = lmFeedClient.validateUser(validateUserRequest)
            if (response.success) {
                success?.let { success ->
                    //return user response
                    response.data?.let { data ->
                        val userResponse = UserResponseConvertor.getUserResponse(data)
                        success(userResponse)
                    }

                    //perform post session actions
                    val user = response.data?.user
                    val userName = user?.name
                    val uuid = user?.sdkClientInfo?.uuid
                    val userImage = user?.imageUrl
                    userMeta.onPostSessionInit(
                        context,
                        userName,
                        uuid,
                        userImage
                    )
                }
            } else {
                error?.let { it(response.errorMessage) }
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/LMFeedCoreApplication.kt
================================================
package com.likeminds.feed.android.core

import android.app.Application
import android.content.Context
import android.util.Base64
import com.amazonaws.auth.CognitoCachingCredentialsProvider
import com.amazonaws.mobile.client.AWSMobileClient
import com.amazonaws.mobileconnectors.s3.transferutility.TransferUtility
import com.amazonaws.regions.Region
import com.amazonaws.regions.Regions
import com.amazonaws.services.s3.AmazonS3Client
import com.likeminds.feed.android.core.utils.mediauploader.utils.LMFeedAWSKeys
import com.likeminds.feed.android.core.utils.user.LMFeedUserMetaData
import com.likeminds.feed.android.core.utils.video.LMFeedVideoCache
import com.likeminds.likemindsfeed.LMFeedClient
import com.likeminds.likemindsfeed.LMFeedSDKCallback
import com.likeminds.likemindsfeed.user.model.InitiateUserRequest
import kotlinx.coroutines.runBlocking

class LMFeedCoreApplication : LMFeedSDKCallback {

    private lateinit var mClient: LMFeedClient

    companion object {
        const val LOG_TAG = "LikeMindsFeedCore"
        private var coreApplicationInstance: LMFeedCoreApplication? = null
        private var lmFeedCoreCallback: LMFeedCoreCallback? = null
        private lateinit var transferUtility: TransferUtility
        private var credentialsProvider: CognitoCachingCredentialsProvider? = null
        private var s3Client: AmazonS3Client? = null

        // the active theme being used
        var selectedTheme: LMFeedTheme = LMFeedTheme.SOCIAL_FEED

        /**
         * @return Singleton Instance of Core Application class
         * */
        @JvmStatic
        fun getInstance(): LMFeedCoreApplication {
            if (coreApplicationInstance == null) {
                coreApplicationInstance = LMFeedCoreApplication()
            }
            return coreApplicationInstance!!
        }

        /**
         * @return Singleton Instance of Callbacks required
         * */
        @JvmStatic
        fun getLMFeedCoreCallback(): LMFeedCoreCallback? {
            return lmFeedCoreCallback
        }

        /**
         * @return Singleton Instance of transfer utility
         * */
        @JvmStatic
        fun getTransferUtility(context: Context): TransferUtility {
            if (!this::transferUtility.isInitialized) {
                val bucketName =
                    String(Base64.decode(LMFeedAWSKeys.getBucketName(), Base64.DEFAULT))

                if (credentialsProvider == null) {
                    credentialsProvider = CognitoCachingCredentialsProvider(
                        context.applicationContext,
                        String(
                            Base64.decode(
                                LMFeedAWSKeys.getIdentityPoolId(),
                                Base64.DEFAULT
                            )
                        ), // Identity Pool ID
                        Regions.AP_SOUTH_1 // Region
                    )
                }

                if (s3Client == null) {
                    s3Client = AmazonS3Client(
                        credentialsProvider,
                        Region.getRegion(Regions.AP_SOUTH_1)
                    )
                    s3Client?.setRegion(Region.getRegion(Regions.AP_SOUTH_1))
                }

                transferUtility = TransferUtility.builder()
                    .context(context)
                    .defaultBucket(bucketName)
                    .awsConfiguration(AWSMobileClient.getInstance().configuration)
                    .s3Client(s3Client)
                    .build()
            }

            return transferUtility
        }
    }

    fun initCoreApplication(
        application: Application,
        theme: LMFeedTheme,
        lmFeedCoreCallback: LMFeedCoreCallback?,
        domain: String? = null,
        enablePushNotifications: Boolean = false,
        deviceId: String? = null
    ) {
        //instantiates the cache data source factory for caching videos
        LMFeedVideoCache.getCacheDataSourceFactory(application.applicationContext)

        selectedTheme = theme

        mClient = LMFeedClient.Builder(application)
            .lmCallback(this)
            .build()
        LMFeedCoreApplication.lmFeedCoreCallback = lmFeedCoreCallback

        val userMetaData = LMFeedUserMetaData.getInstance()
        userMetaData.init(domain, enablePushNotifications, deviceId)
    }

    override fun onAccessTokenExpiredAndRefreshed(accessToken: String, refreshToken: String) {
        lmFeedCoreCallback?.onAccessTokenExpiredAndRefreshed(accessToken, refreshToken)
    }

    override fun onRefreshTokenExpired(): Pair<String?, String?> {
        val apiKey = mClient.getAPIKey().data
        return if (!apiKey.isNullOrEmpty()) {
            runBlocking {
                val user = mClient.getLoggedInUserWithRights().data?.user
                if (user != null) {
                    val initiateUserRequest = InitiateUserRequest.Builder()
                        .apiKey(apiKey)
                        .userName(user.name)
                        .uuid(user.sdkClientInfo.uuid)
                        .build()
                    val response = mClient.initiateUser(initiateUserRequest)

                    if (response.success) {
                        val accessToken = response.data?.accessToken ?: ""
                        val refreshToken = response.data?.refreshToken ?: ""
                        Pair(accessToken, refreshToken)
                    } else {
                        Pair(null, null)
                    }
                } else {
                    Pair(null, null)
                }
            }
        } else {
            lmFeedCoreCallback?.onRefreshTokenExpired() ?: Pair(null, null)
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/LMFeedCoreCallback.kt
================================================
package com.likeminds.feed.android.core

import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData

interface LMFeedCoreCallback {

    fun openProfile(user: LMFeedUserViewData) {
        //implement to open your profile page with user data
    }

    fun trackEvent(eventName: String, eventProperties: Map<String, String?> = mapOf()) {
        //implement to track events triggered feed
    }

    fun openProfileWithUUID(uuid: String) {
        //implement to open the profile of the user with uuid = [uuid]
    }

    fun onAccessTokenExpiredAndRefreshed(accessToken: String, refreshToken: String) {
        //implement to handle access token refresh
    }

    fun onRefreshTokenExpired(): Pair<String?, String?> {
        //implement to handle refresh token refresh
        return Pair(null, null)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/LMFeedTheme.kt
================================================
package com.likeminds.feed.android.core

enum class LMFeedTheme {
    SOCIAL_FEED,
    VIDEO_FEED,
    QNA_FEED
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/activityfeed/adapter/LMFeedActivityFeedAdapter.kt
================================================
package com.likeminds.feed.android.core.activityfeed.adapter

import com.likeminds.feed.android.core.activityfeed.adapter.databinder.LMFeedItemActivityFeedViewDataBinder
import com.likeminds.feed.android.core.activityfeed.model.LMFeedActivityViewData
import com.likeminds.feed.android.core.utils.base.*

class LMFeedActivityFeedAdapter(
    private val listener: LMFeedActivityFeedAdapterListener
) : LMFeedBaseRecyclerAdapter<LMFeedBaseViewType>() {

    init {
        initViewDataBinders()
    }

    override fun getSupportedViewDataBinder(): MutableList<LMFeedViewDataBinder<*, *>> {
        val viewDataBinders = ArrayList<LMFeedViewDataBinder<*, *>>(1)

        val itemNotificationFeedViewDataBinder = LMFeedItemActivityFeedViewDataBinder(listener)
        viewDataBinders.add(itemNotificationFeedViewDataBinder)

        return viewDataBinders
    }
}

interface LMFeedActivityFeedAdapterListener {
    fun onActivityFeedItemClicked(position: Int, activityViewData: LMFeedActivityViewData) {
        //triggered when the user clicks on activity feed item
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/activityfeed/adapter/databinder/LMFeedItemActivityFeedViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.activityfeed.adapter.databinder

import android.view.LayoutInflater
import android.view.ViewGroup
import androidx.core.content.ContextCompat
import com.likeminds.feed.android.core.activityfeed.adapter.LMFeedActivityFeedAdapterListener
import com.likeminds.feed.android.core.activityfeed.model.LMFeedActivityViewData
import com.likeminds.feed.android.core.databinding.LmFeedItemActivityFeedBinding
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_ACTIVITY_FEED

class LMFeedItemActivityFeedViewDataBinder(
    private val listener: LMFeedActivityFeedAdapterListener
) : LMFeedViewDataBinder<LmFeedItemActivityFeedBinding, LMFeedActivityViewData>() {

    override val viewType: Int
        get() = ITEM_ACTIVITY_FEED

    override fun createBinder(parent: ViewGroup): LmFeedItemActivityFeedBinding {
        val binding = LmFeedItemActivityFeedBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.activityView.setStyle(LMFeedStyleTransformer.activityFeedFragmentViewStyle.activityViewStyle)
        setClickListeners(binding)

        return binding
    }

    override fun bindData(
        binding: LmFeedItemActivityFeedBinding,
        data: LMFeedActivityViewData,
        position: Int
    ) {
        binding.apply {
            //set value for binding variables
            this.position = position
            activityViewData = data

            initActivityView(this, data)
        }
    }

    //initializes notification item
    private fun initActivityView(
        binding: LmFeedItemActivityFeedBinding,
        data: LMFeedActivityViewData
    ) {
        binding.apply {
            val activityViewStyle =
                LMFeedStyleTransformer.activityFeedFragmentViewStyle.activityViewStyle

            val context = root.context

            if (data.isRead) {
                activityViewStyle.readActivityBackgroundColor?.let { readActivityBackgroundColor ->
                    root.setBackgroundColor(
                        ContextCompat.getColor(
                            context,
                            readActivityBackgroundColor
                        )
                    )
                }
            } else {
                activityViewStyle.unreadActivityBackgroundColor?.let { unreadActivityBackgroundColor ->
                    root.setBackgroundColor(
                        ContextCompat.getColor(
                            context,
                            unreadActivityBackgroundColor
                        )
                    )
                }
            }

            activityView.apply {
                setActivityContent(data.activityText)
                setActivityRead(data.isRead)
                setUserImage(data.activityByUser)
                setPostTypeBadge(data.activityEntityData?.attachments?.firstOrNull()?.attachmentType)
                setTimestamp(data.updatedAt)
            }
        }
    }

    private fun setClickListeners(binding: LmFeedItemActivityFeedBinding) {
        binding.apply {
            root.setOnClickListener {
                val activityData = activityViewData ?: return@setOnClickListener
                listener.onActivityFeedItemClicked(position, activityData)
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/activityfeed/model/LMFeedActivityEntityType.kt
================================================
package com.likeminds.feed.android.core.activityfeed.model

import androidx.annotation.IntDef

const val POST = 0
const val COMMENT = 1
const val USER = 2

@IntDef(
    POST,
    COMMENT,
    USER
)

@Retention
annotation class LMFeedActivityEntityType


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/activityfeed/model/LMFeedActivityEntityViewData.kt
================================================
package com.likeminds.feed.android.core.activityfeed.model

import com.likeminds.feed.android.core.post.detail.model.LMFeedCommentViewData
import com.likeminds.feed.android.core.post.model.LMFeedAttachmentViewData
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData

class LMFeedActivityEntityViewData private constructor(
    val id: String,
    val text: String,
    val deleteReason: String?,
    val deletedBy: String?,
    val heading: String?,
    val attachments: List<LMFeedAttachmentViewData>?,
    val communityId: Int,
    val isEdited: Boolean,
    val isPinned: Boolean?,
    val userId: String,
    val user: LMFeedUserViewData,
    val replies: MutableList<LMFeedCommentViewData>?,
    val level: Int?,
    val createdAt: Long,
    val updatedAt: Long,
    val uuid: String,
    val deletedByUUID: String?
) {

    class Builder {
        private var id: String = ""
        private var text: String = ""
        private var deleteReason: String? = null
        private var deletedBy: String? = null
        private var heading: String? = null
        private var attachments: List<LMFeedAttachmentViewData>? = null
        private var communityId: Int = 0
        private var isEdited: Boolean = false
        private var isPinned: Boolean? = null
        private var userId: String = ""
        private var user: LMFeedUserViewData = LMFeedUserViewData.Builder().build()
        private var replies: MutableList<LMFeedCommentViewData>? = null
        private var level: Int? = null
        private var createdAt: Long = 0
        private var updatedAt: Long = 0
        private var uuid: String = ""
        private var deletedByUUID: String? = null

        fun id(id: String) = apply { this.id = id }
        fun text(text: String) = apply { this.text = text }
        fun deleteReason(deleteReason: String?) = apply { this.deleteReason = deleteReason }
        fun deletedBy(deletedBy: String?) = apply { this.deletedBy = deletedBy }
        fun heading(heading: String?) = apply { this.heading = heading }
        fun attachments(attachments: List<LMFeedAttachmentViewData>?) =
            apply { this.attachments = attachments }

        fun communityId(communityId: Int) = apply { this.communityId = communityId }
        fun isEdited(isEdited: Boolean) = apply { this.isEdited = isEdited }
        fun isPinned(isPinned: Boolean?) = apply { this.isPinned = isPinned }
        fun userId(userId: String) = apply { this.userId = userId }
        fun user(user: LMFeedUserViewData) = apply { this.user = user }
        fun replies(replies: MutableList<LMFeedCommentViewData>?) = apply { this.replies = replies }
        fun level(level: Int?) = apply { this.level = level }
        fun createdAt(createdAt: Long) = apply { this.createdAt = createdAt }
        fun updatedAt(updatedAt: Long) = apply { this.updatedAt = updatedAt }
        fun uuid(uuid: String) = apply { this.uuid = uuid }
        fun deletedByUUID(deletedByUUID: String?) = apply { this.deletedByUUID = deletedByUUID }

        fun build() = LMFeedActivityEntityViewData(
            id,
            text,
            deleteReason,
            deletedBy,
            heading,
            attachments,
            communityId,
            isEdited,
            isPinned,
            userId,
            user,
            replies,
            level,
            createdAt,
            updatedAt,
            uuid,
            deletedByUUID
        )
    }

    fun toBuilder(): Builder {
        return Builder().id(id)
            .text(text)
            .deleteReason(deleteReason)
            .deletedBy(deletedBy)
            .heading(heading)
            .attachments(attachments)
            .communityId(communityId)
            .isEdited(isEdited)
            .isPinned(isPinned)
            .userId(userId)
            .user(user)
            .replies(replies)
            .level(level)
            .createdAt(createdAt)
            .updatedAt(updatedAt)
            .uuid(uuid)
            .deletedByUUID(deletedByUUID)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/activityfeed/model/LMFeedActivityViewData.kt
================================================
package com.likeminds.feed.android.core.activityfeed.model

import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.base.model.ITEM_ACTIVITY_FEED
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData

class LMFeedActivityViewData private constructor(
    val id: String,
    val isRead: Boolean,
    val actionOn: String,
    val actionBy: List<String>,
    @LMFeedActivityEntityType
    val entityType: Int,
    val entityId: String,
    val entityOwnerId: String,
    val action: Int,
    val cta: String,
    val activityText: String,
    val activityEntityData: LMFeedActivityEntityViewData?,
    val activityByUser: LMFeedUserViewData,
    val createdAt: Long,
    val updatedAt: Long,
    val uuid: String
) : LMFeedBaseViewType {

    override val viewType: Int
        get() = ITEM_ACTIVITY_FEED

    class Builder {
        private var id: String = ""
        private var isRead: Boolean = false
        private var actionOn: String = ""
        private var actionBy: List<String> = listOf()

        @LMFeedActivityEntityType
        private var entityType: Int = POST
        private var entityId: String = ""
        private var entityOwnerId: String = ""
        private var action: Int = -1
        private var cta: String = ""
        private var activityText: String = ""
        private var activityEntityData: LMFeedActivityEntityViewData? = null
        private var activityByUser: LMFeedUserViewData = LMFeedUserViewData.Builder().build()
        private var createdAt: Long = 0
        private var updatedAt: Long = 0
        private var uuid: String = ""

        fun id(id: String) = apply { this.id = id }
        fun isRead(isRead: Boolean) = apply { this.isRead = isRead }
        fun actionOn(actionOn: String) = apply { this.actionOn = actionOn }
        fun actionBy(actionBy: List<String>) = apply { this.actionBy = actionBy }
        fun entityType(@LMFeedActivityEntityType entityType: Int) =
            apply { this.entityType = entityType }

        fun entityId(entityId: String) = apply { this.entityId = entityId }
        fun entityOwnerId(entityOwnerId: String) = apply { this.entityOwnerId = entityOwnerId }
        fun action(action: Int) = apply { this.action = action }
        fun cta(cta: String) = apply { this.cta = cta }
        fun activityText(activityText: String) =
            apply { this.activityText = activityText }

        fun activityEntityData(activityEntityData: LMFeedActivityEntityViewData?) =
            apply { this.activityEntityData = activityEntityData }

        fun activityByUser(activityByUser: LMFeedUserViewData) =
            apply { this.activityByUser = activityByUser }

        fun createdAt(createdAt: Long) = apply { this.createdAt = createdAt }
        fun updatedAt(updatedAt: Long) = apply { this.updatedAt = updatedAt }
        fun uuid(uuid: String) = apply { this.uuid = uuid }

        fun build() = LMFeedActivityViewData(
            id,
            isRead,
            actionOn,
            actionBy,
            entityType,
            entityId,
            entityOwnerId,
            action,
            cta,
            activityText,
            activityEntityData,
            activityByUser,
            createdAt,
            updatedAt,
            uuid
        )
    }

    fun toBuilder(): Builder {
        return Builder().id(id)
            .isRead(isRead)
            .actionOn(actionOn)
            .actionBy(actionBy)
            .entityType(entityType)
            .entityId(entityId)
            .entityOwnerId(entityOwnerId)
            .action(action)
            .cta(cta)
            .activityText(activityText)
            .activityEntityData(activityEntityData)
            .activityByUser(activityByUser)
            .createdAt(createdAt)
            .updatedAt(updatedAt)
            .uuid(uuid)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/activityfeed/style/LMFeedActivityFeedFragmentViewStyle.kt
================================================
package com.likeminds.feed.android.core.activityfeed.style

import android.graphics.Typeface
import android.text.TextUtils
import android.widget.ImageView
import androidx.annotation.ColorRes
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.widgets.acitivityfeed.style.LMFeedActivityViewStyle
import com.likeminds.feed.android.core.ui.widgets.headerview.style.LMFeedHeaderViewStyle
import com.likeminds.feed.android.core.ui.widgets.noentitylayout.style.LMFeedNoEntityLayoutViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle
import com.likeminds.feed.android.core.utils.model.LMFeedPadding

/**
 * [LMFeedActivityFeedFragmentViewStyle] helps you to customize the activity feed fragment [LMFeedActivityFeedFragment]
 *
 * @property headerViewStyle : [LMFeedHeaderViewStyle] this will help you to customize the header view in the activity feed fragment
 * @property activityViewStyle : [LMFeedActivityViewStyle] this will help you to customize the activity feed item view
 * @property noActivityLayoutViewStyle : [LMFeedNoEntityLayoutViewStyle] this will help you to customize the no activity layout in the activity feed fragment
 * @property backgroundColor: [Int] should be in format of [ColorRes] this will help you to customize the background color of the activity feed fragment | Default value = [null]
 * */
class LMFeedActivityFeedFragmentViewStyle private constructor(
    //header view style
    val headerViewStyle: LMFeedHeaderViewStyle,
    //activity view style
    val activityViewStyle: LMFeedActivityViewStyle,
    //no activity layout style
    val noActivityLayoutViewStyle: LMFeedNoEntityLayoutViewStyle,
    //background color of the screen
    @ColorRes val backgroundColor: Int?
) : LMFeedViewStyle {

    class Builder {
        private var headerViewStyle = LMFeedHeaderViewStyle.Builder()
            .titleTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_black)
                    .textSize(R.dimen.lm_feed_header_view_title_text_size)
                    .maxLines(1)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .ellipsize(TextUtils.TruncateAt.END)
                    .build()
            )
            .backgroundColor(R.color.lm_feed_white)
            .navigationIconStyle(
                LMFeedIconStyle.Builder()
                    .iconTint(R.color.lm_feed_black)
                    .inActiveSrc(R.drawable.lm_feed_ic_arrow_back_black_24dp)
                    .iconPadding(
                        LMFeedPadding(
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding
                        )
                    )
                    .build()
            )
            .build()

        private var activityViewStyle = LMFeedActivityViewStyle.Builder()
            . postTypeBadgeStyle(
                LMFeedImageStyle.Builder()
                    .scaleType(ImageView.ScaleType.CENTER)
                    .build()
            )
            .timestampTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_brown_grey)
                    .textSize(R.dimen.lm_feed_text_medium)
                    .build()
            )
            .readActivityBackgroundColor(R.color.lm_feed_white)
            .unreadActivityBackgroundColor(R.color.lm_feed_cloudy_blue_40)
            .build()

        private var noActivityLayoutViewStyle: LMFeedNoEntityLayoutViewStyle =
            LMFeedNoEntityLayoutViewStyle.Builder()
                .imageStyle(
                    LMFeedImageStyle.Builder()
                        .imageSrc(R.drawable.lm_feed_ic_not_found)
                        .build()
                )
                .titleStyle(
                    LMFeedTextStyle.Builder()
                        .textColor(R.color.lm_feed_dark_grey)
                        .textSize(R.dimen.lm_feed_text_medium)
                        .typeface(Typeface.NORMAL)
                        .fontResource(R.font.lm_feed_roboto_medium)
                        .build()
                )
                .build()

        @ColorRes
        private var backgroundColor: Int? = null

        fun headerViewStyle(headerViewStyle: LMFeedHeaderViewStyle) = apply {
            this.headerViewStyle = headerViewStyle
        }

        fun activityViewStyle(activityViewStyle: LMFeedActivityViewStyle) = apply {
            this.activityViewStyle = activityViewStyle
        }

        fun noActivityLayoutViewStyle(noActivityLayoutViewStyle: LMFeedNoEntityLayoutViewStyle) =
            apply {
                this.noActivityLayoutViewStyle = noActivityLayoutViewStyle
            }

        fun backgroundColor(@ColorRes backgroundColor: Int?) = apply {
            this.backgroundColor = backgroundColor
        }

        fun build() = LMFeedActivityFeedFragmentViewStyle(
            headerViewStyle,
            activityViewStyle,
            noActivityLayoutViewStyle,
            backgroundColor,
        )
    }

    fun toBuilder(): Builder {
        return Builder()
            .headerViewStyle(headerViewStyle)
            .activityViewStyle(activityViewStyle)
            .noActivityLayoutViewStyle(noActivityLayoutViewStyle)
            .backgroundColor(backgroundColor)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/activityfeed/view/LMFeedActivityFeedActivity.kt
================================================
package com.likeminds.feed.android.core.activityfeed.view

import android.content.Context
import android.content.Intent
import android.os.Bundle
import androidx.appcompat.app.AppCompatActivity
import com.likeminds.feed.android.core.databinding.LmFeedActivityActivityFeedBinding

class LMFeedActivityFeedActivity : AppCompatActivity() {

    private lateinit var binding: LmFeedActivityActivityFeedBinding

    companion object {
        @JvmStatic
        fun start(context: Context) {
            val intent = Intent(context, LMFeedActivityFeedActivity::class.java)
            context.startActivity(intent)
        }

        @JvmStatic
        fun getIntent(context: Context): Intent {
            return Intent(context, LMFeedActivityFeedActivity::class.java)
        }
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        binding = LmFeedActivityActivityFeedBinding.inflate(layoutInflater)
        setContentView(binding.root)

        //inflates activity feed fragment
        inflateActivityFeedFragment()
    }

    private fun inflateActivityFeedFragment() {
        //gets activity feed fragment instance
        val activityFeedFragment = LMFeedActivityFeedFragment.getInstance()

        //commits fragment replace transaction
        supportFragmentManager.beginTransaction()
            .replace(
                binding.containerActivityFeed.id,
                activityFeedFragment,
                LMFeedActivityFeedFragment.TAG
            )
            .commit()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/activityfeed/view/LMFeedActivityFeedFragment.kt
================================================
package com.likeminds.feed.android.core.activityfeed.view

import android.os.Bundle
import android.view.*
import androidx.core.content.ContextCompat
import androidx.fragment.app.Fragment
import androidx.fragment.app.viewModels
import androidx.swiperefreshlayout.widget.SwipeRefreshLayout
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.activityfeed.adapter.LMFeedActivityFeedAdapterListener
import com.likeminds.feed.android.core.activityfeed.model.LMFeedActivityViewData
import com.likeminds.feed.android.core.activityfeed.viewmodel.LMFeedActivityFeedViewModel
import com.likeminds.feed.android.core.databinding.LmFeedFragmentActivityFeedBinding
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.widgets.headerview.view.LMFeedHeaderView
import com.likeminds.feed.android.core.ui.widgets.noentitylayout.view.LMFeedNoEntityLayoutView
import com.likeminds.feed.android.core.utils.*
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.coroutine.observeInLifecycle
import kotlinx.coroutines.flow.onEach

open class LMFeedActivityFeedFragment : Fragment(), LMFeedActivityFeedAdapterListener {

    private lateinit var binding: LmFeedFragmentActivityFeedBinding
    private lateinit var mSwipeRefreshLayout: SwipeRefreshLayout

    private val activityFeedViewModel: LMFeedActivityFeedViewModel by viewModels()

    companion object {
        const val TAG = "LMFeedActivityFeedFragment"

        fun getInstance(): LMFeedActivityFeedFragment {
            return LMFeedActivityFeedFragment()
        }
    }

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View {
        binding = LmFeedFragmentActivityFeedBinding.inflate(layoutInflater)

        binding.apply {
            customizeActivityFeedHeaderView(headerViewActivityFeed)
            customizeNoTopicsLayout(layoutNoActivity)

            //set background color
            val backgroundColor =
                LMFeedStyleTransformer.activityFeedFragmentViewStyle.backgroundColor
            backgroundColor?.let { color ->
                root.setBackgroundColor(
                    ContextCompat.getColor(
                        requireContext(),
                        color
                    )
                )
            }
        }
        return binding.root
    }

    //customizes the header view of the activity feed fragment with the header style set for the activity feed fragment
    protected open fun customizeActivityFeedHeaderView(headerViewActivityFeed: LMFeedHeaderView) {
        headerViewActivityFeed.apply {
            setStyle(LMFeedStyleTransformer.activityFeedFragmentViewStyle.headerViewStyle)

            setTitleText(getString(R.string.lm_feed_notifications))
        }
    }

    protected open fun customizeNoTopicsLayout(layoutNoActivity: LMFeedNoEntityLayoutView) {
        layoutNoActivity.apply {
            val noActivityLayoutStyle =
                LMFeedStyleTransformer.activityFeedFragmentViewStyle.noActivityLayoutViewStyle

            setStyle(noActivityLayoutStyle)
            setTitleText(getString(R.string.lm_feed_no_notifications_yet))
        }
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        initUI()
        initListeners()
        fetchData()
        observeData()
    }

    private fun initUI() {
        initRecyclerView()
        initSwipeRefreshLayout()
    }

    private fun initListeners() {
        binding.apply {
            headerViewActivityFeed.setNavigationIconClickListener {
                onNavigationIconClick()
            }
        }
    }

    //processes the navigation icon click
    protected open fun onNavigationIconClick() {
        requireActivity().onBackPressedDispatcher.onBackPressed()
    }

    private fun initRecyclerView() {
        binding.rvActivityFeed.apply {
            setAdapter(this@LMFeedActivityFeedFragment)
            //set scroll listener
            val paginationScrollListener =
                object : LMFeedEndlessRecyclerViewScrollListener(linearLayoutManager) {
                    override fun onLoadMore(currentPage: Int) {
                        if (currentPage > 0) {
                            // calls api for paginated data
                            activityFeedViewModel.getActivityFeed(currentPage)
                        }
                    }
                }
            setPaginationScrollListener(paginationScrollListener)
        }
    }

    private fun initSwipeRefreshLayout() {
        mSwipeRefreshLayout = binding.swipeRefreshLayout
        mSwipeRefreshLayout.setColorSchemeColors(
            ContextCompat.getColor(
                requireContext(),
                LMFeedAppearance.getButtonColor()
            )
        )

        mSwipeRefreshLayout.setOnRefreshListener {
            fetchData(true)
        }
    }

    private fun fetchData(fromRefresh: Boolean = false) {
        if (fromRefresh) {
            mSwipeRefreshLayout.isRefreshing = true
            binding.rvActivityFeed.resetScrollListenerData()
        } else {
            LMFeedProgressBarHelper.showProgress(binding.progressBar)
        }
        activityFeedViewModel.getActivityFeed(1)
    }

    private fun observeData() {
        // observes get notification feed response
        activityFeedViewModel.activityFeedResponse.observe(viewLifecycleOwner) { pair ->
            observeNotificationFeed(pair)
        }

        activityFeedViewModel.errorMessageEventFlow.onEach { response ->
            observeErrorMessage(response)
        }.observeInLifecycle(viewLifecycleOwner)
    }

    private fun observeNotificationFeed(pair: Pair<Int, List<LMFeedActivityViewData>>) {
        //hide progress bar
        LMFeedProgressBarHelper.hideProgress(binding.progressBar)

        //page in api send
        val page = pair.first

        //list of activities
        val activities = pair.second

        //if pull to refresh is called
        if (mSwipeRefreshLayout.isRefreshing) {
            checkForNoActivity(activities)
            setFeedAndScrollToTop(activities)
            mSwipeRefreshLayout.isRefreshing = false
            return
        }

        //normal adding
        if (page == 1) {
            checkForNoActivity(activities)
            setFeedAndScrollToTop(activities)
        } else {
            binding.rvActivityFeed.addActivities(activities)
        }
    }

    //set activities through diff utils and scroll to top of the feed
    private fun setFeedAndScrollToTop(feed: List<LMFeedActivityViewData>) {
        binding.rvActivityFeed.apply {
            replaceActivities(feed)
            scrollToPosition(0)
        }
    }

    //checks if there is any activity or not
    private fun checkForNoActivity(feed: List<LMFeedBaseViewType>) {
        if (feed.isNotEmpty()) {
            binding.apply {
                layoutNoActivity.hide()
                rvActivityFeed.show()
            }
        } else {
            binding.apply {
                layoutNoActivity.show()
                rvActivityFeed.hide()
            }
        }
    }

    private fun observeErrorMessage(response: LMFeedActivityFeedViewModel.ErrorMessageEvent) {
        when (response) {
            is LMFeedActivityFeedViewModel.ErrorMessageEvent.GetActivityFeed -> {
                val errorMessage = response.errorMessage
                LMFeedViewUtils.showErrorMessageToast(requireContext(), errorMessage)
                requireActivity().finish()
            }

            is LMFeedActivityFeedViewModel.ErrorMessageEvent.MarkReadNotification -> {
                val errorMessage = response.errorMessage
                LMFeedViewUtils.showErrorMessageToast(requireContext(), errorMessage)
            }
        }
    }

    override fun onActivityFeedItemClicked(
        position: Int,
        activityViewData: LMFeedActivityViewData
    ) {
        //mark the notification as read
        val updatedActivityViewData = activityViewData.toBuilder()
            .isRead(true)
            .build()
        binding.rvActivityFeed.updateActivity(position, updatedActivityViewData)

        // call api to mark notification as read
        activityFeedViewModel.markReadActivity(activityViewData.id)

        // handle route
        val routeIntent = LMFeedRoute.getRouteIntent(
            requireContext(),
            activityViewData.cta,
        )
        if (routeIntent != null) {
            requireContext().startActivity(routeIntent)
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/activityfeed/view/LMFeedActivityFeedListView.kt
================================================
package com.likeminds.feed.android.core.activityfeed.view

import android.content.Context
import android.util.AttributeSet
import androidx.recyclerview.widget.*
import com.likeminds.feed.android.core.activityfeed.adapter.LMFeedActivityFeedAdapter
import com.likeminds.feed.android.core.activityfeed.adapter.LMFeedActivityFeedAdapterListener
import com.likeminds.feed.android.core.activityfeed.model.LMFeedActivityViewData
import com.likeminds.feed.android.core.utils.LMFeedEndlessRecyclerViewScrollListener

class LMFeedActivityFeedListView @JvmOverloads constructor(
    context: Context,
    attrs: AttributeSet? = null,
    defStyleAttr: Int = 0
) : RecyclerView(context, attrs, defStyleAttr) {

    val linearLayoutManager: LinearLayoutManager

    private lateinit var activityFeedAdapter: LMFeedActivityFeedAdapter
    private lateinit var paginationScrollListener: LMFeedEndlessRecyclerViewScrollListener

    init {
        setHasFixedSize(true)
        linearLayoutManager = LinearLayoutManager(context)
        layoutManager = linearLayoutManager

        if (itemAnimator is SimpleItemAnimator) {
            (itemAnimator as SimpleItemAnimator).supportsChangeAnimations = false
        }
    }

    //sets the adapter with the provided [listener] to the activity feed recycler view
    fun setAdapter(listener: LMFeedActivityFeedAdapterListener) {
        activityFeedAdapter = LMFeedActivityFeedAdapter(listener)
        adapter = activityFeedAdapter
    }

    //sets the pagination scroll listener to the activity feed recycler view
    fun setPaginationScrollListener(scrollListener: LMFeedEndlessRecyclerViewScrollListener) {
        paginationScrollListener = scrollListener
        addOnScrollListener(scrollListener)
    }

    //resets the scroll listener data
    fun resetScrollListenerData() {
        if (::paginationScrollListener.isInitialized) {
            paginationScrollListener.resetData()
        }
    }

    //adds the provided [activities] in the activity feed feed adapter
    fun addActivities(activities: List<LMFeedActivityViewData>) {
        activityFeedAdapter.addAll(activities)
    }

    //updates the activity with the provided [updatedActivity] at provided [position] int the activity feed adapter
    fun updateActivity(position: Int, updatedActivity: LMFeedActivityViewData) {
        activityFeedAdapter.update(position, updatedActivity)
    }

    //replaces the [activities] in the activity feed adapter with the provided activities
    fun replaceActivities(activities: List<LMFeedActivityViewData>) {
        activityFeedAdapter.replace(activities)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/activityfeed/viewmodel/LMFeedActivityFeedViewModel.kt
================================================
package com.likeminds.feed.android.core.activityfeed.viewmodel

import androidx.lifecycle.*
import com.likeminds.feed.android.core.activityfeed.model.LMFeedActivityViewData
import com.likeminds.feed.android.core.utils.LMFeedViewDataConvertor
import com.likeminds.feed.android.core.utils.coroutine.launchIO
import com.likeminds.likemindsfeed.LMFeedClient
import com.likeminds.likemindsfeed.notificationfeed.model.GetNotificationFeedRequest
import com.likeminds.likemindsfeed.notificationfeed.model.MarkReadNotificationRequest
import kotlinx.coroutines.channels.Channel
import kotlinx.coroutines.flow.receiveAsFlow

class LMFeedActivityFeedViewModel : ViewModel() {

    private val lmFeedClient: LMFeedClient by lazy {
        LMFeedClient.getInstance()
    }

    private val _activityFeedResponse by lazy {
        MutableLiveData<Pair<Int, List<LMFeedActivityViewData>>>()
    }

    val activityFeedResponse: LiveData<Pair<Int, List<LMFeedActivityViewData>>> by lazy {
        _activityFeedResponse
    }

    private val errorMessageChannel by lazy {
        Channel<ErrorMessageEvent>(Channel.BUFFERED)
    }

    val errorMessageEventFlow by lazy {
        errorMessageChannel.receiveAsFlow()
    }

    sealed class ErrorMessageEvent {
        data class GetActivityFeed(val errorMessage: String?) : ErrorMessageEvent()

        data class MarkReadNotification(val errorMessage: String?) : ErrorMessageEvent()
    }

    companion object {
        const val PAGE_SIZE = 20
    }

    // get activity feed
    fun getActivityFeed(page: Int) {
        viewModelScope.launchIO {
            val request = GetNotificationFeedRequest.Builder()
                .page(page)
                .pageSize(PAGE_SIZE)
                .build()

            //call notification feed api
            val response = lmFeedClient.getNotificationFeed(request)

            if (response.success) {
                val data = response.data ?: return@launchIO
                val activities = data.activities
                val usersMap = data.users
                val widgetsMap = data.widgets

                //convert to view data
                val listOfActivityViewData =
                    LMFeedViewDataConvertor.convertActivities(
                        activities,
                        usersMap,
                        widgetsMap
                    )

                //send it to ui
                _activityFeedResponse.postValue(Pair(page, listOfActivityViewData))
            } else {
                //for error
                errorMessageChannel.send(ErrorMessageEvent.GetActivityFeed(response.errorMessage))
            }
        }
    }

    // mark the activity as read
    fun markReadActivity(activityId: String) {
        viewModelScope.launchIO {
            val request = MarkReadNotificationRequest.Builder()
                .activityId(activityId)
                .build()

            //call notification feed api
            val response = lmFeedClient.markReadNotification(request)

            if (!response.success) {
                errorMessageChannel.send(ErrorMessageEvent.MarkReadNotification(response.errorMessage))
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/delete/adapter/LMFeedReasonChooseAdapter.kt
================================================
package com.likeminds.feed.android.core.delete.adapter

import com.likeminds.feed.android.core.delete.adapter.databinder.LMFeedReasonChooseViewDataBinder
import com.likeminds.feed.android.core.delete.model.LMFeedReasonChooseViewData
import com.likeminds.feed.android.core.utils.base.*

class LMFeedReasonChooseAdapter (
    private val listener: LMFeedReasonChooseAdapterListener
) : LMFeedBaseRecyclerAdapter<LMFeedBaseViewType>() {

    init {
        initViewDataBinders()
    }

    override fun getSupportedViewDataBinder(): MutableList<LMFeedViewDataBinder<*, *>> {
        val viewDataBinders = ArrayList<LMFeedViewDataBinder<*, *>>(1)

        val reasonChooseViewDataBinder = LMFeedReasonChooseViewDataBinder(listener)
        viewDataBinders.add(reasonChooseViewDataBinder)

        return viewDataBinders
    }
}

interface LMFeedReasonChooseAdapterListener {
    fun onReasonSelected(position: Int, reasonViewData: LMFeedReasonChooseViewData)
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/delete/adapter/databinder/LMFeedReasonChooseViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.delete.adapter.databinder

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.feed.android.core.databinding.LmFeedItemReasonChooseBinding
import com.likeminds.feed.android.core.delete.adapter.LMFeedReasonChooseAdapterListener
import com.likeminds.feed.android.core.delete.model.LMFeedReasonChooseViewData
import com.likeminds.feed.android.core.ui.base.styles.setStyle
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_REASON_CHOOSE

class LMFeedReasonChooseViewDataBinder(
    private val listener: LMFeedReasonChooseAdapterListener
) : LMFeedViewDataBinder<LmFeedItemReasonChooseBinding, LMFeedReasonChooseViewData>() {

    override val viewType: Int
        get() = ITEM_REASON_CHOOSE

    override fun createBinder(parent: ViewGroup): LmFeedItemReasonChooseBinding {
        val binding = LmFeedItemReasonChooseBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.apply {
            val adminDeleteDialogFragmentStyle =
                LMFeedStyleTransformer.adminDeleteDialogFragmentStyle

            val reasonTextStyle = adminDeleteDialogFragmentStyle.reasonTextStyle
            tvTitle.setStyle(reasonTextStyle)

            val selectorStyle = adminDeleteDialogFragmentStyle.selectorIconStyle
            ivSelector.setStyle(selectorStyle)

            setClickListeners(this)
        }

        return binding
    }

    override fun bindData(
        binding: LmFeedItemReasonChooseBinding,
        data: LMFeedReasonChooseViewData,
        position: Int
    ) {
        binding.apply {
            this.position = position
            reasonChooseData = data
        }
    }

    private fun setClickListeners(binding: LmFeedItemReasonChooseBinding) {
        binding.apply {
            root.setOnClickListener {
                val viewData = reasonChooseData ?: return@setOnClickListener
                listener.onReasonSelected(position, viewData)
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/delete/model/LMFeedDeleteExtras.kt
================================================
package com.likeminds.feed.android.core.delete.model

import android.os.Parcelable
import kotlinx.parcelize.Parcelize

@Parcelize
class LMFeedDeleteExtras private constructor(
    @LMFeedDeleteType
    val entityType: Int,
    val postId: String,
    val commentId: String?,
    val parentCommentId: String?
) : Parcelable {

    class Builder {
        private var entityType: Int = 0
        private var postId: String = ""
        private var commentId: String? = null
        private var parentCommentId: String? = null

        fun entityType(@LMFeedDeleteType entityType: Int) = apply {
            this.entityType = entityType
        }

        fun postId(postId: String) = apply {
            this.postId = postId
        }

        fun commentId(commentId: String?) = apply {
            this.commentId = commentId
        }

        fun parentCommentId(parentCommentId: String?) = apply {
            this.parentCommentId = parentCommentId
        }

        fun build() = LMFeedDeleteExtras(
            entityType,
            postId,
            commentId,
            parentCommentId
        )
    }

    fun toBuilder(): Builder {
        return Builder().entityType(entityType)
            .postId(postId)
            .commentId(commentId)
            .parentCommentId(parentCommentId)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/delete/model/LMFeedDeleteType.kt
================================================
package com.likeminds.feed.android.core.delete.model

import androidx.annotation.IntDef

const val DELETE_TYPE_POST = 0
const val DELETE_TYPE_COMMENT = 1

@IntDef(
    DELETE_TYPE_POST,
    DELETE_TYPE_COMMENT
)
@Retention(AnnotationRetention.SOURCE)
annotation class LMFeedDeleteType


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/delete/model/LMFeedReasonChooseViewData.kt
================================================
package com.likeminds.feed.android.core.delete.model

import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.base.model.ITEM_REASON_CHOOSE

class LMFeedReasonChooseViewData private constructor(
    val value: String,
    val hideBottomLine: Boolean?
) : LMFeedBaseViewType {

    override val viewType: Int
        get() = ITEM_REASON_CHOOSE

    class Builder {
        private var value: String = ""
        private var hideBottomLine: Boolean? = null

        fun value(value: String) = apply { this.value = value }
        fun hideBottomLine(hideBottomLine: Boolean?) =
            apply { this.hideBottomLine = hideBottomLine }

        fun build() = LMFeedReasonChooseViewData(
            value,
            hideBottomLine
        )
    }

    fun toBuilder(): Builder {
        return Builder().value(value)
            .hideBottomLine(hideBottomLine)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/delete/style/LMFeedAdminDeleteDialogFragmentStyle.kt
================================================
package com.likeminds.feed.android.core.delete.style

import android.graphics.Typeface
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.widgets.alertdialog.style.LMFeedAlertDialogViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedAdminDeleteDialogFragmentStyle] helps you to customize the admin delete dialog fragment [LMFeedAdminDeleteDialogFragment]
 *
 * @property adminDeleteDialogStyle : [LMFeedAlertDialogViewStyle] this will help you to customize the admin delete alert dialog
 * @property selectorIconStyle : [LMFeedIconStyle] this will help you to customize the selector icon in the choose reason bottom sheet
 * @property reasonTextStyle: [LMFeedTextStyle] this will help you to customize the reason text in the choose reason bottom sheet
 * */
class LMFeedAdminDeleteDialogFragmentStyle private constructor(
    //admin delete dialog style
    val adminDeleteDialogStyle: LMFeedAlertDialogViewStyle,
    //reason selector icon style
    val selectorIconStyle: LMFeedIconStyle,
    //reason text style
    val reasonTextStyle: LMFeedTextStyle
) : LMFeedViewStyle {
    class Builder {
        private var adminDeleteDialogStyle: LMFeedAlertDialogViewStyle =
            LMFeedAlertDialogViewStyle.Builder()
                .alertSubtitleText(
                    LMFeedTextStyle.Builder()
                        .textColor(R.color.lm_feed_grey)
                        .textSize(R.dimen.lm_feed_text_medium)
                        .typeface(Typeface.NORMAL)
                        .build()
                )
                .alertNegativeButtonStyle(
                    LMFeedTextStyle.Builder()
                        .textAllCaps(true)
                        .textColor(R.color.lm_feed_black_40)
                        .textSize(R.dimen.lm_feed_text_small)
                        .typeface(Typeface.NORMAL)
                        .fontResource(R.font.lm_feed_roboto_medium)
                        .build()
                )
                .alertPositiveButtonStyle(
                    LMFeedTextStyle.Builder()
                        .textAllCaps(true)
                        .textColor(R.color.lm_feed_black_20)
                        .textSize(R.dimen.lm_feed_text_small)
                        .typeface(Typeface.NORMAL)
                        .fontResource(R.font.lm_feed_roboto_medium)
                        .build()
                )
                .alertSelectorStyle(
                    LMFeedTextStyle.Builder()
                        .textColor(R.color.lm_feed_black)
                        .drawableRightSrc(R.drawable.lm_feed_ic_arrow_drop_down)
                        .hintTextColor(R.color.lm_feed_black_20)
                        .textSize(R.dimen.lm_feed_text_small)
                        .typeface(Typeface.NORMAL)
                        .build()
                )
                .alertInputStyle(
                    LMFeedEditTextStyle.Builder()
                        .inputTextStyle(
                            LMFeedTextStyle.Builder()
                                .maxLines(1)
                                .textColor(R.color.lm_feed_black)
                                .textSize(R.dimen.lm_feed_text_small)
                                .build()
                        )
                        .hintTextColor(R.color.lm_feed_black_20)
                        .build()
                )
                .alertBoxElevation(R.dimen.lm_feed_elevation_small)
                .alertBoxCornerRadius(R.dimen.lm_feed_corner_radius_small)
                .build()

        private var selectorIconStyle: LMFeedIconStyle = LMFeedIconStyle.Builder()
            .inActiveSrc(R.drawable.lm_feed_ic_radio_button_off)
            .build()

        private var reasonTextStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textColor(R.color.lm_feed_black)
            .textSize(R.dimen.lm_feed_text_medium)
            .build()

        fun adminDeleteDialogStyle(adminDeleteDialogStyle: LMFeedAlertDialogViewStyle) = apply {
            this.adminDeleteDialogStyle = adminDeleteDialogStyle
        }

        fun selectorIconStyle(selectorIconStyle: LMFeedIconStyle) = apply {
            this.selectorIconStyle = selectorIconStyle
        }

        fun reasonTextStyle(reasonTextStyle: LMFeedTextStyle) = apply {
            this.reasonTextStyle = reasonTextStyle
        }

        fun build() = LMFeedAdminDeleteDialogFragmentStyle(
            adminDeleteDialogStyle,
            selectorIconStyle,
            reasonTextStyle
        )
    }

    fun toBuilder(): Builder {
        return Builder().adminDeleteDialogStyle(adminDeleteDialogStyle)
            .selectorIconStyle(selectorIconStyle)
            .reasonTextStyle(reasonTextStyle)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/delete/style/LMFeedSelfDeleteDialogFragmentStyle.kt
================================================
package com.likeminds.feed.android.core.delete.style

import android.graphics.Typeface
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.LMFeedTextStyle
import com.likeminds.feed.android.core.ui.widgets.alertdialog.style.LMFeedAlertDialogViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedSelfDeleteDialogFragmentStyle] helps you to customize the admin delete dialog fragment [LMFeedSelfDeleteDialogFragment]
 *
 * @property selfDeleteDialogStyle : [LMFeedAlertDialogViewStyle] this will help you to customize the self delete alert dialog
 * */
class LMFeedSelfDeleteDialogFragmentStyle private constructor(
    //self delete dialog style
    val selfDeleteDialogStyle: LMFeedAlertDialogViewStyle
) : LMFeedViewStyle {

    class Builder {
        private var selfDeleteDialogStyle = LMFeedAlertDialogViewStyle.Builder()
            .alertSubtitleText(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_grey)
                    .textSize(R.dimen.lm_feed_text_medium)
                    .typeface(Typeface.NORMAL)
                    .build()
            )
            .alertNegativeButtonStyle(
                LMFeedTextStyle.Builder()
                    .textAllCaps(true)
                    .textColor(R.color.lm_feed_black_40)
                    .textSize(R.dimen.lm_feed_text_small)
                    .typeface(Typeface.NORMAL)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .build()
            )
            .alertPositiveButtonStyle(
                LMFeedTextStyle.Builder()
                    .textAllCaps(true)
                    .textColor(R.color.lm_feed_black_20)
                    .textSize(R.dimen.lm_feed_text_small)
                    .typeface(Typeface.NORMAL)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .build()
            )
            .alertBoxElevation(R.dimen.lm_feed_elevation_small)
            .alertBoxCornerRadius(R.dimen.lm_feed_corner_radius_small)
            .build()

        fun selfDeleteDialogStyle(selfDeleteDialogStyle: LMFeedAlertDialogViewStyle) = apply {
            this.selfDeleteDialogStyle = selfDeleteDialogStyle
        }

        fun build() = LMFeedSelfDeleteDialogFragmentStyle(selfDeleteDialogStyle)
    }

    fun toBuilder(): Builder {
        return Builder().selfDeleteDialogStyle(selfDeleteDialogStyle)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/delete/view/LMFeedAdminDeleteDialogFragment.kt
================================================
package com.likeminds.feed.android.core.delete.view

import android.content.Context
import android.os.Bundle
import android.view.*
import androidx.core.widget.doAfterTextChanged
import androidx.fragment.app.DialogFragment
import androidx.fragment.app.FragmentManager
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedDialogFragmentAdminDeleteBinding
import com.likeminds.feed.android.core.delete.model.*
import com.likeminds.feed.android.core.ui.widgets.alertdialog.view.LMFeedAlertDialogView
import com.likeminds.feed.android.core.utils.*
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.pluralizeOrCapitalize
import com.likeminds.feed.android.core.utils.pluralize.model.LMFeedWordAction

open class LMFeedAdminDeleteDialogFragment
    : DialogFragment(),
    LMFeedReasonChooseBottomSheetListener {

    companion object {
        private const val TAG = "LMFeedAdminDeleteDialogFragment"
        private const val LM_FEED_ADMIN_DELETE_EXTRAS = "LM_FEED_ADMIN_DELETE_EXTRAS"

        @JvmStatic
        fun showDialog(
            supportFragmentManager: FragmentManager,
            deleteExtras: LMFeedDeleteExtras
        ) {
            LMFeedAdminDeleteDialogFragment().apply {
                arguments = Bundle().apply {
                    putParcelable(LM_FEED_ADMIN_DELETE_EXTRAS, deleteExtras)
                }
            }.show(supportFragmentManager, TAG)
        }
    }

    private lateinit var binding: LmFeedDialogFragmentAdminDeleteBinding
    private lateinit var deleteExtras: LMFeedDeleteExtras

    private var deleteDialogListener: LMFeedAdminDeleteDialogListener? = null

    override fun onAttach(context: Context) {
        super.onAttach(context)
        try {
            deleteDialogListener = parentFragment as LMFeedAdminDeleteDialogListener?
        } catch (e: ClassCastException) {
            throw ClassCastException("Calling fragment must implement LMFeedAdminDeleteDialogListener interface")
        }
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        receiveExtras()
    }

    private fun receiveExtras() {
        arguments?.let {
            deleteExtras = LMFeedExtrasUtil.getParcelable(
                it,
                LM_FEED_ADMIN_DELETE_EXTRAS,
                LMFeedDeleteExtras::class.java
            ) ?: throw emptyExtrasException(TAG)
        }
    }

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View {
        binding = LmFeedDialogFragmentAdminDeleteBinding.inflate(layoutInflater)

        customizeAdminDeleteDialog(binding.alertDialogDelete)
        return binding.root
    }

    //customizes the admin delete alert dialog
    protected open fun customizeAdminDeleteDialog(alertDialogDelete: LMFeedAlertDialogView) {
        val adminDeleteDialogStyle =
            LMFeedStyleTransformer.adminDeleteDialogFragmentStyle.adminDeleteDialogStyle

        alertDialogDelete.setStyle(adminDeleteDialogStyle)
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        initUI()
        initListeners()
    }

    //sets data as per content type [COMMENT/POST]
    private fun initUI() {
        binding.alertDialogDelete.apply {
            if (deleteExtras.entityType == DELETE_TYPE_POST) {
                setAlertTitle(
                    getString(
                        R.string.lm_feed_delete_s_question,
                        LMFeedCommunityUtil.getPostVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
                    )
                )

                setAlertSubtitle(
                    getString(
                        R.string.lm_feed_delete_s_message,
                        LMFeedCommunityUtil.getPostVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
                    )
                )
            } else {
                setAlertTitle(
                    getString(
                        R.string.lm_feed_delete_s_comment_question,
                        LMFeedCommunityUtil.getCommentVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
                    )
                )
                setAlertSubtitle(
                    getString(
                        R.string.lm_feed_delete_s_comment_message,
                        LMFeedCommunityUtil.getCommentVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
                    )
                )
            }
        }
    }

    private fun initListeners() {
        binding.alertDialogDelete.apply {
            setAlertSelectorClickListener {
                onAdminDeleteAlertSelectorClicked()
            }

            setPositiveButtonClickListener {
                onAdminDeleteAlertPositiveButtonClicked()
            }

            setNegativeButtonClickListener {
                onAdminDeleteAlertNegativeButtonClicked()
            }

            // sets listener to the reason edit text
            etReason.doAfterTextChanged {
                val reason = it.toString().trim()
                setPositiveButtonEnabled(reason.isNotEmpty())
            }
        }
    }

    //processes the admin delete alert dialog box selector clicked
    protected open fun onAdminDeleteAlertSelectorClicked() {
        LMFeedReasonChooseBottomSheetFragment.newInstance(childFragmentManager)
    }

    //processes the admin delete alert dialog box positive button click
    protected open fun onAdminDeleteAlertPositiveButtonClicked() {
        binding.apply {
            val data = reasonData ?: return
            val tag = data.value
            val reason = if (tag == "Others") {
                alertDialogDelete.getAlertInputReason()
            } else {
                tag
            }

            if (reason.isEmpty()) {
                return
            }

            deleteDialogListener?.onEntityDeletedByAdmin(deleteExtras, reason)
            dismiss()
        }
    }

    //processes the admin delete alert dialog box negative button click
    protected open fun onAdminDeleteAlertNegativeButtonClicked() {
        dismiss()
    }

    override fun onReasonSelected(position: Int, reasonViewData: LMFeedReasonChooseViewData) {
        binding.apply {
            reasonData = reasonViewData
            alertDialogDelete.setAlertSelectorText(reasonViewData.value)
            alertDialogDelete.etReason.setText("")

            if (reasonViewData.value == "Others") {
                alertDialogDelete.setAlertInputReasonVisibility(true)
                alertDialogDelete.setAlertInputHint(getString(R.string.lm_feed_enter_reason))
                alertDialogDelete.setPositiveButtonEnabled(false)
            } else {
                alertDialogDelete.setAlertInputReasonVisibility(false)
                alertDialogDelete.setPositiveButtonEnabled(true)
            }
        }
    }
}

interface LMFeedAdminDeleteDialogListener {
    fun onEntityDeletedByAdmin(deleteExtras: LMFeedDeleteExtras, reason: String) {
        //triggered when the entity is deleted by admin
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/delete/view/LMFeedReasonChooseBottomSheetFragment.kt
================================================
package com.likeminds.feed.android.core.delete.view

import android.graphics.Color
import android.os.Bundle
import android.view.*
import androidx.fragment.app.FragmentManager
import androidx.fragment.app.viewModels
import com.google.android.material.bottomsheet.BottomSheetDialogFragment
import com.likeminds.feed.android.core.databinding.LmFeedReasonChooseBottomSheetFragmentBinding
import com.likeminds.feed.android.core.delete.adapter.LMFeedReasonChooseAdapterListener
import com.likeminds.feed.android.core.delete.model.LMFeedReasonChooseViewData
import com.likeminds.feed.android.core.delete.viewmodel.LMFeedReasonChooseViewModel
import com.likeminds.feed.android.core.utils.LMFeedViewUtils

class LMFeedReasonChooseBottomSheetFragment : BottomSheetDialogFragment(),
    LMFeedReasonChooseAdapterListener {

    companion object {
        private const val TAG = "LMFeedReasonChooseBottomSheetFragment"

        @JvmStatic
        fun newInstance(fragmentManager: FragmentManager) =
            LMFeedReasonChooseBottomSheetFragment().show(fragmentManager, TAG)
    }

    private lateinit var binding: LmFeedReasonChooseBottomSheetFragmentBinding

    private var reasonChooseDialogListener: LMFeedReasonChooseBottomSheetListener? = null

    private val reasonChooseViewModel: LMFeedReasonChooseViewModel by viewModels()

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View {
        binding = LmFeedReasonChooseBottomSheetFragmentBinding.inflate(layoutInflater)

        return binding.root
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        initUI()
        fetchData()
        observeData()
    }

    private fun initUI() {
        try {
            reasonChooseDialogListener = parentFragment as LMFeedReasonChooseBottomSheetListener?
        } catch (e: ClassCastException) {
            throw ClassCastException("Calling fragment must implement LMFeedReasonChooseBottomSheetListener interface")
        }

        (binding.root.parent as View).setBackgroundColor(Color.TRANSPARENT)

        binding.rvReasons.setAdapter(this)
    }

    private fun fetchData() {
        reasonChooseViewModel.getReportTags()
    }

    private fun observeData() {
        // observes [listOfTagViewData] and replaces items in sheet
        reasonChooseViewModel.listOfTagViewData.observe(viewLifecycleOwner) { tags ->
            binding.rvReasons.replaceReasons(tags)
        }

        // observes [errorMessage] and shows error toast
        reasonChooseViewModel.errorMessage.observe(viewLifecycleOwner) { errorMessage ->
            LMFeedViewUtils.showErrorMessageToast(requireContext(), errorMessage)
            dismiss()
        }
    }

    override fun onReasonSelected(position: Int, reasonViewData: LMFeedReasonChooseViewData) {
        reasonChooseDialogListener?.onReasonSelected(position, reasonViewData)
        dismiss()
    }
}

interface LMFeedReasonChooseBottomSheetListener {
    fun onReasonSelected(position: Int, reasonViewData: LMFeedReasonChooseViewData)
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/delete/view/LMFeedReasonChooseListView.kt
================================================
package com.likeminds.feed.android.core.delete.view

import android.content.Context
import android.util.AttributeSet
import androidx.recyclerview.widget.*
import com.likeminds.feed.android.core.delete.adapter.LMFeedReasonChooseAdapter
import com.likeminds.feed.android.core.delete.adapter.LMFeedReasonChooseAdapterListener
import com.likeminds.feed.android.core.delete.model.LMFeedReasonChooseViewData

class LMFeedReasonChooseListView @JvmOverloads constructor(
    context: Context,
    attrs: AttributeSet? = null,
    defStyleAttr: Int = 0
) : RecyclerView(context, attrs, defStyleAttr) {

    val linearLayoutManager: LinearLayoutManager

    private lateinit var reasonChooseAdapter: LMFeedReasonChooseAdapter

    init {
        setHasFixedSize(true)
        linearLayoutManager = LinearLayoutManager(context)
        layoutManager = linearLayoutManager

        if (itemAnimator is SimpleItemAnimator)
            (itemAnimator as SimpleItemAnimator).supportsChangeAnimations = false
    }

    //sets the adapter with the provided listeners to the reason choose recycler view
    fun setAdapter(listener: LMFeedReasonChooseAdapterListener) {
        reasonChooseAdapter = LMFeedReasonChooseAdapter(listener)
        adapter = reasonChooseAdapter
    }

    //replaces the reasons in the social feed adapter with the provided [reasons]
    fun replaceReasons(reasons: List<LMFeedReasonChooseViewData>) {
        reasonChooseAdapter.replace(reasons)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/delete/view/LMFeedSelfDeleteDialogFragment.kt
================================================
package com.likeminds.feed.android.core.delete.view

import android.content.Context
import android.os.Bundle
import android.view.*
import androidx.fragment.app.DialogFragment
import androidx.fragment.app.FragmentManager
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedDialogFragmentSelfDeleteBinding
import com.likeminds.feed.android.core.delete.model.DELETE_TYPE_POST
import com.likeminds.feed.android.core.delete.model.LMFeedDeleteExtras
import com.likeminds.feed.android.core.ui.widgets.alertdialog.view.LMFeedAlertDialogView
import com.likeminds.feed.android.core.utils.*
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.pluralizeOrCapitalize
import com.likeminds.feed.android.core.utils.pluralize.model.LMFeedWordAction

open class LMFeedSelfDeleteDialogFragment :
    DialogFragment() {

    companion object {
        private const val TAG = "LMFeedSelfDeleteDialogFragment"
        private const val LM_FEED_SELF_DELETE_EXTRAS = "LM_FEED_SELF_DELETE_EXTRAS"

        @JvmStatic
        fun showDialog(
            supportFragmentManager: FragmentManager,
            deleteExtras: LMFeedDeleteExtras
        ) {
            LMFeedSelfDeleteDialogFragment().apply {
                arguments = Bundle().apply {
                    putParcelable(LM_FEED_SELF_DELETE_EXTRAS, deleteExtras)
                }
            }.show(supportFragmentManager, TAG)
        }
    }

    private var selfDeleteDialogListener: LMFeedSelfDeleteDialogListener? = null

    private lateinit var binding: LmFeedDialogFragmentSelfDeleteBinding
    private lateinit var deletedExtras: LMFeedDeleteExtras

    override fun onAttach(context: Context) {
        super.onAttach(context)
        try {
            selfDeleteDialogListener = parentFragment as LMFeedSelfDeleteDialogListener?
        } catch (e: ClassCastException) {
            throw ClassCastException("Calling fragment must implement LMFeedSelfDeleteDialogListener interface")
        }
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        receiveExtras()
    }

    private fun receiveExtras() {
        arguments?.let {
            deletedExtras = LMFeedExtrasUtil.getParcelable(
                it,
                LM_FEED_SELF_DELETE_EXTRAS,
                LMFeedDeleteExtras::class.java
            ) ?: throw emptyExtrasException(TAG)
        }
    }

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View {
        binding = LmFeedDialogFragmentSelfDeleteBinding.inflate(layoutInflater)

        customizeSelfDeleteDialog(binding.alertDialogDelete)
        return binding.root
    }

    //customizes self delete dialog
    protected open fun customizeSelfDeleteDialog(alertDialogDelete: LMFeedAlertDialogView) {
        val selfDeleteDialogFragmentStyle = LMFeedStyleTransformer.selfDeleteDialogFragmentStyle

        alertDialogDelete.setStyle(selfDeleteDialogFragmentStyle.selfDeleteDialogStyle)
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        initUI()
        initListeners()
    }

    private fun initUI() {
        binding.alertDialogDelete.apply {
            setPositiveButtonEnabled(true)

            if (deletedExtras.entityType == DELETE_TYPE_POST) {
                setAlertTitle(
                    getString(
                        R.string.lm_feed_delete_s_question,
                        LMFeedCommunityUtil.getPostVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
                    )
                )
                setAlertSubtitle(
                    getString(
                        R.string.lm_feed_delete_s_message,
                        LMFeedCommunityUtil.getPostVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
                    )
                )
            } else {
                setAlertTitle(
                    getString(
                        R.string.lm_feed_delete_s_comment_question,
                        LMFeedCommunityUtil.getCommentVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
                    )
                )
                setAlertSubtitle(
                    getString(
                        R.string.lm_feed_delete_s_comment_message,
                        LMFeedCommunityUtil.getCommentVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
                    )
                )
            }
        }
    }

    //sets click listeners
    private fun initListeners() {
        binding.alertDialogDelete.apply {
            setPositiveButtonClickListener {
                onSelfDeleteAlertPositiveButtonClicked()
            }

            setNegativeButtonClickListener {
                onSelfDeleteAlertNegativeButtonClicked()
            }
        }
    }

    //processes the self delete alert dialog box positive button click
    protected open fun onSelfDeleteAlertPositiveButtonClicked() {
        selfDeleteDialogListener?.onEntityDeletedByAuthor(deletedExtras)
        dismiss()
    }

    //processes the self delete alert dialog box negative button click
    protected open fun onSelfDeleteAlertNegativeButtonClicked() {
        dismiss()
    }
}

interface LMFeedSelfDeleteDialogListener {
    fun onEntityDeletedByAuthor(deleteExtras: LMFeedDeleteExtras) {
        //triggered when the entity is deleted by the self user
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/delete/viewmodel/LMFeedReasonChooseViewModel.kt
================================================
package com.likeminds.feed.android.core.delete.viewmodel

import androidx.lifecycle.*
import com.likeminds.feed.android.core.delete.model.LMFeedReasonChooseViewData
import com.likeminds.feed.android.core.utils.LMFeedViewDataConvertor
import com.likeminds.feed.android.core.utils.coroutine.launchIO
import com.likeminds.likemindsfeed.LMFeedClient
import com.likeminds.likemindsfeed.LMResponse
import com.likeminds.likemindsfeed.moderation.model.GetReportTagsRequest
import com.likeminds.likemindsfeed.moderation.model.GetReportTagsResponse

class LMFeedReasonChooseViewModel : ViewModel() {

    private val lmFeedClient by lazy {
        LMFeedClient.getInstance()
    }

    private val _listOfTagViewData by lazy {
        MutableLiveData<List<LMFeedReasonChooseViewData>>()
    }

    val listOfTagViewData: LiveData<List<LMFeedReasonChooseViewData>> by lazy {
        _listOfTagViewData
    }

    private val _errorMessage: MutableLiveData<String?> by lazy {
        MutableLiveData()
    }

    val errorMessage: LiveData<String?> by lazy {
        _errorMessage
    }

    companion object {
        const val REPORT_TAG_TYPE = 0
    }

    // calls api and fetches report tags
    fun getReportTags() {
        viewModelScope.launchIO {
            // builds report tag request
            val request = GetReportTagsRequest.Builder()
                .type(REPORT_TAG_TYPE)
                .build()

            reportTagsFetched(lmFeedClient.getReportTags(request))
        }
    }

    // processes report tag request and sends response to UI
    private fun reportTagsFetched(response: LMResponse<GetReportTagsResponse>) {
        if (response.success) {
            val data = response.data ?: return
            val tags = data.tags
            val tagsViewData = LMFeedViewDataConvertor.convertDeleteTag(tags)
            val lastTag = tagsViewData.last().toBuilder()
                .hideBottomLine(true)
                .build()

            tagsViewData[tagsViewData.lastIndex] = lastTag

            _listOfTagViewData.postValue(tagsViewData.toList())
        } else {
            _errorMessage.postValue(response.errorMessage)
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/likes/adapter/LMFeedLikesAdapter.kt
================================================
package com.likeminds.feed.android.core.likes.adapter

import com.likeminds.feed.android.core.likes.adapter.databinder.LMFeedItemLikesViewDataBinder
import com.likeminds.feed.android.core.likes.model.LMFeedLikeViewData
import com.likeminds.feed.android.core.utils.base.*

class LMFeedLikesAdapter(
    private val listener: LMFeedLikesAdapterListener
) : LMFeedBaseRecyclerAdapter<LMFeedBaseViewType>() {

    init {
        initViewDataBinders()
    }

    override fun getSupportedViewDataBinder(): MutableList<LMFeedViewDataBinder<*, *>> {
        val viewDataBinders = ArrayList<LMFeedViewDataBinder<*, *>>(1)

        val itemLikesViewDataBinder = LMFeedItemLikesViewDataBinder(listener)
        viewDataBinders.add(itemLikesViewDataBinder)

        return viewDataBinders
    }
}

interface LMFeedLikesAdapterListener {
    fun onUserLikeItemClicked(position: Int, likesViewData: LMFeedLikeViewData) {
        //triggered when the user clicks on the like item
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/likes/adapter/databinder/LMFeedItemLikesViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.likes.adapter.databinder

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.feed.android.core.databinding.LmFeedItemLikesBinding
import com.likeminds.feed.android.core.likes.adapter.LMFeedLikesAdapterListener
import com.likeminds.feed.android.core.likes.model.LMFeedLikeViewData
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_LIKES_SCREEN

class LMFeedItemLikesViewDataBinder(
    private val listener: LMFeedLikesAdapterListener
) : LMFeedViewDataBinder<LmFeedItemLikesBinding, LMFeedLikeViewData>() {

    override val viewType: Int
        get() = ITEM_LIKES_SCREEN

    override fun createBinder(parent: ViewGroup): LmFeedItemLikesBinding {
        val binding = LmFeedItemLikesBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.userView.setStyle(LMFeedStyleTransformer.likesFragmentViewStyle.userViewStyle)
        setClickListeners(binding)

        return binding
    }

    override fun bindData(
        binding: LmFeedItemLikesBinding,
        data: LMFeedLikeViewData,
        position: Int
    ) {
        binding.apply {
            //set data to the binding
            this.position = position
            likesViewData = data

            userView.setUserImage(data.user)
            userView.setUserName(data.user.name)
            userView.setUserTitle(data.user.customTitle)
        }
    }

    //sets click listeners to the likes view
    private fun setClickListeners(binding: LmFeedItemLikesBinding) {
        binding.apply {
            root.setOnClickListener {
                val likesData = likesViewData ?: return@setOnClickListener
                listener.onUserLikeItemClicked(position, likesData)
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/likes/model/LMFeedLikeViewData.kt
================================================
package com.likeminds.feed.android.core.likes.model

import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.base.model.ITEM_LIKES_SCREEN
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData

class LMFeedLikeViewData private constructor(
    val id: String,
    val userId: String,
    val createdAt: Long,
    val updatedAt: Long,
    val user: LMFeedUserViewData,
    val uuid: String
) : LMFeedBaseViewType {

    override val viewType: Int
        get() = ITEM_LIKES_SCREEN

    class Builder {
        private var id: String = ""
        private var userId: String = ""
        private var createdAt: Long = 0
        private var updatedAt: Long = 0
        private var user: LMFeedUserViewData = LMFeedUserViewData.Builder().build()
        private var uuid: String = ""

        fun id(id: String) = apply { this.id = id }
        fun userId(userId: String) = apply { this.userId = userId }
        fun createdAt(createdAt: Long) = apply { this.createdAt = createdAt }
        fun updatedAt(updatedAt: Long) = apply { this.updatedAt = updatedAt }
        fun user(user: LMFeedUserViewData) = apply { this.user = user }
        fun uuid(uuid: String) = apply { this.uuid = uuid }

        fun build() = LMFeedLikeViewData(
            id,
            userId,
            createdAt,
            updatedAt,
            user,
            uuid
        )
    }

    fun toBuilder(): Builder {
        return Builder().id(id)
            .userId(userId)
            .createdAt(createdAt)
            .updatedAt(updatedAt)
            .user(user)
            .uuid(uuid)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/likes/model/LMFeedLikesScreenEntityType.kt
================================================
package com.likeminds.feed.android.core.likes.model

import androidx.annotation.IntDef

const val POST = 0
const val COMMENT = 1

@IntDef(
    POST,
    COMMENT
)

@Retention
annotation class LMFeedLikesScreenEntityType


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/likes/model/LMFeedLikesScreenExtras.kt
================================================
package com.likeminds.feed.android.core.likes.model

import android.os.Parcelable
import kotlinx.parcelize.Parcelize

@Parcelize
class LMFeedLikesScreenExtras private constructor(
    @LMFeedLikesScreenEntityType
    val entityType: Int,
    val postId: String,
    val commentId: String?,
) : Parcelable {

    class Builder {

        @LMFeedLikesScreenEntityType
        private var entityType: Int = 0
        private var postId: String = ""
        private var commentId: String? = null

        fun entityType(@LMFeedLikesScreenEntityType entityType: Int) =
            apply { this.entityType = entityType }

        fun postId(postId: String) = apply { this.postId = postId }
        fun commentId(commentId: String?) = apply { this.commentId = commentId }

        fun build() = LMFeedLikesScreenExtras(
            entityType,
            postId,
            commentId
        )
    }

    fun toBuilder(): Builder {
        return Builder().postId(postId)
            .entityType(entityType)
            .commentId(commentId)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/likes/style/LMFeedLikesFragmentViewStyle.kt
================================================
package com.likeminds.feed.android.core.likes.style

import android.text.TextUtils
import androidx.annotation.ColorRes
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.widgets.headerview.style.LMFeedHeaderViewStyle
import com.likeminds.feed.android.core.ui.widgets.user.style.LMFeedUserViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle
import com.likeminds.feed.android.core.utils.model.LMFeedPadding

/**
 * [LMFeedLikesFragmentViewStyle] helps you to customize the likes fragment [LMFeedLikesFragment]
 *
 * @property headerViewStyle : [LMFeedHeaderViewStyle] this will help you to customize the header view in the likes fragment
 * @property userViewStyle : [LMFeedUserViewStyle] this will help you to customize the create new post fab in the likes fragment
 * @property backgroundColor: [Int] should be in format of [ColorRes] this will help you to customize the background color of the likes fragment | Default value = [null]
 * */
class LMFeedLikesFragmentViewStyle private constructor(
    //header view style
    val headerViewStyle: LMFeedHeaderViewStyle,
    //user view style
    val userViewStyle: LMFeedUserViewStyle,
    //background color
    @ColorRes val backgroundColor: Int?
) : LMFeedViewStyle {
    class Builder {
        private var headerViewStyle: LMFeedHeaderViewStyle = LMFeedHeaderViewStyle.Builder()
            .titleTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_black)
                    .textSize(R.dimen.lm_feed_header_view_title_text_size)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .maxLines(1)
                    .ellipsize(TextUtils.TruncateAt.END)
                    .build()
            )
            .subtitleTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_grey)
                    .maxLines(1)
                    .ellipsize(TextUtils.TruncateAt.END)
                    .textSize(R.dimen.lm_feed_text_medium)
                    .build()
            )
            .backgroundColor(R.color.lm_feed_white)
            .navigationIconStyle(
                LMFeedIconStyle.Builder()
                    .iconTint(R.color.lm_feed_black)
                    .inActiveSrc(R.drawable.lm_feed_ic_arrow_back_black_24dp)
                    .iconPadding(
                        LMFeedPadding(
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding
                        )
                    )
                    .build()
            )
            .build()

        private var userViewStyle: LMFeedUserViewStyle = LMFeedUserViewStyle.Builder()
            .userTitleViewStyle(
                LMFeedTextStyle.Builder()
                    .ellipsize(TextUtils.TruncateAt.END)
                    .maxLines(1)
                    .textColor(LMFeedAppearance.getButtonColor())
                    .textSize(R.dimen.lm_feed_text_medium)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .build()
            )
            .build()

        @ColorRes
        private var backgroundColor: Int? = null

        fun headerViewStyle(headerViewStyle: LMFeedHeaderViewStyle) = apply {
            this.headerViewStyle = headerViewStyle
        }

        fun userViewStyle(userViewStyle: LMFeedUserViewStyle) = apply {
            this.userViewStyle = userViewStyle
        }

        fun backgroundColor(@ColorRes backgroundColor: Int?) = apply {
            this.backgroundColor = backgroundColor
        }

        fun build() = LMFeedLikesFragmentViewStyle(
            headerViewStyle,
            userViewStyle,
            backgroundColor
        )
    }

    fun toBuilder(): Builder {
        return Builder().headerViewStyle(headerViewStyle)
            .userViewStyle(userViewStyle)
            .backgroundColor(backgroundColor)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/likes/view/LMFeedLikesActivity.kt
================================================
package com.likeminds.feed.android.core.likes.view

import android.content.Context
import android.content.Intent
import android.os.Bundle
import androidx.appcompat.app.AppCompatActivity
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedActivityLikesBinding
import com.likeminds.feed.android.core.likes.model.LMFeedLikesScreenExtras
import com.likeminds.feed.android.core.post.detail.view.LMFeedPostDetailActivity
import com.likeminds.feed.android.core.utils.*

class LMFeedLikesActivity : AppCompatActivity() {

    private lateinit var binding: LmFeedActivityLikesBinding

    private lateinit var likesScreenExtras: LMFeedLikesScreenExtras

    companion object {
        const val LM_FEED_LIKES_SCREEN_EXTRAS = "LM_FEED_LIKES_SCREEN_EXTRAS"
        private const val LM_FEED_LIKES_SCREEN_BUNDLE = "lm_feed_bundle"
        const val TAG = "LMFeedLikesActivity"

        @JvmStatic
        fun start(context: Context, extras: LMFeedLikesScreenExtras) {
            val intent = Intent(context, LMFeedLikesActivity::class.java)
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_LIKES_SCREEN_EXTRAS, extras)
            intent.putExtra(LM_FEED_LIKES_SCREEN_BUNDLE, bundle)
            context.startActivity(intent)
        }

        @JvmStatic
        fun getIntent(context: Context, extras: LMFeedLikesScreenExtras): Intent {
            val intent = Intent(context, LMFeedLikesActivity::class.java)
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_LIKES_SCREEN_EXTRAS, extras)
            intent.putExtra(LM_FEED_LIKES_SCREEN_BUNDLE, bundle)
            return intent
        }
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        binding = LmFeedActivityLikesBinding.inflate(layoutInflater)
        setContentView(binding.root)

        //parse extras
        assignExtras()

        //inflates likes fragment
        inflateLikesFragment()
    }

    private fun assignExtras() {
        //get bundle
        val bundle = intent.getBundleExtra(LM_FEED_LIKES_SCREEN_BUNDLE)

        //assign to global variable
        if (bundle != null) {
            likesScreenExtras = LMFeedExtrasUtil.getParcelable(
                bundle,
                LM_FEED_LIKES_SCREEN_EXTRAS,
                LMFeedLikesScreenExtras::class.java
            ) ?: throw emptyExtrasException(TAG)
        } else {
            redirectActivity()
        }
    }

    private fun inflateLikesFragment() {
        //gets likes fragment instance
        val likesFragment =
            LMFeedLikesFragment.getInstance(likesScreenExtras = likesScreenExtras)

        //commits fragment replace transaction
        supportFragmentManager.beginTransaction()
            .replace(
                binding.containerLikes.id,
                likesFragment,
                LMFeedPostDetailActivity.TAG
            )
            .commit()
    }

    private fun redirectActivity() {
        LMFeedViewUtils.showSomethingWentWrongToast(this)
        supportFragmentManager.popBackStack()
        onBackPressedDispatcher.onBackPressed()
        overridePendingTransition(R.anim.lm_feed_slide_from_left, R.anim.lm_feed_slide_to_right)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/likes/view/LMFeedLikesFragment.kt
================================================
package com.likeminds.feed.android.core.likes.view

import android.os.Bundle
import android.view.*
import androidx.core.content.ContextCompat
import androidx.fragment.app.Fragment
import androidx.fragment.app.viewModels
import androidx.swiperefreshlayout.widget.SwipeRefreshLayout
import com.likeminds.feed.android.core.LMFeedCoreApplication
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedFragmentLikesBinding
import com.likeminds.feed.android.core.likes.adapter.LMFeedLikesAdapterListener
import com.likeminds.feed.android.core.likes.model.LMFeedLikeViewData
import com.likeminds.feed.android.core.likes.model.LMFeedLikesScreenExtras
import com.likeminds.feed.android.core.likes.view.LMFeedLikesActivity.Companion.LM_FEED_LIKES_SCREEN_EXTRAS
import com.likeminds.feed.android.core.likes.viewmodel.LMFeedLikesViewModel
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.widgets.headerview.view.LMFeedHeaderView
import com.likeminds.feed.android.core.utils.*
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.pluralizeOrCapitalize
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics
import com.likeminds.feed.android.core.utils.pluralize.model.LMFeedWordAction

open class LMFeedLikesFragment : Fragment(), LMFeedLikesAdapterListener {

    private lateinit var binding: LmFeedFragmentLikesBinding
    private lateinit var mSwipeRefreshLayout: SwipeRefreshLayout

    private lateinit var likesScreenExtras: LMFeedLikesScreenExtras

    private val likesViewModel: LMFeedLikesViewModel by viewModels()

    companion object {
        const val TAG = "LMFeedLikesFragment"

        fun getInstance(likesScreenExtras: LMFeedLikesScreenExtras): LMFeedLikesFragment {
            val likesFragment = LMFeedLikesFragment()
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_LIKES_SCREEN_EXTRAS, likesScreenExtras)
            likesFragment.arguments = bundle
            return likesFragment
        }
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        receiveExtras()
    }

    private fun receiveExtras() {
        likesScreenExtras = LMFeedExtrasUtil.getParcelable(
            arguments,
            LM_FEED_LIKES_SCREEN_EXTRAS,
            LMFeedLikesScreenExtras::class.java
        ) ?: throw emptyExtrasException(TAG)
    }

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View {
        binding = LmFeedFragmentLikesBinding.inflate(layoutInflater)

        binding.apply {
            customizeLikesFragmentHeaderView(headerViewLikes)

            //set background color
            val backgroundColor =
                LMFeedStyleTransformer.likesFragmentViewStyle.backgroundColor
            backgroundColor?.let { color ->
                root.setBackgroundColor(
                    ContextCompat.getColor(
                        requireContext(),
                        color
                    )
                )
            }
        }
        return binding.root
    }

    protected open fun customizeLikesFragmentHeaderView(headerViewLikes: LMFeedHeaderView) {
        headerViewLikes.apply {
            setStyle(LMFeedStyleTransformer.likesFragmentViewStyle.headerViewStyle)

            setTitleText(
                getString(
                    R.string.lm_feed_s_likes,
                    LMFeedCommunityUtil.getLikeVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_PLURAL)
                )
            )
        }
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        initUI()
        initListeners()
        fetchData()
        observeData()
    }

    private fun initUI() {
        //sends like list open event
        LMFeedAnalytics.sendLikeListOpenEvent(
            likesScreenExtras.postId,
            likesScreenExtras.commentId
        )

        initRecyclerView()
        initSwipeRefreshLayout()
    }

    private fun initRecyclerView() {
        binding.rvLikes.apply {
            setAdapter(this@LMFeedLikesFragment)

            //set scroll listener
            val paginationScrollListener =
                object : LMFeedEndlessRecyclerViewScrollListener(linearLayoutManager) {
                    override fun onLoadMore(currentPage: Int) {
                        // calls api for paginated data
                        if (currentPage > 0) {
                            likesViewModel.getLikesData(
                                likesScreenExtras.postId,
                                likesScreenExtras.commentId,
                                likesScreenExtras.entityType,
                                currentPage
                            )
                        }
                    }
                }
            setPaginationScrollListener(paginationScrollListener)
        }
    }

    private fun initSwipeRefreshLayout() {
        mSwipeRefreshLayout = binding.swipeRefreshLayout
        mSwipeRefreshLayout.setColorSchemeColors(
            ContextCompat.getColor(
                requireContext(),
                LMFeedAppearance.getButtonColor()
            )
        )

        mSwipeRefreshLayout.setOnRefreshListener {
            fetchData(true)
        }
    }

    private fun initListeners() {
        binding.apply {
            headerViewLikes.setNavigationIconClickListener {
                onNavigationIconClick()
            }
        }
    }

    //processes the navigation icon click
    protected open fun onNavigationIconClick() {
        requireActivity().onBackPressedDispatcher.onBackPressed()
    }

    private fun fetchData(fromRefresh: Boolean = false) {
        if (fromRefresh) {
            mSwipeRefreshLayout.isRefreshing = true
            binding.rvLikes.resetScrollListenerData()
        } else {
            LMFeedProgressBarHelper.showProgress(binding.progressBar)
        }
        likesViewModel.getLikesData(
            likesScreenExtras.postId,
            likesScreenExtras.commentId,
            likesScreenExtras.entityType,
            1
        )
    }

    // observes data
    private fun observeData() {
        // observes likes api response
        likesViewModel.likesResponse.observe(viewLifecycleOwner) { response ->
            LMFeedProgressBarHelper.hideProgress(binding.progressBar)

            val listOfLikes = response.first
            val totalLikes = response.second
            val page = response.third

            setTotalLikesCount(totalLikes)

            if (mSwipeRefreshLayout.isRefreshing) {
                mSwipeRefreshLayout.isRefreshing = false
                binding.rvLikes.replaceLikes(listOfLikes)
                return@observe
            }

            if (page == 1) {
                binding.rvLikes.replaceLikes(listOfLikes)
            } else {
                binding.rvLikes.addLikes(listOfLikes)
            }
        }

        // observes error message from likes api and shows toast with error message
        likesViewModel.errorMessage.observe(viewLifecycleOwner) { error ->
            LMFeedViewUtils.showErrorMessageToast(requireContext(), error)
            requireActivity().finish()
        }
    }

    //set total likes count on toolbar
    private fun setTotalLikesCount(totalLikes: Int) {
        val likeString = if (totalLikes == 1) {
            LMFeedCommunityUtil.getLikeVariable()
                .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
        } else {
            LMFeedCommunityUtil.getLikeVariable()
                .pluralizeOrCapitalize(LMFeedWordAction.ALL_CAPITAL_PLURAL)
        }
        binding.headerViewLikes.setSubTitleText(
            this.resources.getQuantityString(
                R.plurals.lm_feed_s_likes_small,
                totalLikes,
                totalLikes,
                likeString
            )
        )
    }

    override fun onUserLikeItemClicked(position: Int, likesViewData: LMFeedLikeViewData) {
        super.onUserLikeItemClicked(position, likesViewData)

        val coreCallback = LMFeedCoreApplication.getLMFeedCoreCallback()
        coreCallback?.openProfile(likesViewData.user)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/likes/view/LMFeedLikesListView.kt
================================================
package com.likeminds.feed.android.core.likes.view

import android.content.Context
import android.util.AttributeSet
import androidx.recyclerview.widget.*
import com.likeminds.feed.android.core.likes.adapter.LMFeedLikesAdapter
import com.likeminds.feed.android.core.likes.adapter.LMFeedLikesAdapterListener
import com.likeminds.feed.android.core.likes.model.LMFeedLikeViewData
import com.likeminds.feed.android.core.utils.LMFeedEndlessRecyclerViewScrollListener

class LMFeedLikesListView @JvmOverloads constructor(
    context: Context,
    attrs: AttributeSet? = null,
    defStyleAttr: Int = 0
) : RecyclerView(context, attrs, defStyleAttr) {

    val linearLayoutManager: LinearLayoutManager

    private lateinit var likesAdapter: LMFeedLikesAdapter
    private lateinit var paginationScrollListener: LMFeedEndlessRecyclerViewScrollListener

    init {
        setHasFixedSize(true)
        linearLayoutManager = LinearLayoutManager(context)
        layoutManager = linearLayoutManager

        if (itemAnimator is SimpleItemAnimator) {
            (itemAnimator as SimpleItemAnimator).supportsChangeAnimations = false
        }
    }

    //sets the adapter with the provided [listener] to the likes recycler view
    fun setAdapter(likesAdapterListener: LMFeedLikesAdapterListener) {
        likesAdapter = LMFeedLikesAdapter(likesAdapterListener)
        adapter = likesAdapter
    }

    //sets the pagination scroll listener to the likes recycler view
    fun setPaginationScrollListener(scrollListener: LMFeedEndlessRecyclerViewScrollListener) {
        paginationScrollListener = scrollListener
        addOnScrollListener(scrollListener)
    }

    //resets the scroll listener data
    fun resetScrollListenerData() {
        if (::paginationScrollListener.isInitialized) {
            paginationScrollListener.resetData()
        }
    }

    //adds the provided [likes] in the likes adapter
    fun addLikes(likes: List<LMFeedLikeViewData>) {
        likesAdapter.addAll(likes)
    }

    //replaces the provided [likes] in the likes adapter
    fun replaceLikes(likes: List<LMFeedLikeViewData>) {
        likesAdapter.replace(likes)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/likes/viewmodel/LMFeedLikesViewModel.kt
================================================
package com.likeminds.feed.android.core.likes.viewmodel

import androidx.lifecycle.*
import com.likeminds.feed.android.core.likes.model.*
import com.likeminds.feed.android.core.utils.LMFeedViewDataConvertor
import com.likeminds.feed.android.core.utils.coroutine.launchIO
import com.likeminds.likemindsfeed.LMFeedClient
import com.likeminds.likemindsfeed.LMResponse
import com.likeminds.likemindsfeed.comment.model.GetCommentLikesRequest
import com.likeminds.likemindsfeed.comment.model.GetCommentLikesResponse
import com.likeminds.likemindsfeed.post.model.GetPostLikesRequest
import com.likeminds.likemindsfeed.post.model.GetPostLikesResponse

class LMFeedLikesViewModel : ViewModel() {

    private val lmFeedClient: LMFeedClient by lazy {
        LMFeedClient.getInstance()
    }

    private val _likesResponse: MutableLiveData<Triple<List<LMFeedLikeViewData>, Int, Int>> by lazy {
        MutableLiveData()
    }

    val likesResponse: LiveData<Triple<List<LMFeedLikeViewData>, Int, Int>> by lazy {
        _likesResponse
    }

    private val _errorMessage: MutableLiveData<String?> by lazy {
        MutableLiveData()
    }

    val errorMessage: LiveData<String?> by lazy {
        _errorMessage
    }

    companion object {
        const val PAGE_SIZE = 20
    }

    // calls API for post likes and comments likes data
    fun getLikesData(
        postId: String,
        commentId: String?,
        entityType: Int,
        page: Int
    ) {
        viewModelScope.launchIO {
            when (entityType) {
                POST -> {
                    // calls getPostLikes API
                    val request = GetPostLikesRequest.Builder()
                        .postId(postId)
                        .page(page)
                        .pageSize(PAGE_SIZE)
                        .build()

                    postLikesDataFetched(lmFeedClient.getPostLikes(request), page)
                }

                COMMENT -> {
                    // calls getCommentLikes API
                    val request = GetCommentLikesRequest.Builder()
                        .postId(postId)
                        .commentId(commentId!!)
                        .page(page)
                        .pageSize(PAGE_SIZE)
                        .build()

                    commentLikesDataFetched(lmFeedClient.getCommentLikes(request), page)
                }
            }
        }
    }

    // processes post likes api response and posts the data to LiveData
    private fun postLikesDataFetched(response: LMResponse<GetPostLikesResponse>, page: Int) {
        if (response.success) {
            // processes Likes data if API call was successful
            val data = response.data ?: return
            val totalLikes = data.totalCount
            val likes = data.likes

            val listOfLikeViewData = LMFeedViewDataConvertor.convertLikes(likes, data.users)
            _likesResponse.postValue(
                Triple(
                    listOfLikeViewData,
                    totalLikes,
                    page
                )
            )
        } else {
            // posts error message if API call failed
            _errorMessage.postValue(response.errorMessage)
        }
    }

    // processes comment like api response and posts the data to LiveData
    private fun commentLikesDataFetched(response: LMResponse<GetCommentLikesResponse>, page: Int) {
        if (response.success) {
            // processes Likes data if API call was successful
            val data = response.data ?: return
            val totalLikes = data.totalCount
            val likes = data.likes

            val listOfLikeViewData = LMFeedViewDataConvertor.convertLikes(likes, data.users)
            _likesResponse.postValue(
                Triple(
                    listOfLikeViewData,
                    totalLikes,
                    page
                )
            )
        } else {
            // posts error message if API call failed
            _errorMessage.postValue(response.errorMessage)
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/create/adapter/LMFeedCreatePollOptionAdapter.kt
================================================
package com.likeminds.feed.android.core.poll.create.adapter

import com.likeminds.feed.android.core.databinding.LmFeedItemCreatePollOptionBinding
import com.likeminds.feed.android.core.poll.create.adapter.databinding.LMFeedItemCreatePollOptionViewDataBinder
import com.likeminds.feed.android.core.poll.create.model.LMFeedCreatePollOptionViewData
import com.likeminds.feed.android.core.utils.base.*

class LMFeedCreatePollOptionAdapter(private val listener: LMFeedCreatePollOptionAdapterListener) :
    LMFeedBaseRecyclerAdapter<LMFeedBaseViewType>() {
    init {
        initViewDataBinders()
    }

    override fun getSupportedViewDataBinder(): MutableList<LMFeedViewDataBinder<*, *>> {
        val viewBinders = ArrayList<LMFeedViewDataBinder<*, *>>(1)

        val createPollOptionViewDataBinder = LMFeedItemCreatePollOptionViewDataBinder(listener)
        viewBinders.add(createPollOptionViewDataBinder)

        return viewBinders
    }
}

interface LMFeedCreatePollOptionAdapterListener {

    fun onPollOptionRemoved(createPollOptionViewData: LMFeedCreatePollOptionViewData){
        //on poll option removed
    }

    
    fun onPollOptionBinded(position: Int, binding: LmFeedItemCreatePollOptionBinding){
        //on poll option binded
    }

    fun onPollOptionFilled(){
        //when user fill the option in input box
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/create/adapter/LMFeedPollAdvancedOptionsAdapter.kt
================================================
package com.likeminds.feed.android.core.poll.create.adapter

import android.content.Context
import android.view.*
import android.widget.ArrayAdapter
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedItemPollDropdownBinding
import com.likeminds.feed.android.core.ui.base.styles.setStyle
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer

class LMFeedPollAdvancedOptionsAdapter(
    context: Context,
    list: List<String>
) : ArrayAdapter<String>(
    context,
    R.layout.lm_feed_item_poll_dropdown,
    list
) {

    override fun getView(position: Int, convertView: View?, parent: ViewGroup): View {
        return onBindView(parent, position)
    }

    override fun getDropDownView(position: Int, convertView: View?, parent: ViewGroup): View {
        return onBindView(parent, position)
    }

    private fun onBindView(parent: ViewGroup, position: Int): View {
        //get option
        val option = getItem(position) ?: ""

        //create binding
        val binding = LmFeedItemPollDropdownBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        //set text and style
        binding.tvDropdown.apply {
            text = option
            setStyle(LMFeedStyleTransformer.createPollFragmentViewStyle.pollDropdownViewStyle)
        }

        //return view
        return binding.root
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/create/adapter/databinding/LMFeedItemCreatePollOptionViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.poll.create.adapter.databinding

import android.view.LayoutInflater
import android.view.ViewGroup
import androidx.core.widget.doAfterTextChanged
import com.likeminds.feed.android.core.databinding.LmFeedItemCreatePollOptionBinding
import com.likeminds.feed.android.core.poll.create.adapter.LMFeedCreatePollOptionAdapterListener
import com.likeminds.feed.android.core.poll.create.model.LMFeedCreatePollOptionViewData
import com.likeminds.feed.android.core.ui.base.styles.setStyle
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_CREATE_POLL_OPTION

class LMFeedItemCreatePollOptionViewDataBinder(
    val listener: LMFeedCreatePollOptionAdapterListener
) : LMFeedViewDataBinder<LmFeedItemCreatePollOptionBinding, LMFeedCreatePollOptionViewData>() {
    override val viewType: Int
        get() = ITEM_CREATE_POLL_OPTION

    override fun createBinder(parent: ViewGroup): LmFeedItemCreatePollOptionBinding {
        val binding = LmFeedItemCreatePollOptionBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        setListeners(binding)
        setViewStyle(binding)

        return binding
    }

    override fun bindData(
        binding: LmFeedItemCreatePollOptionBinding,
        data: LMFeedCreatePollOptionViewData,
        position: Int
    ) {
        binding.apply {
            //assign to binding
            createPollOption = data

            //add to viewmodel mapping
            listener.onPollOptionBinded(position, this)

            //clear text
            etOption.setText("")

            etOption.doAfterTextChanged { option ->
                val trimmedOptionText = option.toString().trim()
                if (trimmedOptionText.isNotEmpty()) {
                    listener.onPollOptionFilled()
                }
            }

            //set existing data
            val pollOption = data.text
            if (pollOption.isNotEmpty()) {
                etOption.setText(pollOption)
            }
        }
    }

    //set listeners
    private fun setListeners(binding: LmFeedItemCreatePollOptionBinding) {
        binding.ivCross.setOnClickListener {
            //clear focus
            binding.etOption.clearFocus()

            //get data
            val pollOption = binding.createPollOption ?: return@setOnClickListener

            //call listener
            listener.onPollOptionRemoved(pollOption)
        }
    }

    //set view style
    private fun setViewStyle(binding: LmFeedItemCreatePollOptionBinding) {
        val pollOptionsViewStyle =
            LMFeedStyleTransformer.createPollFragmentViewStyle.pollOptionsViewStyle

        binding.etOption.setStyle(pollOptionsViewStyle.optionViewStyle)
        binding.ivCross.setStyle(pollOptionsViewStyle.removeOptionViewStyle)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/create/model/LMFeedCreatePollOptionViewData.kt
================================================
package com.likeminds.feed.android.core.poll.create.model

import android.os.Parcelable
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.base.model.ITEM_CREATE_POLL_OPTION
import kotlinx.parcelize.Parcelize

@Parcelize
class LMFeedCreatePollOptionViewData private constructor(
    val text: String
) : LMFeedBaseViewType, Parcelable {
    override val viewType: Int
        get() = ITEM_CREATE_POLL_OPTION

    class Builder {
        private var text: String = ""

        fun text(text: String) = apply { this.text = text }

        fun build() = LMFeedCreatePollOptionViewData(text)
    }

    fun toBuilder(): Builder {
        return Builder()
            .text(text)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/create/style/LMFeedCreatePollFragmentViewStyle.kt
================================================
package com.likeminds.feed.android.core.poll.create.style

import android.text.TextUtils
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.widgets.headerview.style.LMFeedHeaderViewStyle
import com.likeminds.feed.android.core.ui.widgets.post.postheaderview.style.LMFeedPostHeaderViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle
import com.likeminds.feed.android.core.utils.model.LMFeedPadding

/**
 * [LMFeedCreatePollFragmentViewStyle] helps to customize the [LMFeedCreatePollFragment] view.
 * @property headerViewStyle [LMFeedHeaderViewStyle] this will help to customize the header view.
 * @property authorViewStyle [LMFeedPostHeaderViewStyle] this will help to customize the author view.
 * @property pollQuestionTitleViewStyle [LMFeedTextStyle] this will help to customize the poll question title view.
 * @property pollQuestionViewStyle [LMFeedEditTextStyle] this will help to customize the poll question view.
 * @property pollOptionsTitleViewStyle [LMFeedTextStyle] this will help to customize the poll options title view.
 * @property pollAddOptionViewStyle [LMFeedTextStyle] this will help to customize the poll add option view.
 * @property pollExpiryTimeTitleViewStyle [LMFeedTextStyle] this will help to customize the poll expiry time title view.
 * @property pollExpiryTimeViewStyle [LMFeedTextStyle] this will help to customize the poll expiry time view.
 * @property pollAdvanceOptionViewStyle [LMFeedTextStyle] this will help to customize the poll advance option view.
 * @property pollAdvanceOptionSwitchViewStyle [LMFeedSwitchStyle] this will help to customize the poll advance option switch view.
 * @property pollOptionsViewStyle [LMFeedCreatePollOptionViewStyle] this will help to customize the poll options view.
 */
class LMFeedCreatePollFragmentViewStyle private constructor(
    //header view style
    val headerViewStyle: LMFeedHeaderViewStyle,
    //author frame view style
    val authorViewStyle: LMFeedPostHeaderViewStyle,
    //poll question title view style
    val pollQuestionTitleViewStyle: LMFeedTextStyle,
    //poll question view style
    val pollQuestionViewStyle: LMFeedEditTextStyle,
    //poll options title view style
    val pollOptionsTitleViewStyle: LMFeedTextStyle,
    //poll options view style
    val pollAddOptionViewStyle: LMFeedTextStyle,
    //poll expiry time title view style
    val pollExpiryTimeTitleViewStyle: LMFeedTextStyle,
    //poll expiry time view style
    val pollExpiryTimeViewStyle: LMFeedTextStyle,
    //poll advance option view style
    val pollAdvanceOptionViewStyle: LMFeedTextStyle,
    //poll advance option switch view style
    val pollAdvanceOptionSwitchViewStyle: LMFeedSwitchStyle,
    //poll options view style
    val pollOptionsViewStyle: LMFeedCreatePollOptionViewStyle,
    //poll dropdown option view style
    val pollDropdownViewStyle: LMFeedTextStyle
) : LMFeedViewStyle {

    class Builder {
        private var headerViewStyle: LMFeedHeaderViewStyle = LMFeedHeaderViewStyle.Builder()
            .titleTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_black)
                    .textSize(R.dimen.lm_feed_header_view_title_text_size)
                    .maxLines(1)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .ellipsize(TextUtils.TruncateAt.END)
                    .build()
            )
            .backgroundColor(R.color.lm_feed_white)
            .submitTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_grey)
                    .textSize(R.dimen.lm_feed_text_large)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .build()
            )
            .activeSubmitColor(LMFeedAppearance.getButtonColor())
            .navigationIconStyle(
                LMFeedIconStyle.Builder()
                    .iconTint(R.color.lm_feed_black)
                    .inActiveSrc(R.drawable.lm_feed_ic_arrow_back_black_24dp)
                    .iconPadding(
                        LMFeedPadding(
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding
                        )
                    )
                    .build()
            )
            .build()

        private var authorViewStyle: LMFeedPostHeaderViewStyle = LMFeedPostHeaderViewStyle.Builder()
            .authorImageViewStyle(
                LMFeedImageStyle.Builder()
                    .isCircle(true)
                    .build()
            )
            .authorNameViewStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_raisin_black)
                    .textSize(R.dimen.lm_feed_text_large)
                    .fontResource(R.font.lm_feed_roboto)
                    .maxLines(1)
                    .ellipsize(TextUtils.TruncateAt.END)
                    .build()
            )
            .build()

        private var pollQuestionTitleViewStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textColor(LMFeedAppearance.getButtonColor())
            .textSize(R.dimen.lm_feed_text_large)
            .fontResource(R.font.lm_feed_roboto)
            .maxLines(1)
            .build()

        private var pollQuestionViewStyle: LMFeedEditTextStyle = LMFeedEditTextStyle.Builder()
            .hintTextColor(R.color.lm_feed_brown_grey)
            .inputTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_dark_grey)
                    .fontResource(R.font.lm_feed_roboto)
                    .textSize(R.dimen.lm_feed_text_large)
                    .build()
            )
            .build()

        private var pollOptionsTitleViewStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textColor(LMFeedAppearance.getButtonColor())
            .textSize(R.dimen.lm_feed_text_large)
            .fontResource(R.font.lm_feed_roboto)
            .maxLines(1)
            .build()

        private var pollAddOptionViewStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textColor(LMFeedAppearance.getButtonColor())
            .textSize(R.dimen.lm_feed_text_large)
            .fontResource(R.font.lm_feed_roboto)
            .maxLines(1)
            .drawableLeftSrc(R.drawable.lm_feed_ic_add_option)
            .drawablePadding(R.dimen.lm_feed_drawable_padding)
            .build()

        private var pollExpiryTimeTitleViewStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textColor(LMFeedAppearance.getButtonColor())
            .textSize(R.dimen.lm_feed_text_large)
            .fontResource(R.font.lm_feed_roboto)
            .maxLines(1)
            .build()

        private var pollExpiryTimeViewStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .hintTextColor(R.color.lm_feed_brown_grey)
            .textColor(R.color.lm_feed_dark_grey)
            .fontResource(R.font.lm_feed_roboto)
            .textSize(R.dimen.lm_feed_text_large)
            .maxLines(1)
            .build()

        private var pollAdvanceOptionViewStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textColor(R.color.lm_feed_brown_grey)
            .textSize(R.dimen.lm_feed_text_small)
            .textAllCaps(true)
            .drawableRightSrc(R.drawable.lm_feed_ic_arrow_edge_down)
            .maxLines(1)
            .fontResource(R.font.lm_feed_roboto)
            .build()

        private var pollAdvanceOptionSwitchViewStyle: LMFeedSwitchStyle =
            LMFeedSwitchStyle.Builder()
                .textStyle(
                    LMFeedTextStyle.Builder()
                        .maxLines(1)
                        .textAllCaps(false)
                        .textSize(R.dimen.lm_feed_text_large)
                        .textColor(R.color.lm_feed_black)
                        .build()
                )
                .trackColor(LMFeedAppearance.getButtonColor())
                .thumbColor(R.color.lm_feed_white_smoke)
                .build()

        private var pollOptionsViewStyle: LMFeedCreatePollOptionViewStyle =
            LMFeedCreatePollOptionViewStyle.Builder().build()

        private var pollDropdownViewStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .fontResource(R.font.lm_feed_roboto)
            .textSize(R.dimen.lm_feed_text_large)
            .textColor(R.color.lm_feed_black)
            .maxLines(1)
            .build()

        fun headerViewStyle(headerViewStyle: LMFeedHeaderViewStyle): Builder = apply {
            this.headerViewStyle = headerViewStyle
        }

        fun authorViewStyle(authorViewStyle: LMFeedPostHeaderViewStyle): Builder = apply {
            this.authorViewStyle = authorViewStyle
        }

        fun pollQuestionTitleViewStyle(pollQuestionTitleViewStyle: LMFeedTextStyle): Builder =
            apply {
                this.pollQuestionTitleViewStyle = pollQuestionTitleViewStyle
            }

        fun pollQuestionViewStyle(pollQuestionViewStyle: LMFeedEditTextStyle): Builder = apply {
            this.pollQuestionViewStyle = pollQuestionViewStyle
        }

        fun pollOptionsTitleViewStyle(pollOptionsTitleViewStyle: LMFeedTextStyle): Builder = apply {
            this.pollOptionsTitleViewStyle = pollOptionsTitleViewStyle
        }

        fun pollAddOptionViewStyle(pollAddOptionViewStyle: LMFeedTextStyle): Builder = apply {
            this.pollAddOptionViewStyle = pollAddOptionViewStyle
        }

        fun pollExpiryTimeTitleViewStyle(pollExpiryTimeTitleViewStyle: LMFeedTextStyle): Builder =
            apply {
                this.pollExpiryTimeTitleViewStyle = pollExpiryTimeTitleViewStyle
            }

        fun pollExpiryTimeViewStyle(pollExpiryTimeViewStyle: LMFeedTextStyle): Builder = apply {
            this.pollExpiryTimeViewStyle = pollExpiryTimeViewStyle
        }

        fun pollAdvanceOptionViewStyle(pollAdvanceOptionViewStyle: LMFeedTextStyle): Builder =
            apply {
                this.pollAdvanceOptionViewStyle = pollAdvanceOptionViewStyle
            }

        fun pollAdvanceOptionSwitchViewStyle(pollAdvanceOptionSwitchViewStyle: LMFeedSwitchStyle): Builder =
            apply {
                this.pollAdvanceOptionSwitchViewStyle = pollAdvanceOptionSwitchViewStyle
            }

        fun pollOptionsViewStyle(pollOptionsViewStyle: LMFeedCreatePollOptionViewStyle): Builder =
            apply {
                this.pollOptionsViewStyle = pollOptionsViewStyle
            }

        fun pollDropdownViewStyle(pollDropdownViewStyle: LMFeedTextStyle): Builder = apply {
            this.pollDropdownViewStyle = pollDropdownViewStyle
        }

        fun build() = LMFeedCreatePollFragmentViewStyle(
            headerViewStyle,
            authorViewStyle,
            pollQuestionTitleViewStyle,
            pollQuestionViewStyle,
            pollOptionsTitleViewStyle,
            pollAddOptionViewStyle,
            pollExpiryTimeTitleViewStyle,
            pollExpiryTimeViewStyle,
            pollAdvanceOptionViewStyle,
            pollAdvanceOptionSwitchViewStyle,
            pollOptionsViewStyle,
            pollDropdownViewStyle
        )
    }

    fun toBuilder(): Builder {
        return Builder()
            .headerViewStyle(headerViewStyle)
            .authorViewStyle(authorViewStyle)
            .pollQuestionTitleViewStyle(pollQuestionTitleViewStyle)
            .pollQuestionViewStyle(pollQuestionViewStyle)
            .pollOptionsTitleViewStyle(pollOptionsTitleViewStyle)
            .pollAddOptionViewStyle(pollAddOptionViewStyle)
            .pollExpiryTimeTitleViewStyle(pollExpiryTimeTitleViewStyle)
            .pollExpiryTimeViewStyle(pollExpiryTimeViewStyle)
            .pollAdvanceOptionViewStyle(pollAdvanceOptionViewStyle)
            .pollAdvanceOptionSwitchViewStyle(pollAdvanceOptionSwitchViewStyle)
            .pollOptionsViewStyle(pollOptionsViewStyle)
            .pollDropdownViewStyle(pollDropdownViewStyle)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/create/style/LMFeedCreatePollOptionViewStyle.kt
================================================
package com.likeminds.feed.android.core.poll.create.style

import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.utils.LMFeedViewStyle
import com.likeminds.feed.android.core.utils.model.LMFeedPadding

/**
 * [LMFeedCreatePollOptionViewStyle] will help to customize the poll option while creating poll
 *
 * @property optionViewStyle [LMFeedEditTextStyle] to customize the option input view
 * @property removeOptionViewStyle [LMFeedIconStyle] to customize the remove option icon
 */
class LMFeedCreatePollOptionViewStyle private constructor(
    //option view style
    val optionViewStyle: LMFeedEditTextStyle,
    // remove option view style
    val removeOptionViewStyle: LMFeedIconStyle
) : LMFeedViewStyle {

    class Builder {
        private var optionViewStyle: LMFeedEditTextStyle = LMFeedEditTextStyle.Builder()
            .hintTextColor(R.color.lm_feed_black_20)
            .inputTextStyle(
                LMFeedTextStyle.Builder()
                    .textSize(R.dimen.lm_feed_text_large)
                    .textColor(R.color.lm_feed_black)
                    .fontResource(R.font.lm_feed_roboto)
                    .build()
            )
            .build()

        private var removeOptionViewStyle: LMFeedIconStyle = LMFeedIconStyle.Builder()
            .inActiveSrc(R.drawable.lm_feed_ic_remove_poll_option)
            .iconPadding(
                LMFeedPadding(
                    paddingLeft = R.dimen.lm_feed_regular_padding,
                    paddingTop = R.dimen.lm_feed_regular_padding,
                    paddingRight = R.dimen.lm_feed_regular_padding,
                    paddingBottom = R.dimen.lm_feed_regular_padding
                )
            )
            .build()

        fun optionViewStyle(optionViewStyle: LMFeedEditTextStyle) = apply {
            this.optionViewStyle = optionViewStyle
        }

        fun removeOptionViewStyle(removeOptionViewStyle: LMFeedIconStyle) = apply {
            this.removeOptionViewStyle = removeOptionViewStyle
        }

        fun build() = LMFeedCreatePollOptionViewStyle(optionViewStyle, removeOptionViewStyle)
    }

    fun toBuilder(): Builder {
        return Builder()
            .optionViewStyle(optionViewStyle)
            .removeOptionViewStyle(removeOptionViewStyle)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/create/view/LMFeedCreatePollActivity.kt
================================================
package com.likeminds.feed.android.core.poll.create.view

import android.content.Context
import android.content.Intent
import android.os.Bundle
import androidx.appcompat.app.AppCompatActivity
import com.likeminds.feed.android.core.databinding.LmFeedActivityPollResultsBinding
import com.likeminds.feed.android.core.poll.result.model.LMFeedPollViewData
import com.likeminds.feed.android.core.utils.LMFeedExtrasUtil

open class LMFeedCreatePollActivity : AppCompatActivity() {

    private lateinit var binding: LmFeedActivityPollResultsBinding
    private var poll: LMFeedPollViewData? = null

    companion object {
        const val TAG = "LMFeedCreatePollActivity"
        const val LM_FEED_CREATE_POLL_BUNDLE = "LM_FEED_CREATE_POLL_BUNDLE"
        const val LM_FEED_CREATE_POLL_EXTRAS = "LM_FEED_CREATE_POLL_EXTRAS"
        const val LM_FEED_CREATE_POLL_RESULT = "LM_FEED_CREATE_POLL_RESULT"

        @JvmStatic
        fun start(context: Context, poll: LMFeedPollViewData? = null) {
            val intent = Intent(context, LMFeedCreatePollActivity::class.java)
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_CREATE_POLL_EXTRAS, poll)
            intent.putExtra(LM_FEED_CREATE_POLL_BUNDLE, bundle)
            context.startActivity(intent)
        }

        @JvmStatic
        fun getIntent(context: Context, poll: LMFeedPollViewData? = null): Intent {
            val intent = Intent(context, LMFeedCreatePollActivity::class.java)
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_CREATE_POLL_EXTRAS, poll)
            intent.putExtra(LM_FEED_CREATE_POLL_BUNDLE, bundle)
            return intent
        }
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        //assign binding
        binding = LmFeedActivityPollResultsBinding.inflate(layoutInflater)
        setContentView(binding.root)

        //parse extras
        assignExtras()

        //inflate fragment
        inflateCreatePollFragment()
    }

    private fun assignExtras() {
        //get bundle
        val bundle = intent.getBundleExtra(LM_FEED_CREATE_POLL_BUNDLE)

        //assign to global variable
        if (bundle != null) {
            poll = LMFeedExtrasUtil.getParcelable(
                bundle,
                LM_FEED_CREATE_POLL_EXTRAS,
                LMFeedPollViewData::class.java
            )
        } else {
            poll = null
        }
    }

    private fun inflateCreatePollFragment(){
        val createPollFragment = LMFeedCreatePollFragment.getInstance(poll)

        supportFragmentManager.beginTransaction()
            .replace(binding.containerPollResults.id, createPollFragment)
            .commit()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/create/view/LMFeedCreatePollFragment.kt
================================================
package com.likeminds.feed.android.core.poll.create.view

import android.annotation.SuppressLint
import android.app.Activity
import android.content.Intent
import android.os.Bundle
import android.util.Log
import android.view.*
import androidx.core.widget.addTextChangedListener
import androidx.fragment.app.Fragment
import androidx.fragment.app.viewModels
import com.google.android.material.datepicker.*
import com.google.android.material.timepicker.MaterialTimePicker
import com.google.android.material.timepicker.TimeFormat
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedFragmentCreatePollBinding
import com.likeminds.feed.android.core.databinding.LmFeedItemCreatePollOptionBinding
import com.likeminds.feed.android.core.poll.create.adapter.LMFeedCreatePollOptionAdapterListener
import com.likeminds.feed.android.core.poll.create.adapter.LMFeedPollAdvancedOptionsAdapter
import com.likeminds.feed.android.core.poll.create.model.LMFeedCreatePollOptionViewData
import com.likeminds.feed.android.core.poll.create.view.LMFeedCreatePollActivity.Companion.LM_FEED_CREATE_POLL_RESULT
import com.likeminds.feed.android.core.poll.create.viewmodel.LMFeedCreatePollViewModel
import com.likeminds.feed.android.core.poll.result.model.LMFeedPollViewData
import com.likeminds.feed.android.core.ui.base.styles.setStyle
import com.likeminds.feed.android.core.ui.base.views.*
import com.likeminds.feed.android.core.ui.widgets.headerview.view.LMFeedHeaderView
import com.likeminds.feed.android.core.ui.widgets.post.postheaderview.view.LMFeedPostHeaderView
import com.likeminds.feed.android.core.utils.*
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.isValidIndex
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.coroutine.observeInLifecycle
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData
import com.likeminds.likemindsfeed.post.model.PollMultiSelectState
import com.likeminds.likemindsfeed.post.model.PollType
import kotlinx.coroutines.flow.onEach
import java.text.SimpleDateFormat
import java.util.*

open class LMFeedCreatePollFragment : Fragment(), LMFeedCreatePollOptionAdapterListener {

    private lateinit var binding: LmFeedFragmentCreatePollBinding
    private var poll: LMFeedPollViewData? = null

    private val viewModel: LMFeedCreatePollViewModel by viewModels()
    private var isAdvancedOptionsVisible = false

    companion object {
        const val TAG = "LMFeedCreatePollFragment"
        const val LM_FEED_CREATE_POLL_FRAGMENT_EXTRAS = "LM_FEED_CREATE_POLL_FRAGMENT_EXTRAS"
        const val DATE_PICKER_TAG = "DATE_PICKER"
        const val TIME_PICKER_TAG = "TIME_PICKER"
        const val MAX_OPTIONS = 10
        const val DATE_STRING_FORMAT = "dd-MM-yy HH:mm"

        @JvmStatic
        fun getInstance(poll: LMFeedPollViewData?): LMFeedCreatePollFragment {
            val fragment = LMFeedCreatePollFragment()
            val args = Bundle()
            args.putParcelable(LM_FEED_CREATE_POLL_FRAGMENT_EXTRAS, poll)
            fragment.arguments = args
            return fragment
        }
    }


    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        receiveExtras()
    }

    private fun receiveExtras() {
        if (arguments == null || arguments?.containsKey(LM_FEED_CREATE_POLL_FRAGMENT_EXTRAS) == false) {
            requireActivity().supportFragmentManager.popBackStack()
            return
        } else {
            poll = LMFeedExtrasUtil.getParcelable(
                arguments,
                LM_FEED_CREATE_POLL_FRAGMENT_EXTRAS,
                LMFeedPollViewData::class.java
            )
        }
    }

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? {
        binding = LmFeedFragmentCreatePollBinding.inflate(inflater, container, false)

        binding.apply {
            customizeCreatePollHeader(headerViewCreatePoll)
            customizeAuthorView(authorView)
            customizePollQuestion(tvPollQuestionTitle, etPollQuestion)
            customizePollExpiryTime(tvPollExpiryTitle, tvPollExpiryTime)
            customizePollOptions(tvPollOptionsTitle, tvAddOption)
            customizeAdvancedOptionTitle(tvAdvancedOptions)
            customizeAdvanceOptionSwitchOptions(
                switchAnonymousPoll,
                switchLiveResults,
                switchAddNewOptions
            )
        }

        return binding.root
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        initListeners()
        initUI()
        fetchInitialData()
        observeData()
    }

    //customize the header view of the fragment
    protected open fun customizeCreatePollHeader(headerView: LMFeedHeaderView) {
        headerView.apply {
            setStyle(LMFeedStyleTransformer.createPollFragmentViewStyle.headerViewStyle)

            setTitleText(getString(R.string.lm_feed_new_poll))
            setSubmitText(getString(R.string.lm_feed_done))
            setSubmitButtonEnabled(false)
        }
    }

    //customize the author view of the fragment
    protected open fun customizeAuthorView(authorView: LMFeedPostHeaderView) {
        authorView.apply {
            setStyle(LMFeedStyleTransformer.createPollFragmentViewStyle.authorViewStyle)
        }
    }

    //customize the poll question title and input box
    protected open fun customizePollQuestion(
        tvPollQuestionTitle: LMFeedTextView,
        etPollQuestion: LMFeedEditText
    ) {
        //customize the poll question title
        tvPollQuestionTitle.apply {
            setStyle(LMFeedStyleTransformer.createPollFragmentViewStyle.pollQuestionTitleViewStyle)
        }

        //customize the poll question edit text
        etPollQuestion.apply {
            setStyle(LMFeedStyleTransformer.createPollFragmentViewStyle.pollQuestionViewStyle)
        }
    }

    //customize the poll options title and add option text view
    protected open fun customizePollOptions(
        tvPollOptionsTitle: LMFeedTextView,
        tvAddOption: LMFeedTextView
    ) {
        tvPollOptionsTitle.apply {
            setStyle(LMFeedStyleTransformer.createPollFragmentViewStyle.pollOptionsTitleViewStyle)
        }

        tvAddOption.apply {
            setStyle(LMFeedStyleTransformer.createPollFragmentViewStyle.pollAddOptionViewStyle)
        }
    }

    //customize the poll expiry time title and text view
    protected open fun customizePollExpiryTime(
        tvPollExpiryTitle: LMFeedTextView,
        tvPollExpiryTime: LMFeedTextView
    ) {
        tvPollExpiryTitle.apply {
            setStyle(LMFeedStyleTransformer.createPollFragmentViewStyle.pollExpiryTimeTitleViewStyle)
        }

        tvPollExpiryTime.apply {
            setStyle(LMFeedStyleTransformer.createPollFragmentViewStyle.pollExpiryTimeViewStyle)
        }
    }

    //customize the advanced options title
    protected open fun customizeAdvancedOptionTitle(tvAdvancedOptions: LMFeedTextView) {
        tvAdvancedOptions.apply {
            setStyle(LMFeedStyleTransformer.createPollFragmentViewStyle.pollAdvanceOptionViewStyle)
        }
    }

    //customize the advance option switch options
    protected open fun customizeAdvanceOptionSwitchOptions(
        switchAnonymousPoll: LMFeedSwitch,
        switchLiveResults: LMFeedSwitch,
        switchAddNewOptions: LMFeedSwitch
    ) {
        switchAddNewOptions.apply {
            setStyle(LMFeedStyleTransformer.createPollFragmentViewStyle.pollAdvanceOptionSwitchViewStyle)
        }

        switchAnonymousPoll.apply {
            setStyle(LMFeedStyleTransformer.createPollFragmentViewStyle.pollAdvanceOptionSwitchViewStyle)
        }

        switchLiveResults.apply {
            setStyle(LMFeedStyleTransformer.createPollFragmentViewStyle.pollAdvanceOptionSwitchViewStyle)
        }
    }


    //initializes the UI
    private fun initUI() {
        initPollOptionListView()
        initPollQuestion()
        initPollExpiryTime()
        initPollAdvanceOptions()
        initPollMultiSelectStateSpinner()
        initPollMultiSelectNumberSpinner()
        initPollQuestionListeners()
        poll = null
    }

    //set the poll question text if exist
    private fun initPollQuestion() {
        poll?.let { poll ->
            binding.etPollQuestion.setText(poll.title)
            validatePoll()
        }
    }

    //initializes the poll option list view
    private fun initPollOptionListView() {
        binding.rvPollOptions.apply {
            //set the adapter
            setAdapter(this@LMFeedCreatePollFragment)

            //set the poll options
            val pollOptions = poll?.options?.map {
                LMFeedCreatePollOptionViewData.Builder()
                    .text(it.text)
                    .build()
            } ?: viewModel.createInitialPollOptionList()
            replaceOptions(pollOptions)

            //update the cache size
            updatePollItemCacheSize()
        }
    }

    //initializes the poll expiry time and set the date if exist
    private fun initPollExpiryTime() {
        poll?.let { poll ->
            //get simple date format
            val simpleDateFormat = SimpleDateFormat(
                DATE_STRING_FORMAT,
                Locale.getDefault()
            )
            //get the expiry time
            val expiryTime = poll.expiryTime

            //format the date
            val dateString = simpleDateFormat.format(Date(expiryTime))

            //set the text
            binding.tvPollExpiryTime.text = dateString
            viewModel.setPollExpiryTime(expiryTime)
            validatePoll()
        }
    }

    //initializes the poll advance options if exist
    private fun initPollAdvanceOptions() {
        poll?.let { poll ->
            if (poll.isAnonymous || poll.allowAddOption || poll.isDeferredPoll() || poll.isMultiChoicePoll()) {
                binding.apply {
                    expandAdvancedSettings()

                    switchAnonymousPoll.isChecked = poll.isAnonymous
                    switchLiveResults.isChecked = poll.isDeferredPoll()
                    switchAddNewOptions.isChecked = poll.allowAddOption
                    validatePoll()
                }
            }
        }
    }

    //initializes the poll multi select state spinner
    private fun initPollMultiSelectStateSpinner() {
        val stateList = viewModel.getMultipleOptionStateList()

        val spinnerAdapter = LMFeedPollAdvancedOptionsAdapter(
            requireContext(),
            stateList
        )

        var indexToSelect = 0
        poll?.let { poll ->
            val state = poll.multipleSelectState
            val stateValue = viewModel.getStringFromPollMultiSelectState(state)

            indexToSelect = stateList.indexOfFirst {
                it.equals(stateValue, true)
            }
        }

        binding.spinnerMultipleSelectState.apply {
            setAdapter(spinnerAdapter)
            setSelection(indexToSelect)
        }
    }

    //initializes the poll multi select poll option spinner
    private fun initPollMultiSelectNumberSpinner() {
        val spinnerAdapter = LMFeedPollAdvancedOptionsAdapter(
            requireContext(),
            viewModel.getMultipleOptionNoList(resources).subList(0, binding.rvPollOptions.itemCount)
        )

        //if (getSelectedPollMultiSelectNumber() > binding.rvPollOptions.itemCount) {
        //                0
        //            } else {
        //                getSelectedPollMultiSelectNumber() - 1
        //            }

        var indexToSelect = when {
            getSelectedPollMultiSelectNumber() == 0 -> 0
            getSelectedPollMultiSelectNumber() > binding.rvPollOptions.itemCount -> 0
            else -> getSelectedPollMultiSelectNumber() - 1
        }

        poll?.let { poll ->
            val number = poll.multipleSelectNumber
            indexToSelect = number - 1
        }

        binding.spinnerMultipleSelectNumber.apply {
            setAdapter(spinnerAdapter)
            setSelection(indexToSelect)
        }
    }

    @SuppressLint("ClickableViewAccessibility")
    private fun initPollQuestionListeners() {
        binding.etPollQuestion.apply {

            /**
             * As the scrollable edit text is inside a scroll view,
             * this touch listener handles the scrolling of the edit text.
             * When the edit text is touched and has focus then it disables scroll of scroll-view.
             */
            setOnTouchListener(View.OnTouchListener { v, event ->
                if (hasFocus()) {
                    v.parent.requestDisallowInterceptTouchEvent(true)
                    when (event.action and MotionEvent.ACTION_MASK) {
                        MotionEvent.ACTION_SCROLL -> {
                            v.parent.requestDisallowInterceptTouchEvent(false)
                            return@OnTouchListener true
                        }
                    }
                }
                false
            })

            addTextChangedListener {
                validatePoll()
            }
        }
    }

    //attaches the listeners
    private fun initListeners() {
        binding.apply {
            headerViewCreatePoll.setNavigationIconClickListener {
                onNavigationIconClicked()
            }

            tvAddOption.setOnClickListener {
                onAddPollOptionClicked()
            }

            tvPollExpiryTime.setOnClickListener {
                onPollExpiryTimeClicked()
            }

            tvAdvancedOptions.setOnClickListener {
                onAdvancedSettingsClicked()
            }

            headerViewCreatePoll.setSubmitButtonClickListener {
                onPollSubmitClicked()
            }
        }
    }

    //fetches the initial data
    private fun fetchInitialData() {
        viewModel.getLoggedInUser()
    }

    //observes the response data
    private fun observeData() {
        viewModel.loggedInUser.observe(viewLifecycleOwner) { user ->
            initAuthorView(user)
        }

        viewModel.poll.observe(viewLifecycleOwner) { poll ->
            if (poll != null) {
                val intent = Intent().apply {
                    putExtra(LM_FEED_CREATE_POLL_RESULT, poll)
                }
                requireActivity().setResult(Activity.RESULT_OK, intent)
                requireActivity().finish()
            }
        }

        viewModel.errorEvent.onEach { response ->
            when (response) {
                is LMFeedCreatePollViewModel.ErrorEvent.GetLoggedInUserError -> {
                    LMFeedViewUtils.showErrorMessageToast(
                        requireContext(),
                        response.message
                    )
                }

                is LMFeedCreatePollViewModel.ErrorEvent.CreatePollError -> {
                    LMFeedViewUtils.showErrorMessageToast(
                        requireContext(),
                        response.message
                    )
                }
            }
        }.observeInLifecycle(viewLifecycleOwner)
    }

    //initializes the author view
    private fun initAuthorView(user: LMFeedUserViewData) {
        binding.apply {
            nestedScrollCreatePoll.show()
            authorView.apply {
                setAuthorImage(user)
                setAuthorName(user.name)
            }
        }
    }

    //customize click of the navigation icon
    protected open fun onNavigationIconClicked() {
        requireActivity().onBackPressedDispatcher.onBackPressed()
    }

    //customize click of the add option text view
    protected open fun onAddPollOptionClicked() {
        binding.rvPollOptions.apply {
            addOption(itemCount, viewModel.getEmptyPollOption())
            updatePollItemCacheSize()
        }
        initPollMultiSelectNumberSpinner()
        validatePollOptionCount()
        validatePoll()
    }

    //customize the click of poll expiry time
    protected open fun onPollExpiryTimeClicked() {
        // calendar instance
        val calendar = Calendar.getInstance()

        //date formatter
        val simpleDateFormat = SimpleDateFormat(
            DATE_STRING_FORMAT,
            Locale.getDefault()
        )


        //date picker
        val datePicker = MaterialDatePicker.Builder.datePicker()
            .setTitleText(getString(R.string.lm_feed_select_poll_expiry_time))
            .setSelection(MaterialDatePicker.todayInUtcMilliseconds())
            .setCalendarConstraints(
                CalendarConstraints.Builder()
                    .setValidator(DateValidatorPointForward.now())
                    .build()
            )
            .build()

        //time picker
        val timePicker = MaterialTimePicker.Builder()
            .setTimeFormat(TimeFormat.CLOCK_12H)
            .setTitleText(getString(R.string.lm_feed_select_poll_expiry_time))
            .build()

        //show the date picker
        datePicker.show(requireActivity().supportFragmentManager, DATE_PICKER_TAG)

        //date picker listener
        datePicker.addOnPositiveButtonClickListener { epoch ->
            calendar.timeInMillis = epoch
            timePicker.show(requireActivity().supportFragmentManager, TIME_PICKER_TAG)
        }

        //time picker listener
        timePicker.addOnPositiveButtonClickListener {
            calendar.set(Calendar.HOUR_OF_DAY, timePicker.hour)
            calendar.set(Calendar.MINUTE, timePicker.minute)

            val dateString = simpleDateFormat.format(calendar.time)

            if (calendar.time.after(Date())) {
                binding.tvPollExpiryTime.text = dateString
                viewModel.setPollExpiryTime(calendar.timeInMillis)
                validatePoll()
            } else {
                LMFeedViewUtils.showErrorMessageToast(
                    requireContext(),
                    getString(R.string.lm_feed_error_invalid_time)
                )
            }
        }
    }

    //customize the click of advanced options
    protected open fun onAdvancedSettingsClicked() {
        if (isAdvancedOptionsVisible) {
            collapseAdvancedSettings()
        } else {
            expandAdvancedSettings()
        }
    }

    //collapse the advanced options
    private fun collapseAdvancedSettings() {
        binding.apply {
            isAdvancedOptionsVisible = false
            tvAdvancedOptions.setCompoundDrawablesWithIntrinsicBounds(
                0,
                0,
                R.drawable.lm_feed_ic_arrow_edge_down,
                0
            )
            LMFeedAnimationUtils.collapseView(clAdvancedOptions)

        }
    }

    //expand the advanced options
    private fun expandAdvancedSettings() {
        binding.apply {
            isAdvancedOptionsVisible = true
            tvAdvancedOptions.setCompoundDrawablesWithIntrinsicBounds(
                0,
                0,
                R.drawable.lm_feed_ic_arrow_edge_up,
                0
            )
            LMFeedAnimationUtils.expandView(clAdvancedOptions)
        }
    }

    //customize the click of submit button
    protected open fun onPollSubmitClicked() {
        val pollQuestion = binding.etPollQuestion.text?.trim().toString()
        val pollType = getPollType()
        val isPollAnonymous = isAnonymousPoll()
        val isPollAllowAddOption = isAddOptionAllowed()
        val pollMultiSelectState = getSelectedPollMultiSelectState()
        val pollMultiSelectNumber = getSelectedPollMultiSelectNumber()

        LMFeedViewUtils.hideKeyboard(binding.root)
        viewModel.createPoll(
            pollQuestion,
            pollMultiSelectState,
            pollType,
            pollMultiSelectNumber,
            isPollAnonymous,
            isPollAllowAddOption,
            isAdvancedOptionsVisible
        )
    }

    //get poll type
    private fun getPollType(): PollType {
        return if (binding.switchLiveResults.isChecked) {
            PollType.DEFERRED
        } else {
            PollType.INSTANT
        }
    }

    //get is poll anonymous or not
    private fun isAnonymousPoll(): Boolean {
        return binding.switchAnonymousPoll.isChecked
    }

    //get is add option allowed or not
    private fun isAddOptionAllowed(): Boolean {
        return binding.switchAddNewOptions.isChecked
    }

    //get selected poll multi select state
    private fun getSelectedPollMultiSelectState(): PollMultiSelectState {
        val selectedValue = binding.spinnerMultipleSelectState.selectedItem.toString()
        return viewModel.getPollMultiSelectStateValue(selectedValue)
    }

    //get selected poll multi select number
    private fun getSelectedPollMultiSelectNumber(): Int {
        return binding.spinnerMultipleSelectNumber.selectedItemPosition + 1
    }


    override fun onPollOptionRemoved(createPollOptionViewData: LMFeedCreatePollOptionViewData) {
        val index = binding.rvPollOptions.getAllOptions().indexOf(createPollOptionViewData)
        if (index.isValidIndex()) {
            binding.rvPollOptions.removeOption(index)
            viewModel.removeBindingFromMap(index)
            validatePollOptionCount()
            validatePoll()
            initPollMultiSelectNumberSpinner()
        }
    }

    override fun onPollOptionBinded(position: Int, binding: LmFeedItemCreatePollOptionBinding) {
        viewModel.addBindingToMap(position, binding)
        validatePollOptionCount()
    }

    override fun onPollOptionFilled() {
        validatePoll()
    }

    //validates the poll option count and hide/show add option text view
    private fun validatePollOptionCount() {
        val optionCount = binding.rvPollOptions.itemCount
        if (optionCount == MAX_OPTIONS) {
            binding.tvAddOption.hide()
        } else {
            binding.tvAddOption.show()
        }
    }

    //validates the poll and enables/disables submit button
    private fun validatePoll() {
        val pollOptions = viewModel.getPollOptionsFromBindingMap()

        //get poll question
        val pollQuestion = binding.etPollQuestion.text.toString()

        //get poll expiry time
        val pollExpiryTime = viewModel.pollExpiryTime


        //validate the poll and enable/disable submit button
        if (pollQuestion.isNotEmpty() && pollOptions.size >= 2 && pollExpiryTime != null) {
            binding.headerViewCreatePoll.setSubmitButtonEnabled(true)
        } else {
            binding.headerViewCreatePoll.setSubmitButtonEnabled(false)
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/create/view/LMFeedCreatePollOptionListView.kt
================================================
package com.likeminds.feed.android.core.poll.create.view

import android.content.Context
import android.util.AttributeSet
import androidx.recyclerview.widget.LinearLayoutManager
import androidx.recyclerview.widget.RecyclerView
import com.likeminds.feed.android.core.poll.create.adapter.LMFeedCreatePollOptionAdapter
import com.likeminds.feed.android.core.poll.create.adapter.LMFeedCreatePollOptionAdapterListener
import com.likeminds.feed.android.core.poll.create.model.LMFeedCreatePollOptionViewData

class LMFeedCreatePollOptionListView @JvmOverloads constructor(
    context: Context,
    attrs: AttributeSet? = null,
    defStyleAttr: Int = 0
) : RecyclerView(context, attrs, defStyleAttr) {

    private lateinit var mAdapter: LMFeedCreatePollOptionAdapter

    val itemCount: Int
        get() = mAdapter.itemCount

    init {
        layoutManager = LinearLayoutManager(context)
    }

    //set adapter
    fun setAdapter(listener: LMFeedCreatePollOptionAdapterListener) {
        mAdapter = LMFeedCreatePollOptionAdapter(listener)
        adapter = mAdapter
    }

    //get all options
    fun getAllOptions(): List<LMFeedCreatePollOptionViewData> {
        return mAdapter.items().map {
            it as LMFeedCreatePollOptionViewData
        }
    }

    //replace the whole list in adapter
    fun replaceOptions(options: List<LMFeedCreatePollOptionViewData>) {
        mAdapter.replace(options)
    }

    //remove option by index
    fun removeOption(index: Int) {
        mAdapter.removeIndex(index)
    }

    //add option
    fun addOption(position: Int, option: LMFeedCreatePollOptionViewData) {
        mAdapter.add(position, option)
    }

    //update the cache size
    fun updatePollItemCacheSize() {
        this.setItemViewCacheSize(itemCount)
    }

}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/create/viewmodel/LMFeedCreatePollViewModel.kt
================================================
package com.likeminds.feed.android.core.poll.create.viewmodel

import android.content.res.Resources
import androidx.lifecycle.*
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedItemCreatePollOptionBinding
import com.likeminds.feed.android.core.poll.create.model.LMFeedCreatePollOptionViewData
import com.likeminds.feed.android.core.poll.result.model.LMFeedPollOptionViewData
import com.likeminds.feed.android.core.poll.result.model.LMFeedPollViewData
import com.likeminds.feed.android.core.utils.LMFeedViewDataConvertor
import com.likeminds.feed.android.core.utils.coroutine.launchIO
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData
import com.likeminds.likemindsfeed.LMFeedClient
import com.likeminds.likemindsfeed.post.model.PollMultiSelectState
import com.likeminds.likemindsfeed.post.model.PollType
import kotlinx.coroutines.channels.Channel
import kotlinx.coroutines.flow.receiveAsFlow
import java.util.Date

class LMFeedCreatePollViewModel : ViewModel() {

    val lmFeedClient = LMFeedClient.getInstance()

    var pollExpiryTime: Long? = null
        private set

    private val pollOptionItemBindingMap by lazy {
        LinkedHashMap<Int, LmFeedItemCreatePollOptionBinding>()
    }

    private val _loggedInUser by lazy { MutableLiveData<LMFeedUserViewData>() }
    val loggedInUser: LiveData<LMFeedUserViewData> by lazy { _loggedInUser }

    private val _poll by lazy { MutableLiveData<LMFeedPollViewData>() }
    val poll: LiveData<LMFeedPollViewData> by lazy { _poll }

    private val errorEventChannel = Channel<ErrorEvent>(Channel.BUFFERED)
    val errorEvent = errorEventChannel.receiveAsFlow()

    sealed class ErrorEvent {
        data class GetLoggedInUserError(val message: String?) : ErrorEvent()
        data class CreatePollError(val message: String?) : ErrorEvent()
    }

    companion object {
        const val MULTIPLE_OPTION_STATE_MAX = "At max"
        const val MULTIPLE_OPTION_STATE_EXACTLY = "Exactly"
        const val MULTIPLE_OPTION_STATE_LEAST = "At least"
    }

    // Get the logged in user
    fun getLoggedInUser() {
        viewModelScope.launchIO {
            val response = lmFeedClient.getLoggedInUserWithRights()
            if (response.success) {
                // Get the logged in user
                val loggedInUser = response.data?.user

                // Convert the user to view data
                val userViewData = LMFeedViewDataConvertor.convertUser(loggedInUser)

                // Set the view data to send to the UI
                _loggedInUser.postValue(userViewData)
            } else {
                // Send the error event
                errorEventChannel.send(ErrorEvent.GetLoggedInUserError(response.errorMessage))
            }
        }
    }

    // set the poll expiry time
    fun setPollExpiryTime(expiryTime: Long) {
        pollExpiryTime = expiryTime
    }

    //create the initial poll option list and clear the binding map
    fun createInitialPollOptionList(): MutableList<LMFeedCreatePollOptionViewData> {
        // Clear the map
        pollOptionItemBindingMap.clear()

        // create the list
        return mutableListOf(
            getEmptyPollOption(),
            getEmptyPollOption(),
        )
    }

    //create a empty poll option view data
    fun getEmptyPollOption(): LMFeedCreatePollOptionViewData {
        return LMFeedCreatePollOptionViewData.Builder().build()
    }

    //add the binding to the map
    fun addBindingToMap(position: Int, binding: LmFeedItemCreatePollOptionBinding) {
        pollOptionItemBindingMap[position] = binding
    }

    //remove the binding from the map
    fun removeBindingFromMap(position: Int) {
        pollOptionItemBindingMap.apply {
            if (containsKey(position)) {
                remove(position)
            }

            keys.filter {
                it > position
            }.forEach { position ->
                val oldItem = pollOptionItemBindingMap.remove(position)
                oldItem?.let { binding ->
                    pollOptionItemBindingMap[position - 1] = binding
                }
            }
        }
    }

    //get the poll options from the binding map
    fun getPollOptionsFromBindingMap(): ArrayList<String> {
        val pollOptions = ArrayList<String>()

        //get poll options where option is entered
        pollOptionItemBindingMap.forEach { entry ->
            val binding = entry.value
            val pollOption = binding.etOption.text.toString().trim()
            if (pollOption.isNotEmpty()) {
                pollOptions.add(pollOption)
            }
        }

        return pollOptions
    }

    //return multi state option list
    fun getMultipleOptionStateList(): ArrayList<String> {
        return arrayListOf(
            MULTIPLE_OPTION_STATE_EXACTLY,
            MULTIPLE_OPTION_STATE_MAX,
            MULTIPLE_OPTION_STATE_LEAST
        )
    }

    //return multi option list
    fun getMultipleOptionNoList(resources: Resources): ArrayList<String> {
        return resources.getStringArray(R.array.lm_feed_options_numbers).toCollection(ArrayList())
    }

    //create the poll
    fun createPoll(
        pollQuestion: String,
        pollMultiSelectState: PollMultiSelectState,
        pollType: PollType,
        pollMultiSelectNumber: Int,
        isPollAnonymous: Boolean,
        isPollAllowAddOption: Boolean,
        isAdvancedOptionsVisible: Boolean
    ) {
        viewModelScope.launchIO {
            val pollOptions = getPollOptionsFromBindingMap()

            if (pollQuestion.isEmpty()) {
                errorEventChannel.send(ErrorEvent.CreatePollError("Poll question cannot be empty"))
                return@launchIO
            }

            if (pollExpiryTime == null) {
                errorEventChannel.send(ErrorEvent.CreatePollError("Poll expiry time cannot be empty"))
                return@launchIO
            } else if (Date(pollExpiryTime ?: 0L).before(Date())) {
                errorEventChannel.send(ErrorEvent.CreatePollError("Poll expiry time cannot be in the past"))
                return@launchIO
            }

            val containsSimilarText = pollOptions.groupBy {
                it
            }.values.firstOrNull {
                it.size > 1
            } != null

            if (containsSimilarText) {
                errorEventChannel.send(ErrorEvent.CreatePollError("Poll options cannot contain similar text"))
                return@launchIO
            }

            if (isAdvancedOptionsVisible) {
                when (pollMultiSelectState) {
                    PollMultiSelectState.EXACTLY, PollMultiSelectState.AT_LEAST -> {
                        if (pollOptions.size < pollMultiSelectNumber) {
                            errorEventChannel.send(ErrorEvent.CreatePollError("Poll options cannot be less than $pollMultiSelectNumber"))
                            return@launchIO
                        }
                    }

                    PollMultiSelectState.AT_MAX -> {
                        //do nothing
                    }
                }
            }

            val optionViewData = pollOptions.map { option ->
                LMFeedPollOptionViewData.Builder()
                    .text(option)
                    .build()
            }

            val pollViewData = LMFeedPollViewData.Builder()
                .title(pollQuestion)
                .options(optionViewData)
                .expiryTime(pollExpiryTime ?: 0L)
                .isAnonymous(isPollAnonymous)
                .allowAddOption(isPollAllowAddOption)
                .multipleSelectState(pollMultiSelectState)
                .multipleSelectNumber(pollMultiSelectNumber)
                .pollType(pollType)
                .build()

            _poll.postValue(pollViewData)
        }
    }

    //return [PollMultiSelectState] from string
    fun getPollMultiSelectStateValue(selectedValue: String): PollMultiSelectState {
        return when (selectedValue) {
            MULTIPLE_OPTION_STATE_MAX -> PollMultiSelectState.AT_MAX
            MULTIPLE_OPTION_STATE_LEAST -> PollMultiSelectState.AT_LEAST
            MULTIPLE_OPTION_STATE_EXACTLY -> PollMultiSelectState.EXACTLY
            else -> PollMultiSelectState.EXACTLY
        }
    }

    //return string from [PollMultiSelectState]
    fun getStringFromPollMultiSelectState(pollMultiSelectState: PollMultiSelectState): String {
        return when (pollMultiSelectState) {
            PollMultiSelectState.AT_MAX -> MULTIPLE_OPTION_STATE_MAX
            PollMultiSelectState.AT_LEAST -> MULTIPLE_OPTION_STATE_LEAST
            PollMultiSelectState.EXACTLY -> MULTIPLE_OPTION_STATE_EXACTLY
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/result/adapter/LMFeedPollResultsTabAdapter.kt
================================================
package com.likeminds.feed.android.core.poll.result.adapter

import androidx.fragment.app.Fragment
import androidx.viewpager2.adapter.FragmentStateAdapter
import com.likeminds.feed.android.core.poll.result.model.LMFeedPollOptionViewData
import com.likeminds.feed.android.core.poll.result.model.LMFeedPollResultsTabExtras
import com.likeminds.feed.android.core.poll.result.view.LMFeedPollResultsTabFragment

class LMFeedPollResultsTabAdapter(
    fragment: Fragment,
    private val pollId: String,
    private val pollOptions: List<LMFeedPollOptionViewData>
) : FragmentStateAdapter(fragment) {

    override fun getItemCount(): Int {
        return pollOptions.size
    }

    override fun createFragment(position: Int): Fragment {
        val pollResultsTabExtras = LMFeedPollResultsTabExtras.Builder()
            .pollId(pollId)
            .pollOptionId(pollOptions[position].id)
            .build()

        return LMFeedPollResultsTabFragment.addFragment(pollResultsTabExtras)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/result/adapter/LMFeedPollVoteResultsAdapter.kt
================================================
package com.likeminds.feed.android.core.poll.result.adapter

import com.likeminds.feed.android.core.poll.result.adapter.databinder.LMFeedItemPollVoteResultsViewDataBinder
import com.likeminds.feed.android.core.utils.base.*
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData

class LMFeedPollVoteResultsAdapter(
    private val listener: LMFeedPollVoteResultsAdapterListener
) : LMFeedBaseRecyclerAdapter<LMFeedBaseViewType>() {

    init {
        initViewDataBinders()
    }

    override fun getSupportedViewDataBinder(): MutableList<LMFeedViewDataBinder<*, *>> {
        val viewDataBinders = ArrayList<LMFeedViewDataBinder<*, *>>(1)

        val itemPollResultViewDataBinder = LMFeedItemPollVoteResultsViewDataBinder(listener)
        viewDataBinders.add(itemPollResultViewDataBinder)

        return viewDataBinders
    }
}

interface LMFeedPollVoteResultsAdapterListener {
    fun onPollVoteResultItemClicked(position: Int, pollVoteResultItem: LMFeedUserViewData) {
        //triggered when a poll result item is clicked
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/result/adapter/databinder/LMFeedItemPollVoteResultsViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.poll.result.adapter.databinder

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.feed.android.core.databinding.LmFeedItemPollVoteResultsBinding
import com.likeminds.feed.android.core.poll.result.adapter.LMFeedPollVoteResultsAdapterListener
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_USER
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData

class LMFeedItemPollVoteResultsViewDataBinder(
    private val listener: LMFeedPollVoteResultsAdapterListener
) : LMFeedViewDataBinder<LmFeedItemPollVoteResultsBinding, LMFeedUserViewData>() {

    override val viewType: Int
        get() = ITEM_USER

    override fun createBinder(parent: ViewGroup): LmFeedItemPollVoteResultsBinding {
        val binding = LmFeedItemPollVoteResultsBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.userView.setStyle(LMFeedStyleTransformer.pollResultsFragmentViewStyle.userViewStyle)
        setClickListeners(binding)

        return binding
    }

    override fun bindData(
        binding: LmFeedItemPollVoteResultsBinding,
        data: LMFeedUserViewData,
        position: Int
    ) {
        binding.apply {
            //set data to the binding
            this.position = position
            userVotedViewData = data

            userView.setUserImage(data)
            userView.setUserName(data.name)
            userView.setUserTitle(data.customTitle)
        }
    }

    private fun setClickListeners(binding: LmFeedItemPollVoteResultsBinding) {
        binding.apply {
            root.setOnClickListener {
                val userVotedData = userVotedViewData ?: return@setOnClickListener
                listener.onPollVoteResultItemClicked(position, userVotedData)
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/result/model/LMFeedPollOptionViewData.kt
================================================
package com.likeminds.feed.android.core.poll.result.model

import android.os.Parcelable
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.base.model.ITEM_POST_POLL_OPTION
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData
import kotlinx.parcelize.Parcelize

@Parcelize
class LMFeedPollOptionViewData private constructor(
    val id: String,
    val pollId: String,
    val isSelected: Boolean,
    val percentage: Float,
    val text: String,
    val voteCount: Int,
    val addedByUser: LMFeedUserViewData,
    val toShowResults: Boolean,
    val allowAddOption: Boolean,
    val isInstantPoll: Boolean,
    val isMultiChoicePoll: Boolean,
    val hasPollEnded: Boolean
) : Parcelable, LMFeedBaseViewType {

    override val viewType: Int
        get() = ITEM_POST_POLL_OPTION

    class Builder {
        private var id: String = ""
        private var pollId: String = ""
        private var isSelected: Boolean = false
        private var percentage: Float = 0f
        private var text: String = ""
        private var voteCount: Int = 0
        private var addedByUser: LMFeedUserViewData = LMFeedUserViewData.Builder().build()
        private var toShowResults: Boolean = false
        private var allowAddOption: Boolean = false
        private var isInstantPoll: Boolean = false
        private var isMultiChoicePoll: Boolean = false
        private var hasPollEnded: Boolean = false

        fun id(id: String) = apply {
            this.id = id
        }

        fun pollId(pollId: String) = apply {
            this.pollId = pollId
        }

        fun isSelected(isSelected: Boolean) = apply {
            this.isSelected = isSelected
        }

        fun percentage(percentage: Float) = apply {
            this.percentage = percentage
        }

        fun text(text: String) = apply {
            this.text = text
        }

        fun voteCount(voteCount: Int) = apply {
            this.voteCount = voteCount
        }

        fun addedByUser(addedByUser: LMFeedUserViewData) = apply {
            this.addedByUser = addedByUser
        }

        fun toShowResults(toShowResults: Boolean) = apply {
            this.toShowResults = toShowResults
        }

        fun allowAddOption(allowAddOption: Boolean) = apply {
            this.allowAddOption = allowAddOption
        }

        fun isInstantPoll(isInstantPoll: Boolean) = apply {
            this.isInstantPoll = isInstantPoll
        }

        fun isMultiChoicePoll(isMultiChoicePoll: Boolean) = apply {
            this.isMultiChoicePoll = isMultiChoicePoll
        }

        fun hasPollEnded(hasPollEnded: Boolean) = apply {
            this.hasPollEnded = hasPollEnded
        }

        fun build() = LMFeedPollOptionViewData(
            id,
            pollId,
            isSelected,
            percentage,
            text,
            voteCount,
            addedByUser,
            toShowResults,
            allowAddOption,
            isInstantPoll,
            isMultiChoicePoll,
            hasPollEnded
        )
    }

    override fun toString(): String {
        return buildString {
            append("LMFeedPollOptionViewData(id='$id'\n")
            append("isSelected=$isSelected\n")
            append("percentage=$percentage\n")
            append("text='$text'\n")
            append("voteCount=$voteCount\n")
            append("addedByUser=$addedByUser\n")
            append("toShowResults=$toShowResults\n")
            append("allowAddOption=$allowAddOption)")
        }
    }

    fun toBuilder(): Builder {
        return Builder().id(id)
            .pollId(pollId)
            .isSelected(isSelected)
            .percentage(percentage)
            .text(text)
            .voteCount(voteCount)
            .addedByUser(addedByUser)
            .toShowResults(toShowResults)
            .allowAddOption(allowAddOption)
            .isInstantPoll(isInstantPoll)
            .isMultiChoicePoll(isMultiChoicePoll)
            .hasPollEnded(hasPollEnded)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/result/model/LMFeedPollResultsExtras.kt
================================================
package com.likeminds.feed.android.core.poll.result.model

import android.os.Parcelable
import kotlinx.parcelize.Parcelize

@Parcelize
class LMFeedPollResultsExtras private constructor(
    val pollId: String,
    val pollOptions: List<LMFeedPollOptionViewData>,
    val selectedPollOptionId: String?,
) : Parcelable {

    class Builder {
        private var pollId: String = ""
        private var pollOptions: List<LMFeedPollOptionViewData> = emptyList()
        private var selectedPollOptionId: String? = null

        fun pollId(pollId: String) = apply {
            this.pollId = pollId
        }

        fun pollOptions(pollOptions: List<LMFeedPollOptionViewData>) = apply {
            this.pollOptions = pollOptions
        }

        fun selectedPollOptionId(selectedPollOptionId: String?) = apply {
            this.selectedPollOptionId = selectedPollOptionId
        }

        fun build() = LMFeedPollResultsExtras(
            pollId,
            pollOptions,
            selectedPollOptionId
        )
    }

    fun toBuilder(): Builder {
        return Builder().pollId(pollId)
            .pollOptions(pollOptions)
            .selectedPollOptionId(selectedPollOptionId)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/result/model/LMFeedPollResultsTabExtras.kt
================================================
package com.likeminds.feed.android.core.poll.result.model

import android.os.Parcelable
import kotlinx.parcelize.Parcelize

@Parcelize
class LMFeedPollResultsTabExtras private constructor(
    val pollId: String,
    val pollOptionId: String
) : Parcelable {

    class Builder {
        private var pollId: String = ""
        private var pollOptionId: String = ""

        fun pollId(pollId: String) = apply {
            this.pollId = pollId
        }

        fun pollOptionId(pollOptionId: String) = apply {
            this.pollOptionId = pollOptionId
        }

        fun build() = LMFeedPollResultsTabExtras(pollId, pollOptionId)
    }

    fun toBuilder(): Builder {
        return Builder().pollId(pollId)
            .pollOptionId(pollOptionId)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/result/model/LMFeedPollViewData.kt
================================================
package com.likeminds.feed.android.core.poll.result.model

import android.content.Context
import android.os.Parcelable
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.utils.LMFeedTimeUtil
import com.likeminds.likemindsfeed.post.model.PollMultiSelectState
import com.likeminds.likemindsfeed.post.model.PollType
import kotlinx.parcelize.Parcelize

@Parcelize
class LMFeedPollViewData private constructor(
    val id: String,
    val title: String,
    val pollAnswerText: String,
    val toShowResults: Boolean,
    val options: List<LMFeedPollOptionViewData>,
    val expiryTime: Long,
    val isAnonymous: Boolean,
    val allowAddOption: Boolean,
    val multipleSelectState: PollMultiSelectState,
    val multipleSelectNumber: Int,
    val pollType: PollType,
    val isPollSubmitted: Boolean,
) : Parcelable {

    //whether poll is instant
    fun isInstantPoll() = (pollType == PollType.INSTANT)

    //whether poll is deferred
    fun isDeferredPoll() = (pollType == PollType.DEFERRED)

    //whether poll has ended
    fun hasPollEnded() = (expiryTime - System.currentTimeMillis()) <= 0

    //whether poll is multi choice
    fun isMultiChoicePoll() =
        !(multipleSelectState == PollMultiSelectState.EXACTLY && multipleSelectNumber == 1)

    //whether poll has allowed to add option in case of instant poll
    fun isAddOptionAllowedForInstantPoll() = (allowAddOption && isInstantPoll() && !isPollSubmitted)

    //whether poll has allowed to add option in case of deferred poll
    fun isAddOptionAllowedForDeferredPoll() = (allowAddOption && isDeferredPoll())

    //get time left in poll in relative from now
    fun getTimeLeftInPoll(context: Context): String = if (hasPollEnded()) {
        context.getString(R.string.lm_feed_poll_ended)
    } else {
        context.getString(
            R.string.lm_feed_poll_vote_time_left,
            LMFeedTimeUtil.getRelativeExpiryTimeInString(expiryTime)
        )
    }

    //get expire on date
    fun getExpireOnDate(context: Context): String = if (hasPollEnded()) {
        context.getString(R.string.lm_feed_poll_ended)
    } else {
        context.getString(
            R.string.lm_feed_expires_on,
            LMFeedTimeUtil.getDateFormat(expiryTime)
        )
    }

    fun getPollSelectionText(context: Context): String? =
        if (multipleSelectState == PollMultiSelectState.EXACTLY && multipleSelectNumber == 1) {
            null
        } else {
            when (multipleSelectState) {
                PollMultiSelectState.EXACTLY -> {
                    context.resources.getQuantityString(
                        R.plurals.lm_feed_select_exactly_d_options,
                        multipleSelectNumber,
                        multipleSelectNumber
                    )
                }

                PollMultiSelectState.AT_MAX -> {
                    context.resources.getQuantityString(
                        R.plurals.lm_feed_select_at_most_d_options,
                        multipleSelectNumber,
                        multipleSelectNumber
                    )
                }

                PollMultiSelectState.AT_LEAST -> {
                    context.resources.getQuantityString(
                        R.plurals.lm_feed_select_at_least_d_options,
                        multipleSelectNumber,
                        multipleSelectNumber
                    )
                }
            }
        }

    class Builder {
        private var id: String = ""
        private var title: String = ""
        private var pollAnswerText: String = ""
        private var toShowResults: Boolean = false
        private var options: List<LMFeedPollOptionViewData> = emptyList()
        private var expiryTime: Long = 0L
        private var isAnonymous: Boolean = false
        private var allowAddOption: Boolean = false
        private var multipleSelectState: PollMultiSelectState = PollMultiSelectState.EXACTLY
        private var multipleSelectNumber: Int = 0
        private var pollType: PollType = PollType.INSTANT
        private var isPollSubmitted: Boolean = false

        fun id(id: String) = apply {
            this.id = id
        }

        fun title(title: String) = apply {
            this.title = title
        }

        fun pollAnswerText(pollAnswerText: String) = apply {
            this.pollAnswerText = pollAnswerText
        }

        fun toShowResults(toShowResults: Boolean) = apply {
            this.toShowResults = toShowResults
        }

        fun options(options: List<LMFeedPollOptionViewData>) = apply {
            this.options = options
        }

        fun expiryTime(expiryTime: Long) = apply {
            this.expiryTime = expiryTime
        }

        fun isAnonymous(isAnonymous: Boolean) = apply {
            this.isAnonymous = isAnonymous
        }

        fun allowAddOption(allowAddOption: Boolean) = apply {
            this.allowAddOption = allowAddOption
        }

        fun multipleSelectState(multipleSelectState: PollMultiSelectState) = apply {
            this.multipleSelectState = multipleSelectState
        }

        fun multipleSelectNumber(multipleSelectNumber: Int) = apply {
            this.multipleSelectNumber = multipleSelectNumber
        }

        fun pollType(pollType: PollType) = apply {
            this.pollType = pollType
        }

        fun isPollSubmitted(isPollSubmitted: Boolean) = apply {
            this.isPollSubmitted = isPollSubmitted
        }

        fun build() = LMFeedPollViewData(
            id,
            title,
            pollAnswerText,
            toShowResults,
            options,
            expiryTime,
            isAnonymous,
            allowAddOption,
            multipleSelectState,
            multipleSelectNumber,
            pollType,
            isPollSubmitted
        )
    }

    fun toBuilder(): Builder {
        return Builder().id(id)
            .title(title)
            .pollAnswerText(pollAnswerText)
            .toShowResults(toShowResults)
            .options(options)
            .expiryTime(expiryTime)
            .isAnonymous(isAnonymous)
            .allowAddOption(allowAddOption)
            .multipleSelectState(multipleSelectState)
            .multipleSelectNumber(multipleSelectNumber)
            .pollType(pollType)
            .isPollSubmitted(isPollSubmitted)
    }

    override fun toString(): String {
        return buildString {
            append("LMFeedPollViewData(id='$id'\n")
            append("title='$title'\n")
            append("pollAnswerText='$pollAnswerText'\n")
            append("toShowResults=$toShowResults,\n")
            append("options=$options,\n")
            append("expiryTime=$expiryTime,\n")
            append("isAnonymous=$isAnonymous,\n")
            append("allowAddOption=$allowAddOption,\n")
            append("multipleSelectState=$multipleSelectState,\n")
            append("multipleSelectNumber=$multipleSelectNumber,\n")
            append("pollType=$pollType,\n")
            append("isPollSubmitted=$isPollSubmitted)")
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/result/model/LMFeedPollVoteViewData.kt
================================================
package com.likeminds.feed.android.core.poll.result.model

import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData

class LMFeedPollVoteViewData private constructor(
    val id: String,
    val usersVoted: List<LMFeedUserViewData>
) {

    class Builder {
        private var id: String = ""
        private var usersVoted: List<LMFeedUserViewData> = emptyList()

        fun id(id: String) = apply {
            this.id = id
        }

        fun usersVoted(usersVoted: List<LMFeedUserViewData>) = apply {
            this.usersVoted = usersVoted
        }

        fun build() = LMFeedPollVoteViewData(id, usersVoted)
    }

    fun toBuilder(): Builder {
        return Builder().id(id).usersVoted(usersVoted)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/result/style/LMFeedPollResultsFragmentViewStyle.kt
================================================
package com.likeminds.feed.android.core.poll.result.style

import android.graphics.Typeface
import android.text.TextUtils
import androidx.annotation.ColorRes
import androidx.annotation.DimenRes
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.widgets.headerview.style.LMFeedHeaderViewStyle
import com.likeminds.feed.android.core.ui.widgets.noentitylayout.style.LMFeedNoEntityLayoutViewStyle
import com.likeminds.feed.android.core.ui.widgets.user.style.LMFeedUserViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle
import com.likeminds.feed.android.core.utils.model.LMFeedPadding

/**
 * [LMFeedPollResultsFragmentViewStyle] helps you to customize the poll results fragment [LMFeedPollResultsFragment]
 * @property headerViewStyle : [LMFeedHeaderViewStyle] this will help you to customize the header view in the poll results fragment
 * @property pollResultsTabElevation: [Int] should be in format of [DimenRes] this will help you to customize the elevation of the poll results tab layout | Default value =  [R.dimen.lm_feed_elevation_extra_small]
 * @property noResultsLayoutViewStyle : [LMFeedNoEntityLayoutViewStyle] this will help you to customize the no poll results layout in the poll results fragment
 * @property selectedPollResultsTabColor : [Int] should be in format of [ColorRes] this will help you to customize the selected poll results tab color in the poll results fragment | Default value = [LMFeedAppearance.getButtonColor]
 * @property unselectedPollResultsTabColor :  [Int] should be in format of [ColorRes] this will help you to customize the unselected poll results tab color in the poll results fragment | Default value = [R.color.lm_feed_grey]
 * @property pollResultsTabTextViewStyle :  [LMFeedTextStyle] this will help you to customize the text view of the poll vote results tab in the poll results fragment
 * @property userViewStyle: [LMFeedUserViewStyle] this will help you to customize the user view in the poll results fragment
 * @property backgroundColor: [Int] should be in format of [ColorRes] this will help you to customize the background color of the poll results fragment | Default value = [null]
 * */
class LMFeedPollResultsFragmentViewStyle private constructor(
    //header view style
    val headerViewStyle: LMFeedHeaderViewStyle,
    //elevation of poll results tab layout
    @DimenRes val pollResultsTabElevation: Int,
    //no results layout style
    val noResultsLayoutViewStyle: LMFeedNoEntityLayoutViewStyle,
    //color of the selected poll results tab
    @ColorRes val selectedPollResultsTabColor: Int,
    //color of the unselected poll results tab
    @ColorRes val unselectedPollResultsTabColor: Int,
    //style of the poll results tab text view
    val pollResultsTabTextViewStyle: LMFeedTextStyle,
    //user view style
    val userViewStyle: LMFeedUserViewStyle,
    //background color of the screen
    @ColorRes val backgroundColor: Int?
) : LMFeedViewStyle {

    class Builder {
        private var headerViewStyle: LMFeedHeaderViewStyle = LMFeedHeaderViewStyle.Builder()
            .titleTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_black)
                    .textSize(R.dimen.lm_feed_header_view_title_text_size)
                    .maxLines(1)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .ellipsize(TextUtils.TruncateAt.END)
                    .build()
            )
            .backgroundColor(R.color.lm_feed_white)
            .navigationIconStyle(
                LMFeedIconStyle.Builder()
                    .iconTint(R.color.lm_feed_black)
                    .inActiveSrc(R.drawable.lm_feed_ic_arrow_back_black_24dp)
                    .iconPadding(
                        LMFeedPadding(
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding
                        )
                    )
                    .build()
            )
            .build()

        @DimenRes
        private var pollResultsTabElevation: Int = R.dimen.lm_feed_elevation_extra_small

        private var noResultsLayoutViewStyle: LMFeedNoEntityLayoutViewStyle =
            LMFeedNoEntityLayoutViewStyle.Builder()
                .imageStyle(
                    LMFeedImageStyle.Builder()
                        .imageSrc(R.drawable.lm_feed_ic_not_found)
                        .build()
                )
                .titleStyle(
                    LMFeedTextStyle.Builder()
                        .textColor(R.color.lm_feed_dark_grey)
                        .textSize(R.dimen.lm_feed_text_medium)
                        .typeface(Typeface.NORMAL)
                        .fontResource(R.font.lm_feed_roboto_medium)
                        .build()
                )
                .backgroundColor(R.color.lm_feed_white)
                .build()

        @ColorRes
        private var selectedPollResultsTabColor: Int = LMFeedAppearance.getButtonColor()

        @ColorRes
        private var unselectedPollResultsTabColor: Int = R.color.lm_feed_grey

        private var pollResultsTabTextViewStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textSize(R.dimen.lm_feed_text_large)
            .ellipsize(TextUtils.TruncateAt.END)
            .maxLines(1)
            .fontResource(R.font.lm_feed_roboto_medium)
            .build()

        private var userViewStyle: LMFeedUserViewStyle = LMFeedUserViewStyle.Builder()
            .userTitleViewStyle(
                LMFeedTextStyle.Builder()
                    .ellipsize(TextUtils.TruncateAt.END)
                    .maxLines(1)
                    .textColor(LMFeedAppearance.getButtonColor())
                    .textSize(R.dimen.lm_feed_text_medium)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .build()
            )
            .build()

        @ColorRes
        private var backgroundColor: Int? = null

        fun headerViewStyle(headerViewStyle: LMFeedHeaderViewStyle) = apply {
            this.headerViewStyle = headerViewStyle
        }

        fun pollResultsTabElevation(@DimenRes pollResultsTabElevation: Int) = apply {
            this.pollResultsTabElevation = pollResultsTabElevation
        }

        fun noResultsLayoutViewStyle(noResultsLayoutViewStyle: LMFeedNoEntityLayoutViewStyle) =
            apply {
                this.noResultsLayoutViewStyle = noResultsLayoutViewStyle
            }

        fun selectedPollResultsTabColor(@ColorRes selectedPollResultsTabColor: Int) = apply {
            this.selectedPollResultsTabColor = selectedPollResultsTabColor
        }

        fun unselectedPollResultsTabColor(@ColorRes unselectedPollResultsTabColor: Int) = apply {
            this.unselectedPollResultsTabColor = unselectedPollResultsTabColor
        }

        fun pollResultsTabTextViewStyle(pollResultsTabTextViewStyle: LMFeedTextStyle) = apply {
            this.pollResultsTabTextViewStyle = pollResultsTabTextViewStyle
        }

        fun userViewStyle(userViewStyle: LMFeedUserViewStyle) = apply {
            this.userViewStyle = userViewStyle
        }

        fun backgroundColor(@ColorRes backgroundColor: Int?) = apply {
            this.backgroundColor = backgroundColor
        }

        fun build() = LMFeedPollResultsFragmentViewStyle(
            headerViewStyle,
            pollResultsTabElevation,
            noResultsLayoutViewStyle,
            selectedPollResultsTabColor,
            unselectedPollResultsTabColor,
            pollResultsTabTextViewStyle,
            userViewStyle,
            backgroundColor
        )
    }

    fun toBuilder(): Builder {
        return Builder()
            .headerViewStyle(headerViewStyle)
            .pollResultsTabElevation(pollResultsTabElevation)
            .noResultsLayoutViewStyle(noResultsLayoutViewStyle)
            .selectedPollResultsTabColor(selectedPollResultsTabColor)
            .unselectedPollResultsTabColor(unselectedPollResultsTabColor)
            .pollResultsTabTextViewStyle(pollResultsTabTextViewStyle)
            .userViewStyle(userViewStyle)
            .backgroundColor(backgroundColor)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/result/view/LMFeedPollResultsActivity.kt
================================================
package com.likeminds.feed.android.core.poll.result.view

import android.content.Context
import android.content.Intent
import android.os.Bundle
import androidx.appcompat.app.AppCompatActivity
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedActivityPollResultsBinding
import com.likeminds.feed.android.core.poll.result.model.LMFeedPollResultsExtras
import com.likeminds.feed.android.core.utils.*

class LMFeedPollResultsActivity : AppCompatActivity() {

    private lateinit var binding: LmFeedActivityPollResultsBinding
    private lateinit var pollResultsExtras: LMFeedPollResultsExtras

    companion object {
        const val LM_FEED_POLL_RESULTS_EXTRAS = "LM_FEED_POLL_RESULTS_EXTRAS"
        const val LM_FEED_POLL_RESULTS_BUNDLE = "lm_feed_bundle"
        const val TAG = "LMFeedPollResultsActivity"

        @JvmStatic
        fun start(context: Context, pollResultsExtras: LMFeedPollResultsExtras) {
            val intent = Intent(context, LMFeedPollResultsActivity::class.java)
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_POLL_RESULTS_EXTRAS, pollResultsExtras)
            intent.putExtra(LM_FEED_POLL_RESULTS_BUNDLE, bundle)
            context.startActivity(intent)
        }

        @JvmStatic
        fun getIntent(context: Context, pollResultsExtras: LMFeedPollResultsExtras): Intent {
            val intent = Intent(context, LMFeedPollResultsActivity::class.java)
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_POLL_RESULTS_EXTRAS, pollResultsExtras)
            intent.putExtra(LM_FEED_POLL_RESULTS_BUNDLE, bundle)
            return intent
        }
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        binding = LmFeedActivityPollResultsBinding.inflate(layoutInflater)
        setContentView(binding.root)

        //parse extras
        assignExtras()

        //inflates poll results fragment
        inflatePollResultsFragment()
    }

    private fun assignExtras() {
        //get bundle
        val bundle = intent.getBundleExtra(LM_FEED_POLL_RESULTS_BUNDLE)

        //assign to global variable
        if (bundle != null) {
            pollResultsExtras = LMFeedExtrasUtil.getParcelable(
                bundle,
                LM_FEED_POLL_RESULTS_EXTRAS,
                LMFeedPollResultsExtras::class.java
            ) ?: throw emptyExtrasException(TAG)
        } else {
            //close activity
            redirectActivity()
        }
    }

    private fun redirectActivity() {
        LMFeedViewUtils.showShortToast(this, getString(R.string.lm_feed_request_not_processed))
        supportFragmentManager.popBackStack()
        onBackPressedDispatcher.onBackPressed()
        overridePendingTransition(R.anim.lm_feed_slide_from_left, R.anim.lm_feed_slide_to_right)
    }

    private fun inflatePollResultsFragment() {
        //gets poll results fragment instance
        val pollResultsFragment = LMFeedPollResultsFragment.getInstance(pollResultsExtras)

        //commits fragment replace transaction
        supportFragmentManager.beginTransaction()
            .replace(
                binding.containerPollResults.id,
                pollResultsFragment,
                LMFeedPollResultsFragment.TAG
            )
            .commit()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/result/view/LMFeedPollResultsFragment.kt
================================================
package com.likeminds.feed.android.core.poll.result.view

import android.os.Bundle
import android.view.*
import androidx.core.content.ContextCompat
import androidx.fragment.app.Fragment
import com.google.android.material.tabs.TabLayout
import com.google.android.material.tabs.TabLayoutMediator
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedFragmentPollResultsBinding
import com.likeminds.feed.android.core.databinding.LmFeedLayoutPollResultsTabBinding
import com.likeminds.feed.android.core.poll.result.adapter.LMFeedPollResultsTabAdapter
import com.likeminds.feed.android.core.poll.result.model.LMFeedPollResultsExtras
import com.likeminds.feed.android.core.poll.result.view.LMFeedPollResultsActivity.Companion.LM_FEED_POLL_RESULTS_EXTRAS
import com.likeminds.feed.android.core.ui.base.styles.setStyle
import com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
import com.likeminds.feed.android.core.ui.widgets.headerview.view.LMFeedHeaderView
import com.likeminds.feed.android.core.utils.*

open class LMFeedPollResultsFragment : Fragment() {

    private lateinit var binding: LmFeedFragmentPollResultsBinding
    private lateinit var pollResultsExtras: LMFeedPollResultsExtras

    private lateinit var pollResultsTabAdapter: LMFeedPollResultsTabAdapter

    companion object {
        const val TAG = "LMFeedPollResultsFragment"

        fun getInstance(pollResultsExtras: LMFeedPollResultsExtras): LMFeedPollResultsFragment {
            val pollResultsFragment = LMFeedPollResultsFragment()
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_POLL_RESULTS_EXTRAS, pollResultsExtras)
            pollResultsFragment.arguments = bundle
            return pollResultsFragment
        }
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        receiveExtras()
    }

    private fun receiveExtras() {
        arguments?.let {
            pollResultsExtras = LMFeedExtrasUtil.getParcelable(
                it,
                LM_FEED_POLL_RESULTS_EXTRAS,
                LMFeedPollResultsExtras::class.java
            ) ?: throw emptyExtrasException(TAG)
        }
    }

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View {
        binding = LmFeedFragmentPollResultsBinding.inflate(inflater, container, false)

        binding.apply {
            customizePollResultsHeaderView(headerViewPollResults)

            //set background color
            val backgroundColor =
                LMFeedStyleTransformer.pollResultsFragmentViewStyle.backgroundColor
            backgroundColor?.let { color ->
                root.setBackgroundColor(
                    ContextCompat.getColor(
                        requireContext(),
                        color
                    )
                )
            }
        }
        return binding.root
    }

    //customizes the header view of the poll results fragment with the header style set for the poll results fragment
    protected open fun customizePollResultsHeaderView(headerViewPollResults: LMFeedHeaderView) {
        headerViewPollResults.apply {
            setStyle(LMFeedStyleTransformer.pollResultsFragmentViewStyle.headerViewStyle)

            setTitleText(getString(R.string.lm_feed_poll_results))
        }
    }

    //customizes the poll option and poll option count view of the poll results tab
    protected open fun customizePollResultsTabTextView(
        tvPollOptionCount: LMFeedTextView,
        tvPollOptionText: LMFeedTextView
    ) {
        val pollResultsTabTextViewStyle =
            LMFeedStyleTransformer.pollResultsFragmentViewStyle.pollResultsTabTextViewStyle

        tvPollOptionCount.setStyle(pollResultsTabTextViewStyle)
        tvPollOptionText.setStyle(pollResultsTabTextViewStyle)
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        initListeners()
        initPollResultsTabLayout()
    }

    //initializes all the listeners
    private fun initListeners() {
        binding.headerViewPollResults.setNavigationIconClickListener {
            onNavigationIconClick()
        }
    }

    //initializes poll results tab layout
    private fun initPollResultsTabLayout() {
        pollResultsTabAdapter = LMFeedPollResultsTabAdapter(
            this,
            pollResultsExtras.pollId,
            pollResultsExtras.pollOptions
        )

        binding.apply {
            viewPagerPollResults.adapter = pollResultsTabAdapter

            val screenWidth = LMFeedViewUtils.getDeviceDimension(requireContext()).first

            TabLayoutMediator(
                tabLayoutPollResults,
                viewPagerPollResults
            ) { tab, position ->
                val pollOption = pollResultsExtras.pollOptions[position]
                val tabView = LmFeedLayoutPollResultsTabBinding.inflate(layoutInflater)
                tabView.apply {
                    customizePollResultsTabTextView(tvPollOptionCount, tvPollOptionText)

                    //max and min width of the poll results tab
                    clPollResultsTab.maxWidth = (screenWidth * 0.48).toInt()
                    clPollResultsTab.minWidth = (screenWidth * 0.33).toInt()

                    //set poll option count and text value to tabs
                    pollOptionCount = pollOption.voteCount.toString()
                    pollOptionText = pollOption.text

                    tab.customView = root
                }
            }.attach()


            val tab = if (!pollResultsExtras.selectedPollOptionId.isNullOrEmpty()) {
                //finds index of option which is selected by user
                val selectedOptionPosition = pollResultsExtras.pollOptions.indexOfFirst {
                    it.id == pollResultsExtras.selectedPollOptionId
                }

                //sets the current item in the poll results tab to the selected option
                viewPagerPollResults.setCurrentItem(selectedOptionPosition, true)
                tabLayoutPollResults.setScrollPosition(
                    selectedOptionPosition,
                    0f,
                    true
                )
                tabLayoutPollResults.getTabAt(selectedOptionPosition)
            } else {
                tabLayoutPollResults.getTabAt(0)
            }

            tab?.select()
            updatePollResultsTab(
                tab,
                LMFeedStyleTransformer.pollResultsFragmentViewStyle.selectedPollResultsTabColor
            )

            //adds tab selected click listener on the poll results tab layout
            tabLayoutPollResults.addOnTabSelectedListener(object : TabLayout.OnTabSelectedListener {
                override fun onTabSelected(tab: TabLayout.Tab?) {
                    onPollResultsTabSelected(tab)
                }

                override fun onTabUnselected(tab: TabLayout.Tab?) {
                    onPollResultsTabUnselected(tab)
                }

                override fun onTabReselected(tab: TabLayout.Tab?) {
                    onPollResultsTabReselected(tab)
                }
            })
        }
    }

    //processes the event when a poll results tab is selected
    protected open fun onPollResultsTabSelected(tab: TabLayout.Tab?) {
        updatePollResultsTab(
            tab,
            LMFeedStyleTransformer.pollResultsFragmentViewStyle.selectedPollResultsTabColor
        )

        //todo: analytics
    }

    //processes the event when a poll results tab is unselected
    protected open fun onPollResultsTabUnselected(tab: TabLayout.Tab?) {
        updatePollResultsTab(
            tab,
            LMFeedStyleTransformer.pollResultsFragmentViewStyle.unselectedPollResultsTabColor
        )
    }

    //processes the event when a poll results tab is reselected
    protected open fun onPollResultsTabReselected(tab: TabLayout.Tab?) {
        updatePollResultsTab(
            tab,
            LMFeedStyleTransformer.pollResultsFragmentViewStyle.selectedPollResultsTabColor
        )
    }

    private fun updatePollResultsTab(tab: TabLayout.Tab?, tabColor: Int) {
        val customTabView = tab?.customView ?: return

        val tvPollOptionCount =
            customTabView.findViewById<LMFeedTextView>(R.id.tv_poll_option_count)
                ?: return

        val tvPollOptionText =
            customTabView.findViewById<LMFeedTextView>(R.id.tv_poll_option_text)
                ?: return

        customizePollResultsTabTextView(tvPollOptionCount, tvPollOptionText)

        tvPollOptionCount.apply {
            setTextColor(ContextCompat.getColor(requireContext(), tabColor))
        }
    }

    //customize navigate back icon
    protected open fun onNavigationIconClick() {
        requireActivity().onBackPressedDispatcher.onBackPressed()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/result/view/LMFeedPollResultsTabFragment.kt
================================================
package com.likeminds.feed.android.core.poll.result.view

import android.os.Bundle
import android.view.*
import androidx.fragment.app.Fragment
import androidx.fragment.app.viewModels
import com.likeminds.feed.android.core.LMFeedCoreApplication
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedFragmentPollResultsTabBinding
import com.likeminds.feed.android.core.poll.result.adapter.LMFeedPollVoteResultsAdapterListener
import com.likeminds.feed.android.core.poll.result.model.LMFeedPollResultsTabExtras
import com.likeminds.feed.android.core.poll.result.viewmodel.LMFeedPollResultsViewModel
import com.likeminds.feed.android.core.ui.widgets.noentitylayout.view.LMFeedNoEntityLayoutView
import com.likeminds.feed.android.core.utils.*
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData
import kotlinx.coroutines.flow.onEach

open class LMFeedPollResultsTabFragment : Fragment(), LMFeedPollVoteResultsAdapterListener {

    private lateinit var binding: LmFeedFragmentPollResultsTabBinding

    private lateinit var pollResultsTabExtras: LMFeedPollResultsTabExtras

    private val pollResultsViewModel: LMFeedPollResultsViewModel by viewModels()

    companion object {
        const val TAG = "LMFeedPollResultsTabFragment"
        const val LM_FEED_POLL_RESULT_TAB_EXTRA = "LM_FEED_POLL_RESULT_TAB_EXTRA"

        @JvmStatic
        fun addFragment(pollResultsTabExtras: LMFeedPollResultsTabExtras): LMFeedPollResultsTabFragment {
            val fragment = LMFeedPollResultsTabFragment()
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_POLL_RESULT_TAB_EXTRA, pollResultsTabExtras)
            fragment.arguments = bundle
            return fragment
        }
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        receiveExtras()
    }

    private fun receiveExtras() {
        arguments?.let {
            pollResultsTabExtras = LMFeedExtrasUtil.getParcelable(
                it,
                LM_FEED_POLL_RESULT_TAB_EXTRA,
                LMFeedPollResultsTabExtras::class.java
            ) ?: throw emptyExtrasException(TAG)
        }
    }

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View {
        binding = LmFeedFragmentPollResultsTabBinding.inflate(layoutInflater)

        customizeNoPollResultsLayout(binding.layoutNoResults)

        return binding.root
    }

    //customizes no poll results layout
    protected open fun customizeNoPollResultsLayout(layoutNoResults: LMFeedNoEntityLayoutView) {
        layoutNoResults.apply {
            val noResultsLayoutStyle =
                LMFeedStyleTransformer.pollResultsFragmentViewStyle.noResultsLayoutViewStyle

            setStyle(noResultsLayoutStyle)
            setTitleText(getString(R.string.lm_feed_no_responses))
        }
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        initUI()
        fetchData()
        observeData()
    }

    private fun initUI() {
        binding.rvPollVoteResults.apply {
            setAdapter(this@LMFeedPollResultsTabFragment)

            //set scroll listener
            val paginationScrollListener =
                object : LMFeedEndlessRecyclerViewScrollListener(linearLayoutManager) {
                    override fun onLoadMore(currentPage: Int) {
                        // calls api for paginated data
                        if (currentPage > 0) {
                            pollResultsViewModel.getPollVotes(
                                pollResultsTabExtras.pollId,
                                pollResultsTabExtras.pollOptionId,
                                currentPage
                            )
                        }
                    }
                }
            setPaginationScrollListener(paginationScrollListener)
        }
    }

    private fun fetchData() {
        LMFeedProgressBarHelper.showProgress(binding.progressBar)

        pollResultsViewModel.getPollVotes(
            pollResultsTabExtras.pollId,
            pollResultsTabExtras.pollOptionId,
            1
        )
    }

    private fun observeData() {
        pollResultsViewModel.pollVotesResponse.observe(viewLifecycleOwner) { response ->
            LMFeedProgressBarHelper.hideProgress(binding.progressBar)

            val page = response.first
            val usersVoted = response.second.usersVoted

            if (page == 1) {
                checkForNoResponses(usersVoted)
                binding.rvPollVoteResults.replacePollVotes(usersVoted)
            } else {
                binding.rvPollVoteResults.addPollVotes(usersVoted)
            }
        }

        pollResultsViewModel.errorEventFlow.onEach { response ->
            when (response) {
                is LMFeedPollResultsViewModel.ErrorMessageEvent.GetPollVotes -> {
                    LMFeedProgressBarHelper.hideProgress(binding.progressBar)
                    LMFeedViewUtils.showErrorMessageToast(requireContext(), response.errorMessage)
                }
            }
        }
    }

    //checks if there are any votes or not
    private fun checkForNoResponses(votes: List<LMFeedBaseViewType>) {
        if (votes.isNotEmpty()) {
            binding.apply {
                layoutNoResults.hide()
                rvPollVoteResults.show()
            }
        } else {
            binding.apply {
                layoutNoResults.show()
                rvPollVoteResults.hide()
            }
        }
    }

    //triggered when the user clicks on poll vote result item
    override fun onPollVoteResultItemClicked(
        position: Int,
        pollVoteResultItem: LMFeedUserViewData
    ) {
        super.onPollVoteResultItemClicked(position, pollVoteResultItem)

        //fires user profile callback
        val coreCallback = LMFeedCoreApplication.getLMFeedCoreCallback()
        coreCallback?.openProfile(pollVoteResultItem)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/result/view/LMFeedPollVoteResultsListView.kt
================================================
package com.likeminds.feed.android.core.poll.result.view

import android.content.Context
import android.util.AttributeSet
import androidx.recyclerview.widget.*
import com.likeminds.feed.android.core.poll.result.adapter.LMFeedPollVoteResultsAdapter
import com.likeminds.feed.android.core.poll.result.adapter.LMFeedPollVoteResultsAdapterListener
import com.likeminds.feed.android.core.ui.widgets.poll.style.LMFeedPostPollViewStyle
import com.likeminds.feed.android.core.utils.LMFeedEndlessRecyclerViewScrollListener
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData

/**
 * Represents a recycler view with list of votes on the poll
 */
class LMFeedPollVoteResultsListView @JvmOverloads constructor(
    context: Context,
    attrs: AttributeSet? = null,
    defStyleAttr: Int = 0
) : RecyclerView(context, attrs, defStyleAttr) {

    val linearLayoutManager: LinearLayoutManager

    private lateinit var pollVoteResultsAdapter: LMFeedPollVoteResultsAdapter
    private lateinit var paginationScrollListener: LMFeedEndlessRecyclerViewScrollListener

    init {
        setHasFixedSize(true)
        linearLayoutManager = LinearLayoutManager(context)
        layoutManager = linearLayoutManager

        if (itemAnimator is SimpleItemAnimator) {
            (itemAnimator as SimpleItemAnimator).supportsChangeAnimations = false
        }
    }

    //sets the adapter with the provided [listener] to the poll results recycler view
    fun setAdapter(pollVoteResultsAdapterListener: LMFeedPollVoteResultsAdapterListener) {
        pollVoteResultsAdapter = LMFeedPollVoteResultsAdapter(pollVoteResultsAdapterListener)
        adapter = pollVoteResultsAdapter
    }

    //sets the pagination scroll listener to the likes recycler view
    fun setPaginationScrollListener(scrollListener: LMFeedEndlessRecyclerViewScrollListener) {
        paginationScrollListener = scrollListener
        addOnScrollListener(scrollListener)
    }

    //resets the scroll listener data
    fun resetScrollListenerData() {
        if (::paginationScrollListener.isInitialized) {
            paginationScrollListener.resetData()
        }
    }

    //adds the provided [pollVotes] in the poll results adapter
    fun addPollVotes(pollVotes: List<LMFeedUserViewData>) {
        pollVoteResultsAdapter.addAll(pollVotes)
    }

    //replaces the provided [pollVotes] in the poll results adapter
    fun replacePollVotes(pollVotes: List<LMFeedUserViewData>) {
        pollVoteResultsAdapter.replace(pollVotes)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/result/viewmodel/LMFeedPollResultsViewModel.kt
================================================
package com.likeminds.feed.android.core.poll.result.viewmodel

import androidx.lifecycle.*
import com.likeminds.feed.android.core.poll.result.model.LMFeedPollVoteViewData
import com.likeminds.feed.android.core.utils.LMFeedViewDataConvertor
import com.likeminds.feed.android.core.utils.coroutine.launchIO
import com.likeminds.likemindsfeed.LMFeedClient
import com.likeminds.likemindsfeed.poll.model.GetPollVotesRequest
import kotlinx.coroutines.channels.Channel
import kotlinx.coroutines.flow.receiveAsFlow

class LMFeedPollResultsViewModel : ViewModel() {

    private val lmFeedClient by lazy { LMFeedClient.getInstance() }

    sealed class ErrorMessageEvent {
        data class GetPollVotes(val errorMessage: String?) : ErrorMessageEvent()
    }

    private val errorEventChannel by lazy {
        Channel<ErrorMessageEvent>(Channel.BUFFERED)
    }
    val errorEventFlow by lazy { errorEventChannel.receiveAsFlow() }

    private val _pollVotesResponse by lazy { MutableLiveData<Pair<Int, LMFeedPollVoteViewData>>() }
    val pollVotesResponse by lazy { _pollVotesResponse }

    companion object {
        const val PAGE_SIZE = 20
    }

    //calls api to get the poll votes on the passed option id
    fun getPollVotes(
        pollId: String,
        pollOptionId: String,
        page: Int
    ) {
        viewModelScope.launchIO {
            //builds poll votes request
            val request = GetPollVotesRequest.Builder()
                .votes(listOf(pollOptionId))
                .pollId(pollId)
                .page(page)
                .pageSize(PAGE_SIZE)
                .build()

            //response
            val response = lmFeedClient.getPollVotes(request)

            if (response.success) {
                val data = response.data ?: return@launchIO
                _pollVotesResponse.postValue(
                    Pair(
                        page,
                        LMFeedViewDataConvertor.convertPollVotes(
                            data.votes,
                            data.users
                        )
                    )
                )
            } else {
                errorEventChannel.send(ErrorMessageEvent.GetPollVotes(response.errorMessage))
            }
        }
    }

}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/poll/util/LMFeedPollUtil.kt
================================================
package com.likeminds.feed.android.core.poll.util

import com.likeminds.feed.android.core.poll.result.model.LMFeedPollViewData

object LMFeedPollUtil {

    //checks whether added option already exists in the options list or not, returns null if poll is null in the post data
    fun isDuplicationOption(
        poll: LMFeedPollViewData,
        addedOptionText: String
    ): Boolean {
        val pollOptions = poll.options

        pollOptions.forEach { option ->
            if (option.text == addedOptionText) {
                return true
            }
        }

        return false
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/create/model/LMFeedCreatePostExtras.kt
================================================
package com.likeminds.feed.android.core.post.create.model

import android.os.Parcelable
import kotlinx.parcelize.Parcelize

@Parcelize
class LMFeedCreatePostExtras private constructor(
    val source: String?
) : Parcelable {
    class Builder {
        private var source: String? = null
        fun source(source: String?) = apply { this.source = source }

        fun build() = LMFeedCreatePostExtras(source)
    }

    fun toBuilder(): Builder {
        return Builder().source(source)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/create/model/LMFeedFileUploadViewData.kt
================================================
package com.likeminds.feed.android.core.post.create.model

import android.net.Uri

class LMFeedFileUploadViewData private constructor(
    val uri: Uri,
    val fileType: String,
    val width: Int?,
    val height: Int?,
    val thumbnailUri: Uri?,
    val size: Long,
    val mediaName: String?,
    val pdfPageCount: Int?,
    val duration: Int?,
    val awsFolderPath: String?,
    val localFilePath: String?,
    val format: String?
) {
    class Builder {
        private var uri: Uri = Uri.parse("")
        private var fileType: String = ""
        private var width: Int? = null
        private var height: Int? = null
        private var thumbnailUri: Uri? = null
        private var size: Long = 0
        private var mediaName: String? = null
        private var pdfPageCount: Int? = null
        private var duration: Int? = null
        private var awsFolderPath: String? = null
        private var localFilePath: String? = null
        private var format: String? = null

        fun uri(uri: Uri) = apply { this.uri = uri }
        fun fileType(fileType: String) = apply { this.fileType = fileType }
        fun width(width: Int?) = apply { this.width = width }
        fun height(height: Int?) = apply { this.height = height }
        fun thumbnailUri(thumbnailUri: Uri?) = apply { this.thumbnailUri = thumbnailUri }
        fun size(size: Long) = apply { this.size = size }
        fun mediaName(mediaName: String?) = apply { this.mediaName = mediaName }
        fun pdfPageCount(pdfPageCount: Int?) = apply { this.pdfPageCount = pdfPageCount }
        fun duration(duration: Int?) = apply { this.duration = duration }
        fun awsFolderPath(awsFolderPath: String?) = apply { this.awsFolderPath = awsFolderPath }
        fun localFilePath(localFilePath: String?) = apply { this.localFilePath = localFilePath }
        fun format(format: String?) = apply { this.format = format }


        fun build() = LMFeedFileUploadViewData(
            uri,
            fileType,
            width,
            height,
            thumbnailUri,
            size,
            mediaName,
            pdfPageCount,
            duration,
            awsFolderPath,
            localFilePath,
            format
        )
    }

    fun toBuilder(): Builder {
        return Builder().uri(uri)
            .fileType(fileType)
            .width(width)
            .height(height)
            .thumbnailUri(thumbnailUri)
            .size(size)
            .mediaName(mediaName)
            .pdfPageCount(pdfPageCount)
            .duration(duration)
            .awsFolderPath(awsFolderPath)
            .localFilePath(localFilePath)
            .format(format)
    }

    override fun toString(): String {
        return buildString {
            append("LMFeedFileUploadViewData:(uri:")
            append(uri)
            append(",fileType:")
            append(fileType)
            append(",width:")
            append(width)
            append(",height:")
            append(height)
            append(",thumbnailUri:")
            append(thumbnailUri)
            append(",size:")
            append(size)
            append(",mediaName:")
            append(mediaName)
            append(",pdfPageCount:")
            append(pdfPageCount)
            append(",duration:")
            append(duration)
            append(",awsFolderPath:")
            append(awsFolderPath)
            append(",localFilePath:")
            append(localFilePath)
            append(",format:")
            append(format)
            append(")")
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/create/util/LMFeedCreateEditPostViewStyleUtil.kt
================================================
package com.likeminds.feed.android.core.post.create.util

import android.text.TextUtils
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.LMFeedIconStyle
import com.likeminds.feed.android.core.ui.base.styles.LMFeedTextStyle
import com.likeminds.feed.android.core.ui.widgets.poll.style.LMFeedPostPollOptionViewStyle
import com.likeminds.feed.android.core.ui.widgets.poll.style.LMFeedPostPollViewStyle

object LMFeedCreateEditPostViewStyleUtil {

    //return the updated view style for the poll view
    fun getUpdatedPollViewStyles(isCreateFlow: Boolean): LMFeedPostPollViewStyle {
        var pollViewStyleBuilder = LMFeedPostPollViewStyle.Builder()
            .pollTitleTextStyle(
                LMFeedTextStyle.Builder()
                    .maxLines(3)
                    .textColor(R.color.lm_feed_dark_grey)
                    .textSize(R.dimen.lm_feed_text_large)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .build()
            )
            .pollOptionsViewStyle(
                getUpdatedOptionViewStyle()
            )
            .membersVotedCountTextStyle(null)
            .pollInfoTextStyle(
                LMFeedTextStyle.Builder()
                    .maxLines(1)
                    .textColor(R.color.lm_feed_brown_grey)
                    .textSize(R.dimen.lm_feed_text_medium)
                    .fontResource(R.font.lm_feed_roboto)
                    .build()
            )
            .submitPollVoteButtonStyle(null)
            .addPollOptionButtonStyle(null)
            .pollExpiryTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_grey)
                    .textSize(R.dimen.lm_feed_text_small)
                    .fontResource(R.font.lm_feed_roboto)
                    .maxLines(1)
                    .build()
            )
            .editPollVoteTextStyle(null)

        if (isCreateFlow) {
            pollViewStyleBuilder = pollViewStyleBuilder.clearPollIconStyle(
                LMFeedIconStyle.Builder()
                    .inActiveSrc(R.drawable.lm_feed_ic_cross_circle)
                    .build()
            )
                .editPollIconStyle(
                    LMFeedIconStyle.Builder()
                        .inActiveSrc(R.drawable.lm_feed_ic_edit_poll)
                        .iconTint(R.color.lm_feed_dark_grey)
                        .build()
                )
        }

        return pollViewStyleBuilder.build()
    }

    //return the updated view style for the poll option view
    fun getUpdatedOptionViewStyle(): LMFeedPostPollOptionViewStyle {
        return LMFeedPostPollOptionViewStyle.Builder()
            .pollOptionTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_dark_grey)
                    .textSize(R.dimen.lm_feed_text_large)
                    .fontResource(R.font.lm_feed_roboto)
                    .ellipsize(TextUtils.TruncateAt.END)
                    .maxLines(2)
                    .build()
            )
            .pollSelectedOptionColor(R.color.lm_feed_brown_grey)
            .pollOtherOptionColor(R.color.lm_feed_brown_grey)
            .pollOptionVotesCountTextStyle(null)
            .pollOptionAddedByTextStyle(null)
            .pollOptionCheckIconStyle(null)
            .build()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/create/util/LMFeedPostAttachmentUploadWorker.kt
================================================
package com.likeminds.feed.android.core.post.create.util

import android.content.Context
import android.util.Log
import androidx.work.*
import com.amazonaws.mobileconnectors.s3.transferutility.TransferListener
import com.amazonaws.mobileconnectors.s3.transferutility.TransferState
import com.amazonaws.services.s3.model.CannedAccessControlList
import com.likeminds.customgallery.utils.file.util.FileUtil
import com.likeminds.feed.android.core.LMFeedCoreApplication.Companion.LOG_TAG
import com.likeminds.feed.android.core.post.model.IMAGE
import com.likeminds.feed.android.core.utils.mediauploader.LMFeedMediaUploadWorker
import com.likeminds.feed.android.core.utils.mediauploader.model.*
import com.likeminds.feed.android.core.utils.mediauploader.utils.LMFeedUploadHelper
import com.likeminds.likemindsfeed.post.model.AttachmentType.CUSTOM_WIDGET
import com.likeminds.likemindsfeed.post.model.Post
import kotlinx.coroutines.runBlocking
import java.io.File
import java.util.concurrent.TimeUnit
import kotlin.coroutines.Continuation
import kotlin.coroutines.resume

class LMFeedPostAttachmentUploadWorker(
    context: Context,
    workerParams: WorkerParameters
) : LMFeedMediaUploadWorker(context, workerParams) {
    private val postId by lazy { getLongParam(ARG_POST_ID) }
    private val totalMediaCount by lazy { getIntParam(ARG_TOTAL_MEDIA_COUNT) }

    private lateinit var postWithAttachments: Post

    companion object {
        const val ARG_POST_ID = "ARG_POST_ID"
        const val ARG_TOTAL_MEDIA_COUNT = "ARG_TOTAL_MEDIA_COUNT"
        const val TAG = "PostAttachmentUploadWorker"

        fun getInstance(postId: Long, totalMediaCount: Int): OneTimeWorkRequest {
            return OneTimeWorkRequestBuilder<LMFeedPostAttachmentUploadWorker>()
                .setInputData(
                    workDataOf(
                        ARG_POST_ID to postId,
                        ARG_TOTAL_MEDIA_COUNT to totalMediaCount
                    )
                )
                .setConstraints(
                    Constraints.Builder().setRequiredNetworkType(NetworkType.CONNECTED).build()
                )
                .setBackoffCriteria(
                    BackoffPolicy.LINEAR,
                    WorkRequest.MIN_BACKOFF_MILLIS,
                    TimeUnit.MILLISECONDS
                )
                .addTag(TAG)
                .build()
        }
    }

    override fun checkArgs() {
        require(ARG_POST_ID)
        require(ARG_TOTAL_MEDIA_COUNT)
    }

    // gets list of attachments from DB
    override fun init() {
        runBlocking {
            val data = lmFeedClient.getTemporaryPost("-$postId").data ?: return@runBlocking
            postWithAttachments = data.post
        }
    }

    // creates/resumes AWS uploads for each attachment
    override fun uploadFiles(continuation: Continuation<Int>) {
        val attachmentsToUpload = if (failedIndex.isNotEmpty()) {
            postWithAttachments.attachments?.filterIndexed { index, _ ->
                failedIndex.contains(index)
            }
        } else {
            //upload only media attachments
            postWithAttachments.attachments?.filter {
                it.attachmentType != CUSTOM_WIDGET
            }
        }

        if (attachmentsToUpload.isNullOrEmpty()) {
            continuation.resume(WORKER_SUCCESS)
            return
        }

        uploadList = createAWSRequestList(attachmentsToUpload)
        uploadList.forEach { request ->
            val resumeAWSFileResponse =
                LMFeedUploadHelper.getInstance().getAWSFileResponse(request.awsFolderPath)
            if (resumeAWSFileResponse != null) {
                resumeAWSUpload(resumeAWSFileResponse, totalMediaCount, continuation, request)
            } else {
                createAWSUpload(request, totalMediaCount, continuation)
            }
        }
    }

    // resumes AWS file upload
    private fun resumeAWSUpload(
        resumeAWSFileResponse: LMFeedAWSFileResponse,
        totalFilesToUpload: Int,
        continuation: Continuation<Int>,
        request: LMFeedGenericFileRequest
    ) {
        val resume = transferUtility.resume(resumeAWSFileResponse.transferObserver!!.id)
        if (resume == null) {
            createAWSUpload(request, totalFilesToUpload, continuation)
        } else {
            setTransferObserver(resumeAWSFileResponse, totalFilesToUpload, continuation)
        }
    }

    // creates and starts AWS upload
    private fun createAWSUpload(
        request: LMFeedGenericFileRequest,
        totalFilesToUpload: Int,
        continuation: Continuation<Int>
    ) {
        val awsFileResponse =
            uploadFile(request, postWithAttachments.uuid)
        if (awsFileResponse != null) {
            LMFeedUploadHelper.getInstance().addAWSFileResponse(awsFileResponse)
            setTransferObserver(awsFileResponse, totalFilesToUpload, continuation)
        }
    }

    /**
     * Starts Uploading file on AWS.
     * @param request A [LMFeedGenericFileRequest] object
     * @return [LMFeedAWSFileResponse] containing aws transfer utility objects and keys
     */
    private fun uploadFile(
        request: LMFeedGenericFileRequest,
        uuid: String? = null
    ): LMFeedAWSFileResponse? {
        val filePath = request.localFilePath ?: return null
        val file = if (request.fileType == IMAGE) {
            FileUtil.compressFile(applicationContext, filePath)
        } else {
            File(filePath)
        }
        val observer = transferUtility.upload(
            request.awsFolderPath,
            file,
            CannedAccessControlList.PublicRead
        )
        return LMFeedAWSFileResponse.Builder()
            .transferObserver(observer)
            .name(request.name ?: "")
            .awsFolderPath(request.awsFolderPath)
            .index(request.index)
            .fileType(request.fileType)
            .width(request.width)
            .height(request.height)
            .pageCount(request.pageCount)
            .size(request.size)
            .duration(request.duration)
            .uuid(uuid)
            .build()
    }

    // sets a transfer listener to uploading
    private fun setTransferObserver(
        awsFileResponse: LMFeedAWSFileResponse,
        totalFilesToUpload: Int,
        continuation: Continuation<Int>
    ) {
        val observer = awsFileResponse.transferObserver!!
        setProgress(observer.id, observer.bytesTransferred, observer.bytesTotal)
        observer.setTransferListener(object : TransferListener {
            override fun onStateChanged(id: Int, state: TransferState?) {
                onStateChanged(awsFileResponse, state, totalFilesToUpload, continuation)
            }

            override fun onProgressChanged(id: Int, bytesCurrent: Long, bytesTotal: Long) {
                setProgress(id, bytesCurrent, bytesTotal)
            }

            override fun onError(id: Int, ex: Exception?) {
                ex?.printStackTrace()
                failedIndex.add(awsFileResponse.index)
                checkWorkerComplete(totalFilesToUpload, continuation)
            }
        })
    }

    // onStateChanged listener for AWS file upload
    private fun onStateChanged(
        response: LMFeedAWSFileResponse,
        state: TransferState?,
        totalFilesToUpload: Int,
        continuation: Continuation<Int>
    ) {
        if (isStopped) {
            return
        }
        when (state) {
            TransferState.COMPLETED -> {
                LMFeedUploadHelper.getInstance().removeAWSFileResponse(response)
                uploadedCount += 1
                checkWorkerComplete(totalFilesToUpload, continuation)
            }

            TransferState.FAILED -> {
                failedIndex.add(response.index)
                checkWorkerComplete(totalFilesToUpload, continuation)
            }

            else -> {
                Log.d(LOG_TAG, "state: $state")
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/create/view/LMFeedCreatePostActivity.kt
================================================
package com.likeminds.feed.android.core.post.create.view

import android.app.Activity
import android.content.Context
import android.content.Intent
import android.os.Bundle
import androidx.appcompat.app.AppCompatActivity
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedActivityCreatePostBinding
import com.likeminds.feed.android.core.post.create.model.LMFeedCreatePostExtras
import com.likeminds.feed.android.core.utils.LMFeedExtrasUtil
import com.likeminds.feed.android.core.utils.LMFeedViewUtils
import com.likeminds.feed.android.core.utils.emptyExtrasException

class LMFeedCreatePostActivity : AppCompatActivity() {

    private lateinit var binding: LmFeedActivityCreatePostBinding
    private lateinit var lmFeedCreatePostExtras: LMFeedCreatePostExtras

    companion object {
        const val TAG = "LMFeedCreatePostActivity"
        const val LM_FEED_CREATE_POST_EXTRAS = "LM_FEED_CREATE_POST_EXTRAS"
        const val LM_FEED_CREATE_POST_BUNDLE = "lm_feed_bundle"
        const val RESULT_UPLOAD_POST = Activity.RESULT_FIRST_USER + 1
        const val POST_ATTACHMENTS_LIMIT = 10

        @JvmStatic
        fun start(context: Context, extras: LMFeedCreatePostExtras) {
            val intent = Intent(context, LMFeedCreatePostActivity::class.java)
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_CREATE_POST_EXTRAS, extras)
            intent.putExtra(LM_FEED_CREATE_POST_BUNDLE, bundle)
            context.startActivity(intent)
        }

        @JvmStatic
        fun getIntent(context: Context, extras: LMFeedCreatePostExtras): Intent {
            val intent = Intent(context, LMFeedCreatePostActivity::class.java)
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_CREATE_POST_EXTRAS, extras)
            intent.putExtra(LM_FEED_CREATE_POST_BUNDLE, bundle)
            return intent
        }
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        //assign binding
        binding = LmFeedActivityCreatePostBinding.inflate(layoutInflater)
        setContentView(binding.root)

        //parse extras
        assignExtras()

        //inflate create post fragment
        inflateCreatePostFragment()
    }

    //check for extras and handle the flow
    private fun assignExtras() {
        //get bundle
        val bundle = intent.getBundleExtra(LM_FEED_CREATE_POST_BUNDLE)

        //assign to global variable
        if (bundle != null) {
            lmFeedCreatePostExtras = LMFeedExtrasUtil.getParcelable(
                bundle,
                LM_FEED_CREATE_POST_EXTRAS,
                LMFeedCreatePostExtras::class.java
            ) ?: throw emptyExtrasException(TAG)
        } else {
            //close activity
            redirectActivity(true)
        }
    }

    private fun redirectActivity(isError: Boolean) {
        if (isError) {
            LMFeedViewUtils.showSomethingWentWrongToast(this)
        }
        supportFragmentManager.popBackStack()
        onBackPressedDispatcher.onBackPressed()
        overridePendingTransition(R.anim.lm_feed_slide_from_left, R.anim.lm_feed_slide_to_right)
    }

    private fun inflateCreatePostFragment() {
        val createPostFragment =
            LMFeedCreatePostFragment.getInstance(createPostExtras = lmFeedCreatePostExtras)

        supportFragmentManager.beginTransaction()
            .replace(binding.containerCreatePost.id, createPostFragment, TAG)
            .commit()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/create/view/LMFeedCreatePostFragment.kt
================================================
package com.likeminds.feed.android.core.post.create.view

import android.annotation.SuppressLint
import android.app.Activity
import android.content.Intent
import android.os.Bundle
import android.text.*
import android.util.Log
import android.view.*
import android.view.inputmethod.EditorInfo
import android.widget.EditText
import androidx.activity.result.ActivityResultLauncher
import androidx.activity.result.contract.ActivityResultContracts
import androidx.annotation.CheckResult
import androidx.core.content.ContextCompat
import androidx.core.view.get
import androidx.core.view.isVisible
import androidx.core.widget.addTextChangedListener
import androidx.fragment.app.Fragment
import androidx.fragment.app.viewModels
import androidx.lifecycle.lifecycleScope
import androidx.recyclerview.widget.RecyclerView
import com.likeminds.customgallery.CustomGallery
import com.likeminds.customgallery.media.model.*
import com.likeminds.feed.android.core.*
import com.likeminds.feed.android.core.databinding.LmFeedFragmentCreatePostBinding
import com.likeminds.feed.android.core.databinding.LmFeedItemMultipleMediaVideoBinding
import com.likeminds.feed.android.core.poll.create.view.LMFeedCreatePollActivity
import com.likeminds.feed.android.core.poll.result.model.LMFeedPollViewData
import com.likeminds.feed.android.core.post.create.model.LMFeedCreatePostExtras
import com.likeminds.feed.android.core.post.create.util.LMFeedCreateEditPostViewStyleUtil
import com.likeminds.feed.android.core.post.create.view.LMFeedCreatePostActivity.Companion.LM_FEED_CREATE_POST_EXTRAS
import com.likeminds.feed.android.core.post.create.view.LMFeedCreatePostActivity.Companion.POST_ATTACHMENTS_LIMIT
import com.likeminds.feed.android.core.post.create.viewmodel.LMFeedCreatePostViewModel
import com.likeminds.feed.android.core.post.model.LMFeedAttachmentViewData
import com.likeminds.feed.android.core.post.model.LMFeedLinkOGTagsViewData
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.model.LMFeedMediaViewData
import com.likeminds.feed.android.core.socialfeed.util.LMFeedPostBinderUtils
import com.likeminds.feed.android.core.topics.model.LMFeedTopicViewData
import com.likeminds.feed.android.core.topicselection.model.LMFeedTopicSelectionExtras
import com.likeminds.feed.android.core.topicselection.model.LMFeedTopicSelectionResultExtras
import com.likeminds.feed.android.core.topicselection.view.LMFeedTopicSelectionActivity
import com.likeminds.feed.android.core.ui.base.styles.LMFeedIconStyle
import com.likeminds.feed.android.core.ui.base.styles.setStyle
import com.likeminds.feed.android.core.ui.base.views.*
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.widgets.headerview.view.LMFeedHeaderView
import com.likeminds.feed.android.core.ui.widgets.poll.view.LMFeedPostPollView
import com.likeminds.feed.android.core.ui.widgets.post.postheaderview.view.LMFeedPostHeaderView
import com.likeminds.feed.android.core.ui.widgets.post.postmedia.style.LMFeedPostImageMediaViewStyle
import com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.*
import com.likeminds.feed.android.core.utils.*
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.getUrlIfExist
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.pluralizeOrCapitalize
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics.LMFeedScreenNames
import com.likeminds.feed.android.core.utils.base.LMFeedDataBoundViewHolder
import com.likeminds.feed.android.core.utils.coroutine.observeInLifecycle
import com.likeminds.feed.android.core.utils.membertagging.MemberTaggingUtil
import com.likeminds.feed.android.core.utils.pluralize.model.LMFeedWordAction
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData
import com.likeminds.feed.android.core.utils.video.LMFeedPostVideoPreviewAutoPlayHelper
import com.likeminds.usertagging.UserTagging
import com.likeminds.usertagging.model.TagUser
import com.likeminds.usertagging.model.UserTaggingConfig
import com.likeminds.usertagging.util.UserTaggingViewListener
import com.likeminds.usertagging.view.UserTaggingSuggestionListView
import kotlinx.coroutines.ExperimentalCoroutinesApi
import kotlinx.coroutines.FlowPreview
import kotlinx.coroutines.channels.awaitClose
import kotlinx.coroutines.flow.*

open class LMFeedCreatePostFragment :
    Fragment(),
    LMFeedPostAdapterListener {

    private lateinit var binding: LmFeedFragmentCreatePostBinding
    private lateinit var lmFeedCreatePostExtras: LMFeedCreatePostExtras

    private lateinit var etPostTextChangeListener: TextWatcher
    private lateinit var memberTagging: UserTaggingSuggestionListView

    private val createPostViewModel: LMFeedCreatePostViewModel by viewModels()

    private val postVideoPreviewAutoPlayHelper by lazy {
        LMFeedPostVideoPreviewAutoPlayHelper.getInstance()
    }

    private var selectedMediaUris: java.util.ArrayList<SingleUriData> = arrayListOf()
    private val selectedTopic by lazy {
        ArrayList<LMFeedTopicViewData>()
    }
    private var ogTags: LMFeedLinkOGTagsViewData? = null
    private var poll: LMFeedPollViewData? = null

    companion object {
        const val TAG = "CreatePostFragment"
        const val LM_FEED_CREATE_POST_FRAGMENT_EXTRAS = "LM_FEED_CREATE_POST_FRAGMENT_EXTRAS"
        const val TYPE_OF_ATTACHMENT_CLICKED = "image, video"

        fun getInstance(createPostExtras: LMFeedCreatePostExtras): LMFeedCreatePostFragment {
            val createPostFragment = LMFeedCreatePostFragment()
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_CREATE_POST_FRAGMENT_EXTRAS, createPostExtras)
            createPostFragment.arguments = bundle
            return createPostFragment
        }
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        //receive extras
        receiveExtras()
    }

    private fun receiveExtras() {
        if (arguments == null || arguments?.containsKey(LM_FEED_CREATE_POST_EXTRAS) == false) {
            requireActivity().supportFragmentManager.popBackStack()
            return
        }

        lmFeedCreatePostExtras = LMFeedExtrasUtil.getParcelable(
            arguments,
            LM_FEED_CREATE_POST_FRAGMENT_EXTRAS,
            LMFeedCreatePostExtras::class.java
        ) ?: throw emptyExtrasException(TAG)
    }

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View {
        binding = LmFeedFragmentCreatePostBinding.inflate(layoutInflater)

        //add customizations
        binding.apply {
            customizeCreatePostHeaderView(headerViewCreatePost)
            customizeAuthorView(authorView)
            customizeTopicsGroup(topicsGroup)
            customizePostComposer(etPostComposer)
            customizePostImageAttachment(postSingleImage)
            customizePostVideoAttachment(postSingleVideo)
            customizePostLinkViewAttachment(postLinkView)
            customizePostDocumentsAttachment(postDocumentsView)
            customizePostMultipleMedia(multipleMediaView)
            customizeAddMoreButton(btnAddMoreMedia)
            customizePostPollAttachment(pollView)
            customizePostHeadingComposer(etPostHeadingComposer)
            customizePostHeadingLimit(tvHeadingLimit)

            //set background color
            val backgroundColor =
                LMFeedStyleTransformer.createPostFragmentViewStyle.backgroundColor
            backgroundColor?.let { color ->
                root.setBackgroundColor(
                    ContextCompat.getColor(
                        requireContext(),
                        color
                    )
                )
            }
        }

        return binding.root
    }

    //customize header view of the fragment
    protected open fun customizeCreatePostHeaderView(headerViewCreatePost: LMFeedHeaderView) {
        headerViewCreatePost.apply {
            setStyle(LMFeedStyleTransformer.createPostFragmentViewStyle.headerViewStyle)

            setTitleText(
                getString(
                    R.string.lm_feed_create_s,
                    LMFeedCommunityUtil.getPostVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            )

            setSubmitText(getString(R.string.lm_feed_create))
            setSubmitButtonEnabled(false)
        }
    }

    //customize author view of the create post
    protected open fun customizeAuthorView(authorView: LMFeedPostHeaderView) {
        authorView.apply {
            setStyle(LMFeedStyleTransformer.createPostFragmentViewStyle.authorViewStyle)
        }
    }

    //customize topic selection view for a post
    protected open fun customizeTopicsGroup(topicsGroup: LMFeedChipGroup) {
        topicsGroup.apply {
            LMFeedPostBinderUtils.customizePostTopicsGroup(this)
        }
    }

    //customize post composer edit text
    protected open fun customizePostComposer(etPostComposer: LMFeedEditText) {
        // sets the hint to the post composer edit text
        val hint = when (LMFeedCoreApplication.selectedTheme) {
            LMFeedTheme.QNA_FEED -> {
                getString(R.string.lm_feed_add_description)
            }

            else -> {
                getString(R.string.lm_feed_write_something_here)
            }
        }
        etPostComposer.hint = hint

        etPostComposer.setStyle(LMFeedStyleTransformer.createPostFragmentViewStyle.postComposerStyle)
    }

    //customize add image attachment
    protected open fun customizePostImageAttachment(imageMediaView: LMFeedPostImageMediaView) {
        val updatedImageMediaStyles = getUpdatedImageMediaStyle() ?: return
        imageMediaView.setStyle(updatedImageMediaStyles)
    }

    private fun getUpdatedImageMediaStyle(): LMFeedPostImageMediaViewStyle? {
        val imageAttachmentViewStyle =
            LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postImageMediaStyle

        return imageAttachmentViewStyle?.toBuilder()
            ?.removeIconStyle(
                LMFeedIconStyle.Builder()
                    .inActiveSrc(R.drawable.lm_feed_ic_cross)
                    .build()
            )
            ?.build()
    }

    //customize add video attachment
    protected open fun customizePostVideoAttachment(videoMediaView: LMFeedPostVideoMediaView) {
        val videoAttachmentViewStyle =
            LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postVideoMediaStyle
        val updatedVideoAttachmentViewStyle =
            videoAttachmentViewStyle?.toBuilder()
                ?.removeIconStyle(
                    LMFeedIconStyle.Builder()
                        .inActiveSrc(R.drawable.lm_feed_ic_cross)
                        .build()
                )
                ?.build()

        updatedVideoAttachmentViewStyle?.let {
            videoMediaView.setStyle(it)
        }
    }

    //customize add link attachment
    protected open fun customizePostLinkViewAttachment(linkMediaView: LMFeedPostLinkMediaView) {
        val linkAttachmentViewStyle =
            LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postLinkViewStyle

        val updatedLinkAttachmentViewStyle = linkAttachmentViewStyle?.toBuilder()
            ?.linkRemoveIconStyle(
                LMFeedIconStyle.Builder()
                    .inActiveSrc(R.drawable.lm_feed_ic_cross)
                    .build()
            )
            ?.build()

        updatedLinkAttachmentViewStyle?.let {
            linkMediaView.setStyle(it)
        }
    }

    //customize add document attachment
    protected open fun customizePostDocumentsAttachment(documentsMediaView: LMFeedPostDocumentsMediaView) {
        val documentsAttachmentViewStyle =
            LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postDocumentsMediaStyle
                ?: return
        documentsMediaView.setStyle(documentsAttachmentViewStyle)
    }

    //customize add multi media attachment
    protected open fun customizePostMultipleMedia(multipleMediaView: LMFeedPostMultipleMediaView) {
        val multipleMediaViewStyle =
            LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postMultipleMediaStyle
                ?: return

        multipleMediaView.setStyle(multipleMediaViewStyle)
    }

    //customize add more media button attachment
    protected open fun customizeAddMoreButton(btnAddMoreMedia: LMFeedButton) {
        val addMoreButtonViewStyle =
            LMFeedStyleTransformer.createPostFragmentViewStyle.addMoreButtonStyle

        btnAddMoreMedia.setStyle(addMoreButtonViewStyle)
    }

    //customize poll attachment
    protected open fun customizePostPollAttachment(pollView: LMFeedPostPollView) {
        val updatedPollStyles =
            LMFeedCreateEditPostViewStyleUtil.getUpdatedPollViewStyles(isCreateFlow = true)
        pollView.setStyle(updatedPollStyles)
    }

    //customize post heading composer edit text
    protected open fun customizePostHeadingComposer(etPostHeadingComposer: LMFeedEditText) {
        etPostHeadingComposer.apply {
            val postHeadingComposerStyle =
                LMFeedStyleTransformer.createPostFragmentViewStyle.postHeadingComposerStyle

            if (postHeadingComposerStyle != null) {
                /** sets the ime options to [IME_ACTION_NEXT] and raw input type to [TYPE_TEXT_FLAG_CAP_SENTENCES]
                 * to provide the Next button on keypad and start the sentence with capital letter
                 */
                imeOptions = EditorInfo.IME_ACTION_NEXT
                setRawInputType(InputType.TYPE_TEXT_FLAG_CAP_SENTENCES)

                setStyle(postHeadingComposerStyle)
                LMFeedViewUtils.getMandatoryAsterisk(
                    getString(
                        R.string.lm_feed_add_your_s_here,
                        LMFeedCommunityUtil.getPostVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
                    ),
                    etPostHeadingComposer
                )
                show()
                binding.headingSeparator.show()
            } else {
                hide()
                binding.headingSeparator.hide()
            }
        }
    }

    //customize post heading limit text
    protected open fun customizePostHeadingLimit(tvPostHeadingLimitTextView: LMFeedTextView) {
        tvPostHeadingLimitTextView.apply {
            val postHeadingLimitTextViewStyle =
                LMFeedStyleTransformer.createPostFragmentViewStyle.postHeadingLimitTextStyle

            if (postHeadingLimitTextViewStyle != null) {
                binding.etPostHeadingComposer.filters =
                    arrayOf(InputFilter.LengthFilter(LMFeedAppearance.getPostHeadingLimit()))

                setStyle(postHeadingLimitTextViewStyle)
                setPostHeadingLimitText(this, 0)
                show()
            } else {
                hide()
            }
        }
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        initMemberTagging()
        fetchInitialData()
        initAddAttachmentsView()
        initPostComposerTextListener()
        initPostHeadingComposerTextListener()
        observeData()
        initListeners()
    }

    override fun onResume() {
        super.onResume()
        showPostMedia()
    }

    override fun onPause() {
        super.onPause()
        postVideoPreviewAutoPlayHelper.removePlayer()
    }

    override fun onDestroyView() {
        super.onDestroyView()
        postVideoPreviewAutoPlayHelper.removePlayer()
    }

    //initialize member tagging view
    private fun initMemberTagging() {
        memberTagging = binding.userTaggingView

        val listener = object : UserTaggingViewListener {
            override fun callApi(page: Int, searchName: String) {
                createPostViewModel.getMembersForTagging(page, searchName)
            }

            override fun onUserTagged(user: TagUser) {
                super.onUserTagged(user)
                LMFeedAnalytics.sendUserTagEvent(
                    user.uuid,
                    memberTagging.getTaggedMemberCount(),
                    LMFeedScreenNames.CREATE_POST
                )
            }
        }

        val config = UserTaggingConfig.Builder()
            .editText(binding.etPostComposer)
            .maxHeightInPercentage(0.4f)
            .color(LMFeedAppearance.getTextLinkColor())
            .hasAtRateSymbol(true)
            .build()

        UserTagging.initialize(memberTagging, config, listener)
    }

    //fetch initial data required for creating post
    private fun fetchInitialData() {
        createPostViewModel.getLoggedInUser()
        createPostViewModel.getAllTopics()
    }

    //initialize add attachments view
    private fun initAddAttachmentsView() {
        binding.apply {
            layoutAttachFiles.setOnClickListener {
                onAttachDocumentClicked()
            }

            layoutAddImage.setOnClickListener {
                onAttachImageClicked()
            }

            layoutAddVideo.setOnClickListener {
                onAttachVideoClicked()
            }

            layoutAddPoll.setOnClickListener {
                onAddPollClicked()
            }
        }
    }

    //on click of the attach image layout
    protected open fun onAttachImageClicked() {
        // sends clicked on attachment event for photo
        createPostViewModel.sendClickedOnAttachmentEvent("photo")

        startCustomGallery(galleryLauncher, listOf(IMAGE))
    }

    //on click of the attach video layout
    protected open fun onAttachVideoClicked() {
        // sends clicked on attachment event for video
        createPostViewModel.sendClickedOnAttachmentEvent("video")

        startCustomGallery(galleryLauncher, listOf(VIDEO))
    }

    //on click of the attach document layout
    protected open fun onAttachDocumentClicked() {
        // sends clicked on attachment event for file
        createPostViewModel.sendClickedOnAttachmentEvent("file")

        startCustomGallery(documentLauncher, listOf(PDF))
    }

    protected open fun onAddPollClicked() {
        // sends clicked on attachment event for poll
        createPostViewModel.sendClickedOnAttachmentEvent("poll")

        //start activity to create poll
        val intent = LMFeedCreatePollActivity.getIntent(requireContext())
        pollLauncher.launch(intent)
    }

    private val pollLauncher =
        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result ->
            if (result.resultCode == Activity.RESULT_OK) {
                poll = LMFeedExtrasUtil.getParcelable(
                    result.data?.extras,
                    LMFeedCreatePollActivity.LM_FEED_CREATE_POLL_RESULT,
                    LMFeedPollViewData::class.java
                )

                poll?.let {
                    showPostMedia()
                }
            } else {
                Log.d(TAG, "Poll not created")
            }
        }

    private fun startCustomGallery(
        launcher: ActivityResultLauncher<Intent>,
        mediaTypes: List<String>
    ) {
        CustomGallery.start(
            launcher,
            requireContext(),
            CustomGalleryConfig.Builder()
                .mediaTypes(mediaTypes)
                .allowMultipleSelect(true)
                .build()
        )
    }

    // adds text watcher on post content edit text
    @SuppressLint("ClickableViewAccessibility")
    @OptIn(ExperimentalCoroutinesApi::class, FlowPreview::class)
    private fun initPostComposerTextListener() {
        binding.etPostComposer.apply {
            /**
             * As the scrollable edit text is inside a scroll view,
             * this touch listener handles the scrolling of the edit text.
             * When the edit text is touched and has focus then it disables scroll of scroll-view.
             */
            setOnTouchListener(View.OnTouchListener { v, event ->
                if (hasFocus()) {
                    v.parent.requestDisallowInterceptTouchEvent(true)
                    when (event.action and MotionEvent.ACTION_MASK) {
                        MotionEvent.ACTION_SCROLL -> {
                            v.parent.requestDisallowInterceptTouchEvent(false)
                            return@OnTouchListener true
                        }
                    }
                }
                false
            })

            // text watcher with debounce to add delay in api calls for ogTags
            textChanges()
                .debounce(500)
                .distinctUntilChanged()
                .onEach {
                    val text = it?.toString()?.trim()
                    if (selectedMediaUris.isNotEmpty()) return@onEach
                    if (!text.isNullOrEmpty()) {
                        showPostMedia()
                    }
                }
                .launchIn(lifecycleScope)

            // text watcher to handlePostButton click-ability
            addTextChangedListener {
                val text = it?.toString()?.trim()
                if (text.isNullOrEmpty()) {
                    clearPreviewLink()
                }

                handleSubmitButtonVisibility()
            }
        }
    }

    // adds text change listener on post heading edit text
    @SuppressLint("ClickableViewAccessibility")
    private fun initPostHeadingComposerTextListener() {
        binding.etPostHeadingComposer.apply {
            /**
             * As the scrollable edit text is inside a scroll view,
             * this touch listener handles the scrolling of the edit text.
             * When the edit text is touched and has focus then it disables scroll of scroll-view.
             */
            setOnTouchListener(View.OnTouchListener { v, event ->
                if (hasFocus()) {
                    v.parent.requestDisallowInterceptTouchEvent(true)
                    when (event.action and MotionEvent.ACTION_MASK) {
                        MotionEvent.ACTION_SCROLL -> {
                            v.parent.requestDisallowInterceptTouchEvent(false)
                            return@OnTouchListener true
                        }
                    }
                }
                false
            })

            addTextChangedListener {
                val text = it?.toString()?.trim()
                if (text != null) {
                    setPostHeadingLimitText(binding.tvHeadingLimit, text.length)
                }

                handleSubmitButtonVisibility()
            }
        }
    }

    //sets the heading limit text to the heading limit text view
    protected open fun setPostHeadingLimitText(
        headingTextView: LMFeedTextView,
        headingTextLength: Int
    ) {
        headingTextView.text = getString(
            R.string.lm_feed_heading_limit_text_d,
            headingTextLength,
            LMFeedAppearance.getPostHeadingLimit()
        )
    }

    private fun observeData() {
        createPostViewModel.loggedInUser.observe(viewLifecycleOwner) { user ->
            initAuthorFrame(user)
        }

        createPostViewModel.showTopicFilter.observe(viewLifecycleOwner) { toShow ->
            if (toShow) {
                handleTopicSelectionView(true)
                initTopicSelectionView()
            } else {
                handleTopicSelectionView(false)
            }
        }

        // observes decodeUrlResponse and returns link ogTags
        createPostViewModel.decodeUrlResponse.observe(viewLifecycleOwner) { ogTags ->
            this.ogTags = ogTags
            initLinkView(ogTags)
        }

        // observes taggingData and sets the tagging members in the tagging view
        createPostViewModel.taggingData.observe(viewLifecycleOwner) { result ->
            MemberTaggingUtil.setMembersInView(memberTagging, result)
        }

        // observes addPostResponse, once post is created
        createPostViewModel.postAdded.observe(viewLifecycleOwner) { postAdded ->
            requireActivity().apply {
                if (postAdded) {
                    // post is already posted
                    setResult(Activity.RESULT_OK)
                } else {
                    // post is stored in db, now upload it from [FeedFragment]
                    setResult(LMFeedCreatePostActivity.RESULT_UPLOAD_POST)
                }
                finish()
            }
        }

        createPostViewModel.errorEventFlow.onEach { response ->
            when (response) {
                is LMFeedCreatePostViewModel.ErrorMessageEvent.GetLoggedInUser -> {
                    LMFeedViewUtils.showErrorMessageToast(requireContext(), response.errorMessage)
                }

                is LMFeedCreatePostViewModel.ErrorMessageEvent.GetTopic -> {
                    LMFeedViewUtils.showErrorMessageToast(requireContext(), response.errorMessage)
                }

                is LMFeedCreatePostViewModel.ErrorMessageEvent.AddPost -> {
                    binding.headerViewCreatePost.setSubmitButtonEnabled(
                        isEnabled = true,
                        showProgress = false
                    )
                    LMFeedViewUtils.showErrorMessageToast(requireContext(), response.errorMessage)
                }

                is LMFeedCreatePostViewModel.ErrorMessageEvent.DecodeUrl -> {
                    val postText = binding.etPostComposer.text.toString()
                    val link = postText.getUrlIfExist()
                    if (link != ogTags?.url) {
                        clearPreviewLink()
                    }
                }

                is LMFeedCreatePostViewModel.ErrorMessageEvent.TaggingList -> {
                    LMFeedViewUtils.showErrorMessageToast(
                        requireContext(),
                        response.errorMessage
                    )
                }
            }
        }.observeInLifecycle(viewLifecycleOwner)
    }

    //initializes all the listeners
    private fun initListeners() {
        binding.apply {
            headerViewCreatePost.setNavigationIconClickListener {
                onNavigationIconClick()
            }

            headerViewCreatePost.setSubmitButtonClickListener {
                val text = etPostComposer.text
                val updatedText = memberTagging.replaceSelectedMembers(text).trim()

                val updatedHeading = etPostHeadingComposer.text?.trim().toString()
                LMFeedViewUtils.hideKeyboard(binding.root)

                headerViewCreatePost.setSubmitButtonEnabled(
                    isEnabled = true,
                    showProgress = true
                )

                createPostViewModel.addPost(
                    context = requireContext(),
                    postTextContent = updatedText,
                    postHeading = updatedHeading,
                    fileUris = selectedMediaUris,
                    ogTags = ogTags,
                    selectedTopics = selectedTopic,
                    poll = poll
                )
            }
        }
    }

    //customize navigate back icon
    protected open fun onNavigationIconClick() {
        requireActivity().onBackPressedDispatcher.onBackPressed()
    }

    // renders data in the link view
    private fun initLinkView(data: LMFeedLinkOGTagsViewData) {
        val link = data.url ?: ""
        // sends link attached event with the link
        LMFeedAnalytics.sendLinkAttachedEvent(link, LMFeedScreenNames.CREATE_POST)
        binding.postLinkView.apply {
            show()
            setLinkImage(data.image)
            setLinkTitle(data.title)
            setLinkDescription(data.description)
            setLinkUrl(data.url)

            setLinkRemoveClickListener {
                binding.etPostComposer.removeTextChangedListener(etPostTextChangeListener)
                clearPreviewLink()
            }
        }
    }

    // clears link preview
    private fun clearPreviewLink() {
        ogTags = null
        binding.postLinkView.hide()
    }

    // handles the logic to show the type of post
    private fun showPostMedia() {
        checkIfAttachmentsLimitExceeded()

        when {
            selectedMediaUris.size >= 1 && MediaType.isPDF(selectedMediaUris.first().fileType) -> {
                ogTags = null
                showAttachedDocuments()
            }

            selectedMediaUris.size == 1 && MediaType.isImage(selectedMediaUris.first().fileType) -> {
                ogTags = null
                showAttachedImage()
            }

            selectedMediaUris.size == 1 && MediaType.isVideo(selectedMediaUris.first().fileType) -> {
                ogTags = null
                showAttachedVideo()
            }

            selectedMediaUris.size >= 1 -> {
                ogTags = null
                showMultiMediaAttachments()
            }

            poll != null -> {
                ogTags = null
                showPollAttachment()
            }

            else -> {
                val text = binding.etPostComposer.text?.trim()
                if (selectedMediaUris.size == 0 && text != null) {
                    showLinkPreview(text.toString())
                } else {
                    clearPreviewLink()
                }
                handleSubmitButtonVisibility()
                handleAddAttachmentLayouts(true)
            }
        }
    }

    // shows attached image in single image post type
    private fun showAttachedImage() {
        binding.apply {
            handleAddAttachmentLayouts(false)
            handleSubmitButtonVisibility()
            postSingleImage.show()
            postSingleVideo.hide()
            postLinkView.hide()
            postDocumentsView.hide()
            multipleMediaView.hide()
            btnAddMoreMedia.setOnClickListener {
                // sends clicked on attachment event for image and video
                createPostViewModel.sendAddMoreAttachmentClicked(TYPE_OF_ATTACHMENT_CLICKED)

                startCustomGallery(galleryLauncher, listOf(IMAGE, VIDEO))
            }

            postSingleImage.setRemoveIconClickListener {
                selectedMediaUris.clear()
                postSingleImage.hide()
                handleAddAttachmentLayouts(true)
                handleSubmitButtonVisibility()
            }

            val imageStyle = getUpdatedImageMediaStyle() ?: return
            postSingleImage.setImage(selectedMediaUris.first().uri, imageStyle)
        }
    }

    // shows attached video in single video post type
    private fun showAttachedVideo() {
        binding.apply {
            handleAddAttachmentLayouts(false)
            handleSubmitButtonVisibility()
            postSingleVideo.show()
            postSingleImage.hide()
            postLinkView.hide()
            postDocumentsView.hide()
            multipleMediaView.hide()
            btnAddMoreMedia.setOnClickListener {
                // sends clicked on attachment event for image and video
                createPostViewModel.sendClickedOnAttachmentEvent(TYPE_OF_ATTACHMENT_CLICKED)

                startCustomGallery(galleryLauncher, listOf(IMAGE, VIDEO))
            }

            postVideoPreviewAutoPlayHelper.playVideoInView(
                postSingleVideo,
                selectedMediaUris.first().uri
            )

            postSingleVideo.setRemoveIconClickListener {
                selectedMediaUris.clear()
                postSingleVideo.hide()
                handleAddAttachmentLayouts(true)
                handleSubmitButtonVisibility()
                postVideoPreviewAutoPlayHelper.removePlayer()
            }
        }
    }

    //shows view pager with multiple media
    private fun showMultiMediaAttachments() {
        binding.apply {
            handleAddAttachmentLayouts(false)
            handleSubmitButtonVisibility()
            postSingleImage.hide()
            postSingleVideo.hide()
            postLinkView.hide()
            postDocumentsView.hide()
            multipleMediaView.show()

            btnAddMoreMedia.visibility =
                if (selectedMediaUris.size >= POST_ATTACHMENTS_LIMIT) {
                    View.GONE
                } else {
                    View.VISIBLE
                }

            btnAddMoreMedia.setOnClickListener {
                // sends clicked on attachment event for image and video
                createPostViewModel.sendAddMoreAttachmentClicked(TYPE_OF_ATTACHMENT_CLICKED)

                startCustomGallery(galleryLauncher, listOf(IMAGE, VIDEO))
            }

            val attachments = LMFeedViewDataConvertor.convertSingleDataUri(selectedMediaUris)

            multipleMediaView.setViewPager(
                0,
                this@LMFeedCreatePostFragment,
                attachments,
                true
            )
        }
    }

    private fun showPollAttachment() {
        binding.apply {
            if (poll != null) {
                handleAddAttachmentLayouts(false)
                handleSubmitButtonVisibility()
                pollView.show()
                postSingleImage.hide()
                btnAddMoreMedia.hide()
                postSingleVideo.hide()
                postLinkView.hide()
                postDocumentsView.hide()
                multipleMediaView.hide()

                pollView.apply {
                    show()
                    setPollTitle(poll?.title ?: "")
                    setPollInfo(poll?.getPollSelectionText(requireContext()))
                    setTimeLeft(poll?.getExpireOnDate(requireContext()) ?: "")
                    setPollOptions(
                        0,
                        poll?.options ?: emptyList(),
                        LMFeedCreateEditPostViewStyleUtil.getUpdatedOptionViewStyle(),
                        null
                    )

                    setEditPollClicked {
                        onPollAttachmentEditClicked()
                    }

                    setClearPollClicked {
                        onPollAttachmentCleared()
                    }
                }
            }
        }
    }

    //start poll launcher for edit created poll
    protected open fun onPollAttachmentEditClicked() {
        val intent = LMFeedCreatePollActivity.getIntent(requireContext(), poll)
        pollLauncher.launch(intent)
    }

    //removes poll view when clear is cleared
    protected open fun onPollAttachmentCleared() {
        binding.pollView.apply {
            poll = null
            hide()
            showPostMedia()
        }
    }

    // shows link preview for link post type
    private fun showLinkPreview(text: String?) {
        binding.postLinkView.apply {
            if (text.isNullOrEmpty()) {
                clearPreviewLink()
                return
            }
            val link = text.getUrlIfExist()
            if (ogTags != null && link.equals(ogTags?.url)) {
                return
            }
            if (!link.isNullOrEmpty()) {
                if (link == ogTags?.url) {
                    return
                }
                clearPreviewLink()
                createPostViewModel.decodeUrl(link)
            } else {
                clearPreviewLink()
            }
        }
    }

    //hide/show topics related views
    private fun handleTopicSelectionView(showView: Boolean) {
        binding.apply {
            topicsGroup.isVisible = showView
            topicSeparator.isVisible = showView
        }
    }

    //init initial topic selection view with "Select Topic Chip"
    private fun initTopicSelectionView() {
        binding.topicsGroup.apply {
            removeAllChips()
            addChip(
                getString(R.string.lm_feed_select_topics),
                LMFeedStyleTransformer.createPostFragmentViewStyle.selectTopicsChipStyle
            ) {
                val extras = LMFeedTopicSelectionExtras.Builder()
                    .showAllTopicFilter(false)
                    .showEnabledTopicOnly(true)
                    .build()
                val intent = LMFeedTopicSelectionActivity.getIntent(context, extras)

                topicSelectionLauncher.launch(intent)
            }
        }
    }

    //start activity -> Topic Selection and check for result with selected topics
    private val topicSelectionLauncher =
        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result ->
            if (result.resultCode == Activity.RESULT_OK) {
                val bundle = result.data?.extras
                val resultExtras = LMFeedExtrasUtil.getParcelable(
                    bundle,
                    LMFeedTopicSelectionActivity.LM_FEED_TOPIC_SELECTION_RESULT_EXTRAS,
                    LMFeedTopicSelectionResultExtras::class.java
                ) ?: return@registerForActivityResult

                val selectedTopics = resultExtras.selectedTopics
                if (selectedTopics.isNotEmpty()) {
                    addTopicsToGroup(selectedTopics)
                }
            }
        }

    //add selected topics to group and add edit chip as well in the end
    private fun addTopicsToGroup(newSelectedTopics: List<LMFeedTopicViewData>) {
        this.selectedTopic.apply {
            clear()
            addAll(newSelectedTopics)
        }
        binding.topicsGroup.apply {
            //clear view
            removeAllChips()

            //add topics to group
            newSelectedTopics.forEach { topic ->
                addChip(topic.name, LMFeedStyleTransformer.postViewStyle.postTopicChipsStyle)
            }

            // add edit chip at end
            addChip(chipStyle = LMFeedStyleTransformer.createPostFragmentViewStyle.editChipStyle) {
                val extras = LMFeedTopicSelectionExtras.Builder()
                    .showAllTopicFilter(false)
                    .selectedTopics(selectedTopic)
                    .showEnabledTopicOnly(true)
                    .build()

                val intent = LMFeedTopicSelectionActivity.getIntent(context, extras)
                topicSelectionLauncher.launch(intent)
            }
        }
    }

    //set logged in user data to post header frame
    private fun initAuthorFrame(user: LMFeedUserViewData) {
        binding.nestedScrollCreatePost.show()
        binding.authorView.apply {
            setAuthorImage(user)
            setAuthorName(user.name)
        }
    }

    /**
     * Adds TextWatcher to edit text with Flow operators
     * **/
    @ExperimentalCoroutinesApi
    @CheckResult
    fun EditText.textChanges(): Flow<CharSequence?> {
        return callbackFlow<CharSequence?> {
            etPostTextChangeListener = object : TextWatcher {
                override fun afterTextChanged(s: Editable?) = Unit
                override fun beforeTextChanged(
                    s: CharSequence?,
                    start: Int,
                    count: Int,
                    after: Int
                ) = Unit

                override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {
                    (this@callbackFlow).trySend(s.toString())
                }
            }
            addTextChangedListener(etPostTextChangeListener)
            awaitClose { removeTextChangedListener(etPostTextChangeListener) }
        }.onStart { emit(text) }
    }

    // launcher to handle document (PDF) intent
    private val documentLauncher =
        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result ->
            if (result.resultCode == Activity.RESULT_OK) {
                val data = LMFeedExtrasUtil.getParcelable(
                    result.data?.extras,
                    CustomGallery.ARG_CUSTOM_GALLERY_RESULT,
                    CustomGalleryResult::class.java
                )
                if (data != null) {
                    onDocumentPicked(data)
                }
            }
        }

    private fun onDocumentPicked(documentResult: CustomGalleryResult) {
        // sends media attached event with media type and count
        val mediaUris = documentResult.medias
        createPostViewModel.sendMediaAttachedEvent(mediaUris)
        selectedMediaUris.addAll(mediaUris)

        if (mediaUris.isNotEmpty()) {
            checkIfAttachmentsLimitExceeded()
            showAttachedDocuments()
        }
    }

    // shows toast and removes extra items if attachments limit is exceeded
    private fun checkIfAttachmentsLimitExceeded() {
        if (selectedMediaUris.size > 10) {
            LMFeedViewUtils.showErrorMessageToast(
                requireContext(), requireContext().resources.getQuantityString(
                    R.plurals.lm_feed_you_can_select_upto_x_items,
                    POST_ATTACHMENTS_LIMIT,
                    POST_ATTACHMENTS_LIMIT
                )
            )
            val size = selectedMediaUris.size
            selectedMediaUris.subList(POST_ATTACHMENTS_LIMIT, size).clear()
        }
    }

    // shows document recycler view with attached files
    private fun showAttachedDocuments() {
        binding.apply {
            handleAddAttachmentLayouts(false)
            handleSubmitButtonVisibility()
            postSingleImage.hide()
            postSingleVideo.hide()
            postLinkView.hide()
            postDocumentsView.show()
            multipleMediaView.hide()

            btnAddMoreMedia.visibility =
                if (selectedMediaUris.size >= POST_ATTACHMENTS_LIMIT) {
                    View.GONE
                } else {
                    View.VISIBLE
                }

            btnAddMoreMedia.setOnClickListener {
                // sends clicked on attachment event for file
                createPostViewModel.sendAddMoreAttachmentClicked("file")

                startCustomGallery(documentLauncher, listOf(PDF))
            }
            val documentMediaViewData = LMFeedMediaViewData.Builder()
                .attachments(LMFeedViewDataConvertor.convertSingleDataUri(selectedMediaUris))
                .build()

            postDocumentsView.setAdapter(
                0,
                documentMediaViewData,
                this@LMFeedCreatePostFragment,
                true
            )

            postDocumentsView.setShowMoreTextClickListener {
                val updatedDocumentMediaViewData = documentMediaViewData.toBuilder()
                    .isExpanded(true)
                    .build()

                postDocumentsView.setAdapter(
                    0,
                    updatedDocumentMediaViewData,
                    this@LMFeedCreatePostFragment,
                    true
                )
            }
        }
    }

    // handles visibility of add attachment layouts
    private fun handleAddAttachmentLayouts(show: Boolean) {
        binding.groupAddAttachments.isVisible = show
        binding.btnAddMoreMedia.isVisible = !show
    }

    // handles the visible of submit post button
    private fun handleSubmitButtonVisibility() {
        binding.apply {
            if (LMFeedStyleTransformer.createPostFragmentViewStyle.postHeadingComposerStyle != null) {
                headerViewCreatePost.setSubmitButtonEnabled(
                    !etPostHeadingComposer.text?.trim().isNullOrEmpty()
                )
            } else {
                headerViewCreatePost.setSubmitButtonEnabled(
                    !etPostComposer.text?.trim().isNullOrEmpty() || selectedMediaUris.isNotEmpty()
                )
            }
        }
    }

    // launcher to handle gallery (IMAGE/VIDEO) intent
    private val galleryLauncher =
        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result ->
            if (result.resultCode == Activity.RESULT_OK) {
                val data = LMFeedExtrasUtil.getParcelable(
                    result.data?.extras,
                    CustomGallery.ARG_CUSTOM_GALLERY_RESULT,
                    CustomGalleryResult::class.java
                )

                if (data != null) {
                    onMediaPicked(data)
                }
            }
        }

    // adds the picked media to the selected media
    private fun onMediaPicked(mediaResult: CustomGalleryResult) {
        // sends media attached event with media type and count
        val mediaUris = mediaResult.medias
        createPostViewModel.sendMediaAttachedEvent(mediaUris)
        selectedMediaUris.addAll(mediaUris)
        showPostMedia()
    }

    override fun onPostDocumentMediaClicked(
        position: Int,
        parentPosition: Int,
        attachmentViewData: LMFeedAttachmentViewData
    ) {
        //open the pdf using Android's document view
        val pdfUri = attachmentViewData.attachmentMeta.uri
        if (pdfUri != null) {
            LMFeedAndroidUtils.startDocumentViewer(requireContext(), pdfUri)
        }
    }

    override fun onPostMultipleMediaPageChangeCallback(position: Int, parentPosition: Int) {
        super.onPostMultipleMediaPageChangeCallback(position, parentPosition)

        val viewPager = binding.multipleMediaView.viewpagerMultipleMedia

        // processes the current video whenever view pager's page is changed
        val itemMultipleMediaVideoBinding =
            ((viewPager[0] as RecyclerView).findViewHolderForAdapterPosition(position) as? LMFeedDataBoundViewHolder<*>)
                ?.binding as? LmFeedItemMultipleMediaVideoBinding

        if (itemMultipleMediaVideoBinding == null) {
            // in case the item is not a video
            postVideoPreviewAutoPlayHelper.removePlayer()
        } else {
            // processes the current video item
            postVideoPreviewAutoPlayHelper.playVideoInView(
                itemMultipleMediaVideoBinding.postVideoView,
                uri = selectedMediaUris[position].uri
            )
        }
    }

    override fun onMediaRemovedClicked(position: Int, mediaType: String) {
        super.onMediaRemovedClicked(position, mediaType)

        selectedMediaUris.removeAt(position)
        binding.apply {
            if (mediaType == PDF) {
                postDocumentsView.removeDocument(position)
                if (selectedMediaUris.size == 0) {
                    postDocumentsView.hide()
                }
            } else {
                multipleMediaView.removeMedia(position)
                postVideoPreviewAutoPlayHelper.removePlayer()
            }
        }
        showPostMedia()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/create/viewmodel/LMFeedCreatePostViewModel.kt
================================================
package com.likeminds.feed.android.core.post.create.viewmodel

import android.annotation.SuppressLint
import android.content.Context
import androidx.lifecycle.*
import androidx.work.WorkContinuation
import androidx.work.WorkManager
import com.likeminds.customgallery.media.model.*
import com.likeminds.customgallery.utils.file.util.FileUtil
import com.likeminds.feed.android.core.poll.result.model.LMFeedPollViewData
import com.likeminds.feed.android.core.post.create.model.LMFeedFileUploadViewData
import com.likeminds.feed.android.core.post.create.util.LMFeedPostAttachmentUploadWorker
import com.likeminds.feed.android.core.post.model.LMFeedLinkOGTagsViewData
import com.likeminds.feed.android.core.topics.model.LMFeedTopicViewData
import com.likeminds.feed.android.core.utils.LMFeedViewDataConvertor
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics.LMFeedKeys
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics.LMFeedScreenNames
import com.likeminds.feed.android.core.utils.coroutine.launchIO
import com.likeminds.feed.android.core.utils.membertagging.MemberTaggingUtil
import com.likeminds.feed.android.core.utils.user.LMFeedUserPreferences
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData
import com.likeminds.likemindsfeed.LMFeedClient
import com.likeminds.likemindsfeed.LMResponse
import com.likeminds.likemindsfeed.helper.model.*
import com.likeminds.likemindsfeed.post.model.AddPostRequest
import com.likeminds.likemindsfeed.post.model.AddTemporaryPostRequest
import com.likeminds.likemindsfeed.topic.model.GetTopicRequest
import com.likeminds.usertagging.model.TagUser
import com.likeminds.usertagging.util.UserTaggingDecoder
import com.likeminds.usertagging.util.UserTaggingUtil
import kotlinx.coroutines.channels.Channel
import kotlinx.coroutines.flow.receiveAsFlow
import org.json.JSONObject
import kotlin.collections.set

class LMFeedCreatePostViewModel : ViewModel() {

    private val lmFeedClient = LMFeedClient.getInstance()

    private val _postAdded = MutableLiveData<Boolean>()
    val postAdded: LiveData<Boolean> = _postAdded

    private val _decodeUrlResponse by lazy {
        MutableLiveData<LMFeedLinkOGTagsViewData>()
    }

    val decodeUrlResponse: LiveData<LMFeedLinkOGTagsViewData> by lazy {
        _decodeUrlResponse
    }

    private val _taggingData by lazy {
        MutableLiveData<Pair<Int, ArrayList<TagUser>>>()
    }

    val taggingData: LiveData<Pair<Int, ArrayList<TagUser>>> by lazy {
        _taggingData
    }

    private var temporaryPostId: Long? = null

    private val _loggedInUser: MutableLiveData<LMFeedUserViewData> by lazy { MutableLiveData<LMFeedUserViewData>() }
    val loggedInUser: LiveData<LMFeedUserViewData> by lazy { _loggedInUser }

    private val _showTopicFilter by lazy { MutableLiveData<Boolean>() }
    val showTopicFilter: LiveData<Boolean> by lazy { _showTopicFilter }

    sealed class ErrorMessageEvent {
        data class GetLoggedInUser(val errorMessage: String?) : ErrorMessageEvent()

        data class GetTopic(val errorMessage: String?) : ErrorMessageEvent()

        data class AddPost(val errorMessage: String?) : ErrorMessageEvent()

        data class DecodeUrl(val errorMessage: String?) : ErrorMessageEvent()

        data class TaggingList(val errorMessage: String?) : ErrorMessageEvent()
    }

    private val errorEventChannel = Channel<ErrorMessageEvent>(Channel.BUFFERED)
    val errorEventFlow = errorEventChannel.receiveAsFlow()

    // call to get logged user details
    fun getLoggedInUser() {
        viewModelScope.launchIO {
            val response = lmFeedClient.getLoggedInUserWithRights()

            if (response.success) {
                //get user
                val loggedInUser = response.data?.user

                //convert it to [LMFeedUserViewData]
                val userViewData = LMFeedViewDataConvertor.convertUser(loggedInUser)

                //send to UI
                _loggedInUser.postValue(userViewData)
            } else {
                //send error message to UI
                errorEventChannel.send(ErrorMessageEvent.GetLoggedInUser(response.errorMessage))
            }
        }
    }

    // calls DecodeUrl API
    fun decodeUrl(url: String) {
        viewModelScope.launchIO {
            val request = DecodeUrlRequest.Builder().url(url).build()

            val response = lmFeedClient.decodeUrl(request)
            postDecodeUrlResponse(response)
        }
    }

    //processes and posts the DecodeUrl response in LiveData
    private fun postDecodeUrlResponse(response: LMResponse<DecodeUrlResponse>) {
        viewModelScope.launchIO {
            if (response.success) {
                // processes link og tags if API call was successful
                val data = response.data ?: return@launchIO
                val ogTags = data.ogTags
                _decodeUrlResponse.postValue(LMFeedViewDataConvertor.convertLinkOGTags(ogTags))
            } else {
                // posts error message if API call failed
                errorEventChannel.send(ErrorMessageEvent.DecodeUrl(response.errorMessage))
            }
        }
    }

    //calls to topics api and check whether to show topics view or not
    fun getAllTopics() {
        viewModelScope.launchIO {
            val request = GetTopicRequest.Builder()
                .page(1)
                .pageSize(10)
                .isEnabled(true)
                .build()

            val response = lmFeedClient.getTopics(request)

            if (response.success) {
                val topics = response.data?.topics
                if (topics.isNullOrEmpty()) {
                    _showTopicFilter.postValue(false)
                } else {
                    _showTopicFilter.postValue(true)
                }
            } else {
                _showTopicFilter.postValue(false)
                errorEventChannel.send(ErrorMessageEvent.GetTopic(response.errorMessage))
            }
        }
    }

    //gets the members list with [searchName] for tagging
    fun getMembersForTagging(
        page: Int,
        searchName: String
    ) {
        viewModelScope.launchIO {
            val request = GetTaggingListRequest.Builder()
                .page(page)
                .pageSize(UserTaggingUtil.PAGE_SIZE)
                .searchName(searchName)
                .build()

            val response = lmFeedClient.getTaggingList(request)

            if (response.success) {
                val data = response.data ?: return@launchIO
                val users = data.members
                val tagUsers = MemberTaggingUtil.convertToTagUser(users)
                _taggingData.postValue(
                    Pair(
                        page,
                        java.util.ArrayList(tagUsers)
                    )
                )
            } else {
                errorEventChannel.send(ErrorMessageEvent.TaggingList(response.errorMessage))
            }
        }
    }

    // calls AddPost API and posts the response in LiveData
    fun addPost(
        context: Context,
        postTextContent: String?,
        postHeading: String? = null,
        fileUris: List<SingleUriData>? = null,
        ogTags: LMFeedLinkOGTagsViewData? = null,
        selectedTopics: ArrayList<LMFeedTopicViewData>? = null,
        poll: LMFeedPollViewData? = null,
        metadata: JSONObject? = null
    ) {
        viewModelScope.launchIO {
            var updatedText = postTextContent?.trim()
            if (updatedText.isNullOrEmpty()) {
                updatedText = null
            }

            var updatedHeading = postHeading?.trim()
            if (updatedHeading.isNullOrEmpty()) {
                updatedHeading = null
            }

            val topicIds = selectedTopics?.map {
                it.id
            }

            if (!fileUris.isNullOrEmpty()) {
                // if the post has upload-able attachments
                temporaryPostId = System.currentTimeMillis()
                val postId = temporaryPostId ?: 0
                val updatedFileUris = includeAttachmentMetaData(context, fileUris)
                val uploadData = startMediaUploadWorker(
                    context,
                    postId,
                    updatedFileUris.size
                )

                // adds post data in local db
                storePost(
                    uploadData,
                    updatedText,
                    updatedHeading,
                    updatedFileUris,
                    selectedTopics,
                    metadata
                )
            } else {
                // if the post does not have any upload-able attachments
                val requestBuilder = AddPostRequest.Builder()
                    .text(updatedText)
                    .heading(updatedHeading)

                if (!topicIds.isNullOrEmpty()) {
                    //if user has selected any topics
                    requestBuilder.topicIds(topicIds)
                }

                when {
                    //attachment for link
                    ogTags != null -> {
                        requestBuilder.attachments(
                            LMFeedViewDataConvertor.convertAttachments(
                                ogTags,
                                Pair(null, metadata)
                            )
                        )
                    }

                    //attachment for poll
                    poll != null -> {
                        val pollAttachment =
                            LMFeedViewDataConvertor.convertPoll(poll, Pair(null, metadata))
                        requestBuilder.attachments(pollAttachment)
                    }

                    //attachment for custom widget
                    metadata != null -> {
                        val customAttachment =
                            listOf(LMFeedViewDataConvertor.convertCustomWidget(null, metadata))
                        requestBuilder.attachments(customAttachment)
                    }
                }

                val request = requestBuilder.build()

                val response = lmFeedClient.addPost(request)
                if (response.success) {
                    // sends post creation completed event
                    sendPostCreationCompletedEvent(
                        updatedText,
                        ogTags,
                        selectedTopics
                    )
                    _postAdded.postValue(true)
                } else {
                    val errorMessage = response.errorMessage

                    sendPostCreationFailedEvent(
                        updatedText,
                        ogTags,
                        selectedTopics,
                        errorMessage
                    )
                    errorEventChannel.send(ErrorMessageEvent.AddPost(errorMessage))
                }
            }
        }
    }

    /**
     * Includes attachment's meta data such as dimensions, thumbnails, etc
     * @param context
     * @param files List<SingleUriData>?
     */
    private fun includeAttachmentMetaData(
        context: Context,
        files: List<SingleUriData>,
    ): List<LMFeedFileUploadViewData> {
        return files.map {
            // generates localFilePath from the ContentUri provided by client
            val fileUploadViewData = LMFeedViewDataConvertor.convertFileUploadViewData(it)

            val userPreferences = LMFeedUserPreferences(context)
            val loggedInUUID = userPreferences.getUUID()

            // generates awsFolderPath to upload the file
            val awsFolderPath = generateAWSFolderPathFromFileName(it.mediaName, loggedInUUID)

            val builder = fileUploadViewData.toBuilder()
                .localFilePath(it.localFilePath)
                .awsFolderPath(awsFolderPath)

            when (fileUploadViewData.fileType) {
                IMAGE -> {
                    //get height and width of the image
                    val dimensions = FileUtil.getImageDimensions(context, fileUploadViewData.uri)
                    builder.width(dimensions.first)
                        .thumbnailUri(fileUploadViewData.uri)
                        .height(dimensions.second)
                        .build()
                }

                VIDEO -> {
                    //get thumbnail for the video
                    val thumbnailUri =
                        FileUtil.getVideoThumbnailUri(context, fileUploadViewData.uri)

                    //get height and width of the video
                    val dimensions = FileUtil.getVideoDimensions(context, fileUploadViewData.uri)
                    builder.height(dimensions.second).width(dimensions.first)

                    if (thumbnailUri != null) {
                        builder.thumbnailUri(thumbnailUri).build()
                    } else {
                        builder.build()
                    }
                }

                else -> {
                    //get file extension
                    val format = FileUtil.getFileExtensionFromFileName(fileUploadViewData.mediaName)
                    builder
                        .format(format)
                        .build()
                }
            }
        }
    }

    // creates PostAttachmentUploadWorker to start media upload
    @SuppressLint("EnqueueWork")
    private fun startMediaUploadWorker(
        context: Context,
        postId: Long,
        filesCount: Int
    ): Pair<WorkContinuation, String> {
        val oneTimeWorkRequest = LMFeedPostAttachmentUploadWorker.getInstance(postId, filesCount)
        val workContinuation = WorkManager.getInstance(context).beginWith(oneTimeWorkRequest)
        return Pair(workContinuation, oneTimeWorkRequest.id.toString())
    }

    //add post:{} into local db
    private fun storePost(
        uploadData: Pair<WorkContinuation, String>,
        text: String?,
        heading: String?,
        fileUris: List<LMFeedFileUploadViewData>,
        selectedTopics: ArrayList<LMFeedTopicViewData>?,
        metadata: JSONObject? = null
    ) {
        viewModelScope.launchIO {
            val workerUUID = uploadData.second
            val temporaryPostId = "-$temporaryPostId"

            val post = LMFeedViewDataConvertor.convertPost(
                temporaryPostId,
                workerUUID,
                text,
                heading,
                fileUris,
                metadata
            )

            val topics = LMFeedViewDataConvertor.convertTopicsViewData(selectedTopics?.toList())

            //create add temporary post request
            val request = AddTemporaryPostRequest.Builder()
                .post(post)
                .topics(topics)
                .postThumbnail(fileUris.first().thumbnailUri.toString())
                .workerUUID(workerUUID)
                .build()

            // add it to local db
            lmFeedClient.addTemporaryPost(request)
            _postAdded.postValue(false)
            uploadData.first.enqueue()
        }
    }

    /**
     * @param fileName - Name of the file to be uploaded
     * @return awsFolderPath - Generates and returns AWS folder path where file will be uploaded
     */
    private fun generateAWSFolderPathFromFileName(
        fileName: String?,
        userUniqueId: String?
    ): String {
        val fileNameWithoutExtension = fileName?.substringBeforeLast(".")
        val extension = FileUtil.getFileExtensionFromFileName(fileName)
        return "post/$userUniqueId/" + fileNameWithoutExtension + "-" + System.currentTimeMillis() + "." + extension
    }

    /**
     * Triggers when the user opens post is created successfully
     **/
    private fun sendPostCreationCompletedEvent(
        postText: String?,
        ogTags: LMFeedLinkOGTagsViewData?,
        topics: List<LMFeedTopicViewData>?
    ) {
        val map = hashMapOf<String, String>()
        val taggedUsers = UserTaggingDecoder.decodeAndReturnAllTaggedMembers(postText)

        if (taggedUsers.isNotEmpty()) {
            map["user_tagged"] = "yes"
            map["tagged_users_count"] = taggedUsers.size.toString()
            val taggedUserIds =
                taggedUsers.joinToString {
                    it.first
                }
            map["tagged_users_uuid"] = taggedUserIds
        } else {
            map["user_tagged"] = "no"
        }

        if (ogTags != null) {
            map["link_attached"] = "yes"
            map["link"] = ogTags.url ?: ""
        } else {
            map["link_attached"] = "no"
        }

        if (!topics.isNullOrEmpty()) {
            val topicsNameString = topics.joinToString(", ") { it.name }
            map["topics_added"] = "yes"
            map[LMFeedKeys.POST_TOPICS] = topicsNameString
        } else {
            map["topics_added"] = "no"
        }

        map["image_attached"] = "no"
        map["video_attached"] = "no"
        map["document_attached"] = "no"

        map[LMFeedKeys.SCREEN_NAME] = LMFeedScreenNames.CREATE_POST

        LMFeedAnalytics.track(
            LMFeedAnalytics.LMFeedEvents.POST_CREATION_COMPLETED,
            map
        )
    }

    /**
     * Triggers when the user opens post is not created successfully
     **/
    private fun sendPostCreationFailedEvent(
        postText: String?,
        ogTags: LMFeedLinkOGTagsViewData?,
        topics: List<LMFeedTopicViewData>?,
        errorMessage: String?
    ) {
        val map = hashMapOf<String, String>()
        val taggedUsers = UserTaggingDecoder.decodeAndReturnAllTaggedMembers(postText)

        if (taggedUsers.isNotEmpty()) {
            map["user_tagged"] = "yes"
            map["tagged_users_count"] = taggedUsers.size.toString()
            val taggedUserIds =
                taggedUsers.joinToString {
                    it.first
                }
            map["tagged_users_uuid"] = taggedUserIds
        } else {
            map["user_tagged"] = "no"
        }

        if (ogTags != null) {
            map["link_attached"] = "yes"
            map["link"] = ogTags.url ?: ""
        } else {
            map["link_attached"] = "no"
        }

        if (!topics.isNullOrEmpty()) {
            val topicsNameString = topics.joinToString(", ") { it.name }
            map["topics_added"] = "yes"
            map[LMFeedKeys.POST_TOPICS] = topicsNameString
        } else {
            map["topics_added"] = "no"
        }

        map["image_attached"] = "no"
        map["video_attached"] = "no"
        map["document_attached"] = "no"
        map["error_message"] = errorMessage ?: "Something went wrong!"

        map[LMFeedKeys.SCREEN_NAME] = LMFeedScreenNames.CREATE_POST

        LMFeedAnalytics.track(
            LMFeedAnalytics.LMFeedEvents.POST_CREATION_ERROR,
            map
        )
    }

    /**
     * Triggers event when the user clicks on add attachment
     * @param type - type of attachment
     */
    fun sendClickedOnAttachmentEvent(type: String) {
        LMFeedAnalytics.track(
            LMFeedAnalytics.LMFeedEvents.CLICKED_ON_ATTACHMENT,
            mapOf(
                "type" to type,
                LMFeedKeys.SCREEN_NAME to LMFeedScreenNames.CREATE_POST
            )
        )
    }

    /**
     * Triggers event when the user clicks on add more attachment
     * @param type - type of attachment
     */
    fun sendAddMoreAttachmentClicked(type: String) {
        LMFeedAnalytics.track(
            LMFeedAnalytics.LMFeedEvents.ADD_MORE_ATTACHMENT,
            mapOf(
                "type" to type,
                LMFeedKeys.SCREEN_NAME to LMFeedScreenNames.CREATE_POST
            )
        )
    }

    /**
     * Triggers when the user attaches any media
     * @param data - list of uris od all the attached media
     **/
    fun sendMediaAttachedEvent(data: List<SingleUriData>) {
        // counts number of images in attachments
        val imageCount = data.count {
            it.fileType == IMAGE
        }
        // counts number of videos in attachments
        val videoCount = data.count {
            it.fileType == VIDEO
        }
        // counts number of documents in attachments
        val docsCount = data.count {
            it.fileType == PDF
        }

        // sends image attached event if imageCount > 0
        if (imageCount > 0) {
            sendImageAttachedEvent(imageCount)
        }
        // sends image attached event if videoCount > 0
        if (videoCount > 0) {
            sendVideoAttachedEvent(videoCount)
        }
        // sends image attached event if docsCount > 0
        if (docsCount > 0) {
            sendDocumentAttachedEvent(docsCount)
        }
    }

    /**
     * Triggers when the user attaches image
     * @param imageCount - number of attached images
     **/
    private fun sendImageAttachedEvent(imageCount: Int) {
        LMFeedAnalytics.track(
            LMFeedAnalytics.LMFeedEvents.IMAGE_ATTACHED_TO_POST,
            mapOf(
                "image_count" to imageCount.toString(),
                LMFeedKeys.SCREEN_NAME to LMFeedScreenNames.CREATE_POST
            )
        )
    }

    /**
     * Triggers when the user attaches video
     * @param videoCount - number of attached videos
     **/
    private fun sendVideoAttachedEvent(videoCount: Int) {
        LMFeedAnalytics.track(
            LMFeedAnalytics.LMFeedEvents.VIDEO_ATTACHED_TO_POST,
            mapOf(
                "video_count" to videoCount.toString(),
                LMFeedKeys.SCREEN_NAME to LMFeedScreenNames.CREATE_POST
            )
        )
    }

    /**
     * Triggers when the user attaches document
     * @param documentCount - number of attached documents
     **/
    private fun sendDocumentAttachedEvent(documentCount: Int) {
        LMFeedAnalytics.track(
            LMFeedAnalytics.LMFeedEvents.DOCUMENT_ATTACHED_TO_POST,
            mapOf(
                "document_count" to documentCount.toString(),
                LMFeedKeys.SCREEN_NAME to LMFeedScreenNames.CREATE_POST
            )
        )
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/create/viewstyle/LMFeedCreatePostFragmentViewStyle.kt
================================================
package com.likeminds.feed.android.core.post.create.viewstyle

import android.text.TextUtils
import androidx.annotation.ColorRes
import com.likeminds.feed.android.core.*
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.widgets.headerview.style.LMFeedHeaderViewStyle
import com.likeminds.feed.android.core.ui.widgets.post.postheaderview.style.LMFeedPostHeaderViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle
import com.likeminds.feed.android.core.utils.model.LMFeedPadding

/***
 * [LMFeedCreatePostFragmentViewStyle] helps you customize [LMFeedCreatePostFragment]
 * @property headerViewStyle: [LMFeedHeaderViewStyle] helps to customize the header/toolbar of the view
 * @property authorViewStyle: [LMFeedPostHeaderViewStyle] helps to customize the author view
 * @property selectTopicsChipStyle: [LMFeedChipStyle] helps to customize the topic selection view to create a post
 * @property editChipStyle: [LMFeedChipStyle] helps to customize the icon of selected topics
 * @property postComposerStyle: [LMFeedEditTextStyle] helps to customize the post composer
 * @property postHeadingComposerStyle: [LMFeedEditTextStyle] helps to customize the post heading composer
 * @property postHeadingLimitTextStyle: [LMFeedTextStyle] helps to customize the post heading limit text view
 * @property addMoreButtonStyle: [LMFeedButtonStyle] helps to customize the add more button style
 * @property backgroundColor: [Int] background color for the view, to provided in [ColorRes] format
 */
class LMFeedCreatePostFragmentViewStyle private constructor(
    //header view style
    val headerViewStyle: LMFeedHeaderViewStyle,
    //author frame view style
    val authorViewStyle: LMFeedPostHeaderViewStyle,
    //select topics chip style
    val selectTopicsChipStyle: LMFeedChipStyle,
    //edit chip style
    val editChipStyle: LMFeedChipStyle,
    //post composer view style
    val postComposerStyle: LMFeedEditTextStyle,
    //post heading composer view style
    val postHeadingComposerStyle: LMFeedEditTextStyle?,
    //post heading limit text style
    val postHeadingLimitTextStyle: LMFeedTextStyle?,
    //add more media button style
    val addMoreButtonStyle: LMFeedButtonStyle,
    //background color of the screen
    @ColorRes val backgroundColor: Int?,
) : LMFeedViewStyle {
    class Builder {
        private var headerViewStyle: LMFeedHeaderViewStyle = LMFeedHeaderViewStyle.Builder()
            .titleTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_black)
                    .textSize(R.dimen.lm_feed_header_view_title_text_size)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .maxLines(1)
                    .ellipsize(TextUtils.TruncateAt.END)
                    .build()
            )
            .backgroundColor(R.color.lm_feed_white)
            .navigationIconStyle(
                LMFeedIconStyle.Builder()
                    .iconTint(R.color.lm_feed_black)
                    .inActiveSrc(R.drawable.lm_feed_ic_arrow_back_black_24dp)
                    .iconPadding(
                        LMFeedPadding(
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding
                        )
                    )
                    .build()
            )
            .submitTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_grey)
                    .textSize(R.dimen.lm_feed_text_large)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .build()
            )
            .activeSubmitColor(LMFeedAppearance.getButtonColor())
            .build()

        private var authorViewStyle: LMFeedPostHeaderViewStyle = LMFeedPostHeaderViewStyle.Builder()
            .authorImageViewStyle(
                LMFeedImageStyle.Builder()
                    .isCircle(true)
                    .build()
            )
            .authorNameViewStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_raisin_black)
                    .textSize(R.dimen.lm_feed_text_large)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .maxLines(1)
                    .ellipsize(TextUtils.TruncateAt.END)
                    .build()
            )
            .build()

        private var selectTopicsChipStyle: LMFeedChipStyle = LMFeedChipStyle.Builder()
            .chipBackgroundColor(R.color.lm_feed_majorelle_blue_10)
            .chipStartPadding(R.dimen.lm_feed_regular_padding)
            .chipIcon(R.drawable.lm_feed_ic_add_topics)
            .chipIconSize(R.dimen.lm_feed_chip_default_icon_size)
            .chipIconTint(LMFeedAppearance.getButtonColor())
            .build()

        private var editChipStyle: LMFeedChipStyle = LMFeedChipStyle.Builder()
            .chipBackgroundColor(R.color.lm_feed_majorelle_blue_10)
            .chipEndPadding(R.dimen.lm_feed_edit_chip_end_size)
            .chipStartPadding(R.dimen.lm_feed_edit_chip_end_size)
            .chipIcon(R.drawable.lm_feed_ic_edit_topic)
            .chipIconSize(R.dimen.lm_feed_chip_default_icon_size)
            .chipIconTint(LMFeedAppearance.getButtonColor())
            .build()

        private var postComposerStyle: LMFeedEditTextStyle = LMFeedEditTextStyle.Builder()
            .inputTextStyle(
                LMFeedTextStyle.Builder()
                    .ellipsize(TextUtils.TruncateAt.END)
                    .maxHeight(R.dimen.lm_feed_post_composer_max_height)
                    .minHeight(R.dimen.lm_feed_post_composer_min_height)
                    .textColor(R.color.lm_feed_dark_grey)
                    .textSize(R.dimen.lm_feed_text_large)
                    .build()
            )
            .hintTextColor(R.color.lm_feed_maastricht_blue_40)
            .build()

        private var postHeadingComposerStyle: LMFeedEditTextStyle? =
            if (LMFeedCoreApplication.selectedTheme == LMFeedTheme.QNA_FEED) {
                LMFeedEditTextStyle.Builder()
                    .inputTextStyle(
                        LMFeedTextStyle.Builder()
                            .ellipsize(TextUtils.TruncateAt.END)
                            .maxHeight(R.dimen.lm_feed_post_heading_composer_max_height)
                            .minHeight(R.dimen.lm_feed_post_heading_composer_min_height)
                            .textColor(R.color.lm_feed_dark_grey)
                            .fontResource(R.font.lm_feed_roboto_medium)
                            .textSize(R.dimen.lm_feed_text_large)
                            .build()
                    )
                    .hintTextColor(R.color.lm_feed_maastricht_blue_40)
                    .build()
            } else {
                null
            }

        private var postHeadingLimitTextStyle: LMFeedTextStyle? =
            if (LMFeedCoreApplication.selectedTheme == LMFeedTheme.QNA_FEED) {
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_dark_grey_70)
                    .textSize(R.dimen.lm_feed_text_small)
                    .fontResource(R.font.lm_feed_roboto)
                    .build()
            } else {
                null
            }

        private var addMoreButtonStyle: LMFeedButtonStyle = LMFeedButtonStyle.Builder()
            .textStyle(
                LMFeedTextStyle.Builder()
                    .textSize(R.dimen.lm_feed_text_medium)
                    .textColor(LMFeedAppearance.getButtonColor())
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .textAllCaps(false)
                    .build()
            )
            .iconTint(LMFeedAppearance.getButtonColor())
            .icon(R.drawable.lm_feed_ic_plus)
            .build()

        @ColorRes
        private var backgroundColor: Int? = null

        fun headerViewStyle(headerViewStyle: LMFeedHeaderViewStyle) = apply {
            this.headerViewStyle = headerViewStyle
        }

        fun authorViewStyle(authorViewStyle: LMFeedPostHeaderViewStyle) =
            apply { this.authorViewStyle = authorViewStyle }

        fun selectTopicsChipStyle(selectTopicsChipStyle: LMFeedChipStyle) =
            apply { this.selectTopicsChipStyle = selectTopicsChipStyle }

        fun editChipStyle(editChipStyle: LMFeedChipStyle) =
            apply { this.editChipStyle = editChipStyle }

        fun postComposerStyle(postComposerStyle: LMFeedEditTextStyle) = apply {
            this.postComposerStyle = postComposerStyle
        }

        fun postHeadingComposerStyle(postHeadingComposerStyle: LMFeedEditTextStyle?) = apply {
            this.postHeadingComposerStyle = postHeadingComposerStyle
        }

        fun postHeadingLimitTextStyle(postHeadingLimitTextStyle: LMFeedTextStyle?) = apply {
            this.postHeadingLimitTextStyle = postHeadingLimitTextStyle
        }

        fun addMoreButtonStyle(addMoreButtonStyle: LMFeedButtonStyle) = apply {
            this.addMoreButtonStyle = addMoreButtonStyle
        }

        fun backgroundColor(@ColorRes backgroundColor: Int?) = apply {
            this.backgroundColor = backgroundColor
        }

        fun build() = LMFeedCreatePostFragmentViewStyle(
            headerViewStyle,
            authorViewStyle,
            selectTopicsChipStyle,
            editChipStyle,
            postComposerStyle,
            postHeadingComposerStyle,
            postHeadingLimitTextStyle,
            addMoreButtonStyle,
            backgroundColor
        )
    }

    fun toBuilder(): Builder {
        return Builder().headerViewStyle(headerViewStyle)
            .authorViewStyle(authorViewStyle)
            .selectTopicsChipStyle(selectTopicsChipStyle)
            .editChipStyle(editChipStyle)
            .postComposerStyle(postComposerStyle)
            .postHeadingComposerStyle(postHeadingComposerStyle)
            .postHeadingLimitTextStyle(postHeadingLimitTextStyle)
            .addMoreButtonStyle(addMoreButtonStyle)
            .backgroundColor(backgroundColor)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/detail/adapter/LMFeedPostDetailAdapter.kt
================================================
package com.likeminds.feed.android.core.post.detail.adapter

import android.view.View
import com.likeminds.feed.android.core.post.detail.adapter.databinders.*
import com.likeminds.feed.android.core.post.detail.model.LMFeedCommentViewData
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.adapter.databinders.*
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.getItemInList
import com.likeminds.feed.android.core.utils.base.*

class LMFeedPostDetailAdapter(
    private val postAdapterListener: LMFeedPostAdapterListener,
    private val postDetailAdapterListener: LMFeedPostDetailAdapterListener,
    private val replyAdapterListener: LMFeedReplyAdapterListener
) : LMFeedBaseRecyclerAdapter<LMFeedBaseViewType>() {

    init {
        initViewDataBinders()
    }

    override fun getSupportedViewDataBinder(): MutableList<LMFeedViewDataBinder<*, *>> {
        val viewDataBinders = ArrayList<LMFeedViewDataBinder<*, *>>(10)

        val itemCommentsCountViewDataBinder = LMFeedItemCommentsCountViewDataBinder()
        viewDataBinders.add(itemCommentsCountViewDataBinder)

        val itemCommentViewDataBinder =
            LMFeedItemCommentViewDataBinder(postDetailAdapterListener, replyAdapterListener)
        viewDataBinders.add(itemCommentViewDataBinder)

        val itemPostTextOnlyBinder =
            LMFeedItemPostTextOnlyViewDataBinder(postAdapterListener)
        viewDataBinders.add(itemPostTextOnlyBinder)

        val itemPostSingleImageViewDataBinder =
            LMFeedItemPostSingleImageViewDataBinder(postAdapterListener)
        viewDataBinders.add(itemPostSingleImageViewDataBinder)

        val itemPostSingleVideoViewDataBinder =
            LMFeedItemPostSingleVideoViewDataBinder(postAdapterListener)
        viewDataBinders.add(itemPostSingleVideoViewDataBinder)

        val itemPostLinkViewDataBinder =
            LMFeedItemPostLinkViewDataBinder(postAdapterListener)
        viewDataBinders.add(itemPostLinkViewDataBinder)

        val lmFeedItemPostDocumentsViewDataBinder =
            LMFeedItemPostDocumentsViewDataBinder(postAdapterListener)
        viewDataBinders.add(lmFeedItemPostDocumentsViewDataBinder)

        val itemPostMultipleMediaViewDataBinder =
            LMFeedItemPostMultipleMediaViewDataBinder(postAdapterListener)
        viewDataBinders.add(itemPostMultipleMediaViewDataBinder)

        val itemPostPollViewDataBinder =
            LMFeedItemPostPollViewDataBinder(postAdapterListener)
        viewDataBinders.add(itemPostPollViewDataBinder)

        val itemPostCustomWidgetViewDataBinder =
            LMFeedItemPostCustomWidgetViewDataBinder(postAdapterListener)
        viewDataBinders.add(itemPostCustomWidgetViewDataBinder)

        val itemNoCommentsFoundBinder = LMFeedItemNoCommentsFoundViewDataBinder()
        viewDataBinders.add(itemNoCommentsFoundBinder)

        return viewDataBinders
    }

    //replace any view data binder provide by the customer
    fun replaceViewDataBinder(viewType: Int, viewDataBinder: LMFeedViewDataBinder<*, *>) {
        supportedViewBinderResolverMap.put(viewType, viewDataBinder)
    }

    operator fun get(position: Int): LMFeedBaseViewType? {
        return items().getItemInList(position)
    }
}

interface LMFeedPostDetailAdapterListener {

    fun onCommentContentSeeMoreClicked(position: Int, comment: LMFeedCommentViewData) {
        //triggered when the user clicks on "See More" on comment content
    }

    fun onCommentLiked(position: Int, comment: LMFeedCommentViewData) {
        //triggered when the user likes a comment
    }

    fun onCommentLikesCountClicked(position: Int, comment: LMFeedCommentViewData) {
        //triggered when the user clicks on the comment's likes count
    }

    fun onCommentReplyClicked(position: Int, comment: LMFeedCommentViewData) {
        //triggered when the user clicks on reply on a comment
    }

    fun onCommentReplyCountClicked(
        position: Int,
        comment: LMFeedCommentViewData,
        areRepliesVisible: Boolean
    ) {
        //triggered when the user clicks on reply count on a comment
    }

    fun onCommentMenuIconClicked(
        position: Int,
        anchorView: View,
        comment: LMFeedCommentViewData
    ) {
        //triggered when the menu item of any comment is clicked
    }

    fun onCommentContentLinkClicked(url: String) {
        //triggered when link in the reply content is clicked
    }

    fun onCommenterHeaderClicked(position: Int, commentViewData: LMFeedCommentViewData) {
        //triggered when the header of the commenter is clicked
    }

    fun onCommentTaggedMemberClicked(position: Int, uuid: String) {
        // triggered when user click on tag in a comment
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/detail/adapter/LMFeedReplyAdapter.kt
================================================
package com.likeminds.feed.android.core.post.detail.adapter

import android.view.View
import com.likeminds.feed.android.core.post.detail.adapter.databinders.LMFeedItemReplyViewDataBinder
import com.likeminds.feed.android.core.post.detail.adapter.databinders.LMFeedItemViewMoreReplyViewDataBinder
import com.likeminds.feed.android.core.post.detail.model.LMFeedCommentViewData
import com.likeminds.feed.android.core.post.detail.model.LMFeedViewMoreReplyViewData
import com.likeminds.feed.android.core.utils.base.LMFeedBaseRecyclerAdapter
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder

class LMFeedReplyAdapter(
    private val replyAdapterListener: LMFeedReplyAdapterListener
) : LMFeedBaseRecyclerAdapter<LMFeedBaseViewType>() {

    init {
        initViewDataBinders()
    }

    override fun getSupportedViewDataBinder(): MutableList<LMFeedViewDataBinder<*, *>> {
        val viewDataBinders = ArrayList<LMFeedViewDataBinder<*, *>>(2)

        val itemReplyViewDataBinder = LMFeedItemReplyViewDataBinder(replyAdapterListener)
        viewDataBinders.add(itemReplyViewDataBinder)

        val itemViewMoreReplyViewDataBinder =
            LMFeedItemViewMoreReplyViewDataBinder(replyAdapterListener)
        viewDataBinders.add(itemViewMoreReplyViewDataBinder)

        return viewDataBinders
    }
}

interface LMFeedReplyAdapterListener {

    fun onReplyContentSeeMoreClicked(position: Int, replyViewData: LMFeedCommentViewData) {
        //triggered when the user clicks on "See More" on comment content
    }

    fun onReplyLiked(position: Int, replyViewData: LMFeedCommentViewData) {
        //triggered when the reply is liked
    }

    fun onViewMoreRepliesClicked(
        position: Int,
        viewMoreReplyViewData: LMFeedViewMoreReplyViewData
    ) {
        //triggered when the view more button in replies list is clicked
    }

    fun onReplyLikesCountClicked(position: Int, replyViewData: LMFeedCommentViewData) {
        //triggered when the user clicks on the reply's likes count
    }

    fun onReplyMenuIconClicked(
        position: Int,
        anchorView: View,
        replyViewData: LMFeedCommentViewData
    ) {
        //triggered when the menu item of any reply is clicked
    }

    fun onReplyContentLinkClicked(url: String) {
        //triggered when link in the reply content is clicked
    }

    fun onReplierHeaderClicked(position: Int, replyViewData: LMFeedCommentViewData) {
        //triggered when the header of the replier is clicked
    }

    fun onReplyTaggedMemberClicked(position: Int, uuid: String) {
        // triggered when user click on tag in a comment
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/detail/adapter/databinders/LMFeedItemCommentViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.post.detail.adapter.databinders

import android.view.LayoutInflater
import android.view.ViewGroup
import androidx.core.view.isVisible
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedItemCommentBinding
import com.likeminds.feed.android.core.post.detail.adapter.LMFeedPostDetailAdapterListener
import com.likeminds.feed.android.core.post.detail.adapter.LMFeedReplyAdapterListener
import com.likeminds.feed.android.core.post.detail.model.LMFeedCommentViewData
import com.likeminds.feed.android.core.post.detail.model.LMFeedViewMoreReplyViewData
import com.likeminds.feed.android.core.post.detail.util.LMFeedPostDetailBinderUtils
import com.likeminds.feed.android.core.post.detail.viewmodel.LMFeedPostDetailViewModel
import com.likeminds.feed.android.core.utils.LMFeedCommunityUtil
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.pluralizeOrCapitalize
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_COMMENT
import com.likeminds.feed.android.core.utils.pluralize.model.LMFeedWordAction

class LMFeedItemCommentViewDataBinder(
    private val postDetailAdapterListener: LMFeedPostDetailAdapterListener,
    private val replyAdapterListener: LMFeedReplyAdapterListener
) :
    LMFeedViewDataBinder<LmFeedItemCommentBinding, LMFeedCommentViewData>() {

    override val viewType: Int
        get() = ITEM_COMMENT

    override fun createBinder(parent: ViewGroup): LmFeedItemCommentBinding {
        val binding = LmFeedItemCommentBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        //sets style to the comment view
        binding.commentView.setStyle(
            LMFeedStyleTransformer.postDetailFragmentViewStyle.commentViewStyle
        )

        setClickListeners(binding)

        return binding
    }

    override fun bindData(
        binding: LmFeedItemCommentBinding,
        data: LMFeedCommentViewData,
        position: Int
    ) {
        initCommentsView(
            binding,
            data,
            position
        )
    }

    // sets the data to comments item and handles the replies click and rv
    private fun initCommentsView(
        binding: LmFeedItemCommentBinding,
        data: LMFeedCommentViewData,
        position: Int
    ) {
        binding.apply {
            // set variables in the binding
            this.position = position
            commentViewData = data

            val context = root.context

            commentView.setReplyText(context.getString(R.string.lm_feed_reply))
            commentView.setCommentCreatorImage(data.user)
            commentView.setCommentCreatorName(data.user.name)
            commentView.setCommentContent(
                data.text,
                data.alreadySeenFullContent,
                onCommentSeeMoreClickListener = {
                    val updatedComment =
                        LMFeedPostDetailBinderUtils.updateCommentForSeeFullContent(data)
                    postDetailAdapterListener.onCommentContentSeeMoreClicked(
                        position,
                        updatedComment
                    )
                },
                onMemberTagClickListener = { uuid ->
                    postDetailAdapterListener.onCommentTaggedMemberClicked(position, uuid)
                }
            )
            commentView.setTimestamp(data.createdAt)
            commentView.setCommentEdited(data.isEdited)
            commentView.setCommentLikesIcon(data.isLiked)

            val likesCountText = if (data.likesCount == 0) {
                ""
            } else {
                val likeString = if (data.likesCount == 1) {
                    LMFeedCommunityUtil.getLikeVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                } else {
                    LMFeedCommunityUtil.getLikeVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_PLURAL)
                }
                context.resources.getQuantityString(
                    R.plurals.lm_feed_s_likes,
                    data.likesCount,
                    data.likesCount,
                    likeString
                )
            }
            commentView.setLikesCount(likesCountText)

            if (data.fromCommentLiked || data.fromCommentEdited) {
                return
            } else {
                val repliesCountText = if (data.repliesCount == 0) {
                    ""
                } else {
                    context.resources.getQuantityString(
                        R.plurals.lm_feed_replies,
                        data.repliesCount,
                        data.repliesCount
                    )
                }

                commentView.setRepliesCount(repliesCountText)
                rvReplies.setAdapter(replyAdapterListener)

                if (data.replies.isNotEmpty()) {
                    rvReplies.show()
                    handleViewMore(this, data)
                } else {
                    rvReplies.hide()
                }
            }
        }
    }

    private fun setClickListeners(binding: LmFeedItemCommentBinding) {
        binding.apply {
            commentView.linkifyCommentContent { url ->
                postDetailAdapterListener.onCommentContentLinkClicked(url)
                true
            }

            commentView.setLikesCountClickListener {
                val comment = commentViewData ?: return@setLikesCountClickListener
                if (comment.likesCount > 0) {
                    postDetailAdapterListener.onCommentLikesCountClicked(position, comment)
                } else {
                    return@setLikesCountClickListener
                }
            }

            commentView.setLikeIconClickListener {
                val comment = commentViewData ?: return@setLikeIconClickListener
                val updatedComment = LMFeedPostDetailBinderUtils.updateCommentForLike(comment)
                postDetailAdapterListener.onCommentLiked(position, updatedComment)
            }

            commentView.setReplyClickListener {
                val comment = commentViewData ?: return@setReplyClickListener
                postDetailAdapterListener.onCommentReplyClicked(position, comment)
            }

            commentView.setReplyCountClickListener {
                val comment = commentViewData ?: return@setReplyCountClickListener
                rvReplies.isVisible = !rvReplies.isVisible
                postDetailAdapterListener.onCommentReplyCountClicked(
                    position,
                    comment,
                    rvReplies.isVisible
                )
            }

            commentView.setMenuIconClickListener {
                val comment = commentViewData ?: return@setMenuIconClickListener
                postDetailAdapterListener.onCommentMenuIconClicked(
                    position,
                    commentView.commentMenu,
                    comment
                )
            }

            commentView.setCommenterHeaderClickListener {
                val comment = commentViewData ?: return@setCommenterHeaderClickListener
                postDetailAdapterListener.onCommenterHeaderClicked(position, comment)
            }
        }
    }

    //adds ViewMoreReply view when required
    private fun handleViewMore(binding: LmFeedItemCommentBinding, data: LMFeedCommentViewData) {
        binding.rvReplies.apply {
            val repliesList = data.replies.toMutableList() as MutableList<LMFeedBaseViewType>
            if (repliesList.size >= data.repliesCount) {
                // if all replies are fetched then only replace the data
                replaceReplies(repliesList)
            } else {
                // if a subset of replies are fetched then also add [ViewMoreReplyViewData]
                val nextPage = (repliesList.size / LMFeedPostDetailViewModel.REPLIES_PAGE_SIZE) + 1
                val viewMoreReply = LMFeedViewMoreReplyViewData.Builder()
                    .totalCommentsCount(data.repliesCount)
                    .currentCount(data.replies.size)
                    .parentCommentId(data.id)
                    .page(nextPage)
                    .build()
                repliesList.add(viewMoreReply)

                replaceReplies(repliesList)
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/detail/adapter/databinders/LMFeedItemCommentsCountViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.post.detail.adapter.databinders

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedItemCommentsCountBinding
import com.likeminds.feed.android.core.post.detail.model.LMFeedCommentsCountViewData
import com.likeminds.feed.android.core.ui.base.styles.setStyle
import com.likeminds.feed.android.core.utils.LMFeedCommunityUtil
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.pluralizeOrCapitalize
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_COMMENTS_COUNT
import com.likeminds.feed.android.core.utils.pluralize.model.LMFeedWordAction

class LMFeedItemCommentsCountViewDataBinder :
    LMFeedViewDataBinder<LmFeedItemCommentsCountBinding, LMFeedCommentsCountViewData>() {

    override val viewType: Int
        get() = ITEM_COMMENTS_COUNT

    override fun createBinder(parent: ViewGroup): LmFeedItemCommentsCountBinding {
        val binding = LmFeedItemCommentsCountBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.tvCommentsCount.setStyle(LMFeedStyleTransformer.postDetailFragmentViewStyle.commentsCountViewStyle)

        return binding
    }

    override fun bindData(
        binding: LmFeedItemCommentsCountBinding,
        data: LMFeedCommentsCountViewData,
        position: Int
    ) {
        val context = binding.root.context
        val commentString = if (data.commentsCount == 1) {
            LMFeedCommunityUtil.getCommentVariable()
                .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
        } else {
            LMFeedCommunityUtil.getCommentVariable()
                .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_PLURAL)
        }

        binding.tvCommentsCount.text = context.resources.getQuantityString(
            R.plurals.lm_feed_s_comments,
            data.commentsCount,
            data.commentsCount,
            commentString
        )
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/detail/adapter/databinders/LMFeedItemNoCommentsFoundViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.post.detail.adapter.databinders

import android.view.LayoutInflater
import android.view.ViewGroup
import androidx.core.content.ContextCompat
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedItemNoCommentsFoundBinding
import com.likeminds.feed.android.core.utils.LMFeedCommunityUtil
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.pluralizeOrCapitalize
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_NO_COMMENTS_FOUND
import com.likeminds.feed.android.core.utils.pluralize.model.LMFeedWordAction

class LMFeedItemNoCommentsFoundViewDataBinder :
    LMFeedViewDataBinder<LmFeedItemNoCommentsFoundBinding, LMFeedBaseViewType>() {

    override val viewType: Int
        get() = ITEM_NO_COMMENTS_FOUND

    override fun createBinder(parent: ViewGroup): LmFeedItemNoCommentsFoundBinding {
        val binding = LmFeedItemNoCommentsFoundBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.apply {
            val noCommentFoundStyle =
                LMFeedStyleTransformer.postDetailFragmentViewStyle.noCommentsFoundViewStyle

            root.setBackgroundColor(
                ContextCompat.getColor(
                    root.context,
                    noCommentFoundStyle.backgroundColor
                )
            )
            layoutNoComments.setStyle(noCommentFoundStyle)
        }

        return binding
    }

    override fun bindData(
        binding: LmFeedItemNoCommentsFoundBinding,
        data: LMFeedBaseViewType,
        position: Int
    ) {
        //showing static data
        binding.layoutNoComments.apply {
            setTitleText(
                context.getString(
                    R.string.lm_feed_no_s_comment_found,
                    LMFeedCommunityUtil.getCommentVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_PLURAL)
                )
            )
            setSubtitleText(
                context.getString(
                    R.string.lm_feed_be_the_first_one_to_create_a_s_comment,
                    LMFeedCommunityUtil.getCommentVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
                )
            )
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/detail/adapter/databinders/LMFeedItemReplyViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.post.detail.adapter.databinders

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedItemReplyViewBinding
import com.likeminds.feed.android.core.post.detail.adapter.LMFeedReplyAdapterListener
import com.likeminds.feed.android.core.post.detail.model.LMFeedCommentViewData
import com.likeminds.feed.android.core.post.detail.util.LMFeedPostDetailBinderUtils
import com.likeminds.feed.android.core.utils.LMFeedCommunityUtil
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.pluralizeOrCapitalize
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_REPLY
import com.likeminds.feed.android.core.utils.pluralize.model.LMFeedWordAction

class LMFeedItemReplyViewDataBinder(
    private val replyAdapterListener: LMFeedReplyAdapterListener
) : LMFeedViewDataBinder<LmFeedItemReplyViewBinding, LMFeedCommentViewData>() {

    override val viewType: Int
        get() = ITEM_REPLY

    override fun createBinder(parent: ViewGroup): LmFeedItemReplyViewBinding {
        val binding = LmFeedItemReplyViewBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.apply {
            replyView.setStyle(
                LMFeedStyleTransformer.postDetailFragmentViewStyle.replyViewStyle
            )
            setClickListeners(this)
        }

        return binding
    }

    override fun bindData(
        binding: LmFeedItemReplyViewBinding,
        data: LMFeedCommentViewData,
        position: Int
    ) {
        binding.apply {
            //set data to the binding
            this.position = position
            replyViewData = data

            val context = root.context

            replyView.setCommentCreatorImage(data.user)
            replyView.setCommentCreatorName(data.user.name)
            replyView.setCommentContent(
                data.text,
                data.alreadySeenFullContent,
                onCommentSeeMoreClickListener = {
                    val updatedReply =
                        LMFeedPostDetailBinderUtils.updateCommentForSeeFullContent(data)
                    replyAdapterListener.onReplyContentSeeMoreClicked(position, updatedReply)
                },
                onMemberTagClickListener = { uuid ->
                    replyAdapterListener.onReplyTaggedMemberClicked(position, uuid)
                }
            )
            replyView.setTimestamp(data.createdAt)
            replyView.setCommentEdited(data.isEdited)
            replyView.setCommentLikesIcon(data.isLiked)

            val likesCountText = if (data.likesCount == 0) {
                ""
            } else {
                val likeString = if (data.likesCount == 1) {
                    LMFeedCommunityUtil.getLikeVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                } else {
                    LMFeedCommunityUtil.getLikeVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_PLURAL)
                }
                context.resources.getQuantityString(
                    R.plurals.lm_feed_s_likes,
                    data.likesCount,
                    data.likesCount,
                    likeString
                )
            }
            replyView.setLikesCount(likesCountText)
        }
    }

    private fun setClickListeners(binding: LmFeedItemReplyViewBinding) {
        binding.apply {
            replyView.linkifyCommentContent { url ->
                replyAdapterListener.onReplyContentLinkClicked(url)
                true
            }

            replyView.setLikesCountClickListener {
                val reply = replyViewData ?: return@setLikesCountClickListener
                if (reply.likesCount > 0) {
                    replyAdapterListener.onReplyLikesCountClicked(position, reply)
                } else {
                    return@setLikesCountClickListener
                }
            }

            replyView.setLikeIconClickListener {
                val reply = replyViewData ?: return@setLikeIconClickListener
                val updatedReply = LMFeedPostDetailBinderUtils.updateCommentForLike(reply)
                replyAdapterListener.onReplyLiked(position, updatedReply)
            }

            replyView.setMenuIconClickListener {
                val reply = replyViewData ?: return@setMenuIconClickListener
                replyAdapterListener.onReplyMenuIconClicked(
                    position,
                    replyView.commentMenu,
                    reply
                )
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/detail/adapter/databinders/LMFeedItemViewMoreReplyViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.post.detail.adapter.databinders

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedItemViewMoreReplyBinding
import com.likeminds.feed.android.core.post.detail.adapter.LMFeedReplyAdapterListener
import com.likeminds.feed.android.core.post.detail.model.LMFeedViewMoreReplyViewData
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_VIEW_MORE_REPLY

class LMFeedItemViewMoreReplyViewDataBinder(
    private val listener: LMFeedReplyAdapterListener
) : LMFeedViewDataBinder<LmFeedItemViewMoreReplyBinding, LMFeedViewMoreReplyViewData>() {

    override val viewType: Int
        get() = ITEM_VIEW_MORE_REPLY

    override fun createBinder(parent: ViewGroup): LmFeedItemViewMoreReplyBinding {
        val binding = LmFeedItemViewMoreReplyBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.viewMoreReply.setStyle(LMFeedStyleTransformer.postDetailFragmentViewStyle.viewMoreReplyStyle)
        setClickListeners(binding)

        return binding
    }

    override fun bindData(
        binding: LmFeedItemViewMoreReplyBinding,
        data: LMFeedViewMoreReplyViewData,
        position: Int
    ) {
        binding.apply {
            // set variables in the binding
            this.position = position
            viewMoreData = data

            val context = root.context

            viewMoreReply.setViewMoreText(context.getString(R.string.lm_feed_view_more_replies))
            viewMoreReply.setVisibleCount(
                context.getString(
                    R.string.lm_feed_placeholder_replies,
                    data.currentCount,
                    data.totalCommentsCount
                )
            )
        }
    }

    private fun setClickListeners(binding: LmFeedItemViewMoreReplyBinding) {
        binding.apply {
            viewMoreReply.setViewMoreClickListener {
                val viewMoreData = viewMoreData ?: return@setViewMoreClickListener
                listener.onViewMoreRepliesClicked(position, viewMoreData)
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/detail/model/LMFeedCommentViewData.kt
================================================
package com.likeminds.feed.android.core.post.detail.model

import com.likeminds.feed.android.core.postmenu.model.LMFeedPostMenuItemViewData
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.base.model.ITEM_COMMENT
import com.likeminds.feed.android.core.utils.base.model.ITEM_REPLY
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData

class LMFeedCommentViewData private constructor(
    val id: String,
    val postId: String,
    val isLiked: Boolean,
    val isEdited: Boolean,
    val userId: String,
    val text: String,
    val level: Int,
    val likesCount: Int,
    val repliesCount: Int,
    val user: LMFeedUserViewData,
    val createdAt: Long,
    val updatedAt: Long,
    val menuItems: List<LMFeedPostMenuItemViewData>,
    val replies: MutableList<LMFeedCommentViewData>,
    val parentId: String?,
    val parentComment: LMFeedCommentViewData?,
    val alreadySeenFullContent: Boolean?,
    val fromCommentLiked: Boolean,
    val fromCommentEdited: Boolean,
    val uuid: String,
    val tempId: String?,
) : LMFeedBaseViewType {

    override val viewType: Int
        get() = when (level) {
            0 -> ITEM_COMMENT
            else -> ITEM_REPLY
        }

    class Builder {
        private var id: String = ""
        private var postId: String = ""
        private var isLiked: Boolean = false
        private var isEdited: Boolean = false
        private var userId: String = ""
        private var text: String = ""
        private var level: Int = 0
        private var likesCount: Int = 0
        private var repliesCount: Int = 0
        private var user: LMFeedUserViewData = LMFeedUserViewData.Builder().build()
        private var createdAt: Long = 0
        private var updatedAt: Long = 0
        private var menuItems: List<LMFeedPostMenuItemViewData> = listOf()
        private var replies: MutableList<LMFeedCommentViewData> = mutableListOf()
        private var parentId: String? = null
        private var parentComment: LMFeedCommentViewData? = null
        private var alreadySeenFullContent: Boolean? = null
        private var fromCommentLiked: Boolean = false
        private var fromCommentEdited: Boolean = false
        private var uuid: String = ""
        private var tempId: String? = null

        fun id(id: String) = apply { this.id = id }
        fun postId(postId: String) = apply { this.postId = postId }
        fun isLiked(isLiked: Boolean) = apply { this.isLiked = isLiked }
        fun isEdited(isEdited: Boolean) = apply { this.isEdited = isEdited }
        fun userId(userId: String) = apply { this.userId = userId }
        fun text(text: String) = apply { this.text = text }
        fun level(level: Int) = apply { this.level = level }
        fun likesCount(likesCount: Int) = apply { this.likesCount = likesCount }
        fun repliesCount(repliesCount: Int) = apply { this.repliesCount = repliesCount }
        fun user(user: LMFeedUserViewData) = apply { this.user = user }
        fun createdAt(createdAt: Long) = apply { this.createdAt = createdAt }
        fun updatedAt(updatedAt: Long) = apply { this.updatedAt = updatedAt }
        fun menuItems(menuItems: List<LMFeedPostMenuItemViewData>) =
            apply { this.menuItems = menuItems }

        fun parentId(parentId: String?) = apply { this.parentId = parentId }
        fun parentComment(parentComment: LMFeedCommentViewData?) =
            apply { this.parentComment = parentComment }

        fun replies(replies: MutableList<LMFeedCommentViewData>) =
            apply { this.replies = replies }

        fun alreadySeenFullContent(alreadySeenFullContent: Boolean?) =
            apply { this.alreadySeenFullContent = alreadySeenFullContent }

        fun fromCommentLiked(fromCommentLiked: Boolean) =
            apply { this.fromCommentLiked = fromCommentLiked }

        fun fromCommentEdited(fromCommentEdited: Boolean) =
            apply { this.fromCommentEdited = fromCommentEdited }

        fun uuid(uuid: String) = apply { this.uuid = uuid }
        fun tempId(tempId: String?) = apply { this.tempId = tempId }

        fun build() = LMFeedCommentViewData(
            id,
            postId,
            isLiked,
            isEdited,
            userId,
            text,
            level,
            likesCount,
            repliesCount,
            user,
            createdAt,
            updatedAt,
            menuItems,
            replies,
            parentId,
            parentComment,
            alreadySeenFullContent,
            fromCommentLiked,
            fromCommentEdited,
            uuid,
            tempId
        )
    }

    fun toBuilder(): Builder {
        return Builder().id(id)
            .postId(postId)
            .isLiked(isLiked)
            .isEdited(isEdited)
            .userId(userId)
            .text(text)
            .level(level)
            .likesCount(likesCount)
            .repliesCount(repliesCount)
            .user(user)
            .createdAt(createdAt)
            .updatedAt(updatedAt)
            .menuItems(menuItems)
            .replies(replies)
            .parentId(parentId)
            .parentComment(parentComment)
            .alreadySeenFullContent(alreadySeenFullContent)
            .fromCommentLiked(fromCommentLiked)
            .fromCommentEdited(fromCommentEdited)
            .uuid(uuid)
            .tempId(tempId)
    }

    override fun toString(): String {
        return buildString {
            append("LMFeedCommentViewData(id='")
            append(id)
            append("', postId='")
            append(postId)
            append("', isLiked=")
            append(isLiked)
            append(", isEdited=")
            append(isEdited)
            append(", userId='")
            append(userId)
            append("', text='")
            append(text)
            append("', level=")
            append(level)
            append(", likesCount=")
            append(likesCount)
            append(", repliesCount=")
            append(repliesCount)
            append(", user=")
            append(user)
            append(",createdAt=")
            append(createdAt)
            append(", updatedAt=")
            append(updatedAt)
            append(",")
            append(" menuItems=")
            append(menuItems)
            append(", replies=")
            append(replies)
            append(", parentId=")
            append(parentId)
            append(", parentComment=")
            append(parentComment)
            append(", alreadySeenFullContent=")
            append(alreadySeenFullContent)
            append(", fromCommentLiked=")
            append(fromCommentLiked)
            append(", fromCommentEdited=")
            append(fromCommentEdited)
            append(", uuid='")
            append(uuid)
            append("', tempId='")
            append(tempId)
            append("')")
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/detail/model/LMFeedCommentsCountViewData.kt
================================================
package com.likeminds.feed.android.core.post.detail.model

import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.base.model.ITEM_COMMENTS_COUNT

class LMFeedCommentsCountViewData private constructor(
    val commentsCount: Int
) : LMFeedBaseViewType {

    override val viewType: Int
        get() = ITEM_COMMENTS_COUNT

    class Builder {
        private var commentsCount: Int = 0

        fun commentsCount(commentsCount: Int) = apply { this.commentsCount = commentsCount }

        fun build() = LMFeedCommentsCountViewData(commentsCount)
    }

    fun toBuilder(): Builder {
        return Builder().commentsCount(commentsCount)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/detail/model/LMFeedNoCommentsViewData.kt
================================================
package com.likeminds.feed.android.core.post.detail.model

import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.base.model.ITEM_NO_COMMENTS_FOUND

class LMFeedNoCommentsViewData private constructor() : LMFeedBaseViewType {

    override val viewType: Int
        get() = ITEM_NO_COMMENTS_FOUND

    class Builder {
        fun build() = LMFeedNoCommentsViewData()
    }

    fun toBuilder(): Builder {
        return Builder()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/detail/model/LMFeedPostDetailExtras.kt
================================================
package com.likeminds.feed.android.core.post.detail.model

import android.os.Parcelable
import kotlinx.parcelize.Parcelize

@Parcelize
class LMFeedPostDetailExtras private constructor(
    val postId: String,
    val commentId: String?,
    val isEditTextFocused: Boolean,
    val source: String?
) : Parcelable {

    class Builder {
        private var postId: String = ""
        private var isEditTextFocused: Boolean = false
        private var commentId: String? = null
        private var source: String? = null

        fun postId(postId: String) = apply { this.postId = postId }
        fun isEditTextFocused(isEditTextFocused: Boolean) =
            apply { this.isEditTextFocused = isEditTextFocused }

        fun commentId(commentId: String?) = apply { this.commentId = commentId }
        fun source(source: String?) = apply { this.source = source }

        fun build() = LMFeedPostDetailExtras(
            postId,
            commentId,
            isEditTextFocused,
            source
        )
    }

    fun toBuilder(): Builder {
        return Builder().postId(postId)
            .isEditTextFocused(isEditTextFocused)
            .commentId(commentId)
            .source(source)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/detail/model/LMFeedViewMoreReplyViewData.kt
================================================
package com.likeminds.feed.android.core.post.detail.model

import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.base.model.ITEM_VIEW_MORE_REPLY

class LMFeedViewMoreReplyViewData private constructor(
    val currentCount: Int,
    val totalCommentsCount: Int,
    val parentCommentId: String,
    val page: Int
) : LMFeedBaseViewType {

    override val viewType: Int
        get() = ITEM_VIEW_MORE_REPLY

    class Builder {
        private var currentCount: Int = 0
        private var totalCommentsCount: Int = 0
        private var parentCommentId: String = ""
        private var page: Int = 0

        fun currentCount(currentCount: Int) = apply { this.currentCount = currentCount }
        fun totalCommentsCount(totalCommentsCount: Int) =
            apply { this.totalCommentsCount = totalCommentsCount }

        fun parentCommentId(parentCommentId: String) =
            apply { this.parentCommentId = parentCommentId }

        fun page(page: Int) = apply { this.page = page }

        fun build() = LMFeedViewMoreReplyViewData(
            currentCount,
            totalCommentsCount,
            parentCommentId,
            page
        )
    }

    fun toBuilder(): Builder {
        return Builder().currentCount(currentCount)
            .totalCommentsCount(totalCommentsCount)
            .parentCommentId(parentCommentId)
            .page(page)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/detail/style/LMFeedPostDetailFragmentViewStyle.kt
================================================
package com.likeminds.feed.android.core.post.detail.style

import android.text.TextUtils
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.widgets.comment.commentcomposer.style.LMFeedCommentComposerViewStyle
import com.likeminds.feed.android.core.ui.widgets.comment.commentlayout.view.LMFeedCommentViewStyle
import com.likeminds.feed.android.core.ui.widgets.headerview.style.LMFeedHeaderViewStyle
import com.likeminds.feed.android.core.ui.widgets.noentitylayout.style.LMFeedNoEntityLayoutViewStyle
import com.likeminds.feed.android.core.ui.widgets.viewmore.style.LMFeedViewMoreViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle
import com.likeminds.feed.android.core.utils.model.LMFeedPadding

/**
 * [LMFeedPostDetailFragmentViewStyle] helps you to customize the post detail fragment [LMFeedPostDetailFragment]
 *
 * @property headerViewStyle : [LMFeedHeaderViewStyle] this will help you to customize the header view in the post detail fragment
 * @property commentsCountViewStyle : [LMFeedTextStyle] this will help you to customize the comments count text in the post detail fragment
 * @property commentViewStyle: [LMFeedCommentViewStyle] this will help you to customize the comment view in the post detail fragment
 * @property replyViewStyle: [LMFeedCommentViewStyle] this will help you to customize the reply view in the post detail fragment
 * @property noCommentsFoundViewStyle: [LMFeedNoEntityLayoutViewStyle] this will help you to customize the no comments found view in the post detail fragment
 * @property commentComposerStyle: [LMFeedCommentComposerViewStyle] this will help you to customize the comment composer view in the post detail fragment
 * @property viewMoreReplyStyle: [LMFeedViewMoreViewStyle] this will help you to customize the view more reply view in the post detail fragment
 * */
class LMFeedPostDetailFragmentViewStyle private constructor(
    //header
    val headerViewStyle: LMFeedHeaderViewStyle,
    //comments count view style
    val commentsCountViewStyle: LMFeedTextStyle,
    //comment view style
    val commentViewStyle: LMFeedCommentViewStyle,
    //reply view style
    val replyViewStyle: LMFeedCommentViewStyle,
    //no comments found view
    val noCommentsFoundViewStyle: LMFeedNoEntityLayoutViewStyle,
    //comment composer view
    val commentComposerStyle: LMFeedCommentComposerViewStyle,
    //view more reply view style
    val viewMoreReplyStyle: LMFeedViewMoreViewStyle
) : LMFeedViewStyle {

    class Builder {
        private var headerViewStyle: LMFeedHeaderViewStyle = LMFeedHeaderViewStyle.Builder()
            .titleTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_black)
                    .textSize(R.dimen.lm_feed_header_view_title_text_size)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .maxLines(1)
                    .ellipsize(TextUtils.TruncateAt.END)
                    .build()
            )
            .subtitleTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_grey)
                    .maxLines(1)
                    .ellipsize(TextUtils.TruncateAt.END)
                    .textSize(R.dimen.lm_feed_text_medium)
                    .build()
            )
            .backgroundColor(R.color.lm_feed_white)
            .navigationIconStyle(
                LMFeedIconStyle.Builder()
                    .iconTint(R.color.lm_feed_black)
                    .inActiveSrc(R.drawable.lm_feed_ic_arrow_back_black_24dp)
                    .iconPadding(
                        LMFeedPadding(
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding
                        )
                    )
                    .build()
            )
            .build()

        private var commentsCountViewStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textSize(R.dimen.lm_feed_text_medium)
            .textColor(R.color.lm_feed_raisin_black)
            .fontResource(R.font.lm_feed_roboto_medium)
            .build()

        private var commentViewStyle: LMFeedCommentViewStyle = LMFeedCommentViewStyle.Builder()
            .menuIconStyle(
                LMFeedIconStyle.Builder()
                    .inActiveSrc(R.drawable.lm_feed_ic_overflow_menu)
                    .build()
            )
            .likeTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_maastricht_blue_40)
                    .textSize(R.dimen.lm_feed_text_small)
                    .build()
            )
            .replyTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_maastricht_blue_40)
                    .textSize(R.dimen.lm_feed_text_small)
                    .build()
            )
            .replyCountTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(LMFeedAppearance.getButtonColor())
                    .textSize(R.dimen.lm_feed_text_small)
                    .build()
            )
            .timestampTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_maastricht_blue_40)
                    .textSize(R.dimen.lm_feed_text_small)
                    .build()
            )
            .commentEditedTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_maastricht_blue_40)
                    .textSize(R.dimen.lm_feed_text_small)
                    .build()
            )
            .build()

        private var replyViewStyle: LMFeedCommentViewStyle = LMFeedCommentViewStyle.Builder()
            .menuIconStyle(
                LMFeedIconStyle.Builder()
                    .inActiveSrc(R.drawable.lm_feed_ic_overflow_menu)
                    .build()
            )
            .likeTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_maastricht_blue_40)
                    .textSize(R.dimen.lm_feed_text_small)
                    .build()
            )
            .timestampTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_maastricht_blue_40)
                    .textSize(R.dimen.lm_feed_text_small)
                    .build()
            )
            .commentEditedTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_maastricht_blue_40)
                    .textSize(R.dimen.lm_feed_text_small)
                    .build()
            )
            .build()

        private var noCommentsFoundViewStyle: LMFeedNoEntityLayoutViewStyle =
            LMFeedNoEntityLayoutViewStyle.Builder()
                .titleStyle(
                    LMFeedTextStyle.Builder()
                        .textColor(R.color.lm_feed_dark_grey)
                        .textSize(R.dimen.lm_feed_text_large)
                        .build()
                )
                .subtitleStyle(
                    LMFeedTextStyle.Builder()
                        .textColor(R.color.lm_feed_grey)
                        .textSize(R.dimen.lm_feed_text_medium)
                        .build()
                )
                .backgroundColor(R.color.lm_feed_cultured)
                .build()

        private var commentComposerStyle: LMFeedCommentComposerViewStyle =
            LMFeedCommentComposerViewStyle.Builder()
                .commentRestrictedStyle(
                    LMFeedTextStyle.Builder()
                        .backgroundColor(R.color.lm_feed_white)
                        .minHeight(R.dimen.lm_feed_text_min_height)
                        .textColor(R.color.lm_feed_grey_brown_50)
                        .textSize(R.dimen.lm_feed_text_medium)
                        .build()
                )
                .replyingToStyle(
                    LMFeedTextStyle.Builder()
                        .backgroundColor(R.color.lm_feed_bright_grey)
                        .textSize(R.dimen.lm_feed_text_medium)
                        .textColor(R.color.lm_feed_grey)
                        .build()
                )
                .removeReplyingToStyle(
                    LMFeedIconStyle.Builder()
                        .iconPadding(
                            LMFeedPadding(
                                R.dimen.lm_feed_icon_padding,
                                R.dimen.lm_feed_icon_padding,
                                R.dimen.lm_feed_icon_padding,
                                R.dimen.lm_feed_icon_padding
                            )
                        )
                        .inActiveSrc(R.drawable.lm_feed_ic_multiply)
                        .build()
                )
                .elevation(R.dimen.lm_feed_elevation_small)
                .backgroundColor(R.color.lm_feed_white)
                .build()

        private var viewMoreReplyStyle = LMFeedViewMoreViewStyle.Builder()
            .visibleCountTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_dark_grayish_blue)
                    .textSize(R.dimen.lm_feed_text_small)
                    .build()
            )
            .build()

        fun headerViewStyle(headerViewStyle: LMFeedHeaderViewStyle) = apply {
            this.headerViewStyle = headerViewStyle
        }

        fun commentsCountViewStyle(commentsCountViewStyle: LMFeedTextStyle) = apply {
            this.commentsCountViewStyle = commentsCountViewStyle
        }

        fun commentViewStyle(commentViewStyle: LMFeedCommentViewStyle) = apply {
            this.commentViewStyle = commentViewStyle
        }

        fun replyViewStyle(replyViewStyle: LMFeedCommentViewStyle) = apply {
            this.replyViewStyle = replyViewStyle
        }

        fun noCommentsFoundViewStyle(noCommentsFoundViewStyle: LMFeedNoEntityLayoutViewStyle) =
            apply {
                this.noCommentsFoundViewStyle = noCommentsFoundViewStyle
            }

        fun commentComposerStyle(commentComposerStyle: LMFeedCommentComposerViewStyle) = apply {
            this.commentComposerStyle = commentComposerStyle
        }

        fun viewMoreReplyStyle(viewMoreReplyStyle: LMFeedViewMoreViewStyle) = apply {
            this.viewMoreReplyStyle = viewMoreReplyStyle
        }

        fun build() = LMFeedPostDetailFragmentViewStyle(
            headerViewStyle,
            commentsCountViewStyle,
            commentViewStyle,
            replyViewStyle,
            noCommentsFoundViewStyle,
            commentComposerStyle,
            viewMoreReplyStyle
        )
    }

    fun toBuilder(): Builder {
        return Builder().commentComposerStyle(commentComposerStyle)
            .commentsCountViewStyle(commentsCountViewStyle)
            .commentViewStyle(commentViewStyle)
            .replyViewStyle(replyViewStyle)
            .noCommentsFoundViewStyle(noCommentsFoundViewStyle)
            .headerViewStyle(headerViewStyle)
            .viewMoreReplyStyle(viewMoreReplyStyle)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/detail/util/LMFeedPostDetailBinderUtils.kt
================================================
package com.likeminds.feed.android.core.post.detail.util

import com.likeminds.feed.android.core.post.detail.model.LMFeedCommentViewData

object LMFeedPostDetailBinderUtils {

    //updates comment object for a see full content action and returns updated comment
    fun updateCommentForSeeFullContent(oldCommentViewData: LMFeedCommentViewData): LMFeedCommentViewData {
        //return updated comment view data
        return oldCommentViewData.toBuilder()
            .alreadySeenFullContent(true)
            .fromCommentLiked(false)
            .fromCommentEdited(false)
            .build()
    }

    //updates comment object for a like action and returns updated comment
    fun updateCommentForLike(oldCommentViewData: LMFeedCommentViewData): LMFeedCommentViewData {
        //new like count
        val newLikesCount = if (oldCommentViewData.isLiked) {
            oldCommentViewData.likesCount - 1
        } else {
            oldCommentViewData.likesCount + 1
        }

        //return updated comment view data
        return oldCommentViewData.toBuilder()
            .fromCommentLiked(true)
            .fromCommentEdited(false)
            .isLiked(!oldCommentViewData.isLiked)
            .likesCount(newLikesCount)
            .build()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/detail/view/LMFeedPostDetailActivity.kt
================================================
package com.likeminds.feed.android.core.post.detail.view

import android.content.Context
import android.content.Intent
import android.os.Bundle
import androidx.appcompat.app.AppCompatActivity
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedActivityPostDetailBinding
import com.likeminds.feed.android.core.post.detail.model.LMFeedPostDetailExtras
import com.likeminds.feed.android.core.utils.*

class LMFeedPostDetailActivity : AppCompatActivity() {

    private lateinit var binding: LmFeedActivityPostDetailBinding

    private lateinit var postDetailExtras: LMFeedPostDetailExtras

    companion object {
        const val LM_FEED_POST_DETAIL_EXTRAS = "LM_FEED_POST_DETAIL_EXTRAS"
        const val LM_FEED_POST_DETAIL_BUNDLE = "lm_feed_bundle"
        const val TAG = "LMFeedPostDetailActivity"

        @JvmStatic
        fun start(context: Context, extras: LMFeedPostDetailExtras) {
            val intent = Intent(context, LMFeedPostDetailActivity::class.java)
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_POST_DETAIL_EXTRAS, extras)
            intent.putExtra(LM_FEED_POST_DETAIL_BUNDLE, bundle)
            context.startActivity(intent)
        }

        @JvmStatic
        fun getIntent(context: Context, extras: LMFeedPostDetailExtras): Intent {
            val intent = Intent(context, LMFeedPostDetailActivity::class.java)
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_POST_DETAIL_EXTRAS, extras)
            intent.putExtra(LM_FEED_POST_DETAIL_BUNDLE, bundle)
            return intent
        }
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        binding = LmFeedActivityPostDetailBinding.inflate(layoutInflater)
        setContentView(binding.root)

        //parse extras
        assignExtras()

        //inflates post detail fragment
        inflatePostDetailFragment()
    }

    private fun assignExtras() {
        //get bundle
        val bundle = intent.getBundleExtra(LM_FEED_POST_DETAIL_BUNDLE)

        //assign to global variable
        if (bundle != null) {
            postDetailExtras = LMFeedExtrasUtil.getParcelable(
                bundle,
                LM_FEED_POST_DETAIL_EXTRAS,
                LMFeedPostDetailExtras::class.java
            ) ?: throw emptyExtrasException(TAG)
        } else {
            //close activity
            redirectActivity()
        }
    }

    private fun inflatePostDetailFragment() {
        //gets post detail fragment instance
        val postDetailFragment =
            LMFeedPostDetailFragment.getInstance(postDetailExtras = postDetailExtras)

        //commits fragment replace transaction
        supportFragmentManager.beginTransaction()
            .replace(
                binding.containerPostDetail.id,
                postDetailFragment,
                TAG
            )
            .commit()
    }

    private fun redirectActivity() {
        LMFeedViewUtils.showShortToast(this, getString(R.string.lm_feed_request_not_processed))
        supportFragmentManager.popBackStack()
        onBackPressedDispatcher.onBackPressed()
        overridePendingTransition(R.anim.lm_feed_slide_from_left, R.anim.lm_feed_slide_to_right)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/detail/view/LMFeedPostDetailFragment.kt
================================================
package com.likeminds.feed.android.core.post.detail.view

import android.app.Activity
import android.net.Uri
import android.os.Bundle
import android.view.*
import androidx.activity.result.contract.ActivityResultContracts
import androidx.core.app.ActivityCompat
import androidx.core.content.ContextCompat
import androidx.core.widget.doAfterTextChanged
import androidx.fragment.app.Fragment
import androidx.fragment.app.viewModels
import androidx.swiperefreshlayout.widget.SwipeRefreshLayout
import com.likeminds.feed.android.core.*
import com.likeminds.feed.android.core.databinding.LmFeedFragmentPostDetailBinding
import com.likeminds.feed.android.core.delete.model.*
import com.likeminds.feed.android.core.delete.view.*
import com.likeminds.feed.android.core.likes.model.*
import com.likeminds.feed.android.core.likes.view.LMFeedLikesActivity
import com.likeminds.feed.android.core.poll.result.model.*
import com.likeminds.feed.android.core.poll.result.view.LMFeedPollResultsActivity
import com.likeminds.feed.android.core.post.detail.adapter.LMFeedPostDetailAdapterListener
import com.likeminds.feed.android.core.post.detail.adapter.LMFeedReplyAdapterListener
import com.likeminds.feed.android.core.post.detail.model.*
import com.likeminds.feed.android.core.post.detail.view.LMFeedPostDetailActivity.Companion.LM_FEED_POST_DETAIL_EXTRAS
import com.likeminds.feed.android.core.post.detail.viewmodel.LMFeedPostDetailViewModel
import com.likeminds.feed.android.core.post.edit.model.LMFeedEditPostExtras
import com.likeminds.feed.android.core.post.edit.view.LMFeedEditPostActivity
import com.likeminds.feed.android.core.post.model.LMFeedAttachmentViewData
import com.likeminds.feed.android.core.post.util.LMFeedPostEvent
import com.likeminds.feed.android.core.postmenu.model.*
import com.likeminds.feed.android.core.report.model.*
import com.likeminds.feed.android.core.report.view.*
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.socialfeed.util.LMFeedPostBinderUtils
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.widgets.comment.commentcomposer.view.LMFeedCommentComposerView
import com.likeminds.feed.android.core.ui.widgets.headerview.view.LMFeedHeaderView
import com.likeminds.feed.android.core.ui.widgets.overflowmenu.view.LMFeedOverflowMenu
import com.likeminds.feed.android.core.ui.widgets.poll.model.LMFeedAddPollOptionExtras
import com.likeminds.feed.android.core.ui.widgets.poll.view.*
import com.likeminds.feed.android.core.utils.*
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.pluralizeOrCapitalize
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.coroutine.observeInLifecycle
import com.likeminds.feed.android.core.utils.membertagging.MemberTaggingUtil
import com.likeminds.feed.android.core.utils.pluralize.model.LMFeedWordAction
import com.likeminds.feed.android.core.utils.user.LMFeedUserMetaData
import com.likeminds.feed.android.core.utils.user.LMFeedUserPreferences
import com.likeminds.likemindsfeed.post.model.PollMultiSelectState
import com.likeminds.usertagging.UserTagging
import com.likeminds.usertagging.model.UserTaggingConfig
import com.likeminds.usertagging.util.UserTaggingDecoder
import com.likeminds.usertagging.util.UserTaggingViewListener
import com.likeminds.usertagging.view.UserTaggingSuggestionListView
import kotlinx.coroutines.flow.onEach

open class LMFeedPostDetailFragment :
    Fragment(),
    LMFeedPostAdapterListener,
    LMFeedPostDetailAdapterListener,
    LMFeedReplyAdapterListener,
    LMFeedAdminDeleteDialogListener,
    LMFeedAddPollOptionBottomSheetListener,
    LMFeedSelfDeleteDialogListener {

    private lateinit var binding: LmFeedFragmentPostDetailBinding
    private lateinit var mSwipeRefreshLayout: SwipeRefreshLayout
    private lateinit var memberTagging: UserTaggingSuggestionListView

    private lateinit var postDetailExtras: LMFeedPostDetailExtras

    private val postDetailViewModel: LMFeedPostDetailViewModel by viewModels()

    private var parentCommentIdToReply: String? = null
    private var toFindComment: Boolean = false

    // fixed position of viewTypes in adapter
    private val postDataPosition = 0
    private val commentsCountPosition = 1
    private val commentsStartPosition = 2

    // variables to handle comment/reply edit action
    private var editCommentId: String? = null
    private var parentId: String? = null

    // [postPublisher] to publish changes in the post
    private val postEvent by lazy {
        LMFeedPostEvent.getPublisher()
    }

    companion object {
        const val TAG = "LMFeedPostDetailFragment"

        fun getInstance(postDetailExtras: LMFeedPostDetailExtras): LMFeedPostDetailFragment {
            val postDetailFragment = LMFeedPostDetailFragment()
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_POST_DETAIL_EXTRAS, postDetailExtras)
            postDetailFragment.arguments = bundle
            return postDetailFragment
        }
    }

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View {
        binding = LmFeedFragmentPostDetailBinding.inflate(layoutInflater)
        binding.rvPostDetails.initAdapterAndSetListeners(this, this, this)

        customizePostDetailHeaderView(binding.headerViewPostDetail)
        customizeCommentComposer(binding.commentComposer)
        customizePostDetailListView(binding.rvPostDetails)
        return binding.root
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        receiveExtras()
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        initUI()
        fetchData()
        initCommentEditText()
        initListeners()
        observeData()
    }

    override fun onResume() {
        super.onResume()
        binding.rvPostDetails.initiateVideoAutoPlayer()
    }

    override fun onPause() {
        super.onPause()
        binding.rvPostDetails.destroyVideoAutoPlayer()
    }

    //customize post detail header view
    protected open fun customizePostDetailHeaderView(headerViewPostDetail: LMFeedHeaderView) {
        headerViewPostDetail.apply {
            setStyle(LMFeedStyleTransformer.postDetailFragmentViewStyle.headerViewStyle)

            setTitleText(
                getString(
                    R.string.lm_feed_s_post,
                    LMFeedCommunityUtil.getPostVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            )
        }
    }

    //customize comment composer
    protected open fun customizeCommentComposer(commentComposer: LMFeedCommentComposerView) {
        commentComposer.apply {
            setCommentInputBoxHint(
                getString(
                    R.string.lm_feed_write_s_comment,
                    LMFeedCommunityUtil.getCommentVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
                )
            )
            setStyle(LMFeedStyleTransformer.postDetailFragmentViewStyle.commentComposerStyle)
        }
    }

    //customize post detail list view
    protected open fun customizePostDetailListView(rvPostDetailListView: LMFeedPostDetailListView) {

    }

    private fun receiveExtras() {
        postDetailExtras = LMFeedExtrasUtil.getParcelable(
            arguments,
            LM_FEED_POST_DETAIL_EXTRAS,
            LMFeedPostDetailExtras::class.java
        ) ?: throw emptyExtrasException(TAG)
    }

    private fun initUI() {
        initPostDetailRecyclerView()
        initMemberTaggingView()
        initSwipeRefreshLayout()
    }

    private fun initPostDetailRecyclerView() {
        fetchPostData()
        binding.rvPostDetails.apply {
            setAdapter()

            //set scroll listener
            val paginationScrollListener =
                object : LMFeedEndlessRecyclerViewScrollListener(linearLayoutManager) {
                    override fun onLoadMore(currentPage: Int) {
                        if (currentPage > 0) {
                            postDetailViewModel.getPost(postDetailExtras.postId, currentPage)
                        }
                    }
                }
            setPaginationScrollListener(paginationScrollListener)
        }
    }

    private fun initSwipeRefreshLayout() {
        mSwipeRefreshLayout = binding.swipeRefreshLayout
        mSwipeRefreshLayout.apply {
            setColorSchemeColors(
                ContextCompat.getColor(
                    requireContext(),
                    LMFeedAppearance.getButtonColor()
                )
            )

            setOnRefreshListener {
                refreshPostData()
            }
        }
    }

    //initializes member tagging view
    private fun initMemberTaggingView() {
        memberTagging = binding.userTaggingView

        val listener = object : UserTaggingViewListener {
            override fun callApi(page: Int, searchName: String) {
                postDetailViewModel.getMembersForTagging(page, searchName)
            }
        }

        val config = UserTaggingConfig.Builder()
            .editText(binding.commentComposer.etComment)
            .maxHeightInPercentage(0.4f)
            .color(LMFeedAppearance.getTextLinkColor())
            .hasAtRateSymbol(true)
            .build()

        UserTagging.initialize(memberTagging, config, listener)
    }

    // refreshes the whole post detail screen
    private fun refreshPostData() {
        mSwipeRefreshLayout.isRefreshing = true
        binding.rvPostDetails.resetScrollListenerData()
        fetchPostData(true)
    }

    private fun fetchData() {
        fetchPostData()
        checkCommentsRight()
    }

    //fetches post data to set initial data
    private fun fetchPostData(fromRefresh: Boolean = false) {
        if (!fromRefresh) {
            //show progress bar
            LMFeedProgressBarHelper.showProgress(binding.progressBar)
        }

        //if source is notification/deep link, then call initiate first and then other apis
        if (postDetailExtras.source == LMFeedAnalytics.LMFeedSource.NOTIFICATION ||
            postDetailExtras.source == LMFeedAnalytics.LMFeedSource.DEEP_LINK
        ) {
            LMFeedCore.showFeed(
                context = requireContext(),
                accessToken = null,
                refreshToken = null,
                success = {
                    postDetailViewModel.getPost(postDetailExtras.postId, 1)
                },
                error = {
                    LMFeedProgressBarHelper.hideProgress(binding.progressBar)
                    LMFeedViewUtils.showErrorMessageToast(requireContext(), it)
                }
            )
        } else {
            postDetailViewModel.getPost(postDetailExtras.postId, 1)
        }
    }

    //check if user has comment rights or not
    private fun checkCommentsRight() {
        postDetailViewModel.checkCommentRights()
    }

    // initializes comment edittext with TextWatcher and focuses the keyboard
    private fun initCommentEditText() {
        binding.commentComposer.apply {
            if (postDetailExtras.isEditTextFocused) {
                etComment.focusAndShowKeyboard()
            }

            etComment.doAfterTextChanged {
                if (it?.trim().isNullOrEmpty()) {
                    setCommentSendButton(false)
                } else {
                    setCommentSendButton(true)
                }
            }
        }
    }

    // initializes text-watcher and click listeners
    private fun initListeners() {
        binding.apply {
            headerViewPostDetail.setNavigationIconClickListener {
                onNavigationIconClick()
            }

            commentComposer.setCommentSendClickListener {
                val text = commentComposer.etComment.text
                val updatedText = memberTagging.replaceSelectedMembers(text).trim()
                val postId = postDetailExtras.postId
                when {
                    parentCommentIdToReply != null -> {
                        addReply(updatedText)
                    }

                    editCommentId != null -> {
                        editCommentLocally(updatedText)
                    }

                    else -> {
                        //input text is a comment
                        addComment(postId, updatedText)
                    }
                }
                LMFeedViewUtils.hideKeyboard(commentComposer)
                commentComposer.etComment.text = null
            }
            commentComposer.setCommentSendButton(false)

            commentComposer.setRemoveReplyingToClickListener {
                hideReplyingToView()
            }
        }
    }

    //processes the navigation icon click
    protected open fun onNavigationIconClick() {
        requireActivity().onBackPressedDispatcher.onBackPressed()
    }

    // adds the comment locally and calls api
    private fun addComment(postId: String, updatedText: String) {
        binding.rvPostDetails.apply {
            val createdAt = System.currentTimeMillis()
            val tempId = "-${createdAt}"

            // calls api
            postDetailViewModel.addComment(postId, tempId, updatedText)

            val userPreferences = LMFeedUserPreferences(requireContext())
            val creatorUserName = userPreferences.getUserName()

            // adds comment locally
            val commentViewData = postDetailViewModel.getCommentViewDataForLocalHandling(
                postId,
                creatorUserName,
                createdAt,
                tempId,
                updatedText,
                null
            )

            // remove NoCommentsViewData if visible
            if (getItem(commentsCountPosition) is LMFeedNoCommentsViewData) {
                removeItem(commentsCountPosition)
            }
            // gets old [CommentsCountViewData] from adapter
            if (getItem(commentsCountPosition) != null) {
                val oldCommentsCountViewData =
                    (getItem(commentsCountPosition) as LMFeedCommentsCountViewData)

                // updates old [CommentsCountViewData] by adding to [commentsCount]
                val updatedCommentsCountViewData = oldCommentsCountViewData.toBuilder()
                    .commentsCount(oldCommentsCountViewData.commentsCount + 1)
                    .build()

                //updates [CommentsCountViewData]
                updateItem(commentsCountPosition, updatedCommentsCountViewData)
            } else {
                // creates new [CommentsCountViewData] when the added comment is first
                val newCommentsCountViewData = LMFeedCommentsCountViewData.Builder()
                    .commentsCount(1)
                    .build()
                addItem(commentsCountPosition, newCommentsCountViewData)
            }

            // gets post from adapter
            var post = getItem(postDataPosition) as LMFeedPostViewData

            //update the action view data
            val updatedActionViewData = post.actionViewData.toBuilder()
                .commentsCount(post.actionViewData.commentsCount + 1)
                .build()

            //updated the post
            post = post.toBuilder()
                .actionViewData(updatedActionViewData)
                .build()

            // notifies the subscribers about the change in post data
            postEvent.notify(Pair(post.id, post))

            // updates comments count on header
            updateCommentsCount(post.actionViewData.commentsCount)

            //adds new comment to adapter
            addItem(commentsStartPosition, commentViewData)

            //scroll to comment's position
            scrollToPositionWithOffset(commentsStartPosition, 75)

            //updates comment data in post
            updateItem(postDataPosition, post)
        }
    }

    // adds the reply locally and calls api
    private fun addReply(updatedText: String) {
        binding.rvPostDetails.apply {
            val createdAt = System.currentTimeMillis()
            val tempId = "-${createdAt}"
            val postId = postDetailExtras.postId

            // input text is reply to a comment
            val parentCommentId = parentCommentIdToReply ?: return
            val parentComment = getIndexAndCommentFromAdapter(parentCommentId)?.second
                ?: return
            val parentCommentCreatorUUID = parentComment.user.sdkClientInfoViewData.uuid
            postDetailViewModel.replyComment(
                parentCommentCreatorUUID,
                postId,
                parentCommentId,
                updatedText,
                tempId
            )
            hideReplyingToView()

            val userPreferences = LMFeedUserPreferences(requireContext())
            val creatorUserName = userPreferences.getUserName()

            // view data of comment with level-1
            val replyViewData = postDetailViewModel.getCommentViewDataForLocalHandling(
                postId,
                creatorUserName,
                createdAt,
                tempId,
                updatedText,
                parentCommentId,
                level = 1
            )

            //adds reply to the adapter
            addReplyToAdapter(parentCommentId, replyViewData)
        }
    }

    // edits the comment locally and calls api
    private fun editCommentLocally(updatedText: String) {
        // when an existing comment is edited
        val commentId = editCommentId ?: return

        // calls api
        postDetailViewModel.editComment(
            postDetailExtras.postId,
            commentId,
            updatedText
        )

        binding.rvPostDetails.apply {

            if (parentId == null) {
                // edited comment is of level-0

                val pair = getIndexAndCommentFromAdapter(commentId) ?: return
                val commentPosition = pair.first
                val comment = pair.second

                //update comment view data
                val updatedComment = comment.toBuilder()
                    .fromCommentLiked(false)
                    .fromCommentEdited(true)
                    .isEdited(true)
                    .text(updatedText)
                    .build()

                updateItem(commentPosition, updatedComment)
            } else {
                // edited comment is of level-1 (reply)

                val pair = getIndexAndCommentFromAdapter(parentId ?: "") ?: return
                val parentIndex = pair.first
                val parentCommentInAdapter = pair.second

                // finds index of the reply inside the comment
                val replyPair =
                    getIndexAndReplyFromComment(parentCommentInAdapter, commentId) ?: return

                val index = replyPair.first
                val reply = replyPair.second.toBuilder()
                    .isEdited(true)
                    .text(updatedText)
                    .fromCommentEdited(true)
                    .build()

                if (index == -1) return

                parentCommentInAdapter.replies[index] = reply

                val newViewData = parentCommentInAdapter.toBuilder()
                    .fromCommentLiked(false)
                    .fromCommentEdited(false)
                    .build()

                //updates the parentComment with edited reply
                updateItem(parentIndex, newViewData)
            }
        }
        editCommentId = null
        parentId = null
    }

    // adds the reply to its parentComment
    private fun addReplyToAdapter(parentCommentId: String, reply: LMFeedCommentViewData) {
        binding.rvPostDetails.apply {
            // gets the parentComment from adapter
            val parentComment = getIndexAndCommentFromAdapter(parentCommentId) ?: return
            val parentIndex = parentComment.first
            val parentCommentViewData = parentComment.second

            // adds the reply at first
            parentCommentViewData.replies.add(0, reply)

            val newCommentViewData = parentCommentViewData.toBuilder()
                .fromCommentLiked(false)
                .fromCommentEdited(false)
                .repliesCount(parentCommentViewData.repliesCount + 1)
                .build()

            //updates the parentComment with added reply
            updateItem(parentIndex, newCommentViewData)

            // scroll to comment's position
            scrollToPositionWithOffset(parentIndex, 75)
        }
    }

    // hides the replying to view
    private fun hideReplyingToView() {
        binding.commentComposer.apply {
            parentCommentIdToReply = null
            setReplyingView("")
        }
    }

    // updates the comments count on toolbar
    private fun updateCommentsCount(commentsCount: Int) {
        val commentString = if (commentsCount == 1) {
            LMFeedCommunityUtil.getCommentVariable()
                .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
        } else {
            LMFeedCommunityUtil.getCommentVariable()
                .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_PLURAL)
        }

        binding.headerViewPostDetail.setSubTitleText(
            resources.getQuantityString(
                R.plurals.lm_feed_s_comments_small,
                commentsCount,
                commentsCount,
                commentString
            )
        )
    }

    private fun observeData() {
        observePostData()
        observeCommentData()
        observeCommentsRightData()
        observeMembersTaggingList()
        observeErrors()
    }

    //observes live data related to post
    private fun observePostData() {
        // observes postResponse live data
        postDetailViewModel.postResponse.observe(viewLifecycleOwner) { pair ->
            //hide progress bar
            LMFeedProgressBarHelper.hideProgress(binding.progressBar)
            //page in sent in api
            val page = pair.first

            // post data
            val post = pair.second

            // notifies the subscribers about the change in post data
            postEvent.notify(Pair(post.id, post))

            // update the comments count
            updateCommentsCount(post.actionViewData.commentsCount)

            //if pull to refresh is called
            if (mSwipeRefreshLayout.isRefreshing) {
                setPostDataAndScrollToTop(post)
                mSwipeRefreshLayout.isRefreshing = false
                return@observe
            }

            //normal adding
            if (page == 1) {
                setPostDataAndScrollToTop(post)
            } else {
                updatePostAndAddComments(post)
                binding.rvPostDetails.refreshVideoAutoPlayer()
            }
        }

        postDetailViewModel.getPostResponse.observe(viewLifecycleOwner) { postViewData ->
            binding.rvPostDetails.updateItem(postDataPosition, postViewData)

            //notifies the subscribers about the change in post data
            postEvent.notify(Pair(postViewData.id, postViewData))
        }

        // observes deletePostResponse LiveData
        postDetailViewModel.deletePostResponse.observe(viewLifecycleOwner) {
            // notifies the subscribers about the deletion of post
            postEvent.notify(Pair(postDetailExtras.postId, null))

            LMFeedViewUtils.showShortToast(
                requireContext(),
                getString(
                    R.string.lm_feed_s_deleted,
                    LMFeedCommunityUtil.getPostVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            )
            requireActivity().finish()
        }

        //observes postSavedResponse LiveData
        postDetailViewModel.postSavedResponse.observe(viewLifecycleOwner) { postViewData ->
            //create toast message
            val toastMessage = if (postViewData.actionViewData.isSaved) {
                getString(
                    R.string.lm_feed_s_saved,
                    LMFeedCommunityUtil.getPostVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            } else {
                getString(
                    R.string.lm_feed_s_unsaved,
                    LMFeedCommunityUtil.getPostVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            }
            LMFeedViewUtils.showShortToast(requireContext(), toastMessage)
        }

        //observes pinPostResponse LiveData
        postDetailViewModel.postPinnedResponse.observe(viewLifecycleOwner) { postViewData ->
            //show toast message
            val toastMessage = if (postViewData.headerViewData.isPinned) {
                getString(
                    R.string.lm_feed_s_pinned_to_top,
                    LMFeedCommunityUtil.getPostVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            } else {
                getString(
                    R.string.lm_feed_s_unpinned,
                    LMFeedCommunityUtil.getPostVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            }
            LMFeedViewUtils.showShortToast(requireContext(), toastMessage)
        }
    }

    // sets page-1 data of post and scrolls to top
    private fun setPostDataAndScrollToTop(post: LMFeedPostViewData) {
        binding.rvPostDetails.apply {
            // [ArrayList] to add all the items to adapter
            val postDetailList = ArrayList<LMFeedBaseViewType>()
            // adds the post data at [postDataPosition]
            postDetailList.add(postDataPosition, post)

            if (post.actionViewData.commentsCount == 0) {
                // adds no comments view data
                val noCommentViewData = LMFeedNoCommentsViewData.Builder().build()
                postDetailList.add(noCommentViewData)
            } else {
                // adds commentsCountViewData if comments are present
                postDetailList.add(
                    commentsCountPosition,
                    LMFeedViewDataConvertor.convertCommentsCount(post.actionViewData.commentsCount)
                )
            }

            val comments = post.actionViewData.replies.toList()
            // adds all the comments to the [postDetailList]
            postDetailList.addAll(comments)
            replaceItems(postDetailList)

            if (toFindComment) {
                //find the comments already present in adapter
                postDetailExtras.commentId?.let { commentId ->
                    val index = getIndexAndCommentFromAdapter(commentId)?.first ?: -1

                    //comment not present -> get it from api
                    if (index == -1) {
                        postDetailViewModel.getComment(post.id, postDetailExtras.commentId ?: "", 1)
                    } else {
                        //scroll to that comment
                        scrollToPositionWithOffset(index, 0)
                    }
                }
            } else {
                scrollToPositionWithOffset(postDataPosition, 0)
            }
            refreshVideoAutoPlayer()
        }
    }

    // updates the post and add comments to adapter
    private fun updatePostAndAddComments(post: LMFeedPostViewData) {
        // notifies the subscribers about the change in post data
        postEvent.notify(Pair(post.id, post))

        binding.rvPostDetails.apply {
            // updates the post
            updateItem(postDataPosition, post)
            // adds the paginated comments
            addItems(post.actionViewData.replies.toList())
        }
    }

    private fun observeCommentData() {
        binding.rvPostDetails.apply {

            // observes addCommentResponse LiveData
            postDetailViewModel.addCommentResponse.observe(viewLifecycleOwner) { comment ->
                val index =
                    getIndexAndCommentFromAdapterUsingTempId(comment.tempId)?.first
                        ?: return@observe

                if (getItem(index) is LMFeedCommentViewData) {
                    updateItem(index, comment)
                }
            }

            // observes editCommentResponse LiveData
            postDetailViewModel.editCommentResponse.observe(viewLifecycleOwner) { comment ->
                editCommentInAdapter(comment)
            }

            // observes addReplyResponse LiveData
            postDetailViewModel.addReplyResponse.observe(viewLifecycleOwner) { pair ->
                // [parentCommentId] for the reply
                val parentCommentId = pair.first

                // view data of comment with level-1
                val replyViewData = pair.second

                // gets the parentComment from adapter
                val parentComment = getIndexAndCommentFromAdapter(parentCommentId) ?: return@observe
                val parentIndex = parentComment.first
                val parentCommentViewData = parentComment.second

                val replyIndex = parentCommentViewData.replies.indexOfFirst {
                    it.tempId == replyViewData.tempId
                }

                if (replyIndex != -1) {
                    parentCommentViewData.replies[replyIndex] = replyViewData
                    val newCommentViewData = parentCommentViewData.toBuilder()
                        .fromCommentLiked(false)
                        .fromCommentEdited(false)
                        .build()
                    updateItem(parentIndex, newCommentViewData)
                }
            }
        }

        // observes deleteCommentResponse LiveData
        postDetailViewModel.deleteCommentResponse.observe(viewLifecycleOwner) { pair ->
            val commentId = pair.first
            val parentCommentId = pair.second

            // level-0 comment
            if (parentCommentId == null) {
                removeCommentFromAdapter(commentId)
            } else {
                // level-1 comment
                removeReplyFromAdapter(parentCommentId, commentId)
            }
        }

        postDetailViewModel.getCommentResponse.observe(viewLifecycleOwner) { pair ->
            //page in api send
            val page = pair.first

            //comment data
            val comment = pair.second

            // adds paginated replies to adapter
            addReplies(comment, page)
        }
    }

    // finds and edits comment/reply in the adapter
    private fun editCommentInAdapter(comment: LMFeedCommentViewData) {
        binding.rvPostDetails.apply {
            val parentComment = comment.parentComment
            if (parentComment == null) {
                // edited comment is of level-0

                val commentPosition = getIndexAndCommentFromAdapter(comment.id)?.first ?: return

                //update comment view data
                val updatedComment = comment.toBuilder()
                    .fromCommentLiked(false)
                    .fromCommentEdited(true)
                    .build()

                updateItem(commentPosition, updatedComment)
            } else {
                // edited comment is of level-1 (reply)

                val parentCommentId = parentComment.id
                val pair = getIndexAndCommentFromAdapter(parentCommentId) ?: return
                val parentIndex = pair.first
                val parentCommentInAdapter = pair.second

                // finds index of the reply inside the comment
                val index =
                    getIndexAndReplyFromComment(parentCommentInAdapter, comment.id)?.first ?: return

                if (index == -1) return

                parentCommentInAdapter.replies[index] = comment

                val newViewData = parentCommentInAdapter.toBuilder()
                    .fromCommentLiked(false)
                    .fromCommentEdited(false)
                    .build()

                // updates the parentComment with edited reply
                updateItem(parentIndex, newViewData)
            }
        }
    }

    //removes a comment from the adapter and shows no comment view if required
    private fun removeCommentFromAdapter(commentId: String, isLocal: Boolean = false) {
        binding.rvPostDetails.apply {
            // gets old [CommentsCountViewData] from adapter
            val oldCommentsCountViewData =
                (getItem(commentsCountPosition) as LMFeedCommentsCountViewData)

            // creates new [CommentsCountViewData] by adding to [commentsCount]
            val newCommentsCountViewData = oldCommentsCountViewData.toBuilder()
                .commentsCount(oldCommentsCountViewData.commentsCount - 1)
                .build()

            // updates [CommentsCountViewData]
            updateItem(commentsCountPosition, newCommentsCountViewData)

            var post = getItem(postDataPosition) as LMFeedPostViewData

            //update the action view data
            val updatedActionViewData = post.actionViewData.toBuilder()
                .commentsCount(newCommentsCountViewData.commentsCount)
                .build()

            //updated the post
            post = post.toBuilder()
                .actionViewData(updatedActionViewData)
                .build()

            // notifies the subscribers about the change in post data
            postEvent.notify(Pair(post.id, post))

            //update the comments count in the header
            updateCommentsCount(newCommentsCountViewData.commentsCount)

            //updates comment data in post
            updateItem(postDataPosition, post)

            // get the deleted comment from the adapter
            val indexToRemove =
                getIndexAndCommentFromAdapter(commentId)?.first ?: return

            // removes the deleted comment from the adapter
            removeItem(indexToRemove)

            if (!isLocal) {
                LMFeedViewUtils.showShortToast(
                    requireContext(),
                    getString(
                        R.string.lm_feed_s_comment_deleted,
                        LMFeedCommunityUtil.getCommentVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                    )
                )
            }

            if (newCommentsCountViewData.commentsCount == 0) {
                removeItem(commentsCountPosition)
                // adds no comments view data to adapter
                val noCommentViewData = LMFeedNoCommentsViewData.Builder().build()
                addItem(noCommentViewData)
            }
        }
    }

    // removes the reply from its parentComment
    private fun removeReplyFromAdapter(parentCommentId: String, replyId: String) {
        binding.rvPostDetails.apply {
            // gets the parentComment from adapter
            val parentComment = getIndexAndCommentFromAdapter(parentCommentId) ?: return
            val parentIndex = parentComment.first
            val parentCommentViewData = parentComment.second

            // removes the reply with specified replyId
            parentCommentViewData.replies.removeIf {
                it.id == replyId
            }

            val newCommentViewData = parentCommentViewData.toBuilder()
                .fromCommentLiked(false)
                .fromCommentEdited(false)
                .repliesCount(parentCommentViewData.repliesCount - 1)
                .build()

            // updates the parentComment with removed reply
            updateItem(parentIndex, newCommentViewData)
        }
    }

    // adds paginated replies to comment
    private fun addReplies(comment: LMFeedCommentViewData, page: Int) {
        binding.rvPostDetails.apply {
            // gets comment from adapter
            val indexAndComment = getIndexAndCommentFromAdapter(comment.id)

            //if comment is not present in adapter
            if (indexAndComment == null) {
                //set to false because comment is added
                toFindComment = false
                //add comment to adapter
                addItem(commentsStartPosition, comment)
                //scroll to the comment
                scrollToPositionWithOffset(commentsStartPosition, 0)
            } else {
                val index = indexAndComment.first
                val adapterComment = indexAndComment.second
                if (page == 1) {
                    // updates the comment with page-1 replies
                    updateItem(index, comment)
                    scrollToPositionWithOffset(index, 75)
                } else {
                    // adds replies in adapter and fetched replies
                    comment.replies.addAll(
                        0,
                        adapterComment.replies
                    )
                    updateItem(index, comment)
                    scrollToPositionWithOffset(index + 1, 150)
                }
            }
        }
    }

    //observes hasCommentRights live data
    private fun observeCommentsRightData() {
        postDetailViewModel.hasCommentRights.observe(viewLifecycleOwner) {
            //if source is notification/deep link, don't update comments right from here
            if (postDetailExtras.source != LMFeedAnalytics.LMFeedSource.NOTIFICATION &&
                postDetailExtras.source != LMFeedAnalytics.LMFeedSource.DEEP_LINK
            ) {
                binding.commentComposer.setCommentRights(it)
            }
        }
    }

    private fun observeMembersTaggingList() {
        postDetailViewModel.taggingData.observe(viewLifecycleOwner) { result ->
            MemberTaggingUtil.setMembersInView(memberTagging, result)
        }
    }

    //observes error events
    private fun observeErrors() {
        binding.rvPostDetails.apply {
            postDetailViewModel.errorMessageEventFlow.onEach { response ->
                when (response) {
                    is LMFeedPostDetailViewModel.ErrorMessageEvent.GetPost -> {
                        mSwipeRefreshLayout.isRefreshing = false
                        LMFeedProgressBarHelper.hideProgress(binding.progressBar)
                        LMFeedViewUtils.showErrorMessageToast(
                            requireContext(),
                            response.errorMessage
                        )
                        requireActivity().finish()
                    }

                    is LMFeedPostDetailViewModel.ErrorMessageEvent.LikeComment -> {
                        val commentId = response.commentId

                        //get comment and index
                        val pair = getIndexAndCommentFromAdapter(commentId) ?: return@onEach
                        val comment = pair.second
                        val index = pair.first

                        //update comment view data
                        val updatedComment = comment.toBuilder()
                            .isLiked(false)
                            .fromCommentLiked(true)
                            .fromCommentEdited(false)
                            .likesCount(comment.likesCount - 1)
                            .build()

                        //update recycler view
                        updateItem(index, updatedComment)

                        //show error message
                        LMFeedViewUtils.showErrorMessageToast(
                            requireContext(),
                            response.errorMessage
                        )
                    }

                    is LMFeedPostDetailViewModel.ErrorMessageEvent.AddComment -> {
                        removeCommentFromAdapter(response.tempId, isLocal = true)
                        LMFeedViewUtils.showErrorMessageToast(
                            requireContext(),
                            response.errorMessage
                        )
                    }

                    is LMFeedPostDetailViewModel.ErrorMessageEvent.ReplyComment -> {
                        removeReplyFromAdapter(response.parentCommentId, response.tempId)
                        LMFeedViewUtils.showErrorMessageToast(
                            requireContext(),
                            response.errorMessage
                        )
                    }

                    is LMFeedPostDetailViewModel.ErrorMessageEvent.DeleteComment -> {
                        LMFeedViewUtils.showErrorMessageToast(
                            requireContext(),
                            response.errorMessage
                        )
                    }

                    is LMFeedPostDetailViewModel.ErrorMessageEvent.GetComment -> {
                        LMFeedViewUtils.showErrorMessageToast(
                            requireContext(),
                            response.errorMessage
                        )
                    }

                    is LMFeedPostDetailViewModel.ErrorMessageEvent.EditComment -> {
                        LMFeedViewUtils.showErrorMessageToast(
                            requireContext(),
                            response.errorMessage
                        )
                    }

                    is LMFeedPostDetailViewModel.ErrorMessageEvent.LikePost -> {
                        //get post
                        val post = getItem(postDataPosition) as LMFeedPostViewData

                        //update footer view data
                        val updatedFooterView = post.actionViewData.toBuilder()
                            .isLiked(false)
                            .likesCount(post.actionViewData.likesCount - 1)
                            .build()

                        //update post view data
                        val updatedPost = post.toBuilder()
                            .actionViewData(updatedFooterView)
                            .fromPostLiked(true)
                            .build()

                        postEvent.notify(Pair(updatedPost.id, updatedPost))

                        //update recycler view
                        updateItem(postDataPosition, updatedPost)

                        //show error message
                        val errorMessage = response.errorMessage
                        LMFeedViewUtils.showErrorMessageToast(requireContext(), errorMessage)
                    }

                    is LMFeedPostDetailViewModel.ErrorMessageEvent.SavePost -> {
                        //get post
                        val post = getItem(postDataPosition) as LMFeedPostViewData

                        //update footer view data
                        val updatedFooter = post.actionViewData.toBuilder()
                            .isSaved(false)
                            .build()

                        //update post view data
                        val updatedPost = post.toBuilder()
                            .actionViewData(updatedFooter)
                            .fromPostSaved(true)
                            .build()

                        postEvent.notify(Pair(updatedPost.id, updatedPost))

                        //update recycler view
                        updateItem(postDataPosition, updatedPost)

                        //show error message
                        val errorMessage = response.errorMessage
                        LMFeedViewUtils.showErrorMessageToast(requireContext(), errorMessage)
                    }

                    is LMFeedPostDetailViewModel.ErrorMessageEvent.DeletePost -> {
                        val errorMessage = response.errorMessage
                        LMFeedViewUtils.showErrorMessageToast(requireContext(), errorMessage)
                    }

                    is LMFeedPostDetailViewModel.ErrorMessageEvent.PinPost -> {
                        //get post
                        val post = getItem(postDataPosition) as LMFeedPostViewData

                        val updatedHeader = post.headerViewData.toBuilder()
                            .isPinned(!post.headerViewData.isPinned)
                            .build()

                        //update post view data
                        val updatedPost = post.toBuilder()
                            .headerViewData(updatedHeader)
                            .build()

                        //update recycler view
                        updateItem(postDataPosition, updatedPost)

                        //show error message
                        val errorMessage = response.errorMessage
                        LMFeedViewUtils.showErrorMessageToast(requireContext(), errorMessage)
                    }

                    is LMFeedPostDetailViewModel.ErrorMessageEvent.TaggingList -> {
                        LMFeedViewUtils.showErrorMessageToast(
                            requireContext(),
                            response.errorMessage
                        )
                    }

                    is LMFeedPostDetailViewModel.ErrorMessageEvent.AddPollOption -> {
                        LMFeedViewUtils.showErrorMessageToast(
                            requireContext(),
                            response.errorMessage
                        )
                    }

                    is LMFeedPostDetailViewModel.ErrorMessageEvent.SubmitVote -> {
                        LMFeedViewUtils.showErrorMessageToast(
                            requireContext(),
                            response.errorMessage
                        )
                    }
                }
            }.observeInLifecycle(viewLifecycleOwner)
        }
    }

    //processes edit comment/reply request
    private fun editCommentEntity(comment: LMFeedCommentViewData) {
        binding.apply {
            val parentCommentId = comment.parentId
            // gets text of the comment/reply
            val commentText =
                if (parentCommentId == null) {
                    comment.text
                } else {
                    val parentComment =
                        rvPostDetails.getIndexAndCommentFromAdapter(parentCommentId)?.second
                            ?: return

                    val reply = rvPostDetails.getIndexAndReplyFromComment(parentComment, comment.id)
                        ?: return

                    reply.second.text
                }

            // updates the edittext with the comment to be edited
            editCommentId = comment.id
            parentId = parentCommentId
            // decodes the comment text and sets to the edit text
            UserTaggingDecoder.decode(
                commentComposer.etComment,
                commentText,
                ContextCompat.getColor(requireContext(), LMFeedAppearance.getTextLinkColor())
            )
            commentComposer.etComment.setSelection(commentComposer.etComment.length())
            commentComposer.etComment.setSelection(commentComposer.etComment.length())
            commentComposer.etComment.focusAndShowKeyboard()
        }
    }

    private fun deleteCommentEntity(comment: LMFeedCommentViewData) {
        val deleteExtras = LMFeedDeleteExtras.Builder()
            .postId(comment.postId)
            .commentId(comment.id)
            .entityType(DELETE_TYPE_COMMENT)
            .parentCommentId(comment.parentId)
            .build()

        val creatorUUID = comment.user.sdkClientInfoViewData.uuid
        showDeleteDialog(creatorUUID, deleteExtras)
    }

    private fun showDeleteDialog(creatorUUID: String, deleteExtras: LMFeedDeleteExtras) {
        val userPreferences = LMFeedUserPreferences(requireContext())
        val loggedInUUID = userPreferences.getUUID()

        if (creatorUUID == loggedInUUID) {
            // when user deletes their own entity
            LMFeedSelfDeleteDialogFragment.showDialog(
                childFragmentManager,
                deleteExtras
            )
        } else {
            // when CM deletes other user's entity
            LMFeedAdminDeleteDialogFragment.showDialog(
                childFragmentManager,
                deleteExtras
            )
        }
    }

    // launcher to start [ReportActivity] and show success dialog for result
    private val reportPostLauncher =
        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result ->
            if (result.resultCode == Activity.RESULT_OK) {
                val data = result.data?.getStringExtra(LMFeedReportFragment.LM_FEED_REPORT_RESULT)

                val entityType = if (data == "Post") {
                    LMFeedCommunityUtil.getPostVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                } else {
                    data
                }

                LMFeedReportSuccessDialogFragment(entityType ?: "").show(
                    childFragmentManager,
                    LMFeedReportSuccessDialogFragment.TAG
                )
            }
        }

    private fun reportPostEntity(post: LMFeedPostViewData) {
        val creatorUUID = post.headerViewData.user.sdkClientInfoViewData.uuid

        //create extras for [ReportActivity]
        val reportExtras = LMFeedReportExtras.Builder()
            .entityId(post.id)
            .uuid(creatorUUID)
            .entityType(REPORT_TYPE_POST)
            .postId(post.id)
            .postViewType(post.viewType)
            .build()

        //get Intent for [ReportActivity]
        val intent = LMFeedReportActivity.getIntent(requireContext(), reportExtras)

        //start [ReportActivity] and check for result
        reportPostLauncher.launch(intent)
    }

    private fun reportCommentEntity(
        @LMFeedReportType
        reportType: Int,
        comment: LMFeedCommentViewData
    ) {
        val creatorUUID = comment.user.sdkClientInfoViewData.uuid

        //create extras for [ReportActivity]
        val reportExtras = LMFeedReportExtras.Builder()
            .entityId(comment.id)
            .uuid(creatorUUID)
            .entityType(reportType)
            .postId(comment.postId)
            .parentCommentId(comment.parentId)
            .build()

        //get Intent for [ReportActivity]
        val intent = LMFeedReportActivity.getIntent(requireContext(), reportExtras)

        //start [ReportActivity] and check for result
        reportPostLauncher.launch(intent)
    }

    override fun onCommentContentLinkClicked(url: String) {
        super.onCommentContentLinkClicked(url)

        // creates a route and returns an intent to handle the link
        val intent = LMFeedRoute.handleDeepLink(requireContext(), url)
        if (intent != null) {
            try {
                // starts activity with the intent
                ActivityCompat.startActivity(requireContext(), intent, null)
            } catch (e: Exception) {
                e.printStackTrace()
            }
        }
    }

    override fun onPostCommentsCountClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostCommentsCountClicked(position, postViewData)

        binding.commentComposer.etComment.focusAndShowKeyboard()
    }

    override fun onPostLikeClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostLikeClicked(position, postViewData)

        postEvent.notify(Pair(postViewData.id, postViewData))

        val userPreferences = LMFeedUserPreferences(requireContext())
        val loggedInUUID = userPreferences.getUUID()

        //call api
        postDetailViewModel.likePost(
            postViewData.id,
            postViewData.actionViewData.isLiked,
            loggedInUUID
        )

        //update recycler
        binding.rvPostDetails.updateItem(position, postViewData)
    }

    override fun onPostLikesCountClicked(position: Int, postViewData: LMFeedPostViewData) {
        //show the likes screen
        val likesScreenExtras = LMFeedLikesScreenExtras.Builder()
            .postId(postViewData.id)
            .entityType(POST)
            .build()
        LMFeedLikesActivity.start(requireContext(), likesScreenExtras)
    }

    override fun onPostSaveClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostSaveClicked(position, postViewData)

        // notifies the subscribers about the change
        postEvent.notify(Pair(postViewData.id, postViewData))

        //call api
        postDetailViewModel.savePost(postViewData)

        //update recycler
        binding.rvPostDetails.updateItem(postDataPosition, postViewData)
    }

    override fun onPostContentSeeMoreClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostContentSeeMoreClicked(position, postViewData)

        binding.rvPostDetails.updateItem(postDataPosition, postViewData)
    }

    //callback when the tag of the user is clicked
    override fun onPostTaggedMemberClicked(position: Int, uuid: String) {
        super.onPostTaggedMemberClicked(position, uuid)

        val coreCallback = LMFeedCoreApplication.getLMFeedCoreCallback()
        coreCallback?.openProfileWithUUID(uuid)
    }

    override fun onCommentContentSeeMoreClicked(position: Int, comment: LMFeedCommentViewData) {
        super.onCommentContentSeeMoreClicked(position, comment)

        binding.rvPostDetails.updateItem(position, comment)
    }

    override fun onCommentLiked(position: Int, comment: LMFeedCommentViewData) {
        super.onCommentLiked(position, comment)

        val userPreferences = LMFeedUserPreferences(requireContext())
        val loggedInUUID = userPreferences.getUUID()

        val indexAndComment =
            binding.rvPostDetails.getIndexAndCommentFromAdapter(comment.id) ?: return

        val adapterPosition = indexAndComment.first

        //call api
        postDetailViewModel.likeComment(
            comment.postId,
            comment.id,
            !comment.isLiked,
            loggedInUUID
        )

        //update recycler
        binding.rvPostDetails.updateItem(adapterPosition, comment)
    }

    override fun onCommentLikesCountClicked(position: Int, comment: LMFeedCommentViewData) {
        super.onCommentLikesCountClicked(position, comment)

        //shows likes screen for comment
        val likesScreenExtras = LMFeedLikesScreenExtras.Builder()
            .postId(comment.postId)
            .commentId(comment.id)
            .entityType(COMMENT)
            .build()
        LMFeedLikesActivity.start(requireContext(), likesScreenExtras)
    }

    override fun onReplyLiked(position: Int, replyViewData: LMFeedCommentViewData) {
        super.onReplyLiked(position, replyViewData)

        binding.rvPostDetails.apply {
            // gets parentComment from adapter
            val parentCommentId = replyViewData.parentId ?: return
            val parentIndexAndComment = getIndexAndCommentFromAdapter(parentCommentId) ?: return
            val parentPosition = parentIndexAndComment.first
            val parentComment = parentIndexAndComment.second

            parentComment.replies[position] = replyViewData

            //update comment view data
            val newViewData = parentComment.toBuilder()
                .fromCommentLiked(false)
                .fromCommentEdited(false)
                .replies(parentComment.replies)
                .build()

            val userPreferences = LMFeedUserPreferences(requireContext())
            val loggedInUUID = userPreferences.getUUID()

            //call api
            postDetailViewModel.likeComment(
                newViewData.postId,
                replyViewData.id,
                !replyViewData.isLiked,
                loggedInUUID
            )

            //update recycler
            updateItem(parentPosition, newViewData)
        }
    }

    override fun onCommentReplyClicked(position: Int, comment: LMFeedCommentViewData) {
        super.onCommentReplyClicked(position, comment)

        parentCommentIdToReply = comment.id
        binding.apply {
            val replyingText = getString(
                R.string.lm_feed_replying_to_s,
                comment.user.name
            )
            commentComposer.setReplyingView(replyingText)
            commentComposer.etComment.focusAndShowKeyboard()

            rvPostDetails.smoothScrollToPosition(position)
        }
    }

    override fun onPostContentLinkClicked(url: String) {
        // creates a route and returns an intent to handle the link
        val intent = LMFeedRoute.handleDeepLink(requireContext(), url)
        if (intent != null) {
            try {
                // starts activity with the intent
                ActivityCompat.startActivity(requireContext(), intent, null)
            } catch (e: Exception) {
                e.printStackTrace()
            }
        }
    }

    override fun onPostMenuIconClicked(
        position: Int,
        anchorView: View,
        postViewData: LMFeedPostViewData
    ) {
        super.onPostMenuIconClicked(position, anchorView, postViewData)

        val popupMenu = LMFeedOverflowMenu(requireContext(), anchorView)
        val menuItems = postViewData.headerViewData.menuItems
        popupMenu.addMenuItems(menuItems)

        popupMenu.setMenuItemClickListener { menuId ->
            onPostMenuItemClicked(position, menuId, postViewData)
        }

        popupMenu.show()
    }

    override fun onPostLinkMediaClicked(position: Int, postViewData: LMFeedPostViewData) {
        // creates a route and returns an intent to handle the link
        val intent = LMFeedRoute.handleDeepLink(
            requireContext(),
            postViewData.mediaViewData.attachments.firstOrNull()?.attachmentMeta?.ogTags?.url
        )

        if (intent != null) {
            try {
                // starts activity with the intent
                ActivityCompat.startActivity(requireContext(), intent, null)
            } catch (e: Exception) {
                e.printStackTrace()
            }
        }
    }

    override fun onPostDocumentMediaClicked(
        position: Int,
        parentPosition: Int,
        attachmentViewData: LMFeedAttachmentViewData
    ) {
        //open the pdf using Android's document view
        val documentUrl = attachmentViewData.attachmentMeta.url ?: ""
        val pdfUri = Uri.parse(documentUrl)
        LMFeedAndroidUtils.startDocumentViewer(requireContext(), pdfUri)
    }

    // callback when other's post is deleted by CM
    override fun onEntityDeletedByAdmin(deleteExtras: LMFeedDeleteExtras, reason: String) {
        binding.rvPostDetails.apply {
            when (deleteExtras.entityType) {
                DELETE_TYPE_POST -> {
                    val post = getItem(postDataPosition) as LMFeedPostViewData
                    postDetailViewModel.deletePost(post, reason)
                }

                DELETE_TYPE_COMMENT -> {
                    val commentId = deleteExtras.commentId ?: return
                    postDetailViewModel.deleteComment(
                        deleteExtras.postId,
                        commentId,
                        parentCommentId = deleteExtras.parentCommentId,
                        reason = reason
                    )
                }
            }
        }
    }

    // callback when self post is deleted by user
    override fun onEntityDeletedByAuthor(deleteExtras: LMFeedDeleteExtras) {
        binding.rvPostDetails.apply {
            when (deleteExtras.entityType) {
                DELETE_TYPE_POST -> {
                    val post = getItem(postDataPosition) as LMFeedPostViewData
                    postDetailViewModel.deletePost(post)
                }

                DELETE_TYPE_COMMENT -> {
                    val commentId = deleteExtras.commentId ?: return
                    postDetailViewModel.deleteComment(
                        deleteExtras.postId,
                        commentId,
                        parentCommentId = deleteExtras.parentCommentId
                    )
                }
            }
        }
    }

    // callback when the user clicks on the post answer prompt
    override fun onPostAnswerPromptClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostAnswerPromptClicked(position, postViewData)

        binding.commentComposer.etComment.focusAndShowKeyboard()
    }

    //callback when post menu items are clicked
    protected open fun onPostMenuItemClicked(
        position: Int,
        menuId: Int,
        postViewData: LMFeedPostViewData
    ) {
        when (menuId) {
            EDIT_POST_MENU_ITEM_ID -> {
                onEditPostMenuClicked(
                    position,
                    menuId,
                    postViewData
                )
            }

            DELETE_POST_MENU_ITEM_ID -> {
                onDeletePostMenuClicked(
                    position,
                    menuId,
                    postViewData
                )
            }

            REPORT_POST_MENU_ITEM_ID -> {
                onReportPostMenuClicked(
                    position,
                    menuId,
                    postViewData
                )
            }

            PIN_POST_MENU_ITEM_ID -> {
                val updatedPostViewData =
                    LMFeedPostBinderUtils.updatePostForPin(requireContext(), postViewData)

                updatedPostViewData?.let {
                    onPinPostMenuClicked(
                        position,
                        menuId,
                        it
                    )
                }
            }

            UNPIN_POST_MENU_ITEM_ID -> {
                val updatedPost =
                    LMFeedPostBinderUtils.updatePostForUnpin(requireContext(), postViewData)

                updatedPost?.let {
                    onUnpinPostMenuClicked(
                        position,
                        menuId,
                        it
                    )
                }
            }
        }
    }

    // launcher for [EditPostActivity]
    private val editPostLauncher =
        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result ->
            when (result.resultCode) {
                Activity.RESULT_OK -> {
                    refreshPostData()
                }
            }
        }

    protected open fun onEditPostMenuClicked(
        position: Int,
        menuId: Int,
        post: LMFeedPostViewData
    ) {
        val editPostExtras = LMFeedEditPostExtras.Builder()
            .postId(post.id)
            .build()
        val intent = LMFeedEditPostActivity.getIntent(requireContext(), editPostExtras)
        editPostLauncher.launch(intent)
    }

    protected open fun onDeletePostMenuClicked(
        position: Int,
        menuId: Int,
        post: LMFeedPostViewData
    ) {
        val deleteExtras = LMFeedDeleteExtras.Builder()
            .postId(post.id)
            .entityType(DELETE_TYPE_POST)
            .build()

        val postCreatorUUID = post.headerViewData.user.sdkClientInfoViewData.uuid

        val userPreferences = LMFeedUserPreferences(requireContext())
        val loggedInUUID = userPreferences.getUUID()

        if (postCreatorUUID == loggedInUUID) {
            // if the post was created by current user
            LMFeedSelfDeleteDialogFragment.showDialog(
                childFragmentManager,
                deleteExtras
            )
        } else {
            // if the post was not created by current user and they are admin
            LMFeedAdminDeleteDialogFragment.showDialog(
                childFragmentManager,
                deleteExtras
            )
        }
    }

    protected open fun onReportPostMenuClicked(
        position: Int,
        menuId: Int,
        post: LMFeedPostViewData
    ) {
        reportPostEntity(post)
    }

    protected open fun onPinPostMenuClicked(
        position: Int,
        menuId: Int,
        post: LMFeedPostViewData
    ) {
        //call api
        postDetailViewModel.pinPost(post)

        //update recycler
        binding.rvPostDetails.updateItem(postDataPosition, post)
    }

    protected open fun onUnpinPostMenuClicked(
        position: Int,
        menuId: Int,
        post: LMFeedPostViewData
    ) {
        //call api
        postDetailViewModel.pinPost(post)

        //update recycler
        binding.rvPostDetails.updateItem(postDataPosition, post)
    }

    override fun onCommentReplyCountClicked(
        position: Int,
        comment: LMFeedCommentViewData,
        areRepliesVisible: Boolean
    ) {
        super.onCommentReplyCountClicked(position, comment, areRepliesVisible)

        if (areRepliesVisible) {
            // gets page-1 replies
            postDetailViewModel.getComment(
                comment.postId,
                comment.id,
                1
            )
        }
    }

    override fun onCommentMenuIconClicked(
        position: Int,
        anchorView: View,
        comment: LMFeedCommentViewData
    ) {
        super.onCommentMenuIconClicked(position, anchorView, comment)

        val popupMenu = LMFeedOverflowMenu(requireContext(), anchorView)
        val menuItems = comment.menuItems
        popupMenu.addMenuItems(menuItems)

        popupMenu.setMenuItemClickListener { menuId ->
            onCommentMenuItemClicked(
                position,
                menuId,
                comment
            )
        }

        popupMenu.show()
    }

    override fun onViewMoreRepliesClicked(
        position: Int,
        viewMoreReplyViewData: LMFeedViewMoreReplyViewData
    ) {
        super.onViewMoreRepliesClicked(position, viewMoreReplyViewData)

        binding.rvPostDetails.apply {
            val comment =
                getIndexAndCommentFromAdapter(viewMoreReplyViewData.parentCommentId)?.second
                    ?: return
            postDetailViewModel.getComment(
                comment.postId,
                viewMoreReplyViewData.parentCommentId,
                viewMoreReplyViewData.page
            )
        }
    }

    override fun onReplyLikesCountClicked(position: Int, replyViewData: LMFeedCommentViewData) {
        super.onReplyLikesCountClicked(position, replyViewData)

        //shows likes screen for comment
        val likesScreenExtras = LMFeedLikesScreenExtras.Builder()
            .postId(replyViewData.postId)
            .commentId(replyViewData.id)
            .entityType(COMMENT)
            .build()
        LMFeedLikesActivity.start(requireContext(), likesScreenExtras)
    }

    override fun onReplyMenuIconClicked(
        position: Int,
        anchorView: View,
        replyViewData: LMFeedCommentViewData
    ) {
        super.onReplyMenuIconClicked(position, anchorView, replyViewData)

        val popupMenu = LMFeedOverflowMenu(requireContext(), anchorView)
        val menuItems = replyViewData.menuItems
        popupMenu.addMenuItems(menuItems)

        popupMenu.setMenuItemClickListener { menuId ->
            onReplyMenuItemClicked(
                position,
                menuId,
                replyViewData
            )
        }

        popupMenu.show()
    }

    //processes comment menu item clicked
    private fun onCommentMenuItemClicked(
        position: Int,
        menuId: Int,
        comment: LMFeedCommentViewData
    ) {
        when (menuId) {
            EDIT_COMMENT_MENU_ITEM_ID -> {
                onEditCommentMenuClicked(
                    position,
                    menuId,
                    comment
                )
            }

            DELETE_COMMENT_MENU_ITEM_ID -> {
                onDeleteCommentMenuClicked(
                    position,
                    menuId,
                    comment
                )
            }

            REPORT_COMMENT_MENU_ITEM_ID -> {
                onReportCommentMenuClicked(
                    position,
                    menuId,
                    comment
                )
            }
        }
    }

    //processes edit comment request
    protected open fun onEditCommentMenuClicked(
        position: Int,
        menuId: Int,
        comment: LMFeedCommentViewData
    ) {
        editCommentEntity(comment)
    }

    //processes delete comment menu item clicked
    protected open fun onDeleteCommentMenuClicked(
        position: Int,
        menuId: Int,
        comment: LMFeedCommentViewData
    ) {
        deleteCommentEntity(comment)
    }

    //processes report comment menu item clicked
    protected open fun onReportCommentMenuClicked(
        position: Int,
        menuId: Int,
        comment: LMFeedCommentViewData
    ) {
        reportCommentEntity(REPORT_TYPE_COMMENT, comment)
    }

    //processes reply menu item clicked
    protected open fun onReplyMenuItemClicked(
        position: Int,
        menuId: Int,
        reply: LMFeedCommentViewData
    ) {
        when (menuId) {
            EDIT_COMMENT_MENU_ITEM_ID -> {
                onEditReplyMenuClicked(
                    position,
                    menuId,
                    reply
                )
            }

            DELETE_COMMENT_MENU_ITEM_ID -> {
                onDeleteReplyMenuClicked(
                    position,
                    menuId,
                    reply
                )
            }

            REPORT_COMMENT_MENU_ITEM_ID -> {
                onReportReplyMenuClicked(
                    position,
                    menuId,
                    reply
                )
            }
        }
    }

    //processes edit reply menu item click
    protected open fun onEditReplyMenuClicked(
        position: Int,
        menuId: Int,
        reply: LMFeedCommentViewData
    ) {
        editCommentEntity(reply)
    }

    //processes delete reply menu item click
    protected open fun onDeleteReplyMenuClicked(
        position: Int,
        menuId: Int,
        reply: LMFeedCommentViewData
    ) {
        deleteCommentEntity(reply)
    }

    //processes report reply menu item click
    protected open fun onReportReplyMenuClicked(
        position: Int,
        menuId: Int,
        reply: LMFeedCommentViewData
    ) {
        reportCommentEntity(REPORT_TYPE_REPLY, reply)
    }

    //called when the page in the multiple media post is changed
    override fun onPostMultipleMediaPageChangeCallback(position: Int, parentPosition: Int) {
        //processes the current video whenever view pager's page is changed
        binding.rvPostDetails.refreshVideoAutoPlayer()
    }

    //callback when the user expands the documents list
    override fun onPostMultipleDocumentsExpanded(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostMultipleDocumentsExpanded(position, postViewData)

        binding.rvPostDetails.apply {
            if (position == items().size - 1) {
                scrollToPositionWithOffset(position, 75)
            }

            updateItem(position, postViewData)
        }
    }

    //callback to update [fromPostLiked] variable
    override fun updateFromLikedSaved(position: Int, postViewData: LMFeedPostViewData) {
        super.updateFromLikedSaved(position, postViewData)

        val updatedPostData = postViewData.toBuilder()
            .fromPostLiked(false)
            .fromPostSaved(false)
            .build()
        binding.rvPostDetails.updateItemWithoutNotifying(position, updatedPostData)
    }

    //callback when the post share button is clicked
    override fun onPostShareClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostShareClicked(position, postViewData)
        val userMeta = LMFeedUserMetaData.getInstance()
        LMFeedShareUtils.sharePost(
            requireContext(),
            postViewData.id,
            userMeta.domain ?: "",
            LMFeedCommunityUtil.getPostVariable()
        )

        LMFeedAnalytics.sendPostShared(postViewData)
    }

    //callback when comment creator header view is clicked
    override fun onCommenterHeaderClicked(position: Int, commentViewData: LMFeedCommentViewData) {
        super.onCommenterHeaderClicked(position, commentViewData)

        //trigger profile callback
        val coreCallback = LMFeedCoreApplication.getLMFeedCoreCallback()
        coreCallback?.openProfile(commentViewData.user)
    }

    //callback when the tag of a member in comment is clicked
    override fun onCommentTaggedMemberClicked(position: Int, uuid: String) {
        super.onCommentTaggedMemberClicked(position, uuid)

        //trigger profile callback
        val coreCallback = LMFeedCoreApplication.getLMFeedCoreCallback()
        coreCallback?.openProfileWithUUID(uuid)
    }

    //callback when replier header view is clicked
    override fun onReplierHeaderClicked(position: Int, replyViewData: LMFeedCommentViewData) {
        super.onReplierHeaderClicked(position, replyViewData)

        //trigger profile callback
        val coreCallback = LMFeedCoreApplication.getLMFeedCoreCallback()
        coreCallback?.openProfile(replyViewData.user)
    }

    //callback when the tag of a member in reply is clicked
    override fun onReplyTaggedMemberClicked(position: Int, uuid: String) {
        super.onReplyTaggedMemberClicked(position, uuid)

        //trigger profile callback
        val coreCallback = LMFeedCoreApplication.getLMFeedCoreCallback()
        coreCallback?.openProfileWithUUID(uuid)
    }

    //callback when add poll option is clicked
    override fun onPostAddPollOptionClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostAddPollOptionClicked(position, postViewData)

        val pollAttachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
        val pollId = pollAttachment.attachmentMeta.poll?.id ?: return

        val addPollOptionExtras = LMFeedAddPollOptionExtras.Builder()
            .postId(postViewData.id)
            .pollId(pollId)
            .build()

        LMFeedAddPollOptionBottomSheetFragment.newInstance(
            childFragmentManager,
            addPollOptionExtras
        )
    }

    //callback when the poll member voted count is clicked
    override fun onPostMemberVotedCountClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostMemberVotedCountClicked(position, postViewData)

        val pollAttachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
        val pollViewData = pollAttachment.attachmentMeta.poll ?: return

        if (pollViewData.isAnonymous) {
            LMFeedAnonymousPollDialogFragment.showDialog(childFragmentManager)
            return
        }

        if (pollViewData.toShowResults || pollViewData.hasPollEnded()) {
            val pollResultsExtras = LMFeedPollResultsExtras.Builder()
                .pollId(pollViewData.id)
                .pollOptions(pollViewData.options)
                .build()

            LMFeedPollResultsActivity.start(requireContext(), pollResultsExtras)
        } else {
            LMFeedViewUtils.showShortToast(
                requireContext(),
                getString(R.string.lm_feed_the_results_will_be_visible_after_the_poll_has_ended)
            )
        }
    }

    //callback when the submit poll vote button is clicked
    override fun onPostSubmitPollVoteClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostSubmitPollVoteClicked(position, postViewData)

        val pollAttachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
        val pollViewData = pollAttachment.attachmentMeta.poll ?: return

        val selectedOptions = pollViewData.options.filter { it.isSelected }
        val selectedOptionIds = selectedOptions.map { it.id }

        validateSelectedPollOptions(pollViewData, selectedOptions.size) {
            postDetailViewModel.submitPollVote(
                requireContext(),
                postViewData.id,
                pollViewData.id,
                selectedOptionIds
            )
        }
    }

    //validates user submitted poll votes for multiple choice poll
    private fun validateSelectedPollOptions(
        pollViewData: LMFeedPollViewData,
        selectedOptionsCount: Int,
        onValidationSuccess: () -> Unit
    ) {
        val multipleSelectNumber = pollViewData.multipleSelectNumber
        val multipleSelectState = pollViewData.multipleSelectState

        when (multipleSelectState) {
            PollMultiSelectState.EXACTLY -> {
                if (selectedOptionsCount != multipleSelectNumber) {
                    LMFeedViewUtils.showShortSnack(
                        binding.root,
                        resources.getQuantityString(
                            R.plurals.lm_feed_please_select_exactly_d_options,
                            multipleSelectNumber,
                            multipleSelectNumber
                        )
                    )
                    return
                }
            }

            PollMultiSelectState.AT_MAX -> {
                if (selectedOptionsCount > multipleSelectNumber) {
                    LMFeedViewUtils.showShortSnack(
                        binding.root,
                        resources.getQuantityString(
                            R.plurals.lm_feed_please_select_at_most_d_options,
                            multipleSelectNumber,
                            multipleSelectNumber
                        )
                    )
                    return
                }
            }

            PollMultiSelectState.AT_LEAST -> {
                if (selectedOptionsCount < multipleSelectNumber) {
                    LMFeedViewUtils.showShortSnack(
                        binding.root,
                        resources.getQuantityString(
                            R.plurals.lm_feed_please_select_at_least_d_options,
                            multipleSelectNumber,
                            multipleSelectNumber
                        )
                    )
                    return
                }
            }
        }
        onValidationSuccess()
    }

    //callback when the poll edit vote button is clicked
    override fun onPostEditPollVoteClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostEditPollVoteClicked(position, postViewData)

        binding.rvPostDetails.apply {
            val attachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
            val pollViewData = attachment.attachmentMeta.poll ?: return

            //update the poll view data
            val updatedPollViewData = pollViewData.toBuilder()
                .isPollSubmitted(false)
                .build()

            //update the attachments with the updated poll view data
            val updatedAttachments = listOf(
                attachment.toBuilder()
                    .attachmentMeta(
                        attachment.attachmentMeta.toBuilder()
                            .poll(updatedPollViewData)
                            .build()
                    )
                    .build()
            )

            //update the post view data
            val updatedPostViewData = postViewData.toBuilder()
                .mediaViewData(
                    postViewData.mediaViewData.toBuilder()
                        .attachments(updatedAttachments)
                        .build()
                )
                .build()

            updateItem(postDataPosition, updatedPostViewData)
        }
    }

    //callback when the poll option is clicked
    override fun onPollOptionClicked(
        pollPosition: Int,
        pollOptionPosition: Int,
        pollOptionViewData: LMFeedPollOptionViewData
    ) {
        super.onPollOptionClicked(
            pollPosition,
            pollOptionPosition,
            pollOptionViewData
        )

        val postViewData = binding.rvPostDetails.getItem(pollPosition) as LMFeedPostViewData
        val attachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
        val pollViewData = attachment.attachmentMeta.poll ?: return

        when {
            pollViewData.hasPollEnded() -> {
                LMFeedViewUtils.showShortToast(
                    requireContext(),
                    getString(R.string.lm_feed_poll_ended_vote_cannot_be_submitted_now)
                )
                return
            }

            (pollViewData.isPollSubmitted && pollViewData.isInstantPoll()) -> {
                return
            }

            !pollViewData.isMultiChoicePoll() -> {
                if (pollViewData.isPollSubmitted) {
                    return
                }

                //call api to submit vote
                postDetailViewModel.submitPollVote(
                    requireContext(),
                    postViewData.id,
                    pollViewData.id,
                    listOf(pollOptionViewData.id)
                )
            }

            else -> {
                if (pollViewData.isPollSubmitted) {
                    return
                }

                //update the clicked poll option view data
                val updatedPollOptionViewData = if (pollOptionViewData.isSelected) {
                    pollOptionViewData.toBuilder()
                        .isSelected(false)
                        .build()
                } else {
                    pollOptionViewData.toBuilder()
                        .isSelected(true)
                        .build()
                }

                //update the poll view data
                val updatedPollViewData = pollViewData.toBuilder()
                    .options(
                        pollViewData.options.map { pollOption ->
                            if (pollOption.id == pollOptionViewData.id) {
                                updatedPollOptionViewData
                            } else {
                                pollOption
                            }
                        }
                    )
                    .build()

                //update the attachments with the updated poll view data
                val updatedAttachments = listOf(
                    attachment.toBuilder()
                        .attachmentMeta(
                            attachment.attachmentMeta.toBuilder()
                                .poll(updatedPollViewData)
                                .build()
                        )
                        .build()
                )

                //update the post view data
                val updatedPostViewData = postViewData.toBuilder()
                    .mediaViewData(
                        postViewData.mediaViewData.toBuilder()
                            .attachments(updatedAttachments)
                            .build()
                    )
                    .build()

                //update the recycler view
                binding.rvPostDetails.updateItem(pollPosition, updatedPostViewData)
            }
        }

        if (pollViewData.hasPollEnded()) {
            LMFeedViewUtils.showShortToast(
                requireContext(),
                getString(R.string.lm_feed_poll_ended_vote_cannot_be_submitted_now)
            )
            return
        }
    }

    //callback when the polls option vote count is clicked
    override fun onPollOptionVoteCountClicked(
        pollPosition: Int,
        pollOptionPosition: Int,
        pollOptionViewData: LMFeedPollOptionViewData
    ) {
        super.onPollOptionVoteCountClicked(
            pollPosition,
            pollOptionPosition,
            pollOptionViewData
        )

        val postViewData = binding.rvPostDetails.getItem(pollPosition) as LMFeedPostViewData
        val attachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
        val pollViewData = attachment.attachmentMeta.poll ?: return

        if (pollViewData.isAnonymous) {
            LMFeedAnonymousPollDialogFragment.showDialog(childFragmentManager)
            return
        }

        if (pollOptionViewData.toShowResults || pollOptionViewData.hasPollEnded) {
            val pollResultsExtras = LMFeedPollResultsExtras.Builder()
                .pollId(pollViewData.id)
                .pollOptions(pollViewData.options)
                .selectedPollOptionId(pollOptionViewData.id)
                .build()

            LMFeedPollResultsActivity.start(requireContext(), pollResultsExtras)
        } else {
            LMFeedViewUtils.showShortToast(
                requireContext(),
                getString(R.string.lm_feed_the_results_will_be_visible_after_the_poll_has_ended)
            )
        }
    }

    //callback when an option is submitted
    override fun onAddOptionSubmitted(
        postId: String,
        pollId: String,
        option: String
    ) {
        val post = binding.rvPostDetails.getItem(postDataPosition) as LMFeedPostViewData

        postDetailViewModel.addPollOption(post, option)
    }

    // callback when the see more button is clicked on the post heading
    override fun onPostHeadingSeeMoreClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostHeadingSeeMoreClicked(position, postViewData)

        //update recycler
        binding.rvPostDetails.updateItem(postDataPosition, postViewData)
    }

    override fun onDestroyView() {
        super.onDestroyView()
        binding.rvPostDetails.destroyVideoAutoPlayer()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/detail/view/LMFeedPostDetailListView.kt
================================================
package com.likeminds.feed.android.core.post.detail.view

import android.content.Context
import android.util.AttributeSet
import androidx.recyclerview.widget.*
import com.likeminds.feed.android.core.post.detail.adapter.*
import com.likeminds.feed.android.core.post.detail.model.LMFeedCommentViewData
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.utils.LMFeedEndlessRecyclerViewScrollListener
import com.likeminds.feed.android.core.utils.LMFeedViewUtils
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.video.LMFeedPostVideoAutoPlayHelper

class LMFeedPostDetailListView @JvmOverloads constructor(
    context: Context,
    attrs: AttributeSet? = null,
    defStyleAttr: Int = 0
) : RecyclerView(context, attrs, defStyleAttr) {

    val linearLayoutManager: LinearLayoutManager

    private lateinit var postDetailAdapter: LMFeedPostDetailAdapter
    private var postVideoAutoPlayHelper: LMFeedPostVideoAutoPlayHelper? = null
    private lateinit var paginationScrollListener: LMFeedEndlessRecyclerViewScrollListener

    init {
        setHasFixedSize(true)
        linearLayoutManager = LinearLayoutManager(context)
        layoutManager = linearLayoutManager

        if (itemAnimator is SimpleItemAnimator) {
            (itemAnimator as SimpleItemAnimator).supportsChangeAnimations = false
        }
    }

    /**
     * Initializes the [postVideoAutoPlayHelper] with the recyclerView
     * And starts observing
     **/
    fun initiateVideoAutoPlayer() {
        postVideoAutoPlayHelper = LMFeedPostVideoAutoPlayHelper.getInstance(this)
        postVideoAutoPlayHelper?.attachScrollListenerForVideo()
        postVideoAutoPlayHelper?.playIfPostVisible()
    }

    // removes the old player and refreshes auto play
    fun refreshVideoAutoPlayer() {
        if (postVideoAutoPlayHelper == null) {
            initiateVideoAutoPlayer()
        }
        postVideoAutoPlayHelper?.removePlayer()
        postVideoAutoPlayHelper?.playIfPostVisible()
    }

    // removes the player and destroys the [postVideoAutoPlayHelper]
    fun destroyVideoAutoPlayer() {
        if (postVideoAutoPlayHelper != null) {
            postVideoAutoPlayHelper?.detachScrollListenerForVideo()
            postVideoAutoPlayHelper?.destroy()
            postVideoAutoPlayHelper = null
        }
    }

    //create the adapter instance and then set the listeners
    fun initAdapterAndSetListeners(
        postAdapterListener: LMFeedPostAdapterListener,
        postDetailAdapterListener: LMFeedPostDetailAdapterListener,
        replyAdapterListener: LMFeedReplyAdapterListener
    ){
        postDetailAdapter = LMFeedPostDetailAdapter(
            postAdapterListener,
            postDetailAdapterListener,
            replyAdapterListener
        )
    }

    //sets the adapter with the provided listeners to the post detail recycler view
    fun setAdapter() {
        adapter = postDetailAdapter
    }

    //sets the pagination scroll listener to the social feed recycler view
    fun setPaginationScrollListener(scrollListener: LMFeedEndlessRecyclerViewScrollListener) {
        paginationScrollListener = scrollListener
        addOnScrollListener(scrollListener)
    }

    //resets the scroll listener data
    fun resetScrollListenerData() {
        if (::paginationScrollListener.isInitialized) {
            paginationScrollListener.resetData()
        }
    }

    //adds the provided [item] in the post detail adapter
    fun addItem(item: LMFeedBaseViewType) {
        postDetailAdapter.add(item)
    }

    //adds the provided [item] at the provided [position] in the post detail adapter
    fun addItem(position: Int, item: LMFeedBaseViewType) {
        postDetailAdapter.add(position, item)
    }

    //adds the provided [items] in the post detail adapter
    fun addItems(items: List<LMFeedBaseViewType>) {
        postDetailAdapter.addAll(items)
    }

    //updates the item at the provided [position] in the post detail adapter
    fun updateItem(position: Int, updatedItem: LMFeedBaseViewType) {
        postDetailAdapter.update(position, updatedItem)
    }

    //updates the [postItem] at the provided [position] in the post detail adapter without notifying the recycler view
    fun updateItemWithoutNotifying(position: Int, postItem: LMFeedPostViewData) {
        postDetailAdapter.updateWithoutNotifyingRV(position, postItem)
    }

    //replaces the items in the post detail adapter with the provided [items]
    fun replaceItems(items: List<LMFeedBaseViewType>) {
        postDetailAdapter.replace(items)
    }

    //removes the item at the provided [position] in the post detail adapter
    fun removeItem(position: Int) {
        postDetailAdapter.removeIndex(position)
    }

    //returns the item at the provided [position] in the post detail adapter
    fun getItem(position: Int): LMFeedBaseViewType? {
        return postDetailAdapter[position]
    }

    //returns the list of all the items in the post detail adapter
    fun items(): List<LMFeedBaseViewType> {
        return postDetailAdapter.items()
    }

    /**
     * Adapter Util Block
     **/

    //get index and post from the adapter using commentId
    fun getIndexAndCommentFromAdapter(commentId: String): Pair<Int, LMFeedCommentViewData>? {
        val index = postDetailAdapter.items().indexOfFirst {
            (it is LMFeedCommentViewData) && (it.id == commentId)
        }

        if (index == -1) {
            return null
        }

        val comment = getCommentFromAdapter(index) ?: return null

        return Pair(index, comment)
    }

    //get index and post from the adapter using tempId
    fun getIndexAndCommentFromAdapterUsingTempId(tempId: String?): Pair<Int, LMFeedCommentViewData>? {
        val index = items().indexOfFirst {
            (it is LMFeedCommentViewData) && (it.tempId == tempId)
        }

        if (index == -1) {
            return null
        }

        val comment = getCommentFromAdapter(index) ?: return null

        return Pair(index, comment)
    }

    private fun getCommentFromAdapter(position: Int): LMFeedCommentViewData? {
        return postDetailAdapter.items()[position] as? LMFeedCommentViewData
    }

    //get index and reply from the parentComment using replyId
    fun getIndexAndReplyFromComment(
        parentComment: LMFeedCommentViewData,
        replyId: String
    ): Pair<Int, LMFeedCommentViewData>? {
        val index = parentComment.replies.indexOfFirst {
            it.id == replyId
        }

        if (index == -1) {
            return null
        }

        val reply = parentComment.replies[index]

        return Pair(index, reply)
    }

    /**
     * Scroll to a position with offset from the top header
     * @param position Index of the item to scroll to
     * @param offset value with which to scroll
     */
    fun scrollToPositionWithOffset(position: Int, offset: Int) {
        post {
            val px = (LMFeedViewUtils.dpToPx(offset) * 1.5).toInt()
            (layoutManager as? LinearLayoutManager)?.scrollToPositionWithOffset(
                position,
                px
            )
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/detail/view/LMFeedReplyListView.kt
================================================
package com.likeminds.feed.android.core.post.detail.view

import android.content.Context
import android.util.AttributeSet
import androidx.recyclerview.widget.*
import com.likeminds.feed.android.core.post.detail.adapter.LMFeedReplyAdapter
import com.likeminds.feed.android.core.post.detail.adapter.LMFeedReplyAdapterListener
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType

class LMFeedReplyListView @JvmOverloads constructor(
    context: Context,
    attrs: AttributeSet? = null,
    defStyleAttr: Int = 0
) : RecyclerView(context, attrs, defStyleAttr) {

    private val linearLayoutManager: LinearLayoutManager

    private lateinit var replyAdapter: LMFeedReplyAdapter

    init {
        setHasFixedSize(true)
        linearLayoutManager = LinearLayoutManager(context)
        layoutManager = linearLayoutManager

        if (itemAnimator is SimpleItemAnimator) {
            (itemAnimator as SimpleItemAnimator).supportsChangeAnimations = false
        }
    }

    //sets the adapter with the provided listeners to the replies recycler view
    fun setAdapter(listener: LMFeedReplyAdapterListener) {
        replyAdapter = LMFeedReplyAdapter(listener)
        adapter = replyAdapter
    }

    //replaces the replies in the replies adapter with the provided [replies]
    fun replaceReplies(replies: List<LMFeedBaseViewType>) {
        replyAdapter.replace(replies)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/detail/viewmodel/LMFeedPostDetailViewModel.kt
================================================
package com.likeminds.feed.android.core.post.detail.viewmodel

import android.content.Context
import androidx.lifecycle.*
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.poll.util.LMFeedPollUtil
import com.likeminds.feed.android.core.post.detail.model.LMFeedCommentViewData
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.utils.LMFeedViewDataConvertor
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics.LMFeedScreenNames
import com.likeminds.feed.android.core.utils.coroutine.launchIO
import com.likeminds.feed.android.core.utils.membertagging.MemberTaggingUtil
import com.likeminds.feed.android.core.utils.user.LMFeedMemberRightsUtil
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData
import com.likeminds.likemindsfeed.LMFeedClient
import com.likeminds.likemindsfeed.comment.model.*
import com.likeminds.likemindsfeed.helper.model.GetTaggingListRequest
import com.likeminds.likemindsfeed.poll.model.AddPollOptionRequest
import com.likeminds.likemindsfeed.poll.model.SubmitVoteRequest
import com.likeminds.likemindsfeed.post.model.*
import com.likeminds.usertagging.model.TagUser
import com.likeminds.usertagging.util.UserTaggingUtil
import kotlinx.coroutines.channels.Channel
import kotlinx.coroutines.flow.receiveAsFlow

class LMFeedPostDetailViewModel : ViewModel() {

    private val lmFeedClient: LMFeedClient by lazy {
        LMFeedClient.getInstance()
    }

    // it holds the Pair of [page] and [postViewData]
    private val _postResponse by lazy {
        MutableLiveData<Pair<Int, LMFeedPostViewData>>()
    }

    val postResponse: LiveData<Pair<Int, LMFeedPostViewData>> by lazy {
        _postResponse
    }

    // it holds [postViewData]
    private val _getPostResponse by lazy {
        MutableLiveData<LMFeedPostViewData>()
    }

    val getPostResponse: LiveData<LMFeedPostViewData> by lazy {
        _getPostResponse
    }

    private val _addCommentResponse by lazy {
        MutableLiveData<LMFeedCommentViewData>()
    }

    val addCommentResponse: LiveData<LMFeedCommentViewData> by lazy {
        _addCommentResponse
    }

    private val _editCommentResponse by lazy {
        MutableLiveData<LMFeedCommentViewData>()
    }

    val editCommentResponse: LiveData<LMFeedCommentViewData> by lazy {
        _editCommentResponse
    }

    //it holds pair of [parentCommentId] and [replyComment]
    private val _addReplyResponse by lazy {
        MutableLiveData<Pair<String, LMFeedCommentViewData>>()
    }

    val addReplyResponse: LiveData<Pair<String, LMFeedCommentViewData>> by lazy {
        _addReplyResponse
    }

    // it holds the Pair of [page] and [commentViewData]
    private val _getCommentResponse by lazy {
        MutableLiveData<Pair<Int, LMFeedCommentViewData>>()
    }

    val getCommentResponse: LiveData<Pair<Int, LMFeedCommentViewData>> by lazy {
        _getCommentResponse
    }

    private val _hasCommentRights by lazy {
        MutableLiveData(true)
    }

    val hasCommentRights: LiveData<Boolean> by lazy {
        _hasCommentRights
    }

    /**
     * it holds the Pair of [commentId] and [parentCommentId]
     * if comment level is 0 then [parentCommentId] is null
     * if comment level is 1 then [parentCommentId] is non null
     */
    private val _deleteCommentResponse by lazy {
        MutableLiveData<Pair<String, String?>>()
    }

    val deleteCommentResponse: LiveData<Pair<String, String?>> by lazy {
        _deleteCommentResponse
    }

    private val _deletePostResponse by lazy {
        MutableLiveData<String>()
    }

    val deletePostResponse: LiveData<String> by lazy {
        _deletePostResponse
    }

    private val _postSavedResponse by lazy {
        MutableLiveData<LMFeedPostViewData>()
    }

    val postSavedResponse: LiveData<LMFeedPostViewData> by lazy {
        _postSavedResponse
    }

    private val _postPinnedResponse by lazy {
        MutableLiveData<LMFeedPostViewData>()
    }

    val postPinnedResponse: LiveData<LMFeedPostViewData> by lazy {
        _postPinnedResponse
    }

    private val _taggingData by lazy {
        MutableLiveData<Pair<Int, ArrayList<TagUser>>>()
    }
    val taggingData: LiveData<Pair<Int, ArrayList<TagUser>>> by lazy {
        _taggingData
    }


    sealed class ErrorMessageEvent {
        data class GetPost(val errorMessage: String?) : ErrorMessageEvent()

        data class LikePost(val postId: String, val errorMessage: String?) : ErrorMessageEvent()

        data class SavePost(val postId: String, val errorMessage: String?) : ErrorMessageEvent()

        data class DeletePost(val errorMessage: String?) : ErrorMessageEvent()

        data class PinPost(val postId: String, val errorMessage: String?) : ErrorMessageEvent()

        data class LikeComment(
            val commentId: String,
            val errorMessage: String?
        ) : ErrorMessageEvent()

        data class AddComment(
            val tempId: String,
            val errorMessage: String?
        ) : ErrorMessageEvent()

        data class ReplyComment(
            val parentCommentId: String,
            val tempId: String,
            val errorMessage: String?
        ) : ErrorMessageEvent()

        data class EditComment(val errorMessage: String?) : ErrorMessageEvent()

        data class DeleteComment(val errorMessage: String?) : ErrorMessageEvent()

        data class GetComment(val errorMessage: String?) : ErrorMessageEvent()

        data class TaggingList(val errorMessage: String?) : ErrorMessageEvent()

        data class AddPollOption(val errorMessage: String?) : ErrorMessageEvent()

        data class SubmitVote(val errorMessage: String?) : ErrorMessageEvent()
    }

    private val errorMessageChannel by lazy {
        Channel<ErrorMessageEvent>(Channel.BUFFERED)
    }

    val errorMessageEventFlow by lazy {
        errorMessageChannel.receiveAsFlow()
    }

    companion object {
        const val PAGE_SIZE = 10
        const val GET_POST_PAGE_SIZE = 5
        const val REPLIES_PAGE_SIZE = 5
    }

    // to getPost and paginated comments
    fun getPost(postId: String, page: Int) {
        viewModelScope.launchIO {
            // builds api request
            val request = GetPostRequest.Builder()
                .postId(postId)
                .page(page)
                .pageSize(PAGE_SIZE)
                .build()

            // calls api
            val response = lmFeedClient.getPost(request)

            if (response.success) {
                val data = response.data ?: return@launchIO
                val post = data.post
                val users = data.users
                val topics = data.topics
                val widgets = data.widgets

                _postResponse.postValue(
                    Pair(
                        page,
                        LMFeedViewDataConvertor.convertPost(
                            post,
                            users,
                            topics,
                            widgets
                        )
                    )
                )
            } else {
                errorMessageChannel.send(ErrorMessageEvent.GetPost(response.errorMessage))
            }
        }
    }

    //for like/unlike a comment
    fun likeComment(
        postId: String,
        commentId: String,
        commentLiked: Boolean,
        loggedInUUID: String
    ) {
        viewModelScope.launchIO {
            val request = LikeCommentRequest.Builder()
                .postId(postId)
                .commentId(commentId)
                .build()

            //call like post api
            val response = lmFeedClient.likeComment(request)

            //check for error
            if (response.success) {
                //sends event for user liking a comment
                LMFeedAnalytics.sendCommentLikedEvent(
                    postId,
                    commentId,
                    commentLiked,
                    loggedInUUID
                )
            } else {
                errorMessageChannel.send(
                    ErrorMessageEvent.LikeComment(
                        commentId,
                        response.errorMessage
                    )
                )
            }
        }
    }

    //for adding comment on post
    fun addComment(
        postId: String,
        tempId: String,
        text: String
    ) {
        viewModelScope.launchIO {
            // initializes temp id for local handling of comment

            // builds api request
            val request = AddCommentRequest.Builder()
                .postId(postId)
                .text(text)
                .tempId(tempId)
                .build()

            // calls api
            val response = lmFeedClient.addComment(request)
            if (response.success) {
                val data = response.data ?: return@launchIO
                val comment = data.comment
                val users = data.users

                //sends user commented on a post event
                LMFeedAnalytics.sendCommentPostedEvent(postId, comment.id)

                _addCommentResponse.postValue(
                    LMFeedViewDataConvertor.convertComment(
                        comment,
                        users,
                        postId
                    )
                )
            } else {
                errorMessageChannel.send(
                    ErrorMessageEvent.AddComment(
                        tempId,
                        response.errorMessage
                    )
                )
            }
        }
    }

    // for editing comment on post
    fun editComment(
        postId: String,
        commentId: String,
        text: String
    ) {
        viewModelScope.launchIO {
            // builds api request
            val request = EditCommentRequest.Builder()
                .postId(postId)
                .commentId(commentId)
                .text(text)
                .build()

            // calls api
            val response = lmFeedClient.editComment(request)
            if (response.success) {
                val data = response.data ?: return@launchIO
                val comment = data.comment
                val users = data.users

                val commentViewData = LMFeedViewDataConvertor.convertComment(
                    comment,
                    users,
                    postId
                )

                //sends comment edited event
                LMFeedAnalytics.sendCommentEditedEvent(commentViewData)

                _editCommentResponse.postValue(commentViewData)
            } else {
                errorMessageChannel.send(ErrorMessageEvent.EditComment(response.errorMessage))
            }
        }
    }

    // for replying on a comment on the post
    fun replyComment(
        parentCommentCreatorUUID: String,
        postId: String,
        parentCommentId: String,
        text: String,
        tempId: String
    ) {
        viewModelScope.launchIO {
            // builds api request
            val request = ReplyCommentRequest.Builder()
                .postId(postId)
                .commentId(parentCommentId)
                .text(text)
                .tempId(tempId)
                .build()

            // calls api
            val response = lmFeedClient.replyComment(request)
            if (response.success) {
                val data = response.data ?: return@launchIO
                val comment = data.comment
                val users = data.users

                //sends event for user replied on an comment
                LMFeedAnalytics.sendReplyPostedEvent(
                    parentCommentCreatorUUID,
                    postId,
                    parentCommentId,
                    comment.id
                )

                _addReplyResponse.postValue(
                    Pair(
                        parentCommentId,
                        LMFeedViewDataConvertor.convertComment(
                            comment,
                            users,
                            postId,
                            parentCommentId
                        )
                    )
                )
            } else {
                errorMessageChannel.send(
                    ErrorMessageEvent.ReplyComment(
                        parentCommentId,
                        tempId,
                        response.errorMessage
                    )
                )
            }
        }
    }

    // to get comment with paginated replies
    fun getComment(
        postId: String,
        commentId: String,
        page: Int
    ) {
        viewModelScope.launchIO {
            // builds api request
            val request = GetCommentRequest.Builder()
                .postId(postId)
                .commentId(commentId)
                .page(page)
                .pageSize(REPLIES_PAGE_SIZE)
                .build()

            // calls api
            val response = lmFeedClient.getComment(request)
            if (response.success) {
                val data = response.data ?: return@launchIO
                val comment = data.comment
                val users = data.users
                _getCommentResponse.postValue(
                    Pair(
                        page,
                        LMFeedViewDataConvertor.convertComment(
                            comment,
                            users,
                            postId
                        )
                    )
                )
            } else {
                errorMessageChannel.send(ErrorMessageEvent.GetComment(response.errorMessage))
            }
        }
    }

    //for delete post
    fun deletePost(
        post: LMFeedPostViewData,
        reason: String? = null
    ) {
        viewModelScope.launchIO {
            val request = DeletePostRequest.Builder()
                .postId(post.id)
                .deleteReason(reason)
                .build()

            //call delete post api
            val response = lmFeedClient.deletePost(request)

            if (response.success) {
                //sends post deleted event
                LMFeedAnalytics.sendPostDeletedEvent(post, reason)

                _deletePostResponse.postValue(post.id)
            } else {
                errorMessageChannel.send(ErrorMessageEvent.DeletePost(response.errorMessage))
            }
        }
    }

    // for deleting comment/reply
    fun deleteComment(
        postId: String,
        commentId: String,
        parentCommentId: String? = null,
        reason: String? = null
    ) {
        viewModelScope.launchIO {
            val request = DeleteCommentRequest.Builder()
                .postId(postId)
                .commentId(commentId)
                .reason(reason)
                .build()

            //call delete comment api
            val response = lmFeedClient.deleteComment(request)

            if (response.success) {
                //send comment's reply deleted even
                LMFeedAnalytics.sendCommentReplyDeletedEvent(
                    postId,
                    commentId,
                    parentCommentId
                )

                _deleteCommentResponse.postValue(Pair(commentId, parentCommentId))
            } else {
                errorMessageChannel.send(ErrorMessageEvent.DeleteComment(response.errorMessage))
            }
        }
    }

    //for like/unlike a post
    fun likePost(
        postId: String,
        postLiked: Boolean,
        loggedInUUID: String
    ) {
        viewModelScope.launchIO {
            val request = LikePostRequest.Builder()
                .postId(postId)
                .build()

            //call like post api
            val response = lmFeedClient.likePost(request)

            //check for error
            if (response.success) {
                //sends event for post liked
                LMFeedAnalytics.sendPostLikedEvent(
                    uuid = loggedInUUID,
                    postId = postId,
                    postLiked = postLiked
                )
            } else {
                errorMessageChannel.send(
                    ErrorMessageEvent.LikePost(
                        postId,
                        response.errorMessage
                    )
                )
            }
        }
    }

    //for save/unsave a post
    fun savePost(postViewData: LMFeedPostViewData) {
        viewModelScope.launchIO {
            val request = SavePostRequest.Builder()
                .postId(postViewData.id)
                .build()

            //call like post api
            val response = lmFeedClient.savePost(request)

            //check for error
            if (response.success) {
                //sends event for post saved/unsaved
                LMFeedAnalytics.sendPostSavedEvent(
                    uuid = postViewData.headerViewData.user.sdkClientInfoViewData.uuid,
                    postId = postViewData.id,
                    postSaved = postViewData.actionViewData.isSaved
                )

                _postSavedResponse.postValue(postViewData)
            } else {
                errorMessageChannel.send(
                    ErrorMessageEvent.SavePost(
                        postViewData.id,
                        response.errorMessage
                    )
                )
            }
        }
    }

    //for pin/unpin post
    fun pinPost(postViewData: LMFeedPostViewData) {
        viewModelScope.launchIO {
            val request = PinPostRequest.Builder()
                .postId(postViewData.id)
                .build()

            //call pin api
            val response = lmFeedClient.pinPost(request)

            if (response.success) {
                //sends event for post pinned/unpinned
                LMFeedAnalytics.sendPostPinnedEvent(postViewData, LMFeedScreenNames.POST_DETAIL)

                _postPinnedResponse.postValue(postViewData)
            } else {
                errorMessageChannel.send(
                    ErrorMessageEvent.PinPost(
                        postViewData.id,
                        response.errorMessage
                    )
                )
            }
        }
    }

    fun checkCommentRights() {
        viewModelScope.launchIO {
            // fetches user with rights from DB with user.id
            val response = lmFeedClient.getLoggedInUserWithRights()

            val loggedInUserData = response.data ?: return@launchIO

            val memberState = loggedInUserData.user.state
            val memberRights = loggedInUserData.rights

            _hasCommentRights.postValue(
                LMFeedMemberRightsUtil.hasCommentRight(
                    memberState,
                    memberRights
                )
            )
        }
    }

    // returns [CommentViewData] for local handling of comment
    fun getCommentViewDataForLocalHandling(
        postId: String,
        creatorUserName: String,
        createdAt: Long,
        tempId: String,
        text: String,
        parentCommentId: String?,
        level: Int = 0
    ): LMFeedCommentViewData {
        // adds comment locally
        return LMFeedCommentViewData.Builder()
            .postId(postId)
            .user(
                LMFeedUserViewData.Builder()
                    .name(creatorUserName)
                    .build()
            )
            .createdAt(createdAt)
            .id(tempId)
            .tempId(tempId)
            .text(text)
            .parentId(parentCommentId)
            .level(level)
            .build()
    }

    //gets the members list with [searchName] for tagging
    fun getMembersForTagging(
        page: Int,
        searchName: String
    ) {
        viewModelScope.launchIO {
            val request = GetTaggingListRequest.Builder()
                .page(page)
                .pageSize(UserTaggingUtil.PAGE_SIZE)
                .searchName(searchName)
                .build()

            val response = lmFeedClient.getTaggingList(request)

            if (response.success) {
                val data = response.data ?: return@launchIO
                val users = data.members
                val tagUsers = MemberTaggingUtil.convertToTagUser(users)
                _taggingData.postValue(
                    Pair(
                        page,
                        java.util.ArrayList(tagUsers)
                    )
                )
            } else {
                errorMessageChannel.send(ErrorMessageEvent.TaggingList(response.errorMessage))
            }
        }
    }

    private fun getPost(postId: String) {
        viewModelScope.launchIO {
            // builds api request
            val request = GetPostRequest.Builder()
                .postId(postId)
                .page(1)
                .pageSize(GET_POST_PAGE_SIZE)
                .build()

            // calls api
            val response = lmFeedClient.getPost(request)

            if (response.success) {
                val data = response.data ?: return@launchIO
                val post = data.post
                val users = data.users
                val topics = data.topics
                val widgets = data.widgets

                _getPostResponse.postValue(
                    LMFeedViewDataConvertor.convertPost(
                        post,
                        users,
                        topics,
                        widgets
                    )
                )
            } else {
                errorMessageChannel.send(ErrorMessageEvent.GetPost(response.errorMessage))
            }
        }
    }

    //calls api to add option on the poll
    fun addPollOption(
        post: LMFeedPostViewData,
        addedOptionText: String
    ) {
        viewModelScope.launchIO {
            val pollAttachment = post.mediaViewData.attachments.firstOrNull() ?: return@launchIO
            val poll = pollAttachment.attachmentMeta.poll ?: return@launchIO

            val isDuplicationOption =
                LMFeedPollUtil.isDuplicationOption(poll, addedOptionText)

            if (isDuplicationOption) {
                errorMessageChannel.send(
                    ErrorMessageEvent.AddPollOption(
                        "Poll options cannot contain similar text"
                    )
                )
                return@launchIO
            }

            val request = AddPollOptionRequest.Builder()
                .pollId(poll.id)
                .text(addedOptionText)
                .build()

            val response = lmFeedClient.addPollOption(request)

            if (response.success) {
                getPost(post.id)
            } else {
                errorMessageChannel.send(ErrorMessageEvent.AddPollOption(response.errorMessage))
            }
        }
    }


    //calls api to submit vote on poll
    fun submitPollVote(
        context: Context,
        postId: String,
        pollId: String,
        optionIds: List<String>
    ) {
        viewModelScope.launchIO {
            if (optionIds.isEmpty()) {
                errorMessageChannel.send(
                    ErrorMessageEvent.SubmitVote(
                        context.getString(
                            R.string.lm_feed_please_select_options_before_submitting_vote
                        )
                    )
                )
            }

            val request = SubmitVoteRequest.Builder()
                .pollId(pollId)
                .votes(optionIds)
                .build()

            val response = lmFeedClient.submitVote(request)

            if (response.success) {
                getPost(postId)
            } else {
                errorMessageChannel.send(ErrorMessageEvent.SubmitVote(response.errorMessage))
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/edit/model/LMFeedEditPostDisabledTopicsDialogExtras.kt
================================================
package com.likeminds.feed.android.core.post.edit.model

import android.os.Parcelable
import kotlinx.parcelize.Parcelize

@Parcelize
class LMFeedEditPostDisabledTopicsDialogExtras private constructor(
    val title: String,
    val subtitle: String
) : Parcelable {
    class Builder {
        private var title: String = ""
        private var subtitle: String = ""

        fun title(title: String) = apply {
            this.title = title
        }

        fun subtitle(subtitle: String) = apply {
            this.subtitle = subtitle
        }

        fun build() = LMFeedEditPostDisabledTopicsDialogExtras(title, subtitle)
    }

    fun toBuilder(): Builder {
        return Builder().title(title)
            .subtitle(subtitle)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/edit/model/LMFeedEditPostExtras.kt
================================================
package com.likeminds.feed.android.core.post.edit.model

import android.os.Parcelable
import kotlinx.parcelize.Parcelize

@Parcelize
class LMFeedEditPostExtras private constructor(
    val postId: String
) : Parcelable {

    class Builder {
        private var postId: String = ""

        fun postId(postId: String) = apply {
            this.postId = postId
        }

        fun build() = LMFeedEditPostExtras(postId)
    }

    fun toBuilder(): Builder {
        return Builder().postId(postId)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/edit/style/LMFeedEditPostFragmentViewStyle.kt
================================================
package com.likeminds.feed.android.core.post.edit.style

import android.graphics.Typeface
import android.text.TextUtils
import com.likeminds.feed.android.core.*
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.widgets.alertdialog.style.LMFeedAlertDialogViewStyle
import com.likeminds.feed.android.core.ui.widgets.headerview.style.LMFeedHeaderViewStyle
import com.likeminds.feed.android.core.ui.widgets.post.postheaderview.style.LMFeedPostHeaderViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle
import com.likeminds.feed.android.core.utils.model.LMFeedPadding

/**
 * [LMFeedEditPostFragmentViewStyle] helps you to customize the edit post fragment [LMFeedEditPostFragment]
 *
 * @property headerViewStyle : [LMFeedHeaderViewStyle] this will help you to customize the header view in the edit post fragment
 * @property postHeaderViewStyle : [LMFeedPostHeaderViewStyle] this will help you to customize the post header view in the edit post fragment
 * @property postComposerStyle : [LMFeedEditTextStyle] this will help you to customize the post composer edit text in the edit post fragment
 * @property postHeadingComposerStyle: [LMFeedEditTextStyle] helps to customize the post heading composer in the edit post fragment
 * @property postHeadingLimitTextStyle: [LMFeedTextStyle] helps to customize the post heading limit text view in the edit post fragment
 * @property progressBarStyle: [LMFeedProgressBarStyle] this will help you to customize the progress bar in the edit post fragment
 * @property selectTopicsChipStyle: [LMFeedChipStyle] this will help you to customize the select topics chip in the edit post fragment
 * @property editTopicsChipStyle: [LMFeedChipStyle] this will help you to customize the edit topics chip in the edit post fragment
 * @property disabledTopicsAlertDialogStyle: [LMFeedAlertDialogViewStyle] this will help you to customize the alert dialog shown when user selects disabled topics in the edit post fragment
 * */
class LMFeedEditPostFragmentViewStyle private constructor(
    //header view style
    val headerViewStyle: LMFeedHeaderViewStyle,
    //post header style
    val postHeaderViewStyle: LMFeedPostHeaderViewStyle,
    //post composer view style
    val postComposerStyle: LMFeedEditTextStyle,
    //post heading composer view style
    val postHeadingComposerStyle: LMFeedEditTextStyle?,
    //post heading limit text style
    val postHeadingLimitTextStyle: LMFeedTextStyle?,
    //progress bar view style
    val progressBarStyle: LMFeedProgressBarStyle,
    //select topics chip style
    val selectTopicsChipStyle: LMFeedChipStyle,
    //edit chip style
    val editTopicsChipStyle: LMFeedChipStyle,
    //disabled topics alert dialog style
    val disabledTopicsAlertDialogStyle: LMFeedAlertDialogViewStyle
) : LMFeedViewStyle {
    class Builder {
        private var headerViewStyle: LMFeedHeaderViewStyle = LMFeedHeaderViewStyle.Builder()
            .titleTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_black)
                    .textSize(R.dimen.lm_feed_header_view_title_text_size)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .maxLines(1)
                    .ellipsize(TextUtils.TruncateAt.END)
                    .build()
            )
            .backgroundColor(R.color.lm_feed_white)
            .navigationIconStyle(
                LMFeedIconStyle.Builder()
                    .iconTint(R.color.lm_feed_black)
                    .inActiveSrc(R.drawable.lm_feed_ic_arrow_back_black_24dp)
                    .iconPadding(
                        LMFeedPadding(
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding
                        )
                    )
                    .build()
            )
            .submitTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_grey)
                    .textSize(R.dimen.lm_feed_text_large)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .build()
            )
            .activeSubmitColor(LMFeedAppearance.getButtonColor())
            .build()

        private var postHeaderViewStyle: LMFeedPostHeaderViewStyle =
            LMFeedPostHeaderViewStyle.Builder()
                .authorImageViewStyle(
                    LMFeedImageStyle.Builder()
                        .isCircle(true)
                        .build()
                )
                .authorNameViewStyle(
                    LMFeedTextStyle.Builder()
                        .textColor(R.color.lm_feed_raisin_black)
                        .textSize(R.dimen.lm_feed_text_large)
                        .maxLines(1)
                        .fontResource(R.font.lm_feed_roboto_medium)
                        .ellipsize(TextUtils.TruncateAt.END)
                        .build()
                )
                .build()

        private var postComposerStyle: LMFeedEditTextStyle = LMFeedEditTextStyle.Builder()
            .inputTextStyle(
                LMFeedTextStyle.Builder()
                    .ellipsize(TextUtils.TruncateAt.END)
                    .maxHeight(R.dimen.lm_feed_post_composer_max_height)
                    .minHeight(R.dimen.lm_feed_post_composer_min_height)
                    .textColor(R.color.lm_feed_dark_grey)
                    .textSize(R.dimen.lm_feed_text_large)
                    .build()
            )
            .hintTextColor(R.color.lm_feed_maastricht_blue_40)
            .build()

        private var postHeadingComposerStyle: LMFeedEditTextStyle? =
            if (LMFeedCoreApplication.selectedTheme == LMFeedTheme.QNA_FEED) {
                LMFeedEditTextStyle.Builder()
                    .inputTextStyle(
                        LMFeedTextStyle.Builder()
                            .ellipsize(TextUtils.TruncateAt.END)
                            .maxHeight(R.dimen.lm_feed_post_heading_composer_max_height)
                            .minHeight(R.dimen.lm_feed_post_heading_composer_min_height)
                            .textColor(R.color.lm_feed_dark_grey)
                            .fontResource(R.font.lm_feed_roboto_medium)
                            .textSize(R.dimen.lm_feed_text_large)
                            .build()
                    )
                    .hintTextColor(R.color.lm_feed_maastricht_blue_40)
                    .build()
            } else {
                null
            }

        private var postHeadingLimitTextStyle: LMFeedTextStyle? =
            if (LMFeedCoreApplication.selectedTheme == LMFeedTheme.QNA_FEED) {
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_dark_grey_70)
                    .textSize(R.dimen.lm_feed_text_small)
                    .fontResource(R.font.lm_feed_roboto)
                    .build()
            } else {
                null
            }

        private var selectTopicsChipStyle: LMFeedChipStyle = LMFeedChipStyle.Builder()
            .chipBackgroundColor(R.color.lm_feed_majorelle_blue_10)
            .chipStartPadding(R.dimen.lm_feed_regular_padding)
            .chipIcon(R.drawable.lm_feed_ic_add_topics)
            .chipIconSize(R.dimen.lm_feed_chip_default_icon_size)
            .chipIconTint(LMFeedAppearance.getButtonColor())
            .build()

        private var editTopicsChipStyle: LMFeedChipStyle = LMFeedChipStyle.Builder()
            .chipBackgroundColor(R.color.lm_feed_majorelle_blue_10)
            .chipEndPadding(R.dimen.lm_feed_edit_chip_end_size)
            .chipStartPadding(R.dimen.lm_feed_edit_chip_end_size)
            .chipIcon(R.drawable.lm_feed_ic_edit_topic)
            .chipIconSize(R.dimen.lm_feed_chip_default_icon_size)
            .chipIconTint(LMFeedAppearance.getButtonColor())
            .build()

        private var progressBarStyle: LMFeedProgressBarStyle = LMFeedProgressBarStyle.Builder()
            .isIndeterminate(false)
            .progressColor(LMFeedAppearance.getButtonColor())
            .build()

        private var disabledTopicsAlertDialogStyle: LMFeedAlertDialogViewStyle =
            LMFeedAlertDialogViewStyle.Builder()
                .alertSubtitleText(
                    LMFeedTextStyle.Builder()
                        .textColor(R.color.lm_feed_grey)
                        .textSize(R.dimen.lm_feed_text_medium)
                        .typeface(Typeface.NORMAL)
                        .fontResource(R.font.lm_feed_roboto)
                        .build()
                )
                .alertPositiveButtonStyle(
                    LMFeedTextStyle.Builder()
                        .textAllCaps(true)
                        .textColor(LMFeedAppearance.getButtonColor())
                        .textSize(R.dimen.lm_feed_text_small)
                        .typeface(Typeface.NORMAL)
                        .fontResource(R.font.lm_feed_roboto_medium)
                        .build()
                )
                .build()

        fun headerViewStyle(headerViewStyle: LMFeedHeaderViewStyle) = apply {
            this.headerViewStyle = headerViewStyle
        }

        fun postHeaderViewStyle(postHeaderViewStyle: LMFeedPostHeaderViewStyle) = apply {
            this.postHeaderViewStyle = postHeaderViewStyle
        }

        fun postComposerStyle(postComposerStyle: LMFeedEditTextStyle) = apply {
            this.postComposerStyle = postComposerStyle
        }

        fun postHeadingComposerStyle(postHeadingComposerStyle: LMFeedEditTextStyle?) = apply {
            this.postHeadingComposerStyle = postHeadingComposerStyle
        }

        fun postHeadingLimitTextStyle(postHeadingLimitTextStyle: LMFeedTextStyle?) = apply {
            this.postHeadingLimitTextStyle = postHeadingLimitTextStyle
        }

        fun progressBarStyle(progressBarStyle: LMFeedProgressBarStyle) = apply {
            this.progressBarStyle = progressBarStyle
        }

        fun selectTopicsChipStyle(selectTopicsChipStyle: LMFeedChipStyle) = apply {
            this.selectTopicsChipStyle = selectTopicsChipStyle
        }

        fun editTopicsChipStyle(editTopicsChipStyle: LMFeedChipStyle) = apply {
            this.editTopicsChipStyle = editTopicsChipStyle
        }

        fun disabledTopicsAlertDialogStyle(disabledTopicsAlertDialogStyle: LMFeedAlertDialogViewStyle) =
            apply {
                this.disabledTopicsAlertDialogStyle = disabledTopicsAlertDialogStyle
            }

        fun build() = LMFeedEditPostFragmentViewStyle(
            headerViewStyle,
            postHeaderViewStyle,
            postComposerStyle,
            postHeadingComposerStyle,
            postHeadingLimitTextStyle,
            progressBarStyle,
            selectTopicsChipStyle,
            editTopicsChipStyle,
            disabledTopicsAlertDialogStyle
        )
    }

    fun toBuilder(): Builder {
        return Builder().headerViewStyle(headerViewStyle)
            .postHeaderViewStyle(postHeaderViewStyle)
            .postComposerStyle(postComposerStyle)
            .postHeadingComposerStyle(postHeadingComposerStyle)
            .postHeadingLimitTextStyle(postHeadingLimitTextStyle)
            .progressBarStyle(progressBarStyle)
            .selectTopicsChipStyle(selectTopicsChipStyle)
            .editTopicsChipStyle(editTopicsChipStyle)
            .disabledTopicsAlertDialogStyle(disabledTopicsAlertDialogStyle)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/edit/view/LMFeedEditPostActivity.kt
================================================
package com.likeminds.feed.android.core.post.edit.view

import android.content.Context
import android.content.Intent
import android.os.Bundle
import androidx.appcompat.app.AppCompatActivity
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedActivityEditPostBinding
import com.likeminds.feed.android.core.post.edit.model.LMFeedEditPostExtras
import com.likeminds.feed.android.core.utils.*

class LMFeedEditPostActivity : AppCompatActivity() {

    private lateinit var binding: LmFeedActivityEditPostBinding

    private lateinit var editPostExtras: LMFeedEditPostExtras

    companion object {
        const val LM_FEED_EDIT_POST_EXTRAS = "LM_FEED_EDIT_POST_EXTRAS"
        const val LM_FEED_EDIT_POST_BUNDLE = "lm_feed_edit_post_bundle"
        const val TAG = "LMFeedEditPostActivity"

        @JvmStatic
        fun start(context: Context, extras: LMFeedEditPostExtras) {
            val intent = Intent(context, LMFeedEditPostActivity::class.java)
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_EDIT_POST_EXTRAS, extras)
            intent.putExtra(LM_FEED_EDIT_POST_BUNDLE, bundle)
            context.startActivity(intent)
        }

        @JvmStatic
        fun getIntent(context: Context, extras: LMFeedEditPostExtras): Intent {
            val intent = Intent(context, LMFeedEditPostActivity::class.java)
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_EDIT_POST_EXTRAS, extras)
            intent.putExtra(LM_FEED_EDIT_POST_BUNDLE, bundle)
            return intent
        }
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        binding = LmFeedActivityEditPostBinding.inflate(layoutInflater)
        setContentView(binding.root)

        //parse extras
        assignExtras()

        //inflates edit post fragment
        inflateEditPostFragment()
    }

    private fun assignExtras() {
        //get bundle
        val bundle = intent.getBundleExtra(LM_FEED_EDIT_POST_BUNDLE)

        //assign to global variable
        if (bundle != null) {
            editPostExtras = LMFeedExtrasUtil.getParcelable(
                bundle,
                LM_FEED_EDIT_POST_EXTRAS,
                LMFeedEditPostExtras::class.java
            ) ?: throw emptyExtrasException(TAG)
        } else {
            redirectActivity()
        }

    }

    private fun inflateEditPostFragment() {
        //gets post detail fragment instance
        val editPostFragment =
            LMFeedEditPostFragment.getInstance(editPostExtras = editPostExtras)

        //commits fragment replace transaction
        supportFragmentManager.beginTransaction()
            .replace(
                binding.containerEditPost.id,
                editPostFragment,
                TAG
            )
            .commit()
    }

    private fun redirectActivity() {
        LMFeedViewUtils.showSomethingWentWrongToast(this)
        supportFragmentManager.popBackStack()
        onBackPressedDispatcher.onBackPressed()
        overridePendingTransition(R.anim.lm_feed_slide_from_left, R.anim.lm_feed_slide_to_right)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/edit/view/LMFeedEditPostDisabledTopicsDialogFragment.kt
================================================
package com.likeminds.feed.android.core.post.edit.view

import android.os.Bundle
import android.view.*
import androidx.fragment.app.DialogFragment
import androidx.fragment.app.FragmentManager
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedDialogFragmentEditPostDisabledTopicsBinding
import com.likeminds.feed.android.core.delete.view.LMFeedAdminDeleteDialogFragment
import com.likeminds.feed.android.core.post.edit.model.LMFeedEditPostDisabledTopicsDialogExtras
import com.likeminds.feed.android.core.ui.widgets.alertdialog.view.LMFeedAlertDialogView
import com.likeminds.feed.android.core.utils.*

open class LMFeedEditPostDisabledTopicsDialogFragment : DialogFragment() {

    companion object {
        private const val TAG = "LMFeedEditPostDisabledTopicsDialogFragment"
        private const val LM_FEED_DISABLE_TOPICS_EXTRAS = "LM_FEED_DISABLE_TOPICS_EXTRAS"

        @JvmStatic
        fun showDialog(
            supportFragmentManager: FragmentManager,
            extras: LMFeedEditPostDisabledTopicsDialogExtras
        ) {
            LMFeedAdminDeleteDialogFragment().apply {
                arguments = Bundle().apply {
                    putParcelable(LM_FEED_DISABLE_TOPICS_EXTRAS, extras)
                }
            }.show(supportFragmentManager, TAG)
        }
    }

    private lateinit var binding: LmFeedDialogFragmentEditPostDisabledTopicsBinding
    private lateinit var extras: LMFeedEditPostDisabledTopicsDialogExtras

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        receiveExtras()
    }

    private fun receiveExtras() {
        arguments?.let {
            extras = LMFeedExtrasUtil.getParcelable(
                it,
                LM_FEED_DISABLE_TOPICS_EXTRAS,
                LMFeedEditPostDisabledTopicsDialogExtras::class.java
            ) ?: throw emptyExtrasException(TAG)
        }
    }

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View {
        binding = LmFeedDialogFragmentEditPostDisabledTopicsBinding.inflate(layoutInflater)

        customizeDisabledTopicsDialog(binding.alertDialogDisabledTopics)
        return binding.root
    }

    //customizes the disabled topics alert dialog
    protected open fun customizeDisabledTopicsDialog(alertDialogDisabledTopics: LMFeedAlertDialogView) {
        val disabledTopicsDialog =
            LMFeedStyleTransformer.editPostFragmentViewStyle.disabledTopicsAlertDialogStyle

        alertDialogDisabledTopics.setStyle(disabledTopicsDialog)
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        initUI()
        initListeners()
    }

    private fun initUI() {
        setDisableTopicsDialogTitle()
        setDisableTopicsDialogSubtitle()
        setPositiveButtonText()
    }

    //sets the title of the disabled topics alert dialog
    protected open fun setDisableTopicsDialogTitle() {
        binding.alertDialogDisabledTopics.setAlertTitle(extras.title)
    }

    //sets the subtitle of the disabled topics alert dialog
    protected open fun setDisableTopicsDialogSubtitle() {
        binding.alertDialogDisabledTopics.setAlertSubtitle(extras.subtitle)
    }

    //sets the text in the positive action button of the disabled topics alert dialog
    protected open fun setPositiveButtonText() {
        binding.alertDialogDisabledTopics.setAlertPositiveButtonText(getString(R.string.lm_feed_okay))
    }

    private fun initListeners() {
        setOnDialogPositiveButtonClickListener()
    }

    //processes disabled topics alert dialog positive button click
    protected open fun setOnDialogPositiveButtonClickListener() {
        binding.alertDialogDisabledTopics.setPositiveButtonClickListener {
            dismiss()
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/edit/view/LMFeedEditPostFragment.kt
================================================
package com.likeminds.feed.android.core.post.edit.view

import android.annotation.SuppressLint
import android.app.Activity
import android.net.Uri
import android.os.Bundle
import android.text.*
import android.util.Log
import android.view.*
import android.view.inputmethod.EditorInfo
import android.widget.EditText
import androidx.activity.result.contract.ActivityResultContracts
import androidx.annotation.CheckResult
import androidx.core.content.ContextCompat
import androidx.core.view.get
import androidx.core.view.isVisible
import androidx.core.widget.addTextChangedListener
import androidx.fragment.app.Fragment
import androidx.fragment.app.viewModels
import androidx.lifecycle.lifecycleScope
import androidx.recyclerview.widget.RecyclerView
import com.likeminds.feed.android.core.*
import com.likeminds.feed.android.core.LMFeedCoreApplication.Companion.LOG_TAG
import com.likeminds.feed.android.core.databinding.LmFeedFragmentEditPostBinding
import com.likeminds.feed.android.core.databinding.LmFeedItemMultipleMediaVideoBinding
import com.likeminds.feed.android.core.poll.result.model.LMFeedPollViewData
import com.likeminds.feed.android.core.post.create.util.LMFeedCreateEditPostViewStyleUtil
import com.likeminds.feed.android.core.post.edit.model.LMFeedEditPostDisabledTopicsDialogExtras
import com.likeminds.feed.android.core.post.edit.model.LMFeedEditPostExtras
import com.likeminds.feed.android.core.post.edit.view.LMFeedEditPostActivity.Companion.LM_FEED_EDIT_POST_EXTRAS
import com.likeminds.feed.android.core.post.edit.viewmodel.LMFeedEditPostViewModel
import com.likeminds.feed.android.core.post.model.*
import com.likeminds.feed.android.core.post.util.LMFeedPostEvent
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.model.LMFeedMediaViewData
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.socialfeed.util.LMFeedPostBinderUtils.customizePostTopicsGroup
import com.likeminds.feed.android.core.topics.model.LMFeedTopicViewData
import com.likeminds.feed.android.core.topicselection.model.LMFeedTopicSelectionExtras
import com.likeminds.feed.android.core.topicselection.model.LMFeedTopicSelectionResultExtras
import com.likeminds.feed.android.core.topicselection.view.LMFeedTopicSelectionActivity
import com.likeminds.feed.android.core.ui.base.styles.LMFeedIconStyle
import com.likeminds.feed.android.core.ui.base.styles.setStyle
import com.likeminds.feed.android.core.ui.base.views.*
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.widgets.headerview.view.LMFeedHeaderView
import com.likeminds.feed.android.core.ui.widgets.poll.view.LMFeedPostPollView
import com.likeminds.feed.android.core.ui.widgets.post.postheaderview.view.LMFeedPostHeaderView
import com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.*
import com.likeminds.feed.android.core.utils.*
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.getUrlIfExist
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.pluralizeOrCapitalize
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics.LMFeedScreenNames
import com.likeminds.feed.android.core.utils.base.LMFeedDataBoundViewHolder
import com.likeminds.feed.android.core.utils.base.model.*
import com.likeminds.feed.android.core.utils.coroutine.observeInLifecycle
import com.likeminds.feed.android.core.utils.membertagging.MemberTaggingUtil
import com.likeminds.feed.android.core.utils.pluralize.model.LMFeedWordAction
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData
import com.likeminds.feed.android.core.utils.video.LMFeedPostVideoPreviewAutoPlayHelper
import com.likeminds.usertagging.UserTagging
import com.likeminds.usertagging.model.TagUser
import com.likeminds.usertagging.model.UserTaggingConfig
import com.likeminds.usertagging.util.UserTaggingDecoder
import com.likeminds.usertagging.util.UserTaggingViewListener
import com.likeminds.usertagging.view.UserTaggingSuggestionListView
import kotlinx.coroutines.ExperimentalCoroutinesApi
import kotlinx.coroutines.FlowPreview
import kotlinx.coroutines.channels.awaitClose
import kotlinx.coroutines.flow.*
import org.json.JSONObject

open class LMFeedEditPostFragment :
    Fragment(),
    LMFeedPostAdapterListener {

    private lateinit var binding: LmFeedFragmentEditPostBinding
    private lateinit var editPostExtras: LMFeedEditPostExtras

    private var postMediaViewData: LMFeedMediaViewData? = null
    private var ogTags: LMFeedLinkOGTagsViewData? = null
    private var poll: LMFeedPollViewData? = null
    private var widgetData: Pair<String, JSONObject>? = null

    private var post: LMFeedPostViewData? = null

    private lateinit var etPostTextChangeListener: TextWatcher
    private lateinit var memberTagging: UserTaggingSuggestionListView

    private val editPostViewModel: LMFeedEditPostViewModel by viewModels()

    private val postVideoPreviewAutoPlayHelper by lazy {
        LMFeedPostVideoPreviewAutoPlayHelper.getInstance()
    }

    // [postPublisher] to publish changes in the post
    private val postEvent by lazy {
        LMFeedPostEvent.getPublisher()
    }

    private val selectedTopic by lazy {
        HashMap<String, LMFeedTopicViewData>()
    }

    private val disabledTopics by lazy {
        HashMap<String, LMFeedTopicViewData>()
    }

    companion object {
        const val TAG = "LMFeedEditPostFragment"

        fun getInstance(editPostExtras: LMFeedEditPostExtras): LMFeedEditPostFragment {
            val editPostFragment = LMFeedEditPostFragment()
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_EDIT_POST_EXTRAS, editPostExtras)
            editPostFragment.arguments = bundle
            return editPostFragment
        }
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        //receive extras
        receiveExtras()
    }

    private fun receiveExtras() {
        if (arguments == null || arguments?.containsKey(LM_FEED_EDIT_POST_EXTRAS) == false) {
            requireActivity().supportFragmentManager.popBackStack()
            return
        }
        editPostExtras = LMFeedExtrasUtil.getParcelable(
            arguments,
            LM_FEED_EDIT_POST_EXTRAS,
            LMFeedEditPostExtras::class.java
        ) ?: throw emptyExtrasException(TAG)
    }

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View {
        binding = LmFeedFragmentEditPostBinding.inflate(layoutInflater)

        binding.apply {
            customizeEditPostHeaderView(headerViewEditPost)
            customizePostHeaderView(postHeader)
            customizePostTopicsGroup(postTopicsGroup)
            customizePostComposer(etPostComposer)
            customizePostImageAttachment(singleImageAttachment.postImageView)
            customizePostVideoAttachment(singleVideoAttachment.postVideoView)
            customizePostLinkViewAttachment(linkPreview.postLinkView)
            customizePostDocumentsAttachment(documentsAttachment.postDocumentsMediaView)
            customizePostMultipleMedia(multipleMediaAttachment.multipleMediaView)
            customizeEditPostProgressbar(progressBar.progressView)
            customizePostPollAttachmentView(pollView)
            customizePostHeadingComposer(etPostHeadingComposer)
            customizePostHeadingLimit(tvHeadingLimit)

            return binding.root
        }
    }

    //customizes edit post header view
    protected open fun customizeEditPostHeaderView(headerViewEditPost: LMFeedHeaderView) {
        headerViewEditPost.apply {
            setStyle(LMFeedStyleTransformer.editPostFragmentViewStyle.headerViewStyle)

            setTitleText(
                getString(
                    R.string.lm_feed_edit_s,
                    LMFeedCommunityUtil.getPostVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            )

            setSubmitText(getString(R.string.lm_feed_save))
            setSubmitButtonEnabled(true)
        }
    }

    //customizes the header view of the post
    protected open fun customizePostHeaderView(postHeader: LMFeedPostHeaderView) {
        postHeader.apply {
            setStyle(LMFeedStyleTransformer.editPostFragmentViewStyle.postHeaderViewStyle)
        }
    }

    //customizes post composer edit text
    protected open fun customizePostComposer(etPostComposer: LMFeedEditText) {
        // sets the hint to the post composer edit text
        val hint = when (LMFeedCoreApplication.selectedTheme) {
            LMFeedTheme.QNA_FEED -> {
                getString(R.string.lm_feed_add_description)
            }

            else -> {
                getString(R.string.lm_feed_write_something_here)
            }
        }
        etPostComposer.hint = hint

        etPostComposer.setStyle(LMFeedStyleTransformer.editPostFragmentViewStyle.postComposerStyle)
    }

    //customizes single image view type post
    protected open fun customizePostImageAttachment(postSingleImageView: LMFeedPostImageMediaView) {
        val postImageMediaStyle =
            LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postImageMediaStyle
                ?: return

        postSingleImageView.setStyle(postImageMediaStyle)
    }

    //customizes single video view type post
    protected open fun customizePostVideoAttachment(postSingleVideoView: LMFeedPostVideoMediaView) {
        val postVideoMediaStyle =
            LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postVideoMediaStyle
                ?: return

        postSingleVideoView.setStyle(postVideoMediaStyle)
    }

    //customizes link preview in the post
    protected open fun customizePostLinkViewAttachment(linkMediaView: LMFeedPostLinkMediaView) {
        val linkAttachmentViewStyle =
            LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postLinkViewStyle

        val updatedLinkAttachmentViewStyle = linkAttachmentViewStyle?.toBuilder()
            ?.linkRemoveIconStyle(
                LMFeedIconStyle.Builder()
                    .inActiveSrc(R.drawable.lm_feed_ic_cross)
                    .build()
            )
            ?.build()

        updatedLinkAttachmentViewStyle?.let {
            linkMediaView.setStyle(it)
        }
    }

    //customizes documents type post
    protected open fun customizePostDocumentsAttachment(postDocumentsView: LMFeedPostDocumentsMediaView) {
        val postDocumentsViewStyle =
            LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postDocumentsMediaStyle
                ?: return

        postDocumentsView.setStyle(postDocumentsViewStyle)
    }

    //customizes multiple media type post
    protected open fun customizePostMultipleMedia(postMultipleMediaView: LMFeedPostMultipleMediaView) {
        val postMultipleMediaViewStyle =
            LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postMultipleMediaStyle
                ?: return

        postMultipleMediaView.setStyle(postMultipleMediaViewStyle)
    }

    //customizes progress bar in the edit post
    protected open fun customizeEditPostProgressbar(progressBar: LMFeedProgressBar) {
        progressBar.setStyle(LMFeedStyleTransformer.editPostFragmentViewStyle.progressBarStyle)
    }

    //customizes poll view in the post
    protected open fun customizePostPollAttachmentView(pollView: LMFeedPostPollView) {
        val updatedPollStyles =
            LMFeedCreateEditPostViewStyleUtil.getUpdatedPollViewStyles(isCreateFlow = false)
        pollView.setStyle(updatedPollStyles)
    }

    //customize post heading composer edit text
    protected open fun customizePostHeadingComposer(etPostHeadingComposer: LMFeedEditText) {
        etPostHeadingComposer.apply {
            val postHeadingComposerStyle =
                LMFeedStyleTransformer.editPostFragmentViewStyle.postHeadingComposerStyle

            if (postHeadingComposerStyle != null) {
                /** sets the ime options to [IME_ACTION_NEXT] and raw input type to [TYPE_TEXT_FLAG_CAP_SENTENCES]
                 * to provide the Next button on keypad and start the sentence with capital letter
                 */
                imeOptions = EditorInfo.IME_ACTION_NEXT
                setRawInputType(InputType.TYPE_TEXT_FLAG_CAP_SENTENCES)

                setStyle(postHeadingComposerStyle)
                LMFeedViewUtils.getMandatoryAsterisk(
                    getString(
                        R.string.lm_feed_add_your_s_here,
                        LMFeedCommunityUtil.getPostVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
                    ),
                    etPostHeadingComposer
                )
                show()
                binding.headingSeparator.show()
            } else {
                hide()
                binding.headingSeparator.hide()
            }
        }
    }

    //customize post heading limit text
    protected open fun customizePostHeadingLimit(tvPostHeadingLimitTextView: LMFeedTextView) {
        tvPostHeadingLimitTextView.apply {
            val postHeadingLimitTextViewStyle =
                LMFeedStyleTransformer.editPostFragmentViewStyle.postHeadingLimitTextStyle

            if (postHeadingLimitTextViewStyle != null) {
                binding.etPostHeadingComposer.filters =
                    arrayOf(InputFilter.LengthFilter(LMFeedAppearance.getPostHeadingLimit()))

                setStyle(postHeadingLimitTextViewStyle)
                setPostHeadingLimitText(this, 0)
                show()
            } else {
                hide()
            }
        }
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        initMemberTagging()
        initListeners()
        fetchData()
        observeData()
    }

    //initializes member tagging view
    private fun initMemberTagging() {
        memberTagging = binding.userTaggingView

        val listener = object : UserTaggingViewListener {
            override fun callApi(page: Int, searchName: String) {
                editPostViewModel.getMembersForTagging(page, searchName)
            }

            override fun onUserTagged(user: TagUser) {
                super.onUserTagged(user)
                LMFeedAnalytics.sendUserTagEvent(
                    user.uuid,
                    memberTagging.getTaggedMemberCount(),
                    LMFeedScreenNames.EDIT_POST
                )
            }
        }

        val config = UserTaggingConfig.Builder()
            .editText(binding.etPostComposer)
            .maxHeightInPercentage(0.4f)
            .color(LMFeedAppearance.getTextLinkColor())
            .hasAtRateSymbol(true)
            .build()

        UserTagging.initialize(memberTagging, config, listener)
    }

    private fun initListeners() {
        binding.apply {
            //initializes post done button click listener
            headerViewEditPost.setSubmitButtonClickListener {
                onSavePostClicked()
            }

            headerViewEditPost.setNavigationIconClickListener {
                onNavigationIconClick()
            }
        }
    }

    //processes the save post click
    protected open fun onSavePostClicked() {
        //check all the necessary conditions before saving a post
        binding.apply {
            val text = etPostComposer.text
            val updatedText = memberTagging.replaceSelectedMembers(text).trim()
            val topics = selectedTopic.values

            val updatedHeading = etPostHeadingComposer.text?.trim().toString()

            //get media attachments from post
            val mediaAttachments = postMediaViewData?.attachments?.filter {
                it.attachmentType != CUSTOM_WIDGET
            }

            if (selectedTopic.isNotEmpty()) {
                if (disabledTopics.isEmpty()) {
                    //call api as all topics are enabled
                    headerViewEditPost.setSubmitButtonEnabled(isEnabled = true, showProgress = true)

                    editPostViewModel.editPost(
                        editPostExtras.postId,
                        updatedText,
                        updatedHeading,
                        attachments = mediaAttachments,
                        ogTags = ogTags,
                        selectedTopics = topics.toList(),
                        poll = poll,
                        widgetData = widgetData
                    )
                } else {
                    //show dialog for disabled topics
                    showDisabledTopicsAlert(disabledTopics.values.toList())
                }
            } else {
                //call api as no topics are enabled
                headerViewEditPost.setSubmitButtonEnabled(isEnabled = true, showProgress = true)

                editPostViewModel.editPost(
                    editPostExtras.postId,
                    updatedText,
                    updatedHeading,
                    attachments = mediaAttachments,
                    ogTags = ogTags,
                    selectedTopics = topics.toList(),
                    poll = poll,
                    widgetData = widgetData
                )
            }
        }
    }

    //processes the navigation icon click
    protected open fun onNavigationIconClick() {
        requireActivity().onBackPressedDispatcher.onBackPressed()
    }

    //show alert for disabled topics
    private fun showDisabledTopicsAlert(disabledTopics: List<LMFeedTopicViewData>) {
        val noOfDisabledTopics = disabledTopics.size

        //create message string
        val topicNameString = disabledTopics.joinToString(", ") { it.name }
        val firstLineMessage = resources.getQuantityString(
            R.plurals.lm_feed_topic_disabled_message_s,
            noOfDisabledTopics,
            LMFeedCommunityUtil.getPostVariable()
                .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
        )
        val finalMessage = "$firstLineMessage \n $topicNameString"

        val extras = LMFeedEditPostDisabledTopicsDialogExtras.Builder()
            .title(
                resources.getQuantityString(
                    R.plurals.lm_feed_topic_disabled,
                    noOfDisabledTopics,
                    noOfDisabledTopics
                )
            )
            .subtitle(finalMessage)
            .build()

        LMFeedEditPostDisabledTopicsDialogFragment.showDialog(childFragmentManager, extras)
    }

    private fun fetchData() {
        LMFeedProgressBarHelper.showProgress(binding.progressBar)
        editPostViewModel.getPost(editPostExtras.postId)
    }

    private fun observeData() {
        editPostViewModel.errorEventFlow.onEach { response ->
            when (response) {
                is LMFeedEditPostViewModel.ErrorMessageEvent.EditPost -> {
                    binding.headerViewEditPost.setSubmitButtonEnabled(
                        isEnabled = true,
                        showProgress = false
                    )
                    LMFeedViewUtils.showErrorMessageToast(requireContext(), response.errorMessage)
                }

                is LMFeedEditPostViewModel.ErrorMessageEvent.GetPost -> {
                    requireActivity().apply {
                        LMFeedViewUtils.showErrorMessageToast(this, response.errorMessage)
                        setResult(Activity.RESULT_CANCELED)
                        finish()
                    }
                }

                is LMFeedEditPostViewModel.ErrorMessageEvent.GetTopic -> {
                    LMFeedViewUtils.showErrorMessageToast(requireContext(), response.errorMessage)
                }

                is LMFeedEditPostViewModel.ErrorMessageEvent.DecodeUrl -> {
                    val postText = binding.etPostComposer.text.toString()
                    val link = postText.getUrlIfExist()
                    if (link != ogTags?.url) {
                        clearPreviewLink()
                    }
                }

                is LMFeedEditPostViewModel.ErrorMessageEvent.TaggingList -> {
                    LMFeedViewUtils.showErrorMessageToast(
                        requireContext(),
                        response.errorMessage
                    )
                }
            }
        }.observeInLifecycle(viewLifecycleOwner)

        editPostViewModel.taggingData.observe(viewLifecycleOwner) { result ->
            MemberTaggingUtil.setMembersInView(memberTagging, result)
        }

        editPostViewModel.showTopicFilter.observe(viewLifecycleOwner) { showTopics ->
            if (showTopics) {
                handleTopicSelectionView(true)
                initTopicSelectionView()
            } else {
                handleTopicSelectionView(false)
            }
        }

        // observes decodeUrlResponse and returns link ogTags
        editPostViewModel.decodeUrlResponse.observe(viewLifecycleOwner) { ogTags ->
            this.ogTags = ogTags
            showLinkView()
        }

        editPostViewModel.postDataEventFlow.onEach { response ->
            when (response) {
                is LMFeedEditPostViewModel.PostDataEvent.EditPost -> {
                    // updated post from editPost response

                    val post = response.post

                    // notifies the subscribers about the change in post data
                    postEvent.notify(Pair(post.id, post))

                    requireActivity().apply {
                        setResult(Activity.RESULT_OK)
                        finish()
                    }
                }

                is LMFeedEditPostViewModel.PostDataEvent.GetPost -> {
                    // post from getPost response
                    setPostData(response.post)
                    post = response.post
                }
            }
        }.observeInLifecycle(viewLifecycleOwner)
    }

    // sets the post data in view
    private fun setPostData(post: LMFeedPostViewData) {
        binding.apply {
            initAuthorFrame(post.headerViewData.user)

            val mediaViewData = post.mediaViewData
            val topics = post.topicsViewData

            //get custom widget attachment
            val customWidgetAttachment = mediaViewData.attachments.firstOrNull {
                it.attachmentType == CUSTOM_WIDGET
            }?.attachmentMeta?.widgetViewData

            //get widget data id and metadata
            widgetData = if (customWidgetAttachment != null) {
                val entityId = customWidgetAttachment.id
                val data = customWidgetAttachment.metadata.optJSONObject("meta") ?: JSONObject()
                Pair(
                    entityId,
                    data
                )
            } else {
                null
            }

            LMFeedProgressBarHelper.hideProgress(progressBar)
            nestedScroll.show()

            // decodes the post text and sets to the edit text
            UserTaggingDecoder.decode(
                etPostComposer,
                post.contentViewData.text,
                ContextCompat.getColor(requireContext(), LMFeedAppearance.getTextLinkColor())
            )

            // sets the heading to the heading edit text
            val heading = post.contentViewData.heading
            if (!heading.isNullOrEmpty()) {
                etPostHeadingComposer.setText(heading)
            }

            // sets the cursor to the end and opens keyboard
            etPostComposer.setSelection(etPostComposer.length())
            etPostComposer.focusAndShowKeyboard()

            when (post.viewType) {
                ITEM_POST_SINGLE_IMAGE -> {
                    postMediaViewData = mediaViewData
                    showSingleImagePreview()
                }

                ITEM_POST_SINGLE_VIDEO -> {
                    postMediaViewData = mediaViewData
                    showSingleVideoPreview()
                }

                ITEM_POST_DOCUMENTS -> {
                    postMediaViewData = mediaViewData
                    showDocumentsPreview()
                }

                ITEM_POST_MULTIPLE_MEDIA -> {
                    postMediaViewData = mediaViewData
                    showMultiMediaPreview()
                }

                ITEM_POST_LINK -> {
                    postMediaViewData = mediaViewData
                    ogTags = postMediaViewData?.attachments?.firstOrNull {
                        it.attachmentType == LINK
                    }?.attachmentMeta?.ogTags
                    showLinkView()
                }

                ITEM_POST_POLL -> {
                    val pollAttachment =
                        post.mediaViewData.attachments.firstOrNull()?.attachmentMeta?.poll ?: return
                    val options = pollAttachment.options
                    val updatedOptions = options.map {
                        it.toBuilder().toShowResults(false).build()
                    }

                    poll = pollAttachment.toBuilder()
                        .toShowResults(false)
                        .options(updatedOptions)
                        .build()

                    showPollView()
                }

                ITEM_POST_CUSTOM_WIDGET -> {

                }

                else -> {
                    Log.e(LOG_TAG, "invalid view type")
                }
            }

            if (topics.isNotEmpty()) {
                handleTopicSelectionView(true)

                selectedTopic.clear()
                disabledTopics.clear()

                //filter disabled topics
                topics.forEach { topic ->
                    if (!topic.isEnabled) {
                        disabledTopics[topic.id] = topic
                    }
                }
                addTopicsToGroup(false, topics)
            } else {
                editPostViewModel.getAllTopics()
            }

            initPostComposerTextListener()
            initPostHeadingComposerTextListener()
        }
    }

    //sets data to the author frame
    private fun initAuthorFrame(user: LMFeedUserViewData) {
        binding.postHeader.apply {
            setAuthorName(user.name)
            setAuthorImage(user)
        }
    }

    // adds text watcher on post content edit text
    @SuppressLint("ClickableViewAccessibility")
    @OptIn(ExperimentalCoroutinesApi::class, FlowPreview::class)
    private fun initPostComposerTextListener() {
        binding.etPostComposer.apply {
            /**
             * As the scrollable edit text is inside a scroll view,
             * this touch listener handles the scrolling of the edit text.
             * When the edit text is touched and has focus then it disables scroll of scroll-view.
             */
            setOnTouchListener(View.OnTouchListener { v, event ->
                if (hasFocus()) {
                    v.parent.requestDisallowInterceptTouchEvent(true)
                    when (event.action and MotionEvent.ACTION_MASK) {
                        MotionEvent.ACTION_SCROLL -> {
                            v.parent.requestDisallowInterceptTouchEvent(false)
                            return@OnTouchListener true
                        }
                    }
                }
                false
            })

            val postContainsOGTags = postMediaViewData?.attachments?.find {
                it.attachmentType == LINK
            } != null

            if (postContainsOGTags && poll == null) {
                // text watcher with debounce to add delay in api calls for ogTags
                textChanges()
                    .debounce(500)
                    .distinctUntilChanged()
                    .onEach {
                        val text = it?.toString()?.trim()
                        if (!text.isNullOrEmpty()) {
                            getLinkPreview(text)
                        }
                    }
                    .launchIn(lifecycleScope)
            }

            // text watcher to handleSaveButton click-ability
            addTextChangedListener {
                handleSubmitButtonVisibility()
            }
        }
    }

    // adds text change listener on post heading edit text
    @SuppressLint("ClickableViewAccessibility")
    private fun initPostHeadingComposerTextListener() {
        binding.etPostHeadingComposer.apply {
            /**
             * As the scrollable edit text is inside a scroll view,
             * this touch listener handles the scrolling of the edit text.
             * When the edit text is touched and has focus then it disables scroll of scroll-view.
             */
            setOnTouchListener(View.OnTouchListener { v, event ->
                if (hasFocus()) {
                    v.parent.requestDisallowInterceptTouchEvent(true)
                    when (event.action and MotionEvent.ACTION_MASK) {
                        MotionEvent.ACTION_SCROLL -> {
                            v.parent.requestDisallowInterceptTouchEvent(false)
                            return@OnTouchListener true
                        }
                    }
                }
                false
            })

            addTextChangedListener {
                val text = it?.toString()?.trim()
                if (text != null) {
                    setPostHeadingLimitText(binding.tvHeadingLimit, text.length)
                }

                handleSubmitButtonVisibility()
            }
        }
    }

    //sets the heading limit text to the heading limit text view
    protected open fun setPostHeadingLimitText(
        headingTextView: LMFeedTextView,
        headingTextLength: Int
    ) {
        headingTextView.text = getString(
            R.string.lm_feed_heading_limit_text_d,
            headingTextLength,
            LMFeedAppearance.getPostHeadingLimit()
        )
    }

    /**
     * Adds TextWatcher to edit text with Flow operators
     * **/
    @ExperimentalCoroutinesApi
    @CheckResult
    fun EditText.textChanges(): Flow<CharSequence?> {
        return callbackFlow<CharSequence?> {
            etPostTextChangeListener = object : TextWatcher {
                override fun afterTextChanged(s: Editable?) = Unit
                override fun beforeTextChanged(
                    s: CharSequence?,
                    start: Int,
                    count: Int,
                    after: Int
                ) = Unit

                override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {
                    (this@callbackFlow).trySend(s.toString())
                }
            }
            addTextChangedListener(etPostTextChangeListener)
            awaitClose { removeTextChangedListener(etPostTextChangeListener) }
        }.onStart { emit(text) }
    }

    //fetches link preview for link post type
    private fun getLinkPreview(text: String?) {
        binding.linkPreview.apply {
            if (text.isNullOrEmpty()) {
                clearPreviewLink()
                return
            }
            val link = text.getUrlIfExist()
            if (ogTags != null && link.equals(ogTags?.url)) {
                return
            }
            if (!link.isNullOrEmpty()) {
                if (link == ogTags?.url) {
                    return
                }
                clearPreviewLink()
                editPostViewModel.decodeUrl(link)
            } else {
                clearPreviewLink()
            }
        }
    }

    //handles topics chip group and separator line
    private fun handleTopicSelectionView(showView: Boolean) {
        binding.apply {
            postTopicsGroup.isVisible = showView
            topicSeparator.isVisible = showView
        }
    }

    //start activity -> Topic Selection and check for result with selected topics
    private val topicSelectionLauncher =
        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result ->
            if (result.resultCode == Activity.RESULT_OK) {
                val bundle = result.data?.extras
                val resultExtras = LMFeedExtrasUtil.getParcelable(
                    bundle,
                    LMFeedTopicSelectionActivity.LM_FEED_TOPIC_SELECTION_RESULT_EXTRAS,
                    LMFeedTopicSelectionResultExtras::class.java
                ) ?: return@registerForActivityResult

                val selectedTopics = resultExtras.selectedTopics
                if (selectedTopics.isNotEmpty()) {
                    addTopicsToGroup(true, selectedTopics)
                }
            }
        }

    //init initial topic selection view with "Select Topic Chip"
    private fun initTopicSelectionView() {
        binding.postTopicsGroup.apply {
            removeAllChips()
            addChip(
                getString(R.string.lm_feed_select_topics),
                LMFeedStyleTransformer.editPostFragmentViewStyle.selectTopicsChipStyle
            ) {
                val extras = LMFeedTopicSelectionExtras.Builder()
                    .showAllTopicFilter(false)
                    .showEnabledTopicOnly(true)
                    .build()
                val intent = LMFeedTopicSelectionActivity.getIntent(context, extras)

                topicSelectionLauncher.launch(intent)
            }
        }
    }

    //add selected topics to group and add edit chip as well in the end
    private fun addTopicsToGroup(
        isAfterSelection: Boolean,
        newSelectedTopics: List<LMFeedTopicViewData>
    ) {
        if (isAfterSelection) {
            disabledTopics.clear()
            selectedTopic.clear()
        }

        newSelectedTopics.forEach { topic ->
            if (!topic.isEnabled) {
                disabledTopics[topic.id] = topic
            }
            selectedTopic[topic.id] = topic
        }

        val selectedTopics = selectedTopic.values.toList()

        binding.postTopicsGroup.apply {
            removeAllChips()
            selectedTopics.forEach { topic ->
                addChip(topic.name, LMFeedStyleTransformer.postViewStyle.postTopicChipsStyle)
            }
            addChip(chipStyle = LMFeedStyleTransformer.editPostFragmentViewStyle.editTopicsChipStyle) {
                val extras = LMFeedTopicSelectionExtras.Builder()
                    .showAllTopicFilter(false)
                    .selectedTopics(selectedTopics)
                    .showEnabledTopicOnly(true)
                    .disabledTopics(disabledTopics.values.toList())
                    .build()
                val intent = LMFeedTopicSelectionActivity.getIntent(context, extras)

                topicSelectionLauncher.launch(intent)
            }
        }
    }

    override fun onResume() {
        super.onResume()

        when (post?.viewType) {
            ITEM_POST_SINGLE_VIDEO -> {
                showSingleVideoPreview()
            }

            ITEM_POST_MULTIPLE_MEDIA -> {
                showMultiMediaPreview()
            }

            else -> {
                return
            }
        }
    }

    //shows single image preview
    private fun showSingleImagePreview() {
        handleSubmitButtonVisibility()
        val attachmentUrl = postMediaViewData?.attachments?.firstOrNull {
            it.attachmentType == IMAGE
        }?.attachmentMeta?.url ?: return

        binding.singleImageAttachment.apply {
            root.show()

            val postImageMediaStyle =
                LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postImageMediaStyle
                    ?: return

            postImageView.setImage(attachmentUrl, postImageMediaStyle)
        }
    }

    //shows single video preview
    private fun showSingleVideoPreview() {
        val videoAttachment = postMediaViewData?.attachments?.firstOrNull {
            it.attachmentType == VIDEO
        }
        binding.singleVideoAttachment.apply {
            root.show()
            val meta = videoAttachment?.attachmentMeta
            postVideoPreviewAutoPlayHelper.playVideoInView(postVideoView, url = meta?.url)
        }
    }

    //shows documents preview
    private fun showDocumentsPreview() {
        handleSubmitButtonVisibility()
        binding.documentsAttachment.root.show()
        binding.documentsAttachment.postDocumentsMediaView.apply {

            setShowMoreTextClickListener {
                postMediaViewData?.let {
                    val updatedDocumentMediaViewData = it.toBuilder()
                        .isExpanded(true)
                        .build()

                    setAdapter(
                        0,
                        updatedDocumentMediaViewData,
                        this@LMFeedEditPostFragment
                    )
                }
            }

            val documentMediaViewData = postMediaViewData ?: return
            setAdapter(
                0,
                documentMediaViewData,
                this@LMFeedEditPostFragment
            )
        }
    }

    //shows multimedia preview
    private fun showMultiMediaPreview() {
        binding.apply {
            handleSubmitButtonVisibility()
            multipleMediaAttachment.root.show()
            postMediaViewData?.attachments?.let {
                multipleMediaAttachment.multipleMediaView.setViewPager(
                    0,
                    this@LMFeedEditPostFragment,
                    it
                )
            }
        }
    }

    //renders data in the link view
    private fun showLinkView() {
        val data = ogTags ?: return
        val link = data.url ?: ""

        // sends link attached event with the link
        LMFeedAnalytics.sendLinkAttachedEvent(link, LMFeedScreenNames.EDIT_POST)

        binding.linkPreview.root.show()

        binding.linkPreview.postLinkView.apply {
            setLinkTitle(data.title)
            setLinkImage(data.image)
            setLinkUrl(data.url)
            setLinkRemoveClickListener {
                binding.etPostComposer.removeTextChangedListener(etPostTextChangeListener)
                clearPreviewLink()
            }
        }
    }

    //shows poll view and sets poll data
    private fun showPollView() {
        binding.pollView.apply {
            show()
            setPollTitle(poll?.title ?: "")
            setPollInfo(poll?.getPollSelectionText(requireContext()))
            setTimeLeft(poll?.getExpireOnDate(requireContext()) ?: "")
            setPollOptions(
                0,
                poll?.options ?: emptyList(),
                LMFeedCreateEditPostViewStyleUtil.getUpdatedOptionViewStyle(),
                null
            )
        }
    }

    // clears link preview
    private fun clearPreviewLink() {
        ogTags = null
        postMediaViewData = null
        binding.linkPreview.apply {
            root.hide()
        }
    }

    // handles the visible of submit post button
    private fun handleSubmitButtonVisibility() {
        binding.apply {
            if (LMFeedStyleTransformer.editPostFragmentViewStyle.postHeadingComposerStyle != null) {
                headerViewEditPost.setSubmitButtonEnabled(
                    !etPostHeadingComposer.text?.trim().isNullOrEmpty()
                )
            } else {
                headerViewEditPost.setSubmitButtonEnabled(
                    !etPostComposer.text?.trim()
                        .isNullOrEmpty() || (postMediaViewData != null)
                )
            }
        }
    }

    override fun onPostDocumentMediaClicked(
        position: Int,
        parentPosition: Int,
        attachmentViewData: LMFeedAttachmentViewData
    ) {
        //open the pdf using Android's document view
        val documentUrl = attachmentViewData.attachmentMeta.url ?: ""
        val pdfUri = Uri.parse(documentUrl)
        LMFeedAndroidUtils.startDocumentViewer(requireContext(), pdfUri)
    }

    override fun onPostMultipleMediaPageChangeCallback(position: Int, parentPosition: Int) {
        super.onPostMultipleMediaPageChangeCallback(position, parentPosition)

        val viewPager = binding.multipleMediaAttachment.multipleMediaView.viewpagerMultipleMedia

        // processes the current video whenever view pager's page is changed
        val itemMultipleMediaVideoBinding =
            ((viewPager[0] as RecyclerView).findViewHolderForAdapterPosition(position) as? LMFeedDataBoundViewHolder<*>)
                ?.binding as? LmFeedItemMultipleMediaVideoBinding

        if (itemMultipleMediaVideoBinding == null) {
            // in case the item is not a video
            postVideoPreviewAutoPlayHelper.removePlayer()
        } else {
            // processes the current video item
            postMediaViewData?.attachments?.let { attachments ->
                val meta = attachments[position].attachmentMeta
                postVideoPreviewAutoPlayHelper.playVideoInView(
                    itemMultipleMediaVideoBinding.postVideoView,
                    url = meta.url
                )
            }
        }
    }

    override fun onPause() {
        super.onPause()
        postVideoPreviewAutoPlayHelper.removePlayer()
    }

    override fun onDestroyView() {
        super.onDestroyView()
        postVideoPreviewAutoPlayHelper.removePlayer()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/edit/viewmodel/LMFeedEditPostViewModel.kt
================================================
package com.likeminds.feed.android.core.post.edit.viewmodel

import androidx.lifecycle.*
import com.likeminds.feed.android.core.poll.result.model.LMFeedPollViewData
import com.likeminds.feed.android.core.post.model.LMFeedAttachmentViewData
import com.likeminds.feed.android.core.post.model.LMFeedLinkOGTagsViewData
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.topics.model.LMFeedTopicViewData
import com.likeminds.feed.android.core.utils.LMFeedViewDataConvertor
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics
import com.likeminds.feed.android.core.utils.coroutine.launchIO
import com.likeminds.feed.android.core.utils.membertagging.MemberTaggingUtil
import com.likeminds.likemindsfeed.LMFeedClient
import com.likeminds.likemindsfeed.LMResponse
import com.likeminds.likemindsfeed.helper.model.*
import com.likeminds.likemindsfeed.post.model.*
import com.likeminds.likemindsfeed.topic.model.GetTopicRequest
import com.likeminds.usertagging.model.TagUser
import com.likeminds.usertagging.util.UserTaggingUtil
import kotlinx.coroutines.channels.Channel
import kotlinx.coroutines.flow.receiveAsFlow
import org.json.JSONObject

class LMFeedEditPostViewModel : ViewModel() {

    private val lmFeedClient by lazy {
        LMFeedClient.getInstance()
    }

    private val _showTopicFilter by lazy {
        MutableLiveData<Boolean>()
    }
    val showTopicFilter: LiveData<Boolean> by lazy {
        _showTopicFilter
    }

    private val _decodeUrlResponse by lazy {
        MutableLiveData<LMFeedLinkOGTagsViewData>()
    }

    val decodeUrlResponse: LiveData<LMFeedLinkOGTagsViewData> by lazy {
        _decodeUrlResponse
    }

    private val _taggingData by lazy {
        MutableLiveData<Pair<Int, ArrayList<TagUser>>>()
    }

    val taggingData: LiveData<Pair<Int, ArrayList<TagUser>>> by lazy {
        _taggingData
    }

    sealed class PostDataEvent {
        data class GetPost(val post: LMFeedPostViewData) : PostDataEvent()

        data class EditPost(val post: LMFeedPostViewData) : PostDataEvent()
    }

    private val postDataEventChannel by lazy {
        Channel<PostDataEvent>(Channel.BUFFERED)
    }
    val postDataEventFlow by lazy {
        postDataEventChannel.receiveAsFlow()
    }

    sealed class ErrorMessageEvent {
        data class GetPost(val errorMessage: String?) : ErrorMessageEvent()

        data class EditPost(val errorMessage: String?) : ErrorMessageEvent()

        data class GetTopic(val errorMessage: String?) : ErrorMessageEvent()

        data class DecodeUrl(val errorMessage: String?) : ErrorMessageEvent()

        data class TaggingList(val errorMessage: String?) : ErrorMessageEvent()
    }

    private val errorEventChannel by lazy {
        Channel<ErrorMessageEvent>(Channel.BUFFERED)
    }

    val errorEventFlow by lazy {
        errorEventChannel.receiveAsFlow()
    }

    // to get the Post to be edited
    fun getPost(postId: String) {
        viewModelScope.launchIO {
            // builds api request
            val request = GetPostRequest.Builder()
                .postId(postId)
                .page(1)
                .pageSize(5)
                .build()

            // calls api
            val response = lmFeedClient.getPost(request)
            if (response.success) {
                val data = response.data ?: return@launchIO
                val post = data.post
                val users = data.users
                val topics = data.topics
                val widgets = data.widgets

                postDataEventChannel.send(
                    PostDataEvent.GetPost(
                        LMFeedViewDataConvertor.convertPost(
                            post,
                            users,
                            topics,
                            widgets
                        )
                    )
                )
            } else {
                errorEventChannel.send(ErrorMessageEvent.GetPost(response.errorMessage))
            }
        }
    }

    //calls to topics api and check whether to show topics view or not
    fun getAllTopics() {
        viewModelScope.launchIO {
            val request = GetTopicRequest.Builder()
                .page(1)
                .pageSize(10)
                .isEnabled(true)
                .build()

            val response = lmFeedClient.getTopics(request)

            if (response.success) {
                val topics = response.data?.topics
                if (topics.isNullOrEmpty()) {
                    _showTopicFilter.postValue(false)
                } else {
                    _showTopicFilter.postValue(true)
                }
            } else {
                _showTopicFilter.postValue(false)
                errorEventChannel.send(ErrorMessageEvent.GetTopic(response.errorMessage))
            }
        }
    }

    // calls EditPost API and posts the response in LiveData
    fun editPost(
        postId: String,
        postTextContent: String?,
        postHeading: String?,
        attachments: List<LMFeedAttachmentViewData>? = null,
        ogTags: LMFeedLinkOGTagsViewData? = null,
        selectedTopics: List<LMFeedTopicViewData>? = null,
        poll: LMFeedPollViewData? = null,
        widgetData: Pair<String, JSONObject>? = null
    ) {
        viewModelScope.launchIO {
            var updatedText = postTextContent?.trim()
            if (updatedText.isNullOrEmpty()) {
                updatedText = null
            }

            var updatedHeading = postHeading?.trim()
            if (updatedHeading.isNullOrEmpty()) {
                updatedHeading = null
            }

            val topicIds = selectedTopics?.map {
                it.id
            }

            val request =
                if (attachments != null) {
                    // if the post has any file attachments
                    val mediaAttachments = mutableListOf<Attachment>().apply {
                        addAll(LMFeedViewDataConvertor.createAttachments(attachments))
                        widgetData?.let {
                            add(LMFeedViewDataConvertor.convertCustomWidget(it.first, it.second))
                        }
                    }

                    EditPostRequest.Builder()
                        .postId(postId)
                        .text(updatedText)
                        .heading(postHeading)
                        .attachments(mediaAttachments)
                        .topicIds(topicIds)
                        .build()
                } else {
                    // if the post does not have any file attachments
                    val requestBuilder = EditPostRequest.Builder()
                        .postId(postId)
                        .text(updatedText)
                        .heading(postHeading)
                        .topicIds(topicIds)

                    when {
                        ogTags != null -> {
                            // if the post has ogTags
                            requestBuilder.attachments(
                                LMFeedViewDataConvertor.convertAttachments(
                                    ogTags,
                                    widgetData
                                )
                            )
                        }

                        poll != null -> {
                            //if the post has poll
                            requestBuilder.attachments(
                                LMFeedViewDataConvertor.convertPoll(
                                    poll,
                                    widgetData
                                )
                            )
                        }

                        widgetData != null -> {
                            val customAttachment =
                                listOf(
                                    LMFeedViewDataConvertor.convertCustomWidget(
                                        widgetData.first,
                                        widgetData.second
                                    )
                                )
                            requestBuilder.attachments(customAttachment)
                        }
                    }
                    requestBuilder.build()
                }

            // calls api
            val response = lmFeedClient.editPost(request)
            if (response.success) {
                val data = response.data ?: return@launchIO
                val post = data.post
                val users = data.users
                val topics = data.topics
                val widgets = data.widgets

                val postViewData = LMFeedViewDataConvertor.convertPost(
                    post,
                    users,
                    topics,
                    widgets
                )
                postDataEventChannel.send(PostDataEvent.EditPost(postViewData))

                // sends post edited event
                LMFeedAnalytics.sendPostEditedEvent(postViewData)
            } else {
                errorEventChannel.send(ErrorMessageEvent.EditPost(response.errorMessage))
            }
        }
    }

    //calls DecodeUrl API
    fun decodeUrl(url: String) {
        viewModelScope.launchIO {
            val request = DecodeUrlRequest.Builder().url(url).build()

            val response = lmFeedClient.decodeUrl(request)
            postDecodeUrlResponse(response)
        }
    }

    //processes and posts the DecodeUrl response in LiveData
    private fun postDecodeUrlResponse(response: LMResponse<DecodeUrlResponse>) {
        viewModelScope.launchIO {
            if (response.success) {
                // processes link og tags if API call was successful
                val data = response.data ?: return@launchIO
                val ogTags = data.ogTags
                _decodeUrlResponse.postValue(LMFeedViewDataConvertor.convertLinkOGTags(ogTags))
            } else {
                // posts error message if API call failed
                errorEventChannel.send(ErrorMessageEvent.DecodeUrl(response.errorMessage))
            }
        }
    }

    //gets the members list with [searchName] for tagging
    fun getMembersForTagging(
        page: Int,
        searchName: String
    ) {
        viewModelScope.launchIO {
            val request = GetTaggingListRequest.Builder()
                .page(page)
                .pageSize(UserTaggingUtil.PAGE_SIZE)
                .searchName(searchName)
                .build()

            val response = lmFeedClient.getTaggingList(request)

            if (response.success) {
                val data = response.data ?: return@launchIO
                val users = data.members
                val tagUsers = MemberTaggingUtil.convertToTagUser(users)
                _taggingData.postValue(
                    Pair(
                        page,
                        java.util.ArrayList(tagUsers)
                    )
                )
            } else {
                errorEventChannel.send(ErrorMessageEvent.TaggingList(response.errorMessage))
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/model/LMFeedAttachmentMetaViewData.kt
================================================
package com.likeminds.feed.android.core.post.model

import android.net.Uri
import com.likeminds.feed.android.core.poll.result.model.LMFeedPollViewData
import com.likeminds.feed.android.core.widget.model.LMFeedWidgetViewData

class LMFeedAttachmentMetaViewData private constructor(
    val name: String?,
    val url: String?,
    val format: String?,
    val size: Long?,
    val duration: Int?,
    val pageCount: Int?,
    val ogTags: LMFeedLinkOGTagsViewData?,
    val width: Int?,
    val height: Int?,
    val uri: Uri?,
    val thumbnail: String?,
    val poll: LMFeedPollViewData?,
    val widgetViewData: LMFeedWidgetViewData?
) {

    class Builder {
        private var name: String? = null
        private var url: String? = null
        private var format: String? = null
        private var size: Long? = null
        private var duration: Int? = null
        private var pageCount: Int? = null
        private var ogTags: LMFeedLinkOGTagsViewData? = null
        private var width: Int? = null
        private var height: Int? = null
        private var uri: Uri? = null
        private var thumbnail: String? = null
        private var poll: LMFeedPollViewData? = null
        private var widgetViewData: LMFeedWidgetViewData? = null

        fun name(name: String?) = apply {
            this.name = name
        }

        fun url(url: String?) = apply {
            this.url = url
        }

        fun format(format: String?) = apply {
            this.format = format
        }

        fun size(size: Long?) = apply {
            this.size = size
        }

        fun duration(duration: Int?) = apply {
            this.duration = duration
        }

        fun pageCount(pageCount: Int?) = apply {
            this.pageCount = pageCount
        }

        fun ogTags(ogTags: LMFeedLinkOGTagsViewData?) = apply {
            this.ogTags = ogTags
        }

        fun width(width: Int?) = apply {
            this.width = width
        }

        fun height(height: Int?) = apply {
            this.height = height
        }

        fun uri(uri: Uri?) = apply {
            this.uri = uri
        }

        fun thumbnail(thumbnail: String?) = apply {
            this.thumbnail = thumbnail
        }

        fun poll(poll: LMFeedPollViewData?) = apply {
            this.poll = poll
        }

        fun widgetViewData(widgetViewData: LMFeedWidgetViewData?) = apply {
            this.widgetViewData = widgetViewData
        }

        fun build() = LMFeedAttachmentMetaViewData(
            name,
            url,
            format,
            size,
            duration,
            pageCount,
            ogTags,
            width,
            height,
            uri,
            thumbnail,
            poll,
            widgetViewData
        )
    }

    fun toBuilder(): Builder {
        return Builder()
            .name(name)
            .url(url)
            .format(format)
            .size(size)
            .duration(duration)
            .pageCount(pageCount)
            .ogTags(ogTags)
            .width(width)
            .height(height)
            .uri(uri)
            .thumbnail(thumbnail)
            .poll(poll)
            .widgetViewData(widgetViewData)
    }

    override fun toString(): String {
        return buildString {
            append("LMFeedAttachmentMetaViewData(name=")
            append(name)
            append(", url=")
            append(url)
            append(", format=")
            append(format)
            append(", size=")
            append(size)
            append(", duration=")
            append(duration)
            append(", pageCount=")
            append(pageCount)
            append(", ogTags=")
            append(ogTags)
            append(", width=")
            append(width)
            append(", height=")
            append(height)
            append(", uri=")
            append(uri)
            append(", thumbnail=")
            append(thumbnail)
            append(", poll=")
            append(poll)
            append(", widgetViewData=")
            append(widgetViewData)
            append(")")
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/model/LMFeedAttachmentType.kt
================================================
package com.likeminds.feed.android.core.post.model

import androidx.annotation.IntDef

const val IMAGE = 1
const val VIDEO = 2
const val DOCUMENT = 3
const val LINK = 4
const val CUSTOM_WIDGET = 5
const val POLL = 6
const val ARTICLE = 7
const val REEL = 11

@IntDef(
    IMAGE,
    VIDEO,
    DOCUMENT,
    LINK,
    CUSTOM_WIDGET,
    POLL,
    ARTICLE,
    REEL
)
@Retention(AnnotationRetention.SOURCE)
annotation class LMFeedAttachmentType


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/model/LMFeedAttachmentViewData.kt
================================================
package com.likeminds.feed.android.core.post.model

import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.base.model.ITEM_POST_ATTACHMENT
import com.likeminds.feed.android.core.utils.base.model.ITEM_POST_DOCUMENTS_ITEM

class LMFeedAttachmentViewData private constructor(
    @LMFeedAttachmentType var attachmentType: Int,
    val attachmentMeta: LMFeedAttachmentMetaViewData,
    val dynamicViewType: Int?,
    val postId: String
) : LMFeedBaseViewType {

    override val viewType: Int
        get() = when {
            dynamicViewType != null -> {
                dynamicViewType
            }

            attachmentType == DOCUMENT -> {
                ITEM_POST_DOCUMENTS_ITEM
            }

            else -> {
                ITEM_POST_ATTACHMENT
            }
        }

    class Builder {
        @LMFeedAttachmentType
        private var attachmentType: Int = 0
        private var attachmentMeta: LMFeedAttachmentMetaViewData =
            LMFeedAttachmentMetaViewData.Builder().build()
        private var dynamicViewType: Int? = null
        private var postId: String = ""

        fun attachmentType(@LMFeedAttachmentType attachmentType: Int) =
            apply { this.attachmentType = attachmentType }

        fun attachmentMeta(attachmentMeta: LMFeedAttachmentMetaViewData) =
            apply { this.attachmentMeta = attachmentMeta }

        fun dynamicViewType(dynamicViewType: Int?) =
            apply { this.dynamicViewType = dynamicViewType }

        fun postId(postId: String) =
            apply { this.postId = postId }

        fun build() = LMFeedAttachmentViewData(
            attachmentType,
            attachmentMeta,
            dynamicViewType,
            postId
        )
    }

    fun toBuilder(): Builder {
        return Builder().attachmentType(attachmentType)
            .attachmentMeta(attachmentMeta)
            .dynamicViewType(dynamicViewType)
            .postId(postId)
    }

    override fun toString(): String {
        return buildString {
            append("LMFeedAttachmentViewData(attachmentType=")
            append(attachmentType)
            append(", attachmentMeta=")
            append(attachmentMeta)
            append(", dynamicViewType=")
            append(dynamicViewType)
            append(", postId='")
            append(postId)
            append("')")
        }
    }

}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/model/LMFeedLinkOGTagsViewData.kt
================================================
package com.likeminds.feed.android.core.post.model

class LMFeedLinkOGTagsViewData private constructor(
    val title: String?,
    val image: String?,
    val description: String?,
    val url: String?,
) {

    class Builder {
        private var title: String? = null
        private var image: String? = null
        private var description: String? = null
        private var url: String? = null

        fun title(title: String?) = apply { this.title = title }
        fun image(image: String?) = apply { this.image = image }
        fun description(description: String?) = apply { this.description = description }
        fun url(url: String?) = apply { this.url = url }

        fun build() = LMFeedLinkOGTagsViewData(
            title,
            image,
            description,
            url
        )
    }

    fun toBuilder(): Builder {
        return Builder()
            .title(title)
            .image(image)
            .description(description)
            .url(url)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/style/LMFeedPostViewStyle.kt
================================================
package com.likeminds.feed.android.core.post.style

import android.text.TextUtils
import android.view.View
import android.widget.ImageView
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.widgets.labelimagecontainer.style.LMFeedLabelImageContainerViewStyle
import com.likeminds.feed.android.core.ui.widgets.poll.style.LMFeedPostPollOptionViewStyle
import com.likeminds.feed.android.core.ui.widgets.poll.style.LMFeedPostPollViewStyle
import com.likeminds.feed.android.core.ui.widgets.post.postactionview.style.LMFeedPostActionViewStyle
import com.likeminds.feed.android.core.ui.widgets.post.postcontent.style.LMFeedPostContentViewStyle
import com.likeminds.feed.android.core.ui.widgets.post.postheaderview.style.LMFeedPostHeaderViewStyle
import com.likeminds.feed.android.core.ui.widgets.post.postmedia.style.*
import com.likeminds.feed.android.core.ui.widgets.post.posttopresponse.style.LMFeedPostTopResponseViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewUtils
import com.likeminds.feed.android.core.utils.model.LMFeedPadding

/**
 * [LMFeedPostViewStyle] helps you to customize the header view
 *
 * @property postHeaderViewStyle : [LMFeedPostHeaderViewStyle] this will help you to customize the post header view [LMFeedPostHeaderView]
 * @property postContentTextStyle : [LMFeedPostContentViewStyle] this will help you to customize the text content of the post and the keyword searched in post text
 * @property postMediaViewStyle: [LMFeedPostMediaViewStyle] this will help you to customize the media attached in the post
 * @property postActionViewStyle: [LMFeedPostActionViewStyle] this will help you to customize the action view of the post [LMFeedPostActionView]
 * @property postTopicsGroupStyle: [LMFeedChipGroupStyle] this will help you to customize the chip group in the post [LMFeedChipGroup]
 * @property postTopicChipsStyle: [LMFeedChipStyle] this will help you to customize the chips of the chip group in the post [LMFeedChip]
 * @property postTopResponseViewStyle: [LMFeedPostTopResponseViewStyle] this will help you to customize the top response in the post [LMFeedPostTopResponseView]
 * @property postTopResponseViewStyle: [LMFeedPostTopResponseViewStyle] this will help you to customize the prompt to answer view [LMFeedLabelImageContainerView]
 *
 * */
class LMFeedPostViewStyle private constructor(
    // post header style
    val postHeaderViewStyle: LMFeedPostHeaderViewStyle,
    // post text content style
    val postContentTextStyle: LMFeedPostContentViewStyle,
    // post media style
    val postMediaViewStyle: LMFeedPostMediaViewStyle,
    // post action style
    val postActionViewStyle: LMFeedPostActionViewStyle,
    // post topics chip group style
    val postTopicsGroupStyle: LMFeedChipGroupStyle,
    // post topics chip style
    val postTopicChipsStyle: LMFeedChipStyle,
    // post top response view style
    val postTopResponseViewStyle: LMFeedPostTopResponseViewStyle?,
    // post be the first one to answer label view style
    val postAnswerPromptViewStyle: LMFeedLabelImageContainerViewStyle?
) : LMFeedViewStyle {

    class Builder {
        private var postHeaderViewStyle: LMFeedPostHeaderViewStyle =
            LMFeedPostHeaderViewStyle.Builder()
                .timestampTextStyle(
                    LMFeedTextStyle.Builder()
                        .textColor(R.color.lm_feed_grey)
                        .textSize(R.dimen.lm_feed_text_small)
                        .fontResource(R.font.lm_feed_roboto)
                        .build()
                )
                .postEditedTextStyle(
                    LMFeedTextStyle.Builder()
                        .textColor(R.color.lm_feed_grey)
                        .textSize(R.dimen.lm_feed_text_small)
                        .fontResource(R.font.lm_feed_roboto)
                        .maxLines(1)
                        .build()
                )
                .authorCustomTitleTextStyle(
                    LMFeedTextStyle.Builder()
                        .textColor(R.color.lm_feed_white)
                        .textSize(R.dimen.lm_feed_text_small)
                        .maxLines(1)
                        .fontResource(R.font.lm_feed_roboto_medium)
                        .backgroundColor(LMFeedAppearance.getButtonColor())
                        .build()
                )
                .pinIconStyle(
                    LMFeedIconStyle.Builder()
                        .inActiveSrc(R.drawable.lm_feed_ic_pin)
                        .build()
                )
                .menuIconStyle(
                    LMFeedIconStyle.Builder()
                        .inActiveSrc(R.drawable.lm_feed_ic_overflow_menu)
                        .iconPadding(
                            LMFeedPadding(
                                R.dimen.lm_feed_icon_padding,
                                R.dimen.lm_feed_icon_padding,
                                R.dimen.lm_feed_icon_padding,
                                R.dimen.lm_feed_icon_padding
                            )
                        )
                        .build()
                )
                .build()

        private var postContentTextStyle: LMFeedPostContentViewStyle =
            LMFeedPostContentViewStyle.Builder()
                .postTextViewStyle(
                    LMFeedTextStyle.Builder()
                        .textColor(R.color.lm_feed_grey)
                        .textSize(R.dimen.lm_feed_text_large)
                        .maxLines(3)
                        .fontResource(R.font.lm_feed_roboto)
                        .expandableCTAText("... See more")
                        .expandableCTAColor(R.color.lm_feed_brown_grey)
                        .build()
                )
                .searchHighlightedTextViewStyle(
                    LMFeedTextStyle.Builder()
                        .textColor(R.color.lm_feed_black)
                        .textSize(R.dimen.lm_feed_text_large)
                        .build()
                )
                .build()

        private var postActionViewStyle: LMFeedPostActionViewStyle =
            LMFeedPostActionViewStyle.Builder()
                .likeIconStyle(
                    LMFeedIconStyle.Builder()
                        .activeSrc(R.drawable.lm_feed_ic_like_filled)
                        .inActiveSrc(R.drawable.lm_feed_ic_like_unfilled)
                        .build()
                )
                .likeTextStyle(
                    LMFeedTextStyle.Builder()
                        .textColor(R.color.lm_feed_grey)
                        .textSize(R.dimen.lm_feed_text_medium)
                        .fontResource(R.font.lm_feed_roboto)
                        .textAllCaps(false)
                        .textAlignment(View.TEXT_ALIGNMENT_CENTER)
                        .build()
                )
                .commentTextStyle(
                    LMFeedTextStyle.Builder()
                        .textColor(R.color.lm_feed_grey)
                        .textSize(R.dimen.lm_feed_text_medium)
                        .fontResource(R.font.lm_feed_roboto)
                        .textAllCaps(false)
                        .textAlignment(View.TEXT_ALIGNMENT_CENTER)
                        .drawableLeftSrc(R.drawable.lm_feed_ic_comment)
                        .drawablePadding(R.dimen.lm_feed_regular_padding)
                        .build()
                )
                .saveIconStyle(
                    LMFeedIconStyle.Builder()
                        .activeSrc(R.drawable.lm_feed_ic_bookmark_filled)
                        .inActiveSrc(R.drawable.lm_feed_ic_bookmark_unfilled)
                        .build()
                )
                .shareIconStyle(
                    LMFeedIconStyle.Builder()
                        .inActiveSrc(R.drawable.lm_feed_ic_share)
                        .build()
                )
                .build()

        private var postMediaViewStyle: LMFeedPostMediaViewStyle =
            LMFeedPostMediaViewStyle.Builder()
                .postImageMediaStyle(
                    LMFeedPostImageMediaViewStyle.Builder()
                        .imageStyle(
                            LMFeedImageStyle.Builder()
                                .placeholderSrc(LMFeedViewUtils.getShimmer())
                                .scaleType(ImageView.ScaleType.CENTER_CROP)
                                .build()
                        )
                        .removeIconStyle(null)
                        .build()
                )
                .postVideoMediaStyle(
                    LMFeedPostVideoMediaViewStyle.Builder()
                        .videoProgressStyle(
                            LMFeedProgressBarStyle.Builder()
                                .progressColor(LMFeedAppearance.getButtonColor())
                                .build()
                        )
                        .backgroundColor(R.color.lm_feed_black)
                        .build()
                )
                .postLinkStyle(
                    LMFeedPostLinkMediaViewStyle.Builder()
                        .linkTitleStyle(
                            LMFeedTextStyle.Builder()
                                .fontResource(R.font.lm_feed_roboto_medium)
                                .textColor(R.color.lm_feed_grey)
                                .textSize(R.dimen.lm_feed_text_medium)
                                .build()
                        )
                        .linkDescriptionStyle(
                            LMFeedTextStyle.Builder()
                                .fontResource(R.font.lm_feed_roboto)
                                .textColor(R.color.lm_feed_grey)
                                .textSize(R.dimen.lm_feed_text_medium)
                                .build()
                        )
                        .linkBoxStrokeWidth(R.dimen.lm_feed_link_box_stroke_width)
                        .linkBoxStrokeColor(R.color.lm_feed_light_grayish_blue)
                        .linkBoxElevation(R.dimen.lm_feed_zero_dp)
                        .linkBoxCornerRadius(R.dimen.lm_feed_link_box_corner_radius)
                        .build()
                )
                .postDocumentsMediaStyle(
                    LMFeedPostDocumentsMediaViewStyle.Builder()
                        .documentIconStyle(
                            LMFeedIconStyle.Builder()
                                .inActiveSrc(R.drawable.lm_feed_ic_pdf)
                                .scaleType(ImageView.ScaleType.FIT_XY)
                                .build()
                        )
                        .documentPageCountStyle(
                            LMFeedTextStyle.Builder()
                                .fontResource(R.font.lm_feed_roboto)
                                .textColor(R.color.lm_feed_grey)
                                .textSize(R.dimen.lm_feed_text_medium)
                                .build()
                        )
                        .documentSizeStyle(
                            LMFeedTextStyle.Builder()
                                .fontResource(R.font.lm_feed_roboto)
                                .textColor(R.color.lm_feed_grey)
                                .textSize(R.dimen.lm_feed_text_medium)
                                .build()
                        )
                        .documentTypeStyle(
                            LMFeedTextStyle.Builder()
                                .fontResource(R.font.lm_feed_roboto)
                                .textColor(R.color.lm_feed_grey)
                                .textSize(R.dimen.lm_feed_text_medium)
                                .build()
                        )
                        .documentShowMoreStyle(
                            LMFeedTextStyle.Builder()
                                .fontResource(R.font.lm_feed_roboto)
                                .textColor(LMFeedAppearance.getButtonColor())
                                .textSize(R.dimen.lm_feed_text_large)
                                .build()
                        )
                        .build()
                )
                .postMultipleMediaStyle(
                    LMFeedPostMultipleMediaViewStyle.Builder()
                        .indicatorSpacing(R.dimen.lm_feed_indicator_dots_spacing)
                        .build()
                )
                .postPollMediaStyle(
                    LMFeedPostPollViewStyle.Builder()
                        .pollInfoTextStyle(
                            LMFeedTextStyle.Builder()
                                .fontResource(R.font.lm_feed_roboto)
                                .textSize(R.dimen.lm_feed_text_medium)
                                .textColor(R.color.lm_feed_dusty_grey)
                                .build()
                        )
                        .submitPollVoteButtonStyle(
                            LMFeedButtonStyle.Builder()
                                .textStyle(
                                    LMFeedTextStyle.Builder()
                                        .textColor(R.color.lm_feed_white)
                                        .textSize(R.dimen.lm_feed_text_large)
                                        .fontResource(R.font.lm_feed_roboto)
                                        .build()
                                )
                                .backgroundColor(LMFeedAppearance.getButtonColor())
                                .cornerRadius(R.dimen.lm_feed_corner_radius_medium)
                                .build()
                        )
                        .addPollOptionButtonStyle(
                            LMFeedButtonStyle.Builder()
                                .textStyle(
                                    LMFeedTextStyle.Builder()
                                        .textSize(R.dimen.lm_feed_text_large)
                                        .fontResource(R.font.lm_feed_roboto)
                                        .textColor(R.color.lm_feed_dark_grayish_blue)
                                        .textAllCaps(false)
                                        .build()
                                )
                                .cornerRadius(R.dimen.lm_feed_corner_radius_medium)
                                .strokeColor(R.color.lm_feed_dusty_grey_20)
                                .backgroundColor(R.color.lm_feed_white)
                                .build()
                        )
                        .membersVotedCountTextStyle(
                            LMFeedTextStyle.Builder()
                                .fontResource(R.font.lm_feed_roboto)
                                .textSize(R.dimen.lm_feed_text_medium)
                                .textColor(LMFeedAppearance.getButtonColor())
                                .build()
                        )
                        .pollExpiryTextStyle(
                            LMFeedTextStyle.Builder()
                                .fontResource(R.font.lm_feed_roboto)
                                .textSize(R.dimen.lm_feed_text_medium)
                                .textColor(R.color.lm_feed_grey)
                                .build()
                        )
                        .pollOptionsViewStyle(
                            LMFeedPostPollOptionViewStyle.Builder()
                                .pollOptionVotesCountTextStyle(
                                    LMFeedTextStyle.Builder()
                                        .textSize(R.dimen.lm_feed_text_medium)
                                        .textColor(R.color.lm_feed_dusty_grey)
                                        .build()
                                )
                                .pollOptionAddedByTextStyle(
                                    LMFeedTextStyle.Builder()
                                        .fontResource(R.font.lm_feed_roboto)
                                        .textSize(R.dimen.lm_feed_text_small)
                                        .textColor(R.color.lm_feed_grey)
                                        .ellipsize(TextUtils.TruncateAt.END)
                                        .build()
                                )
                                .pollOptionCheckIconStyle(
                                    LMFeedIconStyle.Builder()
                                        .iconTint(LMFeedAppearance.getButtonColor())
                                        .inActiveSrc(R.drawable.lm_feed_ic_check_circle)
                                        .build()
                                )
                                .build()
                        )
                        .editPollVoteTextStyle(
                            LMFeedTextStyle.Builder()
                                .textColor(LMFeedAppearance.getButtonColor())
                                .fontResource(R.font.lm_feed_roboto)
                                .textSize(R.dimen.lm_feed_text_medium)
                                .ellipsize(TextUtils.TruncateAt.END)
                                .build()
                        )
                        .build()
                )
                .postVerticalVideoMediaStyle(
                    LMFeedPostVideoMediaViewStyle.Builder()
                        .videoProgressStyle(
                            LMFeedProgressBarStyle.Builder()
                                .progressColor(LMFeedAppearance.getButtonColor())
                                .build()
                        )
                        .backgroundColor(R.color.lm_feed_black)
                        .build()
                )
                .build()

        private var postTopicsGroupStyle: LMFeedChipGroupStyle =
            LMFeedChipGroupStyle.Builder()
                .build()

        private var postTopicChipStyle: LMFeedChipStyle =
            LMFeedChipStyle.Builder()
                .chipBackgroundColor(R.color.lm_feed_majorelle_blue_10)
                .chipCornerRadius(R.dimen.lm_feed_corner_radius_regular)
                .chipTextColor(LMFeedAppearance.getButtonColor())
                .chipTextSize(R.dimen.lm_feed_text_medium)
                .build()

        private var postTopResponseViewStyle: LMFeedPostTopResponseViewStyle? = null

        private var postAnswerPromptViewStyle: LMFeedLabelImageContainerViewStyle? = null

        fun postHeaderViewStyle(postHeaderViewStyle: LMFeedPostHeaderViewStyle) = apply {
            this.postHeaderViewStyle = postHeaderViewStyle
        }

        fun postContentTextStyle(postContentTextStyle: LMFeedPostContentViewStyle) = apply {
            this.postContentTextStyle = postContentTextStyle
        }

        fun postMediaViewStyle(postMediaViewStyle: LMFeedPostMediaViewStyle) = apply {
            this.postMediaViewStyle = postMediaViewStyle
        }

        fun postActionViewStyle(postActionViewStyle: LMFeedPostActionViewStyle) = apply {
            this.postActionViewStyle = postActionViewStyle
        }

        fun postTopicsGroupStyle(postTopicsGroupStyle: LMFeedChipGroupStyle) = apply {
            this.postTopicsGroupStyle = postTopicsGroupStyle
        }

        fun postTopicChipStyle(postTopicChipStyle: LMFeedChipStyle) = apply {
            this.postTopicChipStyle = postTopicChipStyle
        }

        fun postTopResponseViewStyle(postTopResponseViewStyle: LMFeedPostTopResponseViewStyle?) =
            apply {
                this.postTopResponseViewStyle = postTopResponseViewStyle
            }

        fun postAnswerPromptViewStyle(postAnswerPromptViewStyle: LMFeedLabelImageContainerViewStyle?) =
            apply {
                this.postAnswerPromptViewStyle = postAnswerPromptViewStyle
            }

        fun build() = LMFeedPostViewStyle(
            postHeaderViewStyle,
            postContentTextStyle,
            postMediaViewStyle,
            postActionViewStyle,
            postTopicsGroupStyle,
            postTopicChipStyle,
            postTopResponseViewStyle,
            postAnswerPromptViewStyle
        )
    }

    fun toBuilder(): Builder {
        return Builder().postHeaderViewStyle(postHeaderViewStyle)
            .postContentTextStyle(postContentTextStyle)
            .postMediaViewStyle(postMediaViewStyle)
            .postActionViewStyle(postActionViewStyle)
            .postTopicsGroupStyle(postTopicsGroupStyle)
            .postTopicChipStyle(postTopicChipsStyle)
            .postTopResponseViewStyle(postTopResponseViewStyle)
            .postAnswerPromptViewStyle(postAnswerPromptViewStyle)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/util/LMFeedPostEvent.kt
================================================
package com.likeminds.feed.android.core.post.util

import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData

// to trigger post change events and notify observers
class LMFeedPostEvent {
    companion object {
        private var postEvent: LMFeedPostEvent? = null

        @JvmStatic
        fun getPublisher(): LMFeedPostEvent {
            if (postEvent == null) {
                postEvent = LMFeedPostEvent()
            }
            return postEvent!!
        }
    }

    // maintains the set of all the observers
    private var observers = hashSetOf<LMFeedPostObserver>()

    // subscribes the observer to listen to the changes
    fun subscribe(postObserver: LMFeedPostObserver) {
        observers.add(postObserver)
    }

    // unsubscribes the observer
    fun unsubscribe(postObserver: LMFeedPostObserver) {
        observers.remove(postObserver)
    }

    // notifies all the observers with the new data
    fun notify(postData: Pair<String, LMFeedPostViewData?>) {
        for (listener in observers) {
            listener.update(postData)
        }
    }
}

interface LMFeedPostObserver {
    /*
    * called whenever post changes are notified the observer
    * postData - Pair of postId and Post data
    * */
    fun update(postData: Pair<String, LMFeedPostViewData?>)
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/viewmodel/LMFeedHelperViewModel.kt
================================================
package com.likeminds.feed.android.core.post.viewmodel

import android.util.Log
import androidx.lifecycle.*
import com.likeminds.feed.android.core.LMFeedCoreApplication
import com.likeminds.feed.android.core.LMFeedCoreApplication.Companion.LOG_TAG
import com.likeminds.feed.android.core.LMFeedTheme.*
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.topics.model.LMFeedTopicViewData
import com.likeminds.feed.android.core.utils.LMFeedViewDataConvertor
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics.LMFeedScreenNames
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.coroutine.launchIO
import com.likeminds.feed.android.core.utils.feed.LMFeedPostSeenUtil
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData
import com.likeminds.likemindsfeed.LMFeedClient
import com.likeminds.likemindsfeed.post.model.*
import com.likeminds.likemindsfeed.topic.model.GetTopicRequest
import kotlinx.coroutines.channels.Channel
import kotlinx.coroutines.flow.receiveAsFlow

class LMFeedHelperViewModel : ViewModel() {

    private val lmFeedClient: LMFeedClient by lazy {
        LMFeedClient.getInstance()
    }

    private val _postSavedResponse by lazy {
        MutableLiveData<LMFeedPostViewData>()
    }

    val postSavedResponse: LiveData<LMFeedPostViewData> by lazy {
        _postSavedResponse
    }

    private val _postPinnedResponse by lazy {
        MutableLiveData<LMFeedPostViewData>()
    }

    val postPinnedResponse: LiveData<LMFeedPostViewData> by lazy {
        _postPinnedResponse
    }

    private val _deletePostResponse by lazy {
        MutableLiveData<String>()
    }

    val deletePostResponse: LiveData<String> by lazy {
        _deletePostResponse
    }

    private val _unreadNotificationCount by lazy {
        MutableLiveData<Int>()
    }

    val unreadNotificationCount: LiveData<Int> by lazy {
        _unreadNotificationCount
    }

    private val _showTopicFilter by lazy {
        MutableLiveData<Boolean>()
    }

    val showTopicFilter: LiveData<Boolean> by lazy {
        _showTopicFilter
    }

    private val _userResponse by lazy {
        MutableLiveData<LMFeedUserViewData>()
    }

    val userResponse: LiveData<LMFeedUserViewData> by lazy {
        _userResponse
    }

    private val errorMessageChannel by lazy {
        Channel<ErrorMessageEvent>(Channel.BUFFERED)
    }

    val errorMessageEventFlow by lazy {
        errorMessageChannel.receiveAsFlow()
    }

    sealed class ErrorMessageEvent {
        data class LikePost(val postId: String, val errorMessage: String?) : ErrorMessageEvent()

        data class SavePost(val postId: String, val errorMessage: String?) : ErrorMessageEvent()

        data class DeletePost(val errorMessage: String?) : ErrorMessageEvent()

        data class GetUnreadNotificationCount(val errorMessage: String?) : ErrorMessageEvent()

        data class PinPost(val postId: String, val errorMessage: String?) : ErrorMessageEvent()

        data class GetTopic(val errorMessage: String?) : ErrorMessageEvent()
    }

    //for like/unlike a post
    fun likePost(
        postId: String,
        postLiked: Boolean,
        loggedInUUID: String
    ) {
        viewModelScope.launchIO {
            val request = LikePostRequest.Builder()
                .postId(postId)
                .build()

            //call like post api
            val response = lmFeedClient.likePost(request)

            //check for error
            if (response.success) {
                //sends event for post liked
                when (LMFeedCoreApplication.selectedTheme) {
                    SOCIAL_FEED, QNA_FEED -> {
                        LMFeedAnalytics.sendPostLikedEvent(
                            uuid = loggedInUUID,
                            postId = postId,
                            postLiked = postLiked
                        )
                    }

                    VIDEO_FEED -> {
                        LMFeedAnalytics.sendReelsLikedEvent(
                            loggedInUUID = loggedInUUID,
                            reelId = postId,
                            liked = postLiked
                        )
                    }
                }
            } else {
                errorMessageChannel.send(
                    ErrorMessageEvent.LikePost(
                        postId,
                        response.errorMessage
                    )
                )
            }
        }
    }

    //for save/unsave a post
    fun savePost(postViewData: LMFeedPostViewData) {
        viewModelScope.launchIO {
            val request = SavePostRequest.Builder()
                .postId(postViewData.id)
                .build()

            //call like post api
            val response = lmFeedClient.savePost(request)

            //check for error
            if (response.success) {
                //sends event for post saved/unsaved
                LMFeedAnalytics.sendPostSavedEvent(
                    uuid = postViewData.headerViewData.user.sdkClientInfoViewData.uuid,
                    postId = postViewData.id,
                    postSaved = postViewData.actionViewData.isSaved
                )

                _postSavedResponse.postValue(postViewData)
            } else {
                errorMessageChannel.send(
                    ErrorMessageEvent.SavePost(
                        postViewData.id,
                        response.errorMessage
                    )
                )
            }
        }
    }

    //for pin/unpin post
    fun pinPost(postViewData: LMFeedPostViewData) {
        viewModelScope.launchIO {
            val request = PinPostRequest.Builder()
                .postId(postViewData.id)
                .build()

            //call pin api
            val response = lmFeedClient.pinPost(request)

            if (response.success) {
                //sends event for pin/unpin post
                LMFeedAnalytics.sendPostPinnedEvent(postViewData, LMFeedScreenNames.UNIVERSAL_FEED)

                _postPinnedResponse.postValue(postViewData)
            } else {
                errorMessageChannel.send(
                    ErrorMessageEvent.PinPost(
                        postViewData.id,
                        response.errorMessage
                    )
                )
            }
        }
    }

    //for delete post
    fun deletePost(post: LMFeedPostViewData, reason: String? = null) {
        viewModelScope.launchIO {
            val request = DeletePostRequest.Builder()
                .postId(post.id)
                .deleteReason(reason)
                .build()

            //call delete post api
            val response = lmFeedClient.deletePost(request)

            if (response.success) {
                // sends post deleted event
                LMFeedAnalytics.sendPostDeletedEvent(post, reason)

                _deletePostResponse.postValue(post.id)
            } else {
                errorMessageChannel.send(
                    ErrorMessageEvent.DeletePost(
                        response.errorMessage
                    )
                )
            }
        }
    }

    //get unread notification count
    fun getUnreadNotificationCount() {
        viewModelScope.launchIO {
            //call unread notification count api
            val response = lmFeedClient.getUnreadNotificationCount()

            if (response.success) {
                val data = response.data ?: return@launchIO
                val count = data.count

                _unreadNotificationCount.postValue(count)
            } else {
                //for error
                errorMessageChannel.send(ErrorMessageEvent.GetUnreadNotificationCount(response.errorMessage))
            }
        }
    }

    //calls to topics api and check whether to show topics view or not
    fun getAllTopics(showEnabledTopicsOnly: Boolean) {
        viewModelScope.launchIO {
            val requestBuilder = GetTopicRequest.Builder()
                .page(1)
                .pageSize(10)

            if (showEnabledTopicsOnly) {
                requestBuilder.isEnabled(true)
            }

            val request = requestBuilder.build()

            val response = lmFeedClient.getTopics(request)

            if (response.success) {
                val topics = response.data?.topics
                if (topics.isNullOrEmpty()) {
                    _showTopicFilter.postValue(false)
                } else {
                    _showTopicFilter.postValue(true)
                }
            } else {
                _showTopicFilter.postValue(false)
                errorMessageChannel.send(
                    ErrorMessageEvent.GetTopic(
                        response.errorMessage
                    )
                )
            }
        }
    }

    //gets logged in user
    fun getLoggedInUser() {
        viewModelScope.launchIO {
            val response = lmFeedClient.getLoggedInUserWithRights()

            if (response.success) {
                val user = response.data?.user ?: return@launchIO

                val userViewData = LMFeedViewDataConvertor.convertUser(user)

                //post the user response in LiveData
                _userResponse.postValue(userViewData)
            }
        }
    }

    // calls post seen api and clear the post seen ids from local db
    fun postSeen() {
        viewModelScope.launchIO {
            val postSeenFromLocalDb = lmFeedClient.getAllSeenPosts().data?.seenPosts ?: emptyList()
            val postSeenFromMemory = LMFeedPostSeenUtil.getAllSeenPosts()

            val finalPostSeenIds = (postSeenFromLocalDb + postSeenFromMemory).map { it.postId }

            if (finalPostSeenIds.isEmpty()) return@launchIO

            val postSeenRequest = PostSeenRequest.Builder()
                .seenPostIds(finalPostSeenIds)
                .build()

            val response = lmFeedClient.postSeen(postSeenRequest)

            if (response.success) {
                //clear static memory
                LMFeedPostSeenUtil.clearSeenPost()
            } else {
                Log.e(LOG_TAG, "post seen api failed: ${response.errorMessage}")
            }
        }
    }

    //Get all seen post from static hash set and insert into the local db
    fun setPostSeenInLocalDb() {
        viewModelScope.launchIO {
            val postsSeenByUser = LMFeedPostSeenUtil.getAllSeenPosts()

            if (postsSeenByUser.isEmpty()) return@launchIO

            val insertSeenPostRequest = InsertSeenPostRequest.Builder()
                .seenPosts(postsSeenByUser)
                .build()

            lmFeedClient.insertSeenPosts(insertSeenPostRequest)

            LMFeedPostSeenUtil.clearSeenPost()
        }
    }

    //get ids from topic selected adapter
    fun getTopicIdsFromAdapterList(items: List<LMFeedBaseViewType>): List<String> {
        return items.map {
            (it as LMFeedTopicViewData).id
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/post/viewmodel/LMFeedPostViewModel.kt
================================================
package com.likeminds.feed.android.core.post.viewmodel

import android.annotation.SuppressLint
import android.content.Context
import androidx.lifecycle.*
import androidx.work.WorkContinuation
import androidx.work.WorkManager
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.poll.util.LMFeedPollUtil
import com.likeminds.feed.android.core.post.create.util.LMFeedPostAttachmentUploadWorker
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.utils.LMFeedCommunityUtil
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.pluralizeOrCapitalize
import com.likeminds.feed.android.core.utils.LMFeedViewDataConvertor
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics.LMFeedKeys
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics.LMFeedScreenNames
import com.likeminds.feed.android.core.utils.coroutine.launchIO
import com.likeminds.feed.android.core.utils.pluralize.model.LMFeedWordAction
import com.likeminds.feed.android.core.utils.user.LMFeedMemberRightsUtil
import com.likeminds.likemindsfeed.LMFeedClient
import com.likeminds.likemindsfeed.feed.model.GetFeedRequest
import com.likeminds.likemindsfeed.feed.model.GetPersonalisedFeedRequest
import com.likeminds.likemindsfeed.poll.model.AddPollOptionRequest
import com.likeminds.likemindsfeed.poll.model.SubmitVoteRequest
import com.likeminds.likemindsfeed.post.model.*
import kotlinx.coroutines.channels.Channel
import kotlinx.coroutines.flow.receiveAsFlow

class LMFeedPostViewModel : ViewModel() {

    private val lmFeedClient: LMFeedClient by lazy {
        LMFeedClient.getInstance()
    }

    private val _universalFeedResponse by lazy {
        MutableLiveData<Pair<Int, List<LMFeedPostViewData>>>()
    }

    val universalFeedResponse: LiveData<Pair<Int, List<LMFeedPostViewData>>> by lazy {
        _universalFeedResponse
    }

    private val _personalisedFeedResponse by lazy {
        MutableLiveData<Pair<Int, List<LMFeedPostViewData>>>()
    }

    val personalisedFeedResponse: LiveData<Pair<Int, List<LMFeedPostViewData>>> by lazy {
        _personalisedFeedResponse
    }

    private val _hasCreatePostRights by lazy {
        MutableLiveData(true)
    }

    val hasCreatePostRights: LiveData<Boolean> by lazy {
        _hasCreatePostRights
    }

    private val _postResponse by lazy {
        MutableLiveData<LMFeedPostViewData>()
    }

    val postResponse: LiveData<LMFeedPostViewData> by lazy {
        _postResponse
    }

    private val errorMessageChannel by lazy {
        Channel<ErrorMessageEvent>(Channel.BUFFERED)
    }

    val errorMessageEventFlow by lazy {
        errorMessageChannel.receiveAsFlow()
    }

    sealed class ErrorMessageEvent {
        data class UniversalFeed(val errorMessage: String?) : ErrorMessageEvent()

        data class AddPost(val errorMessage: String?) : ErrorMessageEvent()

        data class SubmitVote(val errorMessage: String?) : ErrorMessageEvent()

        data class AddPollOption(val errorMessage: String?) : ErrorMessageEvent()

        data class GetPost(val errorMessage: String?) : ErrorMessageEvent()

        data class PersonalisedFeed(val errorMessage: String?) : ErrorMessageEvent()

        data class PostDeletedInFeed(val errorMessage: String?) : ErrorMessageEvent()
    }

    sealed class PostDataEvent {
        data class PostDbData(val post: LMFeedPostViewData) : PostDataEvent()

        data class PostResponseData(val post: LMFeedPostViewData) : PostDataEvent()
    }

    private val postDataEventChannel by lazy { Channel<PostDataEvent>(Channel.BUFFERED) }
    val postDataEventFlow by lazy { postDataEventChannel.receiveAsFlow() }

    companion object {
        const val PAGE_SIZE = 20
        const val GET_POST_PAGE_SIZE = 5
    }

    // fetches pending post data from db
    fun fetchPendingPostFromDB() {
        viewModelScope.launchIO {
            val currentUploadingPost = lmFeedClient.getCurrentUploadingPost()
            val data = currentUploadingPost.data ?: return@launchIO
            val post = data.post
            val topics = data.topics

            val postViewData = LMFeedViewDataConvertor.convertPost(
                post,
                topics
            )

            postDataEventChannel.send(PostDataEvent.PostDbData(postViewData))
        }
    }

    // calls AddPost API and posts the response in LiveData
    fun addPost(postingData: LMFeedPostViewData) {
        viewModelScope.launchIO {
            val text = postingData.contentViewData.text
            val updatedText =
                if (text.isNullOrEmpty()) {
                    null
                } else {
                    text
                }

            val topicIds = postingData.topicsViewData.map { it.id }

            val attachments = LMFeedViewDataConvertor.createAttachments(
                postingData.mediaViewData.attachments
            )

            val request = AddPostRequest.Builder()
                .text(updatedText)
                .attachments(attachments)
                .tempId(postingData.mediaViewData.temporaryId.toString())
                .topicIds(topicIds)
                .heading(postingData.contentViewData.heading)
                .build()

            val response = lmFeedClient.addPost(request)
            if (response.success) {
                val data = response.data ?: return@launchIO
                val usersMap = data.users
                val topicsMap = data.topics
                val widgetsMap = data.widgets

                val postViewData = LMFeedViewDataConvertor.convertPost(
                    data.post,
                    usersMap,
                    topicsMap,
                    widgetsMap
                )

                // sends post creation completed event
                sendPostCreationCompletedEvent(postViewData)

                postDataEventChannel.send(PostDataEvent.PostResponseData(postViewData))
            } else {
                val errorMessage = response.errorMessage

                // sends post creation failed event
                sendPostCreationFailedEvent(postingData, errorMessage)

                errorMessageChannel.send(ErrorMessageEvent.AddPost(errorMessage))
            }
        }
    }

    fun getUniversalFeed(
        page: Int,
        topicsIds: List<String>? = null,
        startFeedWithPostIds: List<String>? = null
    ) {
        viewModelScope.launchIO {
            val request = GetFeedRequest.Builder()
                .page(page)
                .pageSize(PAGE_SIZE)
                .topicIds(topicsIds)
                .startFeedWithPostIds(startFeedWithPostIds)
                .build()

            //call get feed api
            val response = lmFeedClient.getFeed(request)

            if (response.success) {
                val data = response.data ?: return@launchIO
                val posts = data.posts
                val usersMap = data.users
                val topicsMap = data.topics
                val widgetsMap = data.widgets
                val filteredCommentsMap = data.filteredComments

                if (page == 1 && !startFeedWithPostIds.isNullOrEmpty()) {
                    for (i in startFeedWithPostIds.indices) {
                        if (posts[i].id != startFeedWithPostIds[i]) {
                            //for error i.e. Post is deleted
                            val errorMessage =
                                "${
                                    LMFeedCommunityUtil.getPostVariable()
                                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                                } is deleted or not available."

                            errorMessageChannel.send(ErrorMessageEvent.PostDeletedInFeed(errorMessage))
                            break
                        }
                    }
                }

                //convert to view data
                val listOfPostViewData =
                    LMFeedViewDataConvertor.convertGetFeedPosts(
                        posts,
                        usersMap,
                        topicsMap,
                        widgetsMap,
                        filteredCommentsMap
                    )

                //send it to ui
                _universalFeedResponse.postValue(Pair(page, listOfPostViewData))
            } else {
                //for error
                errorMessageChannel.send(ErrorMessageEvent.UniversalFeed(response.errorMessage))
            }
        }
    }

    //call member state api
    fun getCreatePostRights() {
        viewModelScope.launchIO {
            //get member state response
            // fetches user with rights from DB with user.id
            val response = lmFeedClient.getLoggedInUserWithRights()

            val loggedInUserData = response.data ?: return@launchIO

            val memberState = loggedInUserData.user.state
            val memberRights = loggedInUserData.rights

            _hasCreatePostRights.postValue(
                LMFeedMemberRightsUtil.hasCreatePostsRight(
                    memberState,
                    memberRights
                )
            )
        }
    }

    // starts a media upload worker to retry failed uploads
    fun createRetryPostMediaWorker(
        context: Context,
        postId: Long?,
        attachmentCount: Int,
    ) {
        viewModelScope.launchIO {
            if (postId == null || attachmentCount <= 0) {
                return@launchIO
            }
            val uploadData = startMediaUploadWorker(context, postId, attachmentCount)
            val request = UpdatePostWorkerUUIDRequest.Builder()
                .temporaryId(postId.toString())
                .workerUUID(uploadData.second)
                .build()
            lmFeedClient.updatePostWorkerUUID(request)
            uploadData.first.enqueue()
            fetchPendingPostFromDB()
        }
    }

    // creates PostAttachmentUploadWorker to start media upload
    @SuppressLint("EnqueueWork")
    private fun startMediaUploadWorker(
        context: Context,
        postId: Long,
        filesCount: Int
    ): Pair<WorkContinuation, String> {
        val oneTimeWorkRequest = LMFeedPostAttachmentUploadWorker.getInstance(postId, filesCount)
        val workContinuation = WorkManager.getInstance(context).beginWith(oneTimeWorkRequest)
        return Pair(workContinuation, oneTimeWorkRequest.id.toString())
    }

    //calls api to submit vote on poll
    fun submitPollVote(
        context: Context,
        postId: String,
        pollId: String,
        optionIds: List<String>
    ) {
        viewModelScope.launchIO {
            if (optionIds.isEmpty()) {
                errorMessageChannel.send(
                    ErrorMessageEvent.SubmitVote(
                        context.getString(
                            R.string.lm_feed_please_select_options_before_submitting_vote
                        )
                    )
                )
            }

            val request = SubmitVoteRequest.Builder()
                .pollId(pollId)
                .votes(optionIds)
                .build()

            val response = lmFeedClient.submitVote(request)

            if (response.success) {
                getPost(postId)
            } else {
                errorMessageChannel.send(ErrorMessageEvent.SubmitVote(response.errorMessage))
            }
        }
    }

    // to getPost
    private fun getPost(postId: String) {
        viewModelScope.launchIO {
            // builds api request
            val request = GetPostRequest.Builder()
                .postId(postId)
                .page(1)
                .pageSize(GET_POST_PAGE_SIZE)
                .build()

            // calls api
            val response = lmFeedClient.getPost(request)

            if (response.success) {
                val data = response.data ?: return@launchIO
                val post = data.post
                val users = data.users
                val topics = data.topics
                val widgets = data.widgets

                _postResponse.postValue(
                    LMFeedViewDataConvertor.convertPost(
                        post,
                        users,
                        topics,
                        widgets
                    )
                )
            } else {
                errorMessageChannel.send(ErrorMessageEvent.GetPost(response.errorMessage))
            }
        }
    }

    //calls api to add option on the poll
    fun addPollOption(
        post: LMFeedPostViewData,
        addedOptionText: String
    ) {
        viewModelScope.launchIO {
            val pollAttachment = post.mediaViewData.attachments.firstOrNull() ?: return@launchIO
            val poll = pollAttachment.attachmentMeta.poll ?: return@launchIO

            val isDuplicationOption =
                LMFeedPollUtil.isDuplicationOption(poll, addedOptionText)

            if (isDuplicationOption) {
                errorMessageChannel.send(
                    ErrorMessageEvent.AddPollOption(
                        "Poll options cannot contain similar text"
                    )
                )
                return@launchIO
            }

            val request = AddPollOptionRequest.Builder()
                .pollId(poll.id)
                .text(addedOptionText)
                .build()

            val response = lmFeedClient.addPollOption(request)

            if (response.success) {
                getPost(post.id)
            } else {
                errorMessageChannel.send(ErrorMessageEvent.AddPollOption(response.errorMessage))
            }
        }
    }

    // get personalised feed
    fun getPersonalisedFeed(
        page: Int,
        shouldReorder: Boolean? = null,
        shouldRecompute: Boolean? = null,
        startFeedWithPostIds: List<String>? = null
    ) {
        viewModelScope.launchIO {

            // build api request
            val request = GetPersonalisedFeedRequest.Builder()
                .page(page)
                .pageSize(PAGE_SIZE)
                .shouldReorder(shouldReorder)
                .shouldRecompute(shouldRecompute)
                .startFeedWithPostIds(startFeedWithPostIds)
                .build()

            //call api
            val response = lmFeedClient.getPersonalisedFeed(request)

            //process the response
            if (response.success) {
                //get all entities
                val data = response.data ?: return@launchIO
                val posts = data.posts
                val usersMap = data.users
                val topicsMap = data.topics
                val widgetsMap = data.widgets
                val filteredCommentsMap = data.filteredComments

                if (page == 1 && !startFeedWithPostIds.isNullOrEmpty()) {
                    for (i in startFeedWithPostIds.indices) {
                        if (posts[i].id != startFeedWithPostIds[i]) {
                            //for error i.e. Post is deleted
                            val errorMessage =
                                "${
                                    LMFeedCommunityUtil.getPostVariable()
                                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                                } is deleted or not available."

                            errorMessageChannel.send(ErrorMessageEvent.PostDeletedInFeed(errorMessage))
                            break
                        }
                    }
                }

                //convert to view data
                val listOfPostViewData =
                    LMFeedViewDataConvertor.convertGetFeedPosts(
                        posts,
                        usersMap,
                        topicsMap,
                        widgetsMap,
                        filteredCommentsMap
                    )

                //send to fragment
                _personalisedFeedResponse.postValue(Pair(page, listOfPostViewData))
            } else {
                //send error message
                errorMessageChannel.send(ErrorMessageEvent.PersonalisedFeed(response.errorMessage))
            }
        }
    }

    /**
     * Triggers when the user opens post is created successfully
     **/
    private fun sendPostCreationCompletedEvent(
        post: LMFeedPostViewData
    ) {
        LMFeedAnalytics.track(
            LMFeedAnalytics.LMFeedEvents.POST_CREATION_COMPLETED,
            LMFeedAnalytics.getPostMetaAnalytics(post)
        )
    }

    /**
     * Triggers when the user opens post is created successfully
     **/
    private fun sendPostCreationFailedEvent(
        post: LMFeedPostViewData,
        errorMessage: String?
    ) {
        val map = LMFeedAnalytics.getPostMetaAnalytics(post)

        map["error_message"] = errorMessage ?: "Something went wrong"
        map[LMFeedKeys.SCREEN_NAME] = LMFeedScreenNames.UNIVERSAL_FEED

        LMFeedAnalytics.track(
            LMFeedAnalytics.LMFeedEvents.POST_CREATION_ERROR,
            map
        )
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/postmenu/adapter/LMFeedPostMenuAdapter.kt
================================================
package com.likeminds.feed.android.core.postmenu.adapter

import com.likeminds.feed.android.core.postmenu.model.LMFeedPostMenuItemViewData
import com.likeminds.feed.android.core.postmenu.view.LMFeedPostMenuItemViewDataBinder
import com.likeminds.feed.android.core.utils.base.*

class LMFeedPostMenuAdapter(
    private val listener: LMFeedPostMenuAdapterListener
) : LMFeedBaseRecyclerAdapter<LMFeedBaseViewType>() {

    init {
        initViewDataBinders()
    }

    override fun getSupportedViewDataBinder(): MutableList<LMFeedViewDataBinder<*, *>> {
        val viewDataBinders = ArrayList<LMFeedViewDataBinder<*, *>>(1)

        val itemPostMenuViewDataBinder = LMFeedPostMenuItemViewDataBinder(listener)
        viewDataBinders.add(itemPostMenuViewDataBinder)

        return viewDataBinders
    }
}

interface LMFeedPostMenuAdapterListener {
    fun onPostMenuItemClicked(position: Int, menuItem: LMFeedPostMenuItemViewData) {
        //triggered when the user clicks on the post menu item
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/postmenu/model/LMFeedPostMenuExtras.kt
================================================
package com.likeminds.feed.android.core.postmenu.model

import android.os.Parcelable
import kotlinx.parcelize.Parcelize

@Parcelize
class LMFeedPostMenuExtras private constructor(
    val postId: String,
    val menuItems: List<LMFeedPostMenuItemViewData>
) : Parcelable {

    class Builder {
        private var postId: String = ""
        private var menuItems: List<LMFeedPostMenuItemViewData> = emptyList()

        fun postId(postId: String) = apply {
            this.postId = postId
        }

        fun menuItems(menuItems: List<LMFeedPostMenuItemViewData>) = apply {
            this.menuItems = menuItems
        }

        fun build() = LMFeedPostMenuExtras(postId, menuItems)
    }

    fun toBuilder(): Builder {
        return Builder().postId(postId)
            .menuItems(menuItems)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/postmenu/model/LMFeedPostMenuItemId.kt
================================================
package com.likeminds.feed.android.core.postmenu.model

import androidx.annotation.IntDef

const val DELETE_POST_MENU_ITEM_ID = 1
const val PIN_POST_MENU_ITEM_ID = 2
const val UNPIN_POST_MENU_ITEM_ID = 3
const val REPORT_POST_MENU_ITEM_ID = 4
const val EDIT_POST_MENU_ITEM_ID = 5
const val DELETE_COMMENT_MENU_ITEM_ID = 6
const val REPORT_COMMENT_MENU_ITEM_ID = 7
const val EDIT_COMMENT_MENU_ITEM_ID = 8

@IntDef(
    DELETE_POST_MENU_ITEM_ID,
    PIN_POST_MENU_ITEM_ID,
    UNPIN_POST_MENU_ITEM_ID,
    REPORT_POST_MENU_ITEM_ID,
    EDIT_POST_MENU_ITEM_ID,
    DELETE_COMMENT_MENU_ITEM_ID,
    REPORT_COMMENT_MENU_ITEM_ID,
    EDIT_COMMENT_MENU_ITEM_ID
)
@Retention(AnnotationRetention.SOURCE)
annotation class LMFeedPostMenuItemId


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/postmenu/model/LMFeedPostMenuItemViewData.kt
================================================
package com.likeminds.feed.android.core.postmenu.model

import android.os.Parcelable
import androidx.annotation.DrawableRes
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.base.model.ITEM_POST_MENU_ITEM
import kotlinx.parcelize.Parcelize

@Parcelize
class LMFeedPostMenuItemViewData private constructor(
    @LMFeedPostMenuItemId
    val id: Int,
    val title: String,
    @DrawableRes val icon: Int?
) : LMFeedBaseViewType, Parcelable {

    override val viewType: Int
        get() = ITEM_POST_MENU_ITEM

    class Builder {
        @LMFeedPostMenuItemId
        private var id: Int = DELETE_POST_MENU_ITEM_ID
        private var title: String = ""

        @DrawableRes
        private var icon: Int? = null

        fun id(@LMFeedPostMenuItemId id: Int) = apply { this.id = id }
        fun title(title: String) = apply { this.title = title }
        fun icon(icon: Int?) = apply { this.icon = icon }

        fun build() = LMFeedPostMenuItemViewData(
            id,
            title,
            icon
        )
    }

    fun toBuilder(): Builder {
        return Builder().id(id)
            .title(title)
            .icon(icon)
    }

    override fun toString(): String {
        return buildString {
            append("LMOverflowMenuItemViewData(id=")
            append(id)
            append(", title='")
            append(title)
            append("', icon=")
            append(icon)
            append(")")
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/postmenu/style/LMFeedPostMenuViewStyle.kt
================================================
package com.likeminds.feed.android.core.postmenu.style

import androidx.annotation.ColorRes
import com.likeminds.feed.android.core.ui.widgets.labeliconcontainer.style.LMFeedLabelIconContainerViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

class LMFeedPostMenuViewStyle private constructor(
    //post menu item style
    val postMenuItemStyle: LMFeedLabelIconContainerViewStyle,
    //post menu background color
    @ColorRes val backgroundColor: Int?
) : LMFeedViewStyle {

    class Builder {
        private var postMenuItemStyle: LMFeedLabelIconContainerViewStyle =
            LMFeedLabelIconContainerViewStyle.Builder()
                .build()

        private var backgroundColor: Int? = null

        fun postMenuItemStyle(postMenuItemStyle: LMFeedLabelIconContainerViewStyle) = apply {
            this.postMenuItemStyle = postMenuItemStyle
        }

        fun backgroundColor(backgroundColor: Int?) = apply {
            this.backgroundColor = backgroundColor
        }

        fun build() = LMFeedPostMenuViewStyle(postMenuItemStyle, backgroundColor)
    }

    fun toBuilder(): Builder {
        return Builder().postMenuItemStyle(postMenuItemStyle)
            .backgroundColor(backgroundColor)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/postmenu/view/LMFeedPostMenuBottomSheetFragment.kt
================================================
package com.likeminds.feed.android.core.postmenu.view

import android.graphics.Color
import android.os.Bundle
import android.view.*
import androidx.fragment.app.FragmentManager
import com.google.android.material.bottomsheet.BottomSheetDialogFragment
import com.likeminds.feed.android.core.databinding.LmFeedPostMenuBottomSheetFragmentBinding
import com.likeminds.feed.android.core.postmenu.adapter.LMFeedPostMenuAdapterListener
import com.likeminds.feed.android.core.postmenu.model.LMFeedPostMenuExtras
import com.likeminds.feed.android.core.postmenu.model.LMFeedPostMenuItemViewData
import com.likeminds.feed.android.core.utils.LMFeedExtrasUtil
import com.likeminds.feed.android.core.utils.emptyExtrasException

open class LMFeedPostMenuBottomSheetFragment :
    BottomSheetDialogFragment(),
    LMFeedPostMenuAdapterListener {

    private lateinit var postMenuExtras: LMFeedPostMenuExtras

    private var postMenuListener: LMFeedPostMenuBottomSheetListener? = null

    private lateinit var binding: LmFeedPostMenuBottomSheetFragmentBinding

    companion object {
        private const val TAG = "LMFeedPostMenuBottomSheetFragment"
        private const val LM_FEED_POST_MENU_EXTRAS = "LM_FEED_POST_MENU_EXTRAS"

        @JvmStatic
        fun newInstance(
            fragmentManager: FragmentManager,
            postMenuExtras: LMFeedPostMenuExtras
        ) {
            LMFeedPostMenuBottomSheetFragment().apply {
                arguments = Bundle().apply {
                    putParcelable(LM_FEED_POST_MENU_EXTRAS, postMenuExtras)
                }
            }.show(fragmentManager, TAG)
        }
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        receiveExtras()
    }

    private fun receiveExtras() {
        arguments?.let {
            postMenuExtras = LMFeedExtrasUtil.getParcelable(
                it,
                LM_FEED_POST_MENU_EXTRAS,
                LMFeedPostMenuExtras::class.java
            ) ?: throw emptyExtrasException(TAG)
        }
    }

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View {
        binding = LmFeedPostMenuBottomSheetFragmentBinding.inflate(layoutInflater)

        return binding.root
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        initUI()
        initMenuList()
    }

    private fun initUI() {
        try {
            postMenuListener = parentFragment as LMFeedPostMenuBottomSheetListener?
        } catch (e: Exception) {
            throw ClassCastException("Calling fragment must implement LMFeedPostMenuBottomSheetListener interface")
        }

        (binding.root.parent as View).setBackgroundColor(Color.TRANSPARENT)
    }

    //initializes the menu list
    private fun initMenuList() {
        binding.rvMenu.apply {
            setAdapter(this@LMFeedPostMenuBottomSheetFragment)
            replaceMenuItems(postMenuExtras.menuItems)
        }
    }

    //callback when user clicks on one of the menu item
    override fun onPostMenuItemClicked(position: Int, menuItem: LMFeedPostMenuItemViewData) {
        super.onPostMenuItemClicked(position, menuItem)

        postMenuListener?.onPostMenuItemClicked(postMenuExtras.postId, menuItem)
        dismiss()
    }
}

interface LMFeedPostMenuBottomSheetListener {
    //callback when user clicks on the post menu item
    fun onPostMenuItemClicked(
        postId: String,
        menuItem: LMFeedPostMenuItemViewData
    )
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/postmenu/view/LMFeedPostMenuItemViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.postmenu.view

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.feed.android.core.databinding.LmFeedItemPostMenuBinding
import com.likeminds.feed.android.core.postmenu.adapter.LMFeedPostMenuAdapterListener
import com.likeminds.feed.android.core.postmenu.model.LMFeedPostMenuItemViewData
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_POST_MENU_ITEM

class LMFeedPostMenuItemViewDataBinder(
    private val listener: LMFeedPostMenuAdapterListener
) : LMFeedViewDataBinder<LmFeedItemPostMenuBinding, LMFeedPostMenuItemViewData>() {

    override val viewType: Int
        get() = ITEM_POST_MENU_ITEM

    override fun createBinder(parent: ViewGroup): LmFeedItemPostMenuBinding {
        val binding = LmFeedItemPostMenuBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.menuContainer.setStyle(LMFeedStyleTransformer.postMenuViewStyle.postMenuItemStyle)

        setClickListeners(binding)

        return binding
    }

    override fun bindData(
        binding: LmFeedItemPostMenuBinding,
        data: LMFeedPostMenuItemViewData,
        position: Int
    ) {
        binding.apply {
            this.position = position
            menuItemViewData = data

            data.icon?.let { menuContainer.setContainerIcon(it) }
            menuContainer.setContainerLabel(data.title)
        }
    }

    //sets click listeners to the post menu item view
    private fun setClickListeners(binding: LmFeedItemPostMenuBinding) {
        binding.apply {
            root.setOnClickListener {
                val menu = this.menuItemViewData ?: return@setOnClickListener
                listener.onPostMenuItemClicked(position, menu)
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/postmenu/view/LMFeedPostMenuListView.kt
================================================
package com.likeminds.feed.android.core.postmenu.view

import android.content.Context
import android.util.AttributeSet
import androidx.recyclerview.widget.*
import com.likeminds.feed.android.core.postmenu.adapter.LMFeedPostMenuAdapter
import com.likeminds.feed.android.core.postmenu.adapter.LMFeedPostMenuAdapterListener
import com.likeminds.feed.android.core.postmenu.model.LMFeedPostMenuItemViewData

class LMFeedPostMenuListView @JvmOverloads constructor(
    context: Context,
    attrs: AttributeSet? = null,
    defStyleAttr: Int = 0
) : RecyclerView(context, attrs, defStyleAttr) {

    val linearLayoutManager: LinearLayoutManager

    private lateinit var postMenuAdapter: LMFeedPostMenuAdapter

    init {
        setHasFixedSize(true)
        linearLayoutManager = LinearLayoutManager(context)
        layoutManager = linearLayoutManager

        if (itemAnimator is SimpleItemAnimator)
            (itemAnimator as SimpleItemAnimator).supportsChangeAnimations = false
    }

    //sets the adapter with the provided adapter listener
    fun setAdapter(listener: LMFeedPostMenuAdapterListener) {
        postMenuAdapter = LMFeedPostMenuAdapter(listener)
        adapter = postMenuAdapter
    }

    //replaces the whole list in adapter
    fun replaceMenuItems(menuItems: List<LMFeedPostMenuItemViewData>) {
        postMenuAdapter.replace(menuItems)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/pushnotification/LMFeedNotificationHandler.kt
================================================
package com.likeminds.feed.android.core.pushnotification

import android.app.*
import android.content.Context
import android.os.Build
import androidx.core.app.NotificationCompat
import androidx.core.app.NotificationManagerCompat
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.pushnotification.model.LMFeedNotificationActionData
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.utils.LMFeedRoute
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics
import org.json.JSONObject

class LMFeedNotificationHandler {

    private lateinit var mApplication: Application

    //icon of notification
    private var notificationIcon: Int = 0

    companion object {
        private var notificationHandler: LMFeedNotificationHandler? = null

        const val LM_FEED_GENERAL_CHANNEL_ID = "lm_feed_notification_general"
        const val LM_FEED_NOTIFICATION_TITLE = "title"
        const val LM_FEED_NOTIFICATION_SUB_TITLE = "sub_title"
        const val LM_FEED_NOTIFICATION_ROUTE = "route"
        const val LM_FEED_NOTIFICATION_CATEGORY = "category"
        const val LM_FEED_NOTIFICATION_SUBCATEGORY = "subcategory"

        private const val LM_FEED_NOTIFICATION_DATA = "notification_data"

        @JvmStatic
        fun getInstance(): LMFeedNotificationHandler {
            if (notificationHandler == null) {
                notificationHandler = LMFeedNotificationHandler()
            }
            return notificationHandler!!
        }
    }


    //create the instance of the handler and channel for notification
    fun create(application: Application) {
        mApplication = application

        notificationIcon = LMFeedAppearance.getNotificationIcon()
            ?: com.likeminds.customgallery.R.drawable.ic_notification

        createNotificationChannel()
    }

    //create notification channel
    private fun createNotificationChannel() {
        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {
            createGeneralNotificationChannel()
        }
    }

    private fun createGeneralNotificationChannel() {
        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {
            val name = mApplication.getString(R.string.lm_feed_general_channel_name)
            val descriptionText =
                mApplication.getString(R.string.lm_feed_general_channel_description)
            val importance = NotificationManager.IMPORTANCE_HIGH
            val channel = NotificationChannel(LM_FEED_GENERAL_CHANNEL_ID, name, importance).apply {
                description = descriptionText
            }
            // Register the channel with the system
            val notificationManager: NotificationManager =
                mApplication.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager
            notificationManager.createNotificationChannel(channel)
        }
    }

    //handle and show notification
    fun handleNotification(data: MutableMap<String, String>) {
        val title = data[LM_FEED_NOTIFICATION_TITLE] ?: return
        val subTitle = data[LM_FEED_NOTIFICATION_SUB_TITLE] ?: return
        val route = data[LM_FEED_NOTIFICATION_ROUTE] ?: return
        val category = data[LM_FEED_NOTIFICATION_CATEGORY]
        val subcategory = data[LM_FEED_NOTIFICATION_SUBCATEGORY]

        //validate data
        if (category.isNullOrEmpty() && subcategory.isNullOrEmpty()) {
            return
        }

        //create payload for analytics event
        val payloadJson = JSONObject().apply {
            put(LM_FEED_NOTIFICATION_TITLE, title)
            put(LM_FEED_NOTIFICATION_SUB_TITLE, subTitle)
            put(LM_FEED_NOTIFICATION_ROUTE, route)
        }

        LMFeedAnalytics.track(
            LMFeedAnalytics.LMFeedEvents.NOTIFICATION_RECEIVED, hashMapOf(
                Pair("payload", payloadJson.toString()),
                Pair(LM_FEED_NOTIFICATION_CATEGORY, category),
                Pair(LM_FEED_NOTIFICATION_SUBCATEGORY, subcategory)
            )
        )
        //show notifications
        sendNormalNotification(
            mApplication,
            title,
            subTitle,
            route,
            category,
            subcategory
        )
    }

    /**
     * create pending intent and show notifications accordingly
     * */
    private fun sendNormalNotification(
        context: Context,
        title: String,
        subTitle: String,
        route: String,
        category: String?,
        subcategory: String?,
    ) {
        // notificationId is a unique int for each notification that you must define
        val notificationId = route.hashCode()
        val resultPendingIntent: PendingIntent? =
            getRoutePendingIntent(
                context,
                notificationId,
                route,
                title,
                subTitle,
                category,
                subcategory
            )
        val notificationBuilder =
            NotificationCompat.Builder(mApplication, LM_FEED_GENERAL_CHANNEL_ID)
                .setContentTitle(title)
                .setContentText(subTitle)
                .setSmallIcon(notificationIcon)
                .setAutoCancel(true)
                .setStyle(NotificationCompat.BigTextStyle().bigText(subTitle))
                .setDefaults(NotificationCompat.DEFAULT_ALL)
        if (resultPendingIntent != null) {
            notificationBuilder.setContentIntent(resultPendingIntent)
        }
        with(NotificationManagerCompat.from(mApplication)) {
            notify(notificationId, notificationBuilder.build())
        }
    }

    //create pending intent as per route in notification
    private fun getRoutePendingIntent(
        context: Context,
        notificationId: Int,
        route: String,
        notificationTitle: String,
        notificationMessage: String,
        category: String?,
        subcategory: String?,
    ): PendingIntent? {
        //get intent for route
        val intent = LMFeedRoute.getRouteIntent(
            context,
            route,
            0,
            LMFeedAnalytics.LMFeedSource.NOTIFICATION
        )

        if (intent?.getBundleExtra("lm_feed_bundle") != null) {
            intent.getBundleExtra("lm_feed_bundle")!!.putParcelable(
                LM_FEED_NOTIFICATION_DATA,
                LMFeedNotificationActionData.Builder()
                    .groupRoute(route)
                    .childRoute(route)
                    .notificationTitle(notificationTitle)
                    .notificationMessage(notificationMessage)
                    .category(category)
                    .subcategory(subcategory)
                    .build()
            )
        } else {
            intent?.putExtra(
                LM_FEED_NOTIFICATION_DATA, LMFeedNotificationActionData.Builder()
                    .groupRoute(route)
                    .childRoute(route)
                    .notificationTitle(notificationTitle)
                    .notificationMessage(notificationMessage)
                    .category(category)
                    .subcategory(subcategory)
                    .build()
            )
        }

        var resultPendingIntent: PendingIntent? = null
        if (intent != null) {
            resultPendingIntent = PendingIntent.getActivity(
                context,
                notificationId,
                intent,
                PendingIntent.FLAG_MUTABLE or PendingIntent.FLAG_UPDATE_CURRENT
            )
        }
        return resultPendingIntent
    }
}



================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/pushnotification/model/LMFeedNotificationActionData.kt
================================================
package com.likeminds.feed.android.core.pushnotification.model

import android.os.Parcelable
import kotlinx.parcelize.Parcelize

@Parcelize
class LMFeedNotificationActionData private constructor(
    var chatroomId: Int?,
    var communityId: Int?,
    var groupRoute: String,
    var childRoute: String,
    var notificationTitle: String,
    var notificationMessage: String,
    var category: String?,
    var subcategory: String?
) : Parcelable {

    class Builder {
        private var chatroomId: Int? = null
        private var communityId: Int? = null
        private var groupRoute: String = ""
        private var childRoute: String = ""
        private var notificationTitle: String = ""
        private var notificationMessage: String = ""
        private var category: String? = null
        private var subcategory: String? = null

        fun chatroomId(chatroomId: Int?) = apply { this.chatroomId = chatroomId }
        fun communityId(communityId: Int?) = apply { this.communityId = communityId }
        fun groupRoute(groupRoute: String) = apply { this.groupRoute = groupRoute }
        fun childRoute(childRoute: String) = apply { this.childRoute = childRoute }
        fun notificationTitle(notificationTitle: String) =
            apply { this.notificationTitle = notificationTitle }

        fun notificationMessage(notificationMessage: String) =
            apply { this.notificationMessage = notificationMessage }

        fun category(category: String?) = apply { this.category = category }
        fun subcategory(subcategory: String?) = apply { this.subcategory = subcategory }

        fun build() = LMFeedNotificationActionData(
            chatroomId,
            communityId,
            groupRoute,
            childRoute,
            notificationTitle,
            notificationMessage,
            category,
            subcategory
        )
    }

    fun toBuilder(): Builder {
        return Builder().chatroomId(chatroomId)
            .communityId(communityId)
            .groupRoute(groupRoute)
            .childRoute(childRoute)
            .notificationMessage(notificationMessage)
            .notificationTitle(notificationTitle)
            .category(category)
            .subcategory(subcategory)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/qnafeed/style/LMFeedQnAFeedFragmentViewStyle.kt
================================================
package com.likeminds.feed.android.core.qnafeed.style

import android.text.TextUtils
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.socialfeed.style.LMFeedPostingViewStyle
import com.likeminds.feed.android.core.socialfeed.style.LMFeedTopicSelectorBarViewStyle
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.widgets.headerview.style.LMFeedHeaderViewStyle
import com.likeminds.feed.android.core.ui.widgets.noentitylayout.style.LMFeedNoEntityLayoutViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle
import com.likeminds.feed.android.core.utils.model.LMFeedPadding

/**
 * [LMFeedQnAFeedFragmentViewStyle] helps you to customize the qna feed fragment [LMFeedQnAFeedFragment]
 *
 * @property headerViewStyle : [LMFeedHeaderViewStyle] this will help you to customize the header view in the qna feed fragment
 * @property createNewPostButtonViewStyle : [LMFeedFABStyle] this will help you to customize the create new post fab in the qna feed fragment
 * @property noPostLayoutViewStyle: [LMFeedNoEntityLayoutViewStyle] this will help you to customize the no post layout in the qna feed fragment
 * @property postingViewStyle: [LMFeedPostingViewStyle] this will help you to customize the posting progress view in the qna feed fragment
 * @property topicSelectorBarStyle: [LMFeedTopicSelectorBarViewStyle] this will help you to customize the topic selector bar in the qna feed fragment
 * */
class LMFeedQnAFeedFragmentViewStyle private constructor(
    //header
    val headerViewStyle: LMFeedHeaderViewStyle,
    //create post button
    val createNewPostButtonViewStyle: LMFeedFABStyle,
    //no post layout
    val noPostLayoutViewStyle: LMFeedNoEntityLayoutViewStyle,
    //posting view
    val postingViewStyle: LMFeedPostingViewStyle,
    //topic selector bar view
    val topicSelectorBarStyle: LMFeedTopicSelectorBarViewStyle
) : LMFeedViewStyle {

    class Builder {
        private var headerViewStyle: LMFeedHeaderViewStyle = LMFeedHeaderViewStyle.Builder()
            .titleTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_black)
                    .textSize(R.dimen.lm_feed_header_view_title_text_size)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .maxLines(1)
                    .ellipsize(TextUtils.TruncateAt.END)
                    .build()
            )
            .backgroundColor(R.color.lm_feed_white)
            .userProfileStyle(
                LMFeedImageStyle.Builder()
                    .isCircle(true)
                    .showGreyScale(false)
                    .build()
            )
            .notificationIconStyle(
                LMFeedIconStyle.Builder()
                    .inActiveSrc(R.drawable.lm_feed_ic_notification_bell)
                    .iconTint(R.color.lm_feed_black)
                    .iconPadding(
                        LMFeedPadding(
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding
                        )
                    )
                    .build()
            )
            .notificationCountTextStyle(
                LMFeedTextStyle.Builder()
                    .textSize(R.dimen.lm_feed_notification_badge_text_size)
                    .textColor(R.color.lm_feed_white)
                    .build()
            )
            .searchIconStyle(
                LMFeedIconStyle.Builder()
                    .inActiveSrc(R.drawable.lm_feed_ic_search_icon)
                    .iconTint(R.color.lm_feed_black)
                    .iconPadding(
                        LMFeedPadding(
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding
                        )
                    )
                    .build()
            )
            .build()

        private var createNewPostButtonViewStyle = LMFeedFABStyle.Builder()
            .isExtended(false)
            .backgroundColor(LMFeedAppearance.getButtonColor())
            .icon(R.drawable.lm_feed_ic_new_post_plus)
            .iconTint(R.color.lm_feed_white)
            .iconSize(R.dimen.lm_feed_create_new_post_icon_size)
            .textStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_white)
                    .textAllCaps(true)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .build()
            )
            .build()

        private var noPostLayoutViewStyle: LMFeedNoEntityLayoutViewStyle =
            LMFeedNoEntityLayoutViewStyle.Builder()
                .backgroundColor(R.color.lm_feed_white)
                .actionStyle(createNewPostButtonViewStyle)
                .titleStyle(
                    LMFeedTextStyle.Builder()
                        .textSize(R.dimen.lm_feed_text_extra_large)
                        .textColor(R.color.lm_feed_black)
                        .fontResource(R.font.lm_feed_roboto_medium)
                        .textAllCaps(false)
                        .maxLines(1)
                        .build()
                )
                .imageStyle(
                    LMFeedImageStyle.Builder()
                        .isCircle(false)
                        .showGreyScale(false)
                        .imageSrc(R.drawable.lm_feed_ic_post)
                        .alpha(0.6f)
                        .build()
                )
                .subtitleStyle(
                    LMFeedTextStyle.Builder()
                        .textAllCaps(false)
                        .textColor(R.color.lm_feed_black)
                        .textSize(R.dimen.lm_feed_text_small)
                        .textAllCaps(false)
                        .build()
                )
                .build()

        private var postingViewStyle: LMFeedPostingViewStyle = LMFeedPostingViewStyle.Builder()
            .build()

        private var topicSelectorBarStyle: LMFeedTopicSelectorBarViewStyle =
            LMFeedTopicSelectorBarViewStyle.Builder()
                .backgroundColor(R.color.lm_feed_white)
                .build()

        fun createNewPostButtonViewStyle(createNewPostButtonViewStyle: LMFeedFABStyle) = apply {
            this.createNewPostButtonViewStyle = createNewPostButtonViewStyle
        }

        fun headerViewStyle(headerViewStyle: LMFeedHeaderViewStyle) = apply {
            this.headerViewStyle = headerViewStyle
        }

        fun noPostLayoutViewStyle(noPostLayoutViewStyle: LMFeedNoEntityLayoutViewStyle) = apply {
            this.noPostLayoutViewStyle = noPostLayoutViewStyle
        }

        fun postingViewStyle(postingViewStyle: LMFeedPostingViewStyle) = apply {
            this.postingViewStyle = postingViewStyle
        }

        fun topicSelectorBarStyle(topicSelectorBarStyle: LMFeedTopicSelectorBarViewStyle) =
            apply {
                this.topicSelectorBarStyle = topicSelectorBarStyle
            }

        fun build() =
            LMFeedQnAFeedFragmentViewStyle(
                headerViewStyle,
                createNewPostButtonViewStyle,
                noPostLayoutViewStyle,
                postingViewStyle,
                topicSelectorBarStyle
            )
    }

    fun toBuilder(): Builder {
        return Builder().headerViewStyle(headerViewStyle)
            .createNewPostButtonViewStyle(createNewPostButtonViewStyle)
            .noPostLayoutViewStyle(noPostLayoutViewStyle)
            .postingViewStyle(postingViewStyle)
            .topicSelectorBarStyle(topicSelectorBarStyle)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/qnafeed/view/LMFeedQnAFeedFragment.kt
================================================
package com.likeminds.feed.android.core.qnafeed.view

import android.Manifest
import android.app.Activity
import android.content.pm.PackageManager
import android.content.res.ColorStateList
import android.net.Uri
import android.os.Build
import android.os.Bundle
import android.text.TextUtils
import android.util.Log
import android.view.*
import androidx.activity.result.contract.ActivityResultContracts
import androidx.annotation.RequiresApi
import androidx.core.app.ActivityCompat
import androidx.core.app.NotificationManagerCompat
import androidx.core.content.ContextCompat
import androidx.core.view.isVisible
import androidx.fragment.app.viewModels
import androidx.swiperefreshlayout.widget.SwipeRefreshLayout
import androidx.work.WorkInfo
import androidx.work.WorkManager
import com.likeminds.feed.android.core.LMFeedCoreApplication
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.activityfeed.view.LMFeedActivityFeedActivity
import com.likeminds.feed.android.core.databinding.LmFeedFragmentQnaFeedBinding
import com.likeminds.feed.android.core.delete.model.DELETE_TYPE_POST
import com.likeminds.feed.android.core.delete.model.LMFeedDeleteExtras
import com.likeminds.feed.android.core.delete.view.*
import com.likeminds.feed.android.core.likes.model.LMFeedLikesScreenExtras
import com.likeminds.feed.android.core.likes.model.POST
import com.likeminds.feed.android.core.likes.view.LMFeedLikesActivity
import com.likeminds.feed.android.core.poll.result.model.*
import com.likeminds.feed.android.core.poll.result.view.LMFeedPollResultsActivity
import com.likeminds.feed.android.core.post.create.model.LMFeedCreatePostExtras
import com.likeminds.feed.android.core.post.create.view.LMFeedCreatePostActivity
import com.likeminds.feed.android.core.post.detail.model.LMFeedPostDetailExtras
import com.likeminds.feed.android.core.post.detail.view.LMFeedPostDetailActivity
import com.likeminds.feed.android.core.post.edit.model.LMFeedEditPostExtras
import com.likeminds.feed.android.core.post.edit.view.LMFeedEditPostActivity
import com.likeminds.feed.android.core.post.model.LMFeedAttachmentViewData
import com.likeminds.feed.android.core.post.util.LMFeedPostEvent
import com.likeminds.feed.android.core.post.util.LMFeedPostObserver
import com.likeminds.feed.android.core.post.viewmodel.LMFeedHelperViewModel
import com.likeminds.feed.android.core.post.viewmodel.LMFeedPostViewModel
import com.likeminds.feed.android.core.post.viewmodel.LMFeedPostViewModel.ErrorMessageEvent.*
import com.likeminds.feed.android.core.postmenu.model.*
import com.likeminds.feed.android.core.qnafeed.viewmodel.LMFeedQnAFeedViewModel
import com.likeminds.feed.android.core.report.model.LMFeedReportExtras
import com.likeminds.feed.android.core.report.model.REPORT_TYPE_POST
import com.likeminds.feed.android.core.report.view.LMFeedReportActivity
import com.likeminds.feed.android.core.report.view.LMFeedReportFragment.Companion.LM_FEED_REPORT_RESULT
import com.likeminds.feed.android.core.report.view.LMFeedReportSuccessDialogFragment
import com.likeminds.feed.android.core.search.model.LMFeedSearchExtras
import com.likeminds.feed.android.core.search.view.LMFeedSearchActivity
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedSelectedTopicAdapterListener
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.socialfeed.util.LMFeedPostBinderUtils
import com.likeminds.feed.android.core.socialfeed.view.LMFeedPostingView
import com.likeminds.feed.android.core.socialfeed.view.LMFeedTopicSelectorBarView
import com.likeminds.feed.android.core.topics.model.LMFeedTopicViewData
import com.likeminds.feed.android.core.topicselection.model.LMFeedTopicSelectionExtras
import com.likeminds.feed.android.core.topicselection.model.LMFeedTopicSelectionResultExtras
import com.likeminds.feed.android.core.topicselection.view.LMFeedTopicSelectionActivity
import com.likeminds.feed.android.core.topicselection.view.LMFeedTopicSelectionActivity.Companion.LM_FEED_TOPIC_SELECTION_RESULT_EXTRAS
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.base.views.LMFeedFAB
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.widgets.headerview.view.LMFeedHeaderView
import com.likeminds.feed.android.core.ui.widgets.labelimagecontainer.style.LMFeedLabelImageContainerViewStyle
import com.likeminds.feed.android.core.ui.widgets.noentitylayout.view.LMFeedNoEntityLayoutView
import com.likeminds.feed.android.core.ui.widgets.overflowmenu.view.LMFeedOverflowMenu
import com.likeminds.feed.android.core.ui.widgets.poll.model.LMFeedAddPollOptionExtras
import com.likeminds.feed.android.core.ui.widgets.poll.view.*
import com.likeminds.feed.android.core.ui.widgets.post.posttopresponse.style.LMFeedPostTopResponseViewStyle
import com.likeminds.feed.android.core.utils.*
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.pluralizeOrCapitalize
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics.LMFeedScreenNames
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.coroutine.observeInLifecycle
import com.likeminds.feed.android.core.utils.feed.*
import com.likeminds.feed.android.core.utils.feed.LMFeedType.PERSONALISED_FEED
import com.likeminds.feed.android.core.utils.feed.LMFeedType.UNIVERSAL_FEED
import com.likeminds.feed.android.core.utils.mediauploader.LMFeedMediaUploadWorker
import com.likeminds.feed.android.core.utils.model.LMFeedPadding
import com.likeminds.feed.android.core.utils.pluralize.model.LMFeedWordAction
import com.likeminds.feed.android.core.utils.user.*
import com.likeminds.likemindsfeed.post.model.PollMultiSelectState
import com.likeminds.likemindsfeed.search.model.SearchType
import kotlinx.coroutines.flow.onEach
import java.util.UUID

open class LMFeedQnAFeedFragment(
    private val feedType: LMFeedType
) : LMFeedBaseThemeFragment(),
    LMFeedPostObserver,
    LMFeedAdminDeleteDialogListener,
    LMFeedSelfDeleteDialogListener,
    LMFeedPostAdapterListener,
    LMFeedAddPollOptionBottomSheetListener,
    LMFeedSelectedTopicAdapterListener {

    private lateinit var binding: LmFeedFragmentQnaFeedBinding
    private lateinit var mSwipeRefreshLayout: SwipeRefreshLayout

    private val qnaFeedViewModel: LMFeedQnAFeedViewModel by viewModels()

    // variable to check if there is a post already uploading
    private var alreadyPosting: Boolean = false
    private val workersMap by lazy { ArrayList<UUID>() }

    private val postPublisher by lazy {
        LMFeedPostEvent.getPublisher()
    }

    private val notificationPermissionLauncher = registerForActivityResult(
        ActivityResultContracts.RequestPermission()
    ) {}

    companion object {

        @RequiresApi(Build.VERSION_CODES.TIRAMISU)
        private const val POST_NOTIFICATIONS = Manifest.permission.POST_NOTIFICATIONS

        @JvmStatic
        fun getInstance(feedType: LMFeedType = UNIVERSAL_FEED): LMFeedQnAFeedFragment {
            return LMFeedQnAFeedFragment(feedType)
        }
    }

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View {
        binding = LmFeedFragmentQnaFeedBinding.inflate(layoutInflater)
        binding.apply {
            rvQna.initAdapterAndSetListener(this@LMFeedQnAFeedFragment)

            customizeQnAFeedHeaderView(headerViewQna)
            customizeCreateNewPostButton(fabNewPost)
            customizeNoPostLayout(layoutNoPost)
            customizePostingLayout(layoutPosting)
            customizeTopicSelectorBar(topicSelectorBar)
            customizePostHeaderView()
            customizePostContentView()
            customizePostHeadingView()
            customizePostTopResponseView()
            customizePostActionView()
            customizePostAnswerPrompt()
        }
        return binding.root
    }

    //customizes the create new post fab
    protected open fun customizeCreateNewPostButton(fabNewPost: LMFeedFAB) {
        fabNewPost.apply {
            setStyle(LMFeedStyleTransformer.qnaFeedFragmentViewStyle.createNewPostButtonViewStyle)

            text = getString(
                R.string.lm_feed_ask_question_s,
                LMFeedCommunityUtil.getPostVariable()
                    .pluralizeOrCapitalize(LMFeedWordAction.ALL_CAPITAL_SINGULAR)
            )
        }
    }

    //customizes the header view
    protected open fun customizeQnAFeedHeaderView(headerViewQnA: LMFeedHeaderView) {
        headerViewQnA.apply {
            setStyle(LMFeedStyleTransformer.qnaFeedFragmentViewStyle.headerViewStyle)

            setTitleText(getString(R.string.lm_feed_feed))
        }
    }

    // customizes the post header view
    protected open fun customizePostHeaderView() {
        LMFeedStyleTransformer.postViewStyle = LMFeedStyleTransformer.postViewStyle.toBuilder()
            .postHeaderViewStyle(
                LMFeedStyleTransformer.postViewStyle.postHeaderViewStyle.toBuilder()
                    .menuIconStyle(
                        LMFeedIconStyle.Builder()
                            .inActiveSrc(R.drawable.lm_feed_ic_overflow_menu_vertical)
                            .iconPadding(
                                LMFeedPadding(
                                    R.dimen.lm_feed_icon_padding,
                                    R.dimen.lm_feed_icon_padding,
                                    R.dimen.lm_feed_icon_padding,
                                    R.dimen.lm_feed_icon_padding
                                )
                            )
                            .build()
                    )
                    .build()
            )
            .build()
    }

    // customizes the text content view in the post
    protected open fun customizePostContentView() {
        val postViewStyle = LMFeedStyleTransformer.postViewStyle
        val postContentTextStyle = postViewStyle.postContentTextStyle
        LMFeedStyleTransformer.postViewStyle = postViewStyle.toBuilder()
            .postContentTextStyle(
                postContentTextStyle.toBuilder()
                    .postTextViewStyle(
                        postContentTextStyle.textContentViewStyle.toBuilder()
                            .expandableCTAText("... Read More")
                            .build()
                    )
                    .build()
            )
            .build()
    }

    // customizes the heading view in the post
    protected open fun customizePostHeadingView() {
        val postViewStyle = LMFeedStyleTransformer.postViewStyle
        LMFeedStyleTransformer.postViewStyle = postViewStyle.toBuilder()
            .postContentTextStyle(
                postViewStyle.postContentTextStyle.toBuilder()
                    .headingContentViewStyle(
                        LMFeedTextStyle.Builder()
                            .textColor(R.color.lm_feed_dark_grey)
                            .textSize(R.dimen.lm_feed_text_large)
                            .maxLines(3)
                            .fontResource(R.font.lm_feed_roboto_medium)
                            .expandableCTAText("... Read More")
                            .expandableCTAColor(R.color.lm_feed_dark_grey_70)
                            .build()
                    )
                    .searchHighlightedHeadingViewStyle(
                        LMFeedTextStyle.Builder()
                            .textColor(R.color.lm_feed_dark_grey)
                            .backgroundColor(R.color.lm_feed_majorelle_blue_10)
                            .textSize(R.dimen.lm_feed_text_large)
                            .build()
                    )
                    .build()
            )
            .build()
    }

    // customizes the post top response view
    protected open fun customizePostTopResponseView() {
        LMFeedStyleTransformer.postViewStyle = LMFeedStyleTransformer.postViewStyle.toBuilder()
            .postTopResponseViewStyle(
                LMFeedPostTopResponseViewStyle.Builder()
                    .authorImageViewStyle(
                        LMFeedImageStyle.Builder()
                            .isCircle(true)
                            .showGreyScale(false)
                            .build()
                    )
                    .authorNameTextStyle(
                        LMFeedTextStyle.Builder()
                            .textColor(R.color.lm_feed_dark_grey)
                            .textSize(R.dimen.lm_feed_text_medium)
                            .maxLines(1)
                            .ellipsize(TextUtils.TruncateAt.END)
                            .fontResource(R.font.lm_feed_roboto_bold)
                            .build()
                    )
                    .timestampTextStyle(
                        LMFeedTextStyle.Builder()
                            .textColor(R.color.lm_feed_brown_grey)
                            .textSize(R.dimen.lm_feed_text_small)
                            .fontResource(R.font.lm_feed_roboto)
                            .build()
                    )
                    .contentTextStyle(
                        LMFeedTextStyle.Builder()
                            .textColor(R.color.lm_feed_grey)
                            .textSize(R.dimen.lm_feed_text_medium)
                            .maxLines(5)
                            .fontResource(R.font.lm_feed_roboto)
                            .expandableCTAText("...Read More")
                            .expandableCTAColor(R.color.lm_feed_dark_grey)
                            .build()
                    )
                    .backgroundColor(R.color.lm_feed_light_grayish_blue_50)
                    .build()
            )
            .build()
    }

    // customizes the post action view
    protected open fun customizePostActionView() {
        LMFeedStyleTransformer.postViewStyle = LMFeedStyleTransformer.postViewStyle.toBuilder()
            .postActionViewStyle(
                LMFeedStyleTransformer.postViewStyle.postActionViewStyle.toBuilder()
                    .likeIconStyle(
                        LMFeedIconStyle.Builder()
                            .activeSrc(R.drawable.lm_feed_ic_upvote_filled)
                            .inActiveSrc(R.drawable.lm_feed_ic_upvote_unfilled)
                            .build()
                    )
                    .build()
            )
            .build()
    }

    // customizes the post answer prompt view
    protected open fun customizePostAnswerPrompt() {
        LMFeedStyleTransformer.postViewStyle = LMFeedStyleTransformer.postViewStyle.toBuilder()
            .postAnswerPromptViewStyle(
                LMFeedLabelImageContainerViewStyle.Builder()
                    .build()
            )
            .build()
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        initUI()
        fetchData()
        initListeners()
        observeResponses()
        checkForNotificationPermission()
    }

    override fun onStart() {
        super.onStart()
        postPublisher.subscribe(this)
    }

    override fun onResume() {
        super.onResume()

        // sends feed opened event
        LMFeedAnalytics.sendFeedOpenedEvent()

        qnaFeedViewModel.postViewModel.fetchPendingPostFromDB()
        binding.rvQna.initiateVideoAutoPlayer()
    }

    override fun onHiddenChanged(hidden: Boolean) {
        super.onHiddenChanged(hidden)

        if (hidden) {
            // destroy the video player when fragment is not hidden
            binding.rvQna.destroyVideoAutoPlayer()
        } else {
            // initiate the video player when fragment is not hidden
            binding.rvQna.initiateVideoAutoPlayer()
        }
    }

    private fun initUI() {
        initQnAFeedRecyclerView()
        initSwipeRefreshLayout()
        when (feedType) {
            PERSONALISED_FEED -> {
                binding.topicSelectorBar.hide()
            }

            UNIVERSAL_FEED -> {
                initSelectedTopicRecyclerView()
            }
        }
    }

    override fun onPause() {
        super.onPause()
        binding.rvQna.destroyVideoAutoPlayer()
    }

    // initializes the recycler view of the qna feed
    private fun initQnAFeedRecyclerView() {
        LMFeedProgressBarHelper.showProgress(binding.progressBar)
        binding.rvQna.apply {
            setAdapter()

            val paginationScrollListener =
                object : LMFeedEndlessRecyclerViewScrollListener(linearLayoutManager) {
                    override fun onLoadMore(currentPage: Int) {
                        if (currentPage > 0) {
                            when (feedType) {
                                PERSONALISED_FEED -> {
                                    qnaFeedViewModel.postViewModel.getPersonalisedFeed(currentPage)
                                }

                                UNIVERSAL_FEED -> {
                                    qnaFeedViewModel.postViewModel.getUniversalFeed(
                                        currentPage,
                                        qnaFeedViewModel.helperViewModel.getTopicIdsFromAdapterList(
                                            binding.topicSelectorBar.getAllSelectedTopics()
                                        )
                                    )
                                }
                            }
                        }
                    }
                }
            setPaginationScrollListener(paginationScrollListener)

            val scrollStateListener =
                object : LMFeedRecyclerViewScrollStateListener(linearLayoutManager) {
                    override fun onItemVisibleMoreThan40Percent(position: Int) {
                        val postViewData = getPostFromAdapter(position)
                        postViewData?.let {
                            LMFeedPostSeenUtil.insertSeenPost(
                                postViewData,
                                System.currentTimeMillis()
                            )
                        }
                    }

                    override fun onScrollStateIdleReached() {
                        qnaFeedViewModel.helperViewModel.apply {
                            setPostSeenInLocalDb()
                            postSeen()
                        }
                    }
                }

            if (feedType == PERSONALISED_FEED) {
                setScrollStateListener(scrollStateListener)
            }
        }
    }

    // initializes the swipe to refresh layout
    private fun initSwipeRefreshLayout() {
        mSwipeRefreshLayout = binding.swipeRefreshLayout
        mSwipeRefreshLayout.apply {
            setColorSchemeColors(
                ContextCompat.getColor(
                    requireContext(),
                    LMFeedAppearance.getButtonColor()
                )
            )

            setOnRefreshListener {
                onFeedRefreshed()
            }
        }
    }

    //init selected topic recycler view
    private fun initSelectedTopicRecyclerView() {
        binding.topicSelectorBar.apply {
            qnaFeedViewModel.helperViewModel.getAllTopics(false)
            setSelectedTopicAdapter(this@LMFeedQnAFeedFragment)

            setClearSelectedTopicsClickListener {
                clearSelectedTopics()
            }
        }
    }

    //clear all selected topics and reset data
    private fun clearSelectedTopics() {
        binding.apply {
            //call api
            topicSelectorBar.clearSelectedTopicsAndNotify()
            rvQna.resetPaginationScrollListenerData()
            LMFeedProgressBarHelper.showProgress(progressBar, true)
            qnaFeedViewModel.postViewModel.getUniversalFeed(1, null)

            //show layout accordingly
            topicSelectorBar.setSelectedTopicFilterVisibility(false)
            topicSelectorBar.setAllTopicsTextVisibility(true)
        }
    }

    //check for notification permission
    private fun checkForNotificationPermission() {
        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.TIRAMISU) {
            if (!NotificationManagerCompat.from(requireContext()).areNotificationsEnabled()) {
                if (activity?.checkSelfPermission(POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {
                    notificationPermissionLauncher.launch(POST_NOTIFICATIONS)
                }
            }
        }
    }

    private fun fetchData() {
        qnaFeedViewModel.apply {
            helperViewModel.getLoggedInUser()
            postViewModel.getCreatePostRights()
            helperViewModel.getUnreadNotificationCount()
            when (feedType) {
                PERSONALISED_FEED -> {
                    postViewModel.getPersonalisedFeed(
                        page = 1,
                        shouldReorder = true,
                        shouldRecompute = true
                    )
                    helperViewModel.postSeen()
                }

                UNIVERSAL_FEED -> {
                    postViewModel.getUniversalFeed(1, null)
                }
            }
        }
    }

    private fun initListeners() {
        binding.apply {
            fabNewPost.setOnClickListener {
                onCreateNewPostClick(true)
            }

            headerViewQna.setNotificationIconClickListener {
                onNotificationIconClicked()
            }

            headerViewQna.setSearchIconClickListener {
                onSearchIconClicked()
            }

            layoutNoPost.setActionFABClickListener {
                onCreateNewPostClick(true)
            }

            topicSelectorBar.setAllTopicsClickListener {
                onAllTopicsClicked()
            }
        }
    }

    private fun observeResponses() {
        observePosting()

        qnaFeedViewModel.apply {

            //observes user response LiveData
            helperViewModel.userResponse.observe(viewLifecycleOwner) {
                binding.headerViewQna.apply {
                    setUserProfileClickListener {
                        onUserProfileClicked(it)
                    }
                    setUserProfileImage(it)
                }
            }

            // observes hasCreatePostRights LiveData
            postViewModel.hasCreatePostRights.observe(viewLifecycleOwner) {
                helperViewModel.getLoggedInUser()
                initNewPostClick(it)
            }

            // observes feedResponse LiveData
            postViewModel.universalFeedResponse.observe(viewLifecycleOwner) { response ->
                LMFeedProgressBarHelper.hideProgress(binding.progressBar)
                val page = response.first
                val posts = response.second

                if (mSwipeRefreshLayout.isRefreshing) {
                    checkPostsAndReplace(posts)
                    mSwipeRefreshLayout.isRefreshing = false
                    return@observe
                }

                if (page == 1) {
                    checkPostsAndReplace(posts)
                } else {
                    binding.rvQna.addPosts(posts)
                    binding.rvQna.refreshVideoAutoPlayer()
                }
            }

            postViewModel.personalisedFeedResponse.observe(viewLifecycleOwner) { response ->
                LMFeedProgressBarHelper.hideProgress(binding.progressBar)
                val page = response.first
                val posts = response.second

                if (mSwipeRefreshLayout.isRefreshing) {
                    checkPostsAndReplace(posts)
                    mSwipeRefreshLayout.isRefreshing = false
                    return@observe
                }

                if (page == 1) {
                    checkPostsAndReplace(posts)
                } else {
                    binding.rvQna.addPosts(posts)
                    binding.rvQna.refreshVideoAutoPlayer()
                }
            }

            // observes deletePostResponse LiveData
            helperViewModel.deletePostResponse.observe(viewLifecycleOwner) { postId ->
                binding.rvQna.apply {
                    val indexToRemove = getIndexAndPostFromAdapter(postId)?.first ?: return@observe
                    removePostAtIndex(indexToRemove)
                    checkForNoPost(allPosts())
                    refreshVideoAutoPlayer()
                    LMFeedViewUtils.showShortToast(
                        requireContext(),
                        getString(
                            R.string.lm_feed_s_deleted,
                            LMFeedCommunityUtil.getPostVariable()
                                .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                        )
                    )
                }
            }

            // observes showTopicFilter LiveData
            helperViewModel.showTopicFilter.observe(viewLifecycleOwner) { showTopicFilter ->
                binding.topicSelectorBar.apply {
                    isVisible = showTopicFilter
                    setAllTopicsTextVisibility(showTopicFilter)
                    setSelectedTopicFilterVisibility(false)
                }
            }

            // observes unreadNotificationCount LiveData
            helperViewModel.unreadNotificationCount.observe(viewLifecycleOwner) { unreadNotificationCount ->
                binding.headerViewQna.setNotificationCountText(unreadNotificationCount)
            }

            // observes postSavedResponse LiveData
            helperViewModel.postSavedResponse.observe(viewLifecycleOwner) { postViewData ->
                //create toast message
                val toastMessage = if (postViewData.actionViewData.isSaved) {
                    getString(
                        R.string.lm_feed_s_saved,
                        LMFeedCommunityUtil.getPostVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                    )
                } else {
                    getString(
                        R.string.lm_feed_s_unsaved,
                        LMFeedCommunityUtil.getPostVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                    )
                }
                LMFeedViewUtils.showShortToast(requireContext(), toastMessage)
            }

            // observes postPinnedResponse LiveData
            helperViewModel.postPinnedResponse.observe(viewLifecycleOwner) { postViewData ->
                //show toast message
                val toastMessage = if (postViewData.headerViewData.isPinned) {
                    getString(
                        R.string.lm_feed_s_pinned_to_top,
                        LMFeedCommunityUtil.getPostVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                    )
                } else {
                    getString(
                        R.string.lm_feed_s_unpinned,
                        LMFeedCommunityUtil.getPostVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                    )
                }
                LMFeedViewUtils.showShortToast(requireContext(), toastMessage)
            }

            //observers get post response
            postViewModel.postResponse.observe(viewLifecycleOwner) { postViewData ->
                binding.rvQna.apply {
                    val postAndIndex = getIndexAndPostFromAdapter(postViewData.id) ?: return@observe
                    val index = postAndIndex.first

                    //existing post in adapter
                    val existingPost = postAndIndex.second

                    //add the top response from the existingPost to the updatedPostViewData
                    val updatedPostViewData = postViewData.toBuilder()
                        .topResponses(existingPost.topResponses)
                        .build()

                    updatePostItem(index, updatedPostViewData)
                }
            }

            // observes errorMessageEventFlow
            postViewModel.errorMessageEventFlow.onEach { response ->
                when (response) {
                    is UniversalFeed -> {
                        val errorMessage = response.errorMessage
                        mSwipeRefreshLayout.isRefreshing = false
                        LMFeedProgressBarHelper.hideProgress(binding.progressBar)
                        LMFeedViewUtils.showErrorMessageToast(requireContext(), errorMessage)
                    }

                    is AddPost -> {
                        LMFeedViewUtils.showErrorMessageToast(
                            requireContext(),
                            response.errorMessage
                        )
                        removePostingView()
                    }

                    is SubmitVote -> {
                        LMFeedViewUtils.showErrorMessageToast(
                            requireContext(),
                            response.errorMessage
                        )
                    }

                    is AddPollOption -> {
                        LMFeedViewUtils.showErrorMessageToast(
                            requireContext(),
                            response.errorMessage
                        )
                    }

                    is GetPost -> {
                        LMFeedViewUtils.showErrorMessageToast(
                            requireContext(),
                            response.errorMessage
                        )
                    }

                    is PersonalisedFeed -> {
                        val errorMessage = response.errorMessage
                        mSwipeRefreshLayout.isRefreshing = false
                        LMFeedProgressBarHelper.hideProgress(binding.progressBar)
                        LMFeedViewUtils.showErrorMessageToast(requireContext(), errorMessage)
                    }
                }
            }.observeInLifecycle(viewLifecycleOwner)

            helperViewModel.errorMessageEventFlow.onEach { response ->
                when (response) {
                    is LMFeedHelperViewModel.ErrorMessageEvent.LikePost -> {
                        val postId = response.postId

                        //get post and index
                        val pair =
                            binding.rvQna.getIndexAndPostFromAdapter(postId) ?: return@onEach
                        val post = pair.second
                        val index = pair.first

                        val postActionData = post.actionViewData

                        val newLikesCount = if (postActionData.isLiked) {
                            postActionData.likesCount - 1
                        } else {
                            postActionData.likesCount + 1
                        }

                        val updatedIsLiked = !postActionData.isLiked

                        val updatedActionViewData = postActionData.toBuilder()
                            .isLiked(updatedIsLiked)
                            .likesCount(newLikesCount)
                            .build()

                        val updatedPostData = post.toBuilder()
                            .actionViewData(updatedActionViewData)
                            .fromPostLiked(true)
                            .build()

                        binding.rvQna.updatePostItem(index, updatedPostData)

                        //show error message
                        LMFeedViewUtils.showSomethingWentWrongToast(requireContext())
                    }

                    is LMFeedHelperViewModel.ErrorMessageEvent.DeletePost -> {
                        val errorMessage = response.errorMessage
                        LMFeedViewUtils.showErrorMessageToast(requireContext(), errorMessage)
                    }

                    is LMFeedHelperViewModel.ErrorMessageEvent.PinPost -> {
                        binding.rvQna.apply {
                            val postId = response.postId

                            //get post and index
                            val pair = getIndexAndPostFromAdapter(postId) ?: return@onEach
                            val post = pair.second
                            val index = pair.first

                            //update header view data
                            val updatedHeaderView = post.headerViewData.toBuilder()
                                .isPinned(!post.headerViewData.isPinned)
                                .build()

                            //update post view data
                            val updatedPostViewData = post.toBuilder()
                                .headerViewData(updatedHeaderView)
                                .build()

                            //update recycler view
                            updatePostItem(index, updatedPostViewData)

                            //show error message
                            LMFeedViewUtils.showSomethingWentWrongToast(requireContext())
                        }
                    }

                    is LMFeedHelperViewModel.ErrorMessageEvent.SavePost -> {
                        binding.rvQna.apply {
                            val postId = response.postId

                            //get post and index
                            val pair = getIndexAndPostFromAdapter(postId) ?: return@onEach
                            val post = pair.second
                            val index = pair.first

                            //update action view data
                            val updatedActionView = post.actionViewData.toBuilder()
                                .isSaved(!post.actionViewData.isSaved)
                                .build()

                            //update post view data
                            val updatedPostViewData = post.toBuilder()
                                .actionViewData(updatedActionView)
                                .fromPostSaved(true)
                                .build()

                            //update recycler view
                            updatePostItem(index, updatedPostViewData)

                            //show error message
                            LMFeedViewUtils.showSomethingWentWrongToast(requireContext())
                        }
                    }

                    is LMFeedHelperViewModel.ErrorMessageEvent.GetTopic -> {
                        LMFeedViewUtils.showSomethingWentWrongToast(requireContext())
                    }

                    is LMFeedHelperViewModel.ErrorMessageEvent.GetUnreadNotificationCount -> {
                        binding.headerViewQna.setNotificationIconVisibility(false)
                        LMFeedViewUtils.showErrorMessageToast(
                            requireContext(),
                            response.errorMessage
                        )
                    }
                }
            }.observeInLifecycle(viewLifecycleOwner)

        }
    }

    // observes post live data
    private fun observePosting() {
        qnaFeedViewModel.postViewModel.postDataEventFlow.onEach { response ->
            when (response) {
                // when the post data comes from local db
                is LMFeedPostViewModel.PostDataEvent.PostDbData -> {
                    val post = response.post
                    if (post.isPosted) {
                        removePostingView()
                        return@onEach
                    }
                    if (!alreadyPosting) {
                        alreadyPosting = true
                        binding.layoutPosting.apply {
                            show()
                            val postThumbnail =
                                post.mediaViewData.attachments.firstOrNull()?.attachmentMeta?.thumbnail

                            if (postThumbnail.isNullOrEmpty()) {
                                setAttachmentThumbnail(null)
                            } else {
                                setAttachmentThumbnail(Uri.parse(postThumbnail))
                            }
                            setProgress(0)
                            setProgressVisibility(true)

                            setPostSuccessfulVisibility(false)
                            setRetryVisibility(false)
                            observeMediaUpload(post)
                        }
                    }
                }

                // when the post data comes from api response
                is LMFeedPostViewModel.PostDataEvent.PostResponseData -> {
                    binding.apply {
                        LMFeedViewUtils.showShortToast(
                            requireContext(),
                            getString(
                                R.string.lm_feed_s_created,
                                LMFeedCommunityUtil.getPostVariable()
                                    .pluralizeOrCapitalize(
                                        LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR
                                    )
                            )
                        )
                        onFeedRefreshed()
                        removePostingView()
                    }
                }
            }
        }.observeInLifecycle(viewLifecycleOwner)
    }

    // removes the posting view and shows create post button
    private fun removePostingView() {
        binding.apply {
            alreadyPosting = false
            layoutPosting.hide()
        }
    }

    // finds the upload worker by UUID and observes the worker
    private fun observeMediaUpload(postingData: LMFeedPostViewData) {
        if (postingData.mediaViewData.workerUUID.isEmpty()) {
            return
        }
        val uuid = UUID.fromString(postingData.mediaViewData.workerUUID)
        if (!workersMap.contains(uuid)) {
            workersMap.add(uuid)
            WorkManager.getInstance(requireContext()).getWorkInfoByIdLiveData(uuid)
                .observe(viewLifecycleOwner) { workInfo ->
                    observeMediaWorker(workInfo, postingData)
                }
        }
    }

    // observes the media worker through various worker lifecycle
    private fun observeMediaWorker(
        workInfo: WorkInfo,
        postingData: LMFeedPostViewData
    ) {
        when (workInfo.state) {
            WorkInfo.State.SUCCEEDED -> {
                // uploading completed, call the add post api
                binding.layoutPosting.apply {
                    setProgressVisibility(false)
                    setRetryVisibility(false)
                    setPostSuccessfulVisibility(true)
                }
                qnaFeedViewModel.postViewModel.addPost(postingData)
            }

            WorkInfo.State.FAILED -> {
                // uploading failed, initiate retry mechanism
                val indexList = workInfo.outputData.getIntArray(
                    LMFeedMediaUploadWorker.ARG_MEDIA_INDEX_LIST
                ) ?: return
                initRetryAction(
                    postingData.mediaViewData.temporaryId,
                    indexList.size
                )
            }

            else -> {
                // uploading in progress, map the progress to progress bar
                val progress = LMFeedMediaUploadWorker.getProgress(workInfo) ?: return
                binding.layoutPosting.apply {
                    val percentage = (((1.0 * progress.first) / progress.second) * 100)
                    val progressValue = percentage.toInt()
                    setProgress(progressValue)
                }
            }
        }
    }

    // initializes retry mechanism for attachments uploading
    private fun initRetryAction(temporaryId: Long?, attachmentCount: Int) {
        binding.layoutPosting.apply {
            setPostSuccessfulVisibility(false)
            setProgressVisibility(false)
            setRetryVisibility(true)
            setRetryCTAClickListener {
                onRetryUploadClicked(temporaryId, attachmentCount)
            }
        }
    }

    //processes the retry upload click while creating post
    protected open fun onRetryUploadClicked(temporaryId: Long?, attachmentCount: Int) {
        qnaFeedViewModel.postViewModel.createRetryPostMediaWorker(
            requireContext(),
            temporaryId,
            attachmentCount
        )
    }

    private fun checkPostsAndReplace(posts: List<LMFeedPostViewData>) {
        binding.rvQna.apply {
            checkForNoPost(posts)
            replacePosts(posts)
            scrollToPosition(0)
            refreshVideoAutoPlayer()
        }
    }

    private fun checkForNoPost(feed: List<LMFeedBaseViewType>) {
        binding.apply {
            if (feed.isNotEmpty()) {
                layoutNoPost.hide()
                fabNewPost.show()
                rvQna.show()
            } else {
                binding.apply {
                    layoutNoPost.show()
                    fabNewPost.hide()
                    rvQna.hide()
                }
            }
        }
    }

    private fun initNewPostClick(hasCreatePostRights: Boolean) {
        binding.apply {

            if (hasCreatePostRights) {
                val fabButtonColor =
                    LMFeedStyleTransformer.qnaFeedFragmentViewStyle.createNewPostButtonViewStyle.backgroundColor

                //sets color of fab button as per user rights
                layoutNoPost.setActionFABColor(fabButtonColor)
                fabNewPost.backgroundTintList =
                    ColorStateList.valueOf(ContextCompat.getColor(requireContext(), fabButtonColor))
            } else {
                //sets color of fab button as per user rights
                layoutNoPost.setActionFABColor(R.color.lm_feed_grey)
                fabNewPost.backgroundTintList =
                    ColorStateList.valueOf(
                        ContextCompat.getColor(
                            requireContext(),
                            R.color.lm_feed_grey
                        )
                    )
            }

            layoutNoPost.setActionFABClickListener {
                onCreateNewPostClick(hasCreatePostRights)
            }

            fabNewPost.setOnClickListener {
                onCreateNewPostClick(hasCreatePostRights)
            }
        }
    }

    //processes the user profile clicked
    protected open fun onUserProfileClicked(userViewData: LMFeedUserViewData) {
        val coreCallback = LMFeedCoreApplication.getLMFeedCoreCallback()
        coreCallback?.openProfile(userViewData)
    }

    //processes the feed refreshed event
    protected open fun onFeedRefreshed() {
        binding.apply {
            mSwipeRefreshLayout.isRefreshing = true
            rvQna.resetPaginationScrollListenerData()
            qnaFeedViewModel.helperViewModel.getUnreadNotificationCount()

            when (feedType) {
                PERSONALISED_FEED -> {
                    rvQna.resetScrollStateListenerData()
                    qnaFeedViewModel.postViewModel.getPersonalisedFeed(
                        page = 1,
                        shouldReorder = true,
                        shouldRecompute = true
                    )
                    qnaFeedViewModel.helperViewModel.postSeen()
                }

                UNIVERSAL_FEED -> {
                    qnaFeedViewModel.postViewModel.getUniversalFeed(
                        1,
                        qnaFeedViewModel.helperViewModel.getTopicIdsFromAdapterList(topicSelectorBar.getAllSelectedTopics())
                    )
                }
            }
        }
    }

    private val createPostLauncher =
        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result ->
            when (result.resultCode) {
                Activity.RESULT_OK -> {
                    // post of type text/link has been created and posted
                    onFeedRefreshed()
                }

                LMFeedCreatePostActivity.RESULT_UPLOAD_POST -> {
                    // post with attachments created, now upload and post it from db
                    qnaFeedViewModel.postViewModel.fetchPendingPostFromDB()
                }
            }
        }

    /**
     * Processes the new post fab click
     *
     * @param hasCreatePostRights: whether the user has the rights to create a post or not
     */
    protected open fun onCreateNewPostClick(hasCreatePostRights: Boolean) {
        binding.apply {
            if (hasCreatePostRights) {
                if (alreadyPosting) {
                    LMFeedViewUtils.showShortToast(
                        requireContext(),
                        getString(
                            R.string.lm_feed_a_s_is_already_uploading,
                            LMFeedCommunityUtil.getPostVariable()
                                .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
                        )
                    )
                } else {
                    // sends post creation started event
                    LMFeedAnalytics.sendPostCreationStartedEvent(LMFeedScreenNames.UNIVERSAL_FEED)

                    val createPostExtras = LMFeedCreatePostExtras.Builder()
                        .source(LMFeedAnalytics.LMFeedSource.QNA_FEED)
                        .build()

                    val intent = LMFeedCreatePostActivity.getIntent(
                        requireContext(),
                        createPostExtras
                    )
                    createPostLauncher.launch(intent)
                }
            } else {
                LMFeedViewUtils.showShortSnack(
                    root,
                    getString(
                        R.string.lm_feed_you_do_not_have_permission_to_create_a_s,
                        LMFeedCommunityUtil.getPostVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
                    )
                )
            }
        }
    }

    //processes the notification icon clicked
    protected open fun onNotificationIconClicked() {
        LMFeedAnalytics.sendNotificationPageOpenedEvent()
        LMFeedActivityFeedActivity.start(requireContext())
    }

    //processes the search icon clicked
    protected open fun onSearchIconClicked() {
        val searchExtras = LMFeedSearchExtras.Builder()
            .searchType(SearchType.HEADING)
            .build()

        LMFeedSearchActivity.start(requireContext(), searchExtras)
    }

    //customizes the no post layout
    protected open fun customizeNoPostLayout(layoutNoPost: LMFeedNoEntityLayoutView) {
        layoutNoPost.apply {
            val postAsVariable = LMFeedCommunityUtil.getPostVariable()

            setStyle(LMFeedStyleTransformer.qnaFeedFragmentViewStyle.noPostLayoutViewStyle)

            setTitleText(
                getString(
                    R.string.lm_feed_no_s_to_show,
                    postAsVariable.pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            )
            setSubtitleText(
                getString(
                    R.string.lm_feed_be_the_first_one_to_s_here,
                    postAsVariable.pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            )
            setActionCTAText(
                getString(
                    R.string.lm_feed_new_s,
                    postAsVariable.pluralizeOrCapitalize(LMFeedWordAction.ALL_CAPITAL_SINGULAR)
                )
            )
        }
    }

    //customizes the posting layout
    protected open fun customizePostingLayout(layoutPosting: LMFeedPostingView) {
        layoutPosting.apply {
            setStyle(LMFeedStyleTransformer.qnaFeedFragmentViewStyle.postingViewStyle)

            setPostingText(
                getString(
                    R.string.lm_feed_creating_s,
                    LMFeedCommunityUtil.getPostVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            )
            setRetryCTAText(getString(R.string.lm_feed_retry))
        }
    }

    //customizes the topic selector bar
    protected open fun customizeTopicSelectorBar(topicSelectorBar: LMFeedTopicSelectorBarView) {
        topicSelectorBar.apply {
            setStyle(LMFeedStyleTransformer.qnaFeedFragmentViewStyle.topicSelectorBarStyle)

            setAllTopicsText(getString(R.string.lm_feed_all_topics))
            setClearTopicsText(getString(R.string.lm_feed_clear))
        }
    }

    private val topicSelectionLauncher =
        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result ->
            if (result.resultCode == Activity.RESULT_OK) {
                val bundle = result.data?.extras
                val resultExtras = LMFeedExtrasUtil.getParcelable(
                    bundle,
                    LM_FEED_TOPIC_SELECTION_RESULT_EXTRAS,
                    LMFeedTopicSelectionResultExtras::class.java
                ) ?: return@registerForActivityResult

                handleTopicSelectionResult(resultExtras)
            }
        }

    //handles result after selecting filters and show recyclers views
    private fun handleTopicSelectionResult(resultExtras: LMFeedTopicSelectionResultExtras) {
        binding.apply {
            rvQna.resetPaginationScrollListenerData()
            rvQna.clearPostsAndNotify()

            if (resultExtras.isAllTopicSelected) {
                //show layouts accordingly
                topicSelectorBar.setAllTopicsTextVisibility(true)
                topicSelectorBar.setSelectedTopicFilterVisibility(false)

                //call api
                LMFeedProgressBarHelper.showProgress(progressBar, true)
                qnaFeedViewModel.postViewModel.getUniversalFeed(1, null)
            } else {
                //show layouts accordingly
                topicSelectorBar.setAllTopicsTextVisibility(false)
                topicSelectorBar.setSelectedTopicFilterVisibility(true)

                //set selected topics to filter
                val selectedTopics = resultExtras.selectedTopics
                topicSelectorBar.replaceSelectedTopics(selectedTopics)

                //call api
                LMFeedProgressBarHelper.showProgress(progressBar, true)
                qnaFeedViewModel.postViewModel.getUniversalFeed(
                    1,
                    qnaFeedViewModel.helperViewModel.getTopicIdsFromAdapterList(selectedTopics)
                )
            }
        }
    }

    //processes the all topics view click
    protected open fun onAllTopicsClicked() {
        //show topics selecting screen with All topic filter
        val intent = LMFeedTopicSelectionActivity.getIntent(
            requireContext(),
            LMFeedTopicSelectionExtras.Builder()
                .showAllTopicFilter(true)
                .showEnabledTopicOnly(false)
                .build()
        )

        topicSelectionLauncher.launch(intent)
    }

    override fun onStop() {
        if (feedType == PERSONALISED_FEED) {
            qnaFeedViewModel.helperViewModel.setPostSeenInLocalDb()
        }
        super.onStop()
    }

    override fun onDestroy() {
        // unsubscribes itself from the [PostPublisher]
        postPublisher.unsubscribe(this)

        super.onDestroy()
    }

    //callback when publisher publishes any updated postData
    override fun update(postData: Pair<String, LMFeedPostViewData?>) {
        val postId = postData.first
        // fetches post from adapter
        binding.rvQna.apply {
            val postIndexPair = getIndexAndPostFromAdapter(postId) ?: return
            val postIndex = postIndexPair.first

            //existing post in adapter
            val existingPost = postIndexPair.second

            var updatedPost = postData.second

            // updates the item in adapter
            if (updatedPost == null) {
                // Post was deleted!
                removePostAtIndex(postIndex)
            } else {
                // retain the top response view
                updatedPost = updatedPost.toBuilder()
                    .topResponses(existingPost.topResponses)
                    .build()

                // Post was updated
                updatePostItem(postIndex, updatedPost)
            }
        }
    }

    // callback when the user clicks on the post content
    override fun onPostContentClicked(position: Int, postViewData: LMFeedPostViewData) {
        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(postViewData.id)
            .isEditTextFocused(false)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //callback when the user clicks on the post like button
    override fun onPostLikeClicked(position: Int, postViewData: LMFeedPostViewData) {
        val userPreferences = LMFeedUserPreferences(requireContext())
        val loggedInUUID = userPreferences.getUUID()

        //call api
        qnaFeedViewModel.helperViewModel.likePost(
            postViewData.id,
            postViewData.actionViewData.isLiked,
            loggedInUUID
        )

        binding.rvQna.apply {
            val adapterPosition = getIndexAndPostFromAdapter(postViewData.id)?.first ?: return

            //update recycler
            updatePostItem(adapterPosition, postViewData)
        }
    }

    //callback when the user clicks on the post likes count
    override fun onPostLikesCountClicked(position: Int, postViewData: LMFeedPostViewData) {
        //show the likes screen
        val likesScreenExtras = LMFeedLikesScreenExtras.Builder()
            .postId(postViewData.id)
            .entityType(POST)
            .build()
        LMFeedLikesActivity.start(requireContext(), likesScreenExtras)
    }

    //callback when the user clicks on the post comments count
    override fun onPostCommentsCountClicked(position: Int, postViewData: LMFeedPostViewData) {
        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(postViewData.id)
            .isEditTextFocused(true)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //callback when the user clicks on the save post button
    override fun onPostSaveClicked(position: Int, postViewData: LMFeedPostViewData) {
        //call api
        qnaFeedViewModel.helperViewModel.savePost(postViewData)

        binding.rvQna.apply {
            val adapterPosition = getIndexAndPostFromAdapter(postViewData.id)?.first ?: return

            //update recycler
            updatePostItem(adapterPosition, postViewData)
        }
    }

    //callback when the user clicks on the share post button
    override fun onPostShareClicked(position: Int, postViewData: LMFeedPostViewData) {
        val userMeta = LMFeedUserMetaData.getInstance()
        LMFeedShareUtils.sharePost(
            requireContext(),
            postViewData.id,
            userMeta.domain ?: "",
            LMFeedCommunityUtil.getPostVariable()
        )

        LMFeedAnalytics.sendPostShared(postViewData)
    }

    //updates the fromPostLiked/fromPostSaved variables and updates the rv list
    override fun updateFromLikedSaved(position: Int, postViewData: LMFeedPostViewData) {
        val updatedPostData = postViewData.toBuilder()
            .fromPostLiked(false)
            .fromPostSaved(false)
            .build()

        binding.rvQna.updatePostWithoutNotifying(position, updatedPostData)
    }

    //updates [alreadySeenFullContent] for the post
    override fun onPostContentSeeMoreClicked(position: Int, postViewData: LMFeedPostViewData) {
        binding.rvQna.apply {
            val adapterPosition = getIndexAndPostFromAdapter(postViewData.id)?.first ?: return

            //update recycler
            updatePostItem(adapterPosition, postViewData)
        }
    }

    //callback when the user clicks on the link in the post content
    override fun onPostContentLinkClicked(url: String) {
        // creates a route and returns an intent to handle the link
        val intent = LMFeedRoute.handleDeepLink(requireContext(), url)
        if (intent != null) {
            try {
                // starts activity with the intent
                ActivityCompat.startActivity(requireContext(), intent, null)
            } catch (e: Exception) {
                e.printStackTrace()
            }
        }
    }

    //callback when the user clicks on the post menu icon
    override fun onPostMenuIconClicked(
        position: Int,
        anchorView: View,
        postViewData: LMFeedPostViewData
    ) {
        val popupMenu = LMFeedOverflowMenu(requireContext(), anchorView)
        val menuItems = postViewData.headerViewData.menuItems
        popupMenu.addMenuItems(menuItems)

        popupMenu.setMenuItemClickListener { menuId ->
            onPostMenuItemClicked(position, menuId, postViewData)
        }

        popupMenu.show()
    }

    //callback when the user clicks on the post image media
    override fun onPostImageMediaClicked(position: Int, postViewData: LMFeedPostViewData) {
        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(postViewData.id)
            .isEditTextFocused(false)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //callback when the user clicks on the post video media
    override fun onPostVideoMediaClicked(position: Int, postViewData: LMFeedPostViewData) {
        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(postViewData.id)
            .isEditTextFocused(false)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //callback when the user clicks on the post link media
    override fun onPostLinkMediaClicked(position: Int, postViewData: LMFeedPostViewData) {
        // creates a route and returns an intent to handle the link
        val intent = LMFeedRoute.handleDeepLink(
            requireContext(),
            postViewData.mediaViewData.attachments.firstOrNull()?.attachmentMeta?.ogTags?.url
        )

        if (intent != null) {
            try {
                // starts activity with the intent
                ActivityCompat.startActivity(requireContext(), intent, null)
            } catch (e: Exception) {
                e.printStackTrace()
            }
        }
    }

    //callback when the user clicks on the post documents media
    override fun onPostDocumentMediaClicked(
        position: Int,
        parentPosition: Int,
        attachmentViewData: LMFeedAttachmentViewData
    ) {
        //open the pdf using Android's document view
        val documentUrl = attachmentViewData.attachmentMeta.url ?: ""
        val pdfUri = Uri.parse(documentUrl)
        LMFeedAndroidUtils.startDocumentViewer(requireContext(), pdfUri)
    }

    //callback when the user clicks on the post image inside multiple media
    override fun onPostMultipleMediaImageClicked(
        position: Int,
        parentPosition: Int,
        attachmentViewData: LMFeedAttachmentViewData
    ) {
        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(attachmentViewData.postId)
            .isEditTextFocused(false)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //callback when the user clicks on the post video inside multiple media
    override fun onPostMultipleMediaVideoClicked(
        position: Int,
        parentPosition: Int,
        attachmentViewData: LMFeedAttachmentViewData
    ) {
        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(attachmentViewData.postId)
            .isEditTextFocused(false)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //called when the page in the multiple media post is changed
    override fun onPostMultipleMediaPageChangeCallback(position: Int, parentPosition: Int) {
        //processes the current video whenever view pager's page is changed
        binding.rvQna.refreshVideoAutoPlayer()
    }

    //called when show more is clicked in the documents type post
    override fun onPostMultipleDocumentsExpanded(position: Int, postViewData: LMFeedPostViewData) {
        binding.rvQna.apply {
            if (position == itemCount - 1) {
                scrollToPositionWithOffset(position)
            }

            val updatedMediaViewData = postViewData.mediaViewData
                .toBuilder()
                .isExpanded(true)
                .build()

            val updatedPostViewData = postViewData.toBuilder()
                .mediaViewData(updatedMediaViewData)
                .fromPostSaved(false)
                .fromPostLiked(false)
                .build()

            binding.rvQna.apply {
                val adapterPosition =
                    getIndexAndPostFromAdapter(updatedPostViewData.id)?.first ?: return

                //updates the [isExpanded] for the document item to true
                updatePostItem(adapterPosition, updatedPostViewData)
            }
        }
    }

    //callback when the user clicks on the post author header
    override fun onPostAuthorHeaderClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostAuthorHeaderClicked(position, postViewData)

        val coreCallback = LMFeedCoreApplication.getLMFeedCoreCallback()
        coreCallback?.openProfile(postViewData.headerViewData.user)
    }

    override fun onEntityDeletedByAdmin(deleteExtras: LMFeedDeleteExtras, reason: String) {
        val post =
            binding.rvQna.getIndexAndPostFromAdapter(deleteExtras.postId)?.second ?: return
        qnaFeedViewModel.helperViewModel.deletePost(post, reason)
    }

    override fun onEntityDeletedByAuthor(deleteExtras: LMFeedDeleteExtras) {
        val post =
            binding.rvQna.getIndexAndPostFromAdapter(deleteExtras.postId)?.second ?: return
        qnaFeedViewModel.helperViewModel.deletePost(post)
    }

    override fun onTopicRemoved(position: Int, topicViewData: LMFeedTopicViewData) {
        super.onTopicRemoved(position, topicViewData)

        binding.apply {
            val selectedTopics = topicSelectorBar.getAllSelectedTopics()
            if (selectedTopics.size == 1) {
                clearSelectedTopics()
            } else {
                //remove from adapter
                topicSelectorBar.removeTopicAndNotify(position)

                //call apis
                rvQna.resetPaginationScrollListenerData()
                rvQna.clearPostsAndNotify()
                LMFeedProgressBarHelper.showProgress(binding.progressBar, true)
                qnaFeedViewModel.postViewModel.getUniversalFeed(
                    1,
                    qnaFeedViewModel.helperViewModel.getTopicIdsFromAdapterList(selectedTopics)
                )
            }
        }
    }

    //callback when the tag of the user is clicked
    override fun onPostTaggedMemberClicked(position: Int, uuid: String) {
        super.onPostTaggedMemberClicked(position, uuid)

        val coreCallback = LMFeedCoreApplication.getLMFeedCoreCallback()
        coreCallback?.openProfileWithUUID(uuid)
    }

    //callback when the post title is clicked
    override fun onPostPollTitleClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostPollTitleClicked(position, postViewData)

        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(postViewData.id)
            .isEditTextFocused(false)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //callback when add poll option is clicked
    override fun onPostAddPollOptionClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostAddPollOptionClicked(position, postViewData)

        val pollAttachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
        val pollId = pollAttachment.attachmentMeta.poll?.id ?: return

        val addPollOptionExtras = LMFeedAddPollOptionExtras.Builder()
            .postId(postViewData.id)
            .pollId(pollId)
            .build()

        LMFeedAddPollOptionBottomSheetFragment.newInstance(
            childFragmentManager,
            addPollOptionExtras
        )
    }

    //callback when the poll member voted count is clicked
    override fun onPostMemberVotedCountClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostMemberVotedCountClicked(position, postViewData)

        val pollAttachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
        val pollViewData = pollAttachment.attachmentMeta.poll ?: return

        if (pollViewData.isAnonymous) {
            LMFeedAnonymousPollDialogFragment.showDialog(childFragmentManager)
            return
        }

        if (pollViewData.toShowResults || pollViewData.hasPollEnded()) {
            val pollResultsExtras = LMFeedPollResultsExtras.Builder()
                .pollId(pollViewData.id)
                .pollOptions(pollViewData.options)
                .build()

            LMFeedPollResultsActivity.start(requireContext(), pollResultsExtras)
        } else {
            LMFeedViewUtils.showShortToast(
                requireContext(),
                getString(R.string.lm_feed_the_results_will_be_visible_after_the_poll_has_ended)
            )
        }
    }

    //callback when the submit poll vote button is clicked
    override fun onPostSubmitPollVoteClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostSubmitPollVoteClicked(position, postViewData)

        val pollAttachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
        val pollViewData = pollAttachment.attachmentMeta.poll ?: return

        val selectedOptions = pollViewData.options.filter { it.isSelected }
        val selectedOptionIds = selectedOptions.map { it.id }

        validateSelectedPollOptions(pollViewData, selectedOptions.size) {
            qnaFeedViewModel.postViewModel.submitPollVote(
                requireContext(),
                postViewData.id,
                pollViewData.id,
                selectedOptionIds
            )
        }
    }

    // callback when the user clicks on the post heading
    override fun onPostHeadingClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostHeadingClicked(position, postViewData)

        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(postViewData.id)
            .isEditTextFocused(false)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    // callback when the see more button is clicked on the post heading
    override fun onPostHeadingSeeMoreClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostHeadingSeeMoreClicked(position, postViewData)

        binding.rvQna.apply {
            val adapterPosition = getIndexAndPostFromAdapter(postViewData.id)?.first ?: return

            //update recycler
            updatePostItem(adapterPosition, postViewData)
        }
    }

    // callback when the top response view is clicked
    override fun onPostTopResponseClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostTopResponseClicked(position, postViewData)

        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(postViewData.id)
            .isEditTextFocused(false)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    // callback when the user clicks on the see more button on the top response
    override fun onPostTopResponseSeeMoreClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostTopResponseSeeMoreClicked(position, postViewData)

        binding.rvQna.apply {
            val adapterPosition = getIndexAndPostFromAdapter(postViewData.id)?.first ?: return

            //update recycler
            updatePostItem(adapterPosition, postViewData)
        }
    }

    // callback when the tagged member in the top response is clicked
    override fun onPostTopResponseTaggedMemberClicked(position: Int, uuid: String) {
        super.onPostTopResponseTaggedMemberClicked(position, uuid)

        val coreCallback = LMFeedCoreApplication.getLMFeedCoreCallback()
        coreCallback?.openProfileWithUUID(uuid)
    }

    // callback when the author frame in the top response is clicked
    override fun onPostTopResponseAuthorFrameCLicked(
        position: Int,
        postViewData: LMFeedPostViewData
    ) {
        super.onPostTopResponseAuthorFrameCLicked(position, postViewData)

        val coreCallback = LMFeedCoreApplication.getLMFeedCoreCallback()
        coreCallback?.openProfile(postViewData.headerViewData.user)
    }

    // callback when the content of the top response is clicked
    override fun onPostTopResponseContentClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostTopResponseContentClicked(position, postViewData)

        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(postViewData.id)
            .isEditTextFocused(false)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //validates user submitted poll votes for multiple choice poll
    private fun validateSelectedPollOptions(
        pollViewData: LMFeedPollViewData,
        selectedOptionsCount: Int,
        onValidationSuccess: () -> Unit
    ) {
        val multipleSelectNumber = pollViewData.multipleSelectNumber
        val multipleSelectState = pollViewData.multipleSelectState

        when (multipleSelectState) {
            PollMultiSelectState.EXACTLY -> {
                if (selectedOptionsCount != multipleSelectNumber) {
                    LMFeedViewUtils.showShortSnack(
                        binding.root,
                        resources.getQuantityString(
                            R.plurals.lm_feed_please_select_exactly_d_options,
                            multipleSelectNumber,
                            multipleSelectNumber
                        )
                    )
                    return
                }
            }

            PollMultiSelectState.AT_MAX -> {
                if (selectedOptionsCount > multipleSelectNumber) {
                    LMFeedViewUtils.showShortSnack(
                        binding.root,
                        resources.getQuantityString(
                            R.plurals.lm_feed_please_select_at_most_d_options,
                            multipleSelectNumber,
                            multipleSelectNumber
                        )
                    )
                    return
                }
            }

            PollMultiSelectState.AT_LEAST -> {
                if (selectedOptionsCount < multipleSelectNumber) {
                    LMFeedViewUtils.showShortSnack(
                        binding.root,
                        resources.getQuantityString(
                            R.plurals.lm_feed_please_select_at_least_d_options,
                            multipleSelectNumber,
                            multipleSelectNumber
                        )
                    )
                    return
                }
            }
        }
        onValidationSuccess()
    }

    //callback when the poll edit vote button is clicked
    override fun onPostEditPollVoteClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostEditPollVoteClicked(position, postViewData)

        binding.rvQna.apply {
            val postIndex = getIndexAndPostFromAdapter(postViewData.id)?.first ?: return

            val attachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
            val pollViewData = attachment.attachmentMeta.poll ?: return


            //update the poll view data
            val updatedPollViewData = pollViewData.toBuilder()
                .isPollSubmitted(false)
                .build()

            //update the attachments with the updated poll view data
            val updatedAttachments = listOf(
                attachment.toBuilder()
                    .attachmentMeta(
                        attachment.attachmentMeta.toBuilder()
                            .poll(updatedPollViewData)
                            .build()
                    )
                    .build()
            )

            //update the post view data
            val updatedPostViewData = postViewData.toBuilder()
                .mediaViewData(
                    postViewData.mediaViewData.toBuilder()
                        .attachments(updatedAttachments)
                        .build()
                )
                .build()

            updatePostItem(postIndex, updatedPostViewData)
        }
    }

    //callback when the poll option is clicked
    override fun onPollOptionClicked(
        pollPosition: Int,
        pollOptionPosition: Int,
        pollOptionViewData: LMFeedPollOptionViewData
    ) {
        super.onPollOptionClicked(
            pollPosition,
            pollOptionPosition,
            pollOptionViewData
        )

        val postViewData = binding.rvQna.allPosts()[pollPosition] as LMFeedPostViewData
        val attachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
        val pollViewData = attachment.attachmentMeta.poll ?: return

        when {
            pollViewData.hasPollEnded() -> {
                LMFeedViewUtils.showShortToast(
                    requireContext(),
                    getString(R.string.lm_feed_poll_ended_vote_cannot_be_submitted_now)
                )
                return
            }

            (pollViewData.isPollSubmitted && pollViewData.isInstantPoll()) -> {
                return
            }

            !pollViewData.isMultiChoicePoll() -> {
                if (pollViewData.isPollSubmitted) {
                    return
                }

                //call api to submit vote
                qnaFeedViewModel.postViewModel.submitPollVote(
                    requireContext(),
                    postViewData.id,
                    pollViewData.id,
                    listOf(pollOptionViewData.id)
                )
            }

            else -> {
                if (pollViewData.isPollSubmitted) {
                    return
                }

                //update the clicked poll option view data
                val updatedPollOptionViewData = if (pollOptionViewData.isSelected) {
                    pollOptionViewData.toBuilder()
                        .isSelected(false)
                        .build()
                } else {
                    pollOptionViewData.toBuilder()
                        .isSelected(true)
                        .build()
                }

                //update the poll view data
                val updatedPollViewData = pollViewData.toBuilder()
                    .options(
                        pollViewData.options.map { pollOption ->
                            if (pollOption.id == pollOptionViewData.id) {
                                updatedPollOptionViewData
                            } else {
                                pollOption
                            }
                        }
                    )
                    .build()

                //update the attachments with the updated poll view data
                val updatedAttachments = listOf(
                    attachment.toBuilder()
                        .attachmentMeta(
                            attachment.attachmentMeta.toBuilder()
                                .poll(updatedPollViewData)
                                .build()
                        )
                        .build()
                )

                //update the post view data
                val updatedPostViewData = postViewData.toBuilder()
                    .mediaViewData(
                        postViewData.mediaViewData.toBuilder()
                            .attachments(updatedAttachments)
                            .build()
                    )
                    .build()

                //update the recycler view
                binding.rvQna.updatePostItem(pollPosition, updatedPostViewData)
            }
        }

        if (pollViewData.hasPollEnded()) {
            LMFeedViewUtils.showShortToast(
                requireContext(),
                getString(R.string.lm_feed_poll_ended_vote_cannot_be_submitted_now)
            )
            return
        }
    }

    //callback when the polls option vote count is clicked
    override fun onPollOptionVoteCountClicked(
        pollPosition: Int,
        pollOptionPosition: Int,
        pollOptionViewData: LMFeedPollOptionViewData
    ) {
        super.onPollOptionVoteCountClicked(
            pollPosition,
            pollOptionPosition,
            pollOptionViewData
        )

        val postViewData = binding.rvQna.allPosts()[pollPosition] as LMFeedPostViewData
        val attachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
        val pollViewData = attachment.attachmentMeta.poll ?: return

        if (pollViewData.isAnonymous) {
            LMFeedAnonymousPollDialogFragment.showDialog(childFragmentManager)
            return
        }

        if (pollOptionViewData.toShowResults || pollOptionViewData.hasPollEnded) {
            val pollResultsExtras = LMFeedPollResultsExtras.Builder()
                .pollId(pollViewData.id)
                .pollOptions(pollViewData.options)
                .selectedPollOptionId(pollOptionViewData.id)
                .build()

            LMFeedPollResultsActivity.start(requireContext(), pollResultsExtras)
        } else {
            LMFeedViewUtils.showShortToast(
                requireContext(),
                getString(R.string.lm_feed_the_results_will_be_visible_after_the_poll_has_ended)
            )
        }
    }

    //callback when an option is submitted
    override fun onAddOptionSubmitted(
        postId: String,
        pollId: String,
        option: String
    ) {
        val post = binding.rvQna.getIndexAndPostFromAdapter(postId)?.second ?: return

        qnaFeedViewModel.postViewModel.addPollOption(
            post,
            option
        )
    }

    // callback when the user clicks on the post answer prompt
    override fun onPostAnswerPromptClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostAnswerPromptClicked(position, postViewData)

        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(postViewData.id)
            .isEditTextFocused(true)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //callback when post menu items are clicked
    protected open fun onPostMenuItemClicked(
        position: Int,
        menuId: Int,
        postViewData: LMFeedPostViewData
    ) {
        when (menuId) {
            EDIT_POST_MENU_ITEM_ID -> {
                onEditPostMenuClicked(
                    position,
                    menuId,
                    postViewData
                )
            }

            DELETE_POST_MENU_ITEM_ID -> {
                onDeletePostMenuClicked(
                    position,
                    menuId,
                    postViewData
                )
            }

            REPORT_POST_MENU_ITEM_ID -> {
                onReportPostMenuClicked(
                    position,
                    menuId,
                    postViewData
                )
            }

            PIN_POST_MENU_ITEM_ID -> {
                val updatedPostViewData =
                    LMFeedPostBinderUtils.updatePostForPin(requireContext(), postViewData)

                updatedPostViewData?.let {
                    onPinPostMenuClicked(
                        position,
                        menuId,
                        it
                    )
                }
            }

            UNPIN_POST_MENU_ITEM_ID -> {
                val updatedPost =
                    LMFeedPostBinderUtils.updatePostForUnpin(requireContext(), postViewData)

                updatedPost?.let {
                    onUnpinPostMenuClicked(
                        position,
                        menuId,
                        it
                    )
                }
            }
        }
    }

    //processes the edit post menu click
    protected open fun onEditPostMenuClicked(
        position: Int,
        menuId: Int,
        post: LMFeedPostViewData
    ) {
        val editPostExtras = LMFeedEditPostExtras.Builder()
            .postId(post.id)
            .build()
        val intent = LMFeedEditPostActivity.getIntent(requireContext(), editPostExtras)
        startActivity(intent)
    }

    //processes the delete post menu click
    protected open fun onDeletePostMenuClicked(
        position: Int,
        menuId: Int,
        post: LMFeedPostViewData
    ) {
        val deleteExtras = LMFeedDeleteExtras.Builder()
            .postId(post.id)
            .entityType(DELETE_TYPE_POST)
            .build()

        val postCreatorUUID = post.headerViewData.user.sdkClientInfoViewData.uuid

        val userPreferences = LMFeedUserPreferences(requireContext())
        val loggedInUUID = userPreferences.getUUID()

        if (postCreatorUUID == loggedInUUID) {
            // if the post was created by current user
            LMFeedSelfDeleteDialogFragment.showDialog(
                childFragmentManager,
                deleteExtras
            )
        } else {
            // if the post was not created by current user and they are admin
            LMFeedAdminDeleteDialogFragment.showDialog(
                childFragmentManager,
                deleteExtras
            )
        }
    }

    // launcher to start [ReportActivity] and show success dialog for result
    private val reportPostLauncher =
        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result ->
            if (result.resultCode == Activity.RESULT_OK) {
                val data = result.data?.getStringExtra(LM_FEED_REPORT_RESULT)
                val entityType = if (data == "Post") {
                    LMFeedCommunityUtil.getPostVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                } else {
                    data
                }
                LMFeedReportSuccessDialogFragment(entityType ?: "").show(
                    childFragmentManager,
                    LMFeedReportSuccessDialogFragment.TAG
                )
            }
        }

    //processes the report post menu click
    protected open fun onReportPostMenuClicked(
        position: Int,
        menuId: Int,
        post: LMFeedPostViewData
    ) {
        //create extras for [ReportActivity]
        val reportExtras = LMFeedReportExtras.Builder()
            .entityId(post.id)
            .uuid(post.headerViewData.user.sdkClientInfoViewData.uuid)
            .entityType(REPORT_TYPE_POST)
            .postViewType(post.viewType)
            .build()

        //get Intent for [ReportActivity]
        val intent = LMFeedReportActivity.getIntent(requireContext(), reportExtras)

        //start [ReportActivity] and check for result
        reportPostLauncher.launch(intent)
    }

    //processes the pin post menu click
    protected open fun onPinPostMenuClicked(
        position: Int,
        menuId: Int,
        post: LMFeedPostViewData
    ) {
        //call api
        qnaFeedViewModel.helperViewModel.pinPost(post)

        binding.rvQna.apply {
            val adapterPosition = getIndexAndPostFromAdapter(post.id)?.first ?: return

            //update recycler
            updatePostItem(adapterPosition, post)
        }
    }

    //processes the unpin post menu click
    protected open fun onUnpinPostMenuClicked(
        position: Int,
        menuId: Int,
        post: LMFeedPostViewData
    ) {
        //call api
        qnaFeedViewModel.helperViewModel.pinPost(post)

        binding.rvQna.apply {
            val adapterPosition = getIndexAndPostFromAdapter(post.id)?.first ?: return

            //update recycler
            updatePostItem(adapterPosition, post)
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/qnafeed/viewmodel/LMFeedQnAFeedViewModel.kt
================================================
package com.likeminds.feed.android.core.qnafeed.viewmodel

import androidx.lifecycle.ViewModel
import com.likeminds.feed.android.core.post.viewmodel.LMFeedHelperViewModel
import com.likeminds.feed.android.core.post.viewmodel.LMFeedPostViewModel

class LMFeedQnAFeedViewModel : ViewModel() {

    val helperViewModel: LMFeedHelperViewModel by lazy {
        LMFeedHelperViewModel()
    }

    val postViewModel: LMFeedPostViewModel by lazy {
        LMFeedPostViewModel()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/report/adapter/LMFeedReportTagAdapter.kt
================================================
package com.likeminds.feed.android.core.report.adapter

import com.likeminds.feed.android.core.report.adapter.databinder.LMFeedItemReportTagViewDataBinder
import com.likeminds.feed.android.core.report.model.LMFeedReportTagViewData
import com.likeminds.feed.android.core.utils.base.*

class LMFeedReportTagAdapter(
    private val listener: LMFeedReportTagAdapterListener
) : LMFeedBaseRecyclerAdapter<LMFeedBaseViewType>() {

    init {
        initViewDataBinders()
    }

    override fun getSupportedViewDataBinder(): MutableList<LMFeedViewDataBinder<*, *>> {
        val viewDataBinders = ArrayList<LMFeedViewDataBinder<*, *>>(1)

        val itemReportTag = LMFeedItemReportTagViewDataBinder(listener)
        viewDataBinders.add(itemReportTag)

        return viewDataBinders
    }

}

interface LMFeedReportTagAdapterListener {
    fun onReportTagSelected(reportTagViewData: LMFeedReportTagViewData) {
        //triggered when a user selects a tag
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/report/adapter/databinder/LMFeedItemReportTagViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.report.adapter.databinder

import android.graphics.drawable.GradientDrawable
import android.view.LayoutInflater
import android.view.ViewGroup
import androidx.core.content.ContextCompat
import com.likeminds.feed.android.core.databinding.LmFeedItemReportTagBinding
import com.likeminds.feed.android.core.report.adapter.LMFeedReportTagAdapterListener
import com.likeminds.feed.android.core.report.model.LMFeedReportTagViewData
import com.likeminds.feed.android.core.ui.base.styles.setStyle
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedViewUtils
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_REPORT_TAG

class LMFeedItemReportTagViewDataBinder(
    private val listener: LMFeedReportTagAdapterListener
) : LMFeedViewDataBinder<LmFeedItemReportTagBinding, LMFeedReportTagViewData>() {

    override val viewType: Int
        get() = ITEM_REPORT_TAG

    override fun createBinder(parent: ViewGroup): LmFeedItemReportTagBinding {
        val binding = LmFeedItemReportTagBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.apply {
            val reportTagTextStyle = LMFeedStyleTransformer.reportFragmentViewStyle.reportTagStyle
            tvReportTag.setStyle(reportTagTextStyle)

            setListeners(this)
        }

        return binding
    }

    override fun bindData(
        binding: LmFeedItemReportTagBinding,
        data: LMFeedReportTagViewData,
        position: Int
    ) {
        binding.apply {
            reportTagViewData = data
            setTagBackground(this)
        }
    }

    //set click listeners to the view data binder
    private fun setListeners(binding: LmFeedItemReportTagBinding) {
        binding.apply {
            tvReportTag.setOnClickListener {
                val reportTagViewData = reportTagViewData ?: return@setOnClickListener
                listener.onReportTagSelected(reportTagViewData)
            }
        }
    }

    // sets tag background to the buttons color
    private fun setTagBackground(binding: LmFeedItemReportTagBinding) {
        val drawable = binding.tvReportTag.background as GradientDrawable
        drawable.mutate()
        val width = LMFeedViewUtils.dpToPx(1)

        val reportFragmentViewStyle = LMFeedStyleTransformer.reportFragmentViewStyle

        binding.apply {
            if (reportTagViewData?.isSelected == true) {
                //set stroke color of report tag
                drawable.setStroke(
                    width,
                    ContextCompat.getColor(
                        root.context,
                        reportFragmentViewStyle.selectedReportTagColor
                    )
                )

                // set text color of report tag
                tvReportTag.setTextColor(
                    ContextCompat.getColor(
                        root.context,
                        reportFragmentViewStyle.selectedReportTagColor
                    )
                )
            } else {
                //set stroke color of report tag
                drawable.setStroke(
                    width,
                    ContextCompat.getColor(
                        root.context,
                        reportFragmentViewStyle.reportTagStyle.textColor
                    )
                )

                // set text color of report tag
                tvReportTag.setTextColor(
                    ContextCompat.getColor(
                        root.context,
                        reportFragmentViewStyle.reportTagStyle.textColor
                    )
                )
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/report/model/LMFeedReportExtras.kt
================================================
package com.likeminds.feed.android.core.report.model

import android.os.Parcelable
import kotlinx.parcelize.Parcelize

@Parcelize
class LMFeedReportExtras private constructor(
    @LMFeedReportType
    val entityType: Int,
    val uuid: String,
    val entityId: String,
    val parentCommentId: String?,
    val postId: String,
    val postViewType: Int?,
) : Parcelable {
    class Builder {
        @LMFeedReportType
        private var entityType: Int = REPORT_TYPE_POST
        private var uuid: String = ""
        private var entityId: String = ""
        private var parentCommentId: String? = null
        private var postId: String = ""
        private var postViewType: Int? = null

        fun entityType(@LMFeedReportType entityType: Int) = apply { this.entityType = entityType }
        fun uuid(uuid: String) =
            apply { this.uuid = uuid }

        fun entityId(entityId: String) = apply { this.entityId = entityId }
        fun parentCommentId(parentCommentId: String?) =
            apply { this.parentCommentId = parentCommentId }

        fun postId(postId: String) = apply { this.postId = postId }
        fun postViewType(postViewType: Int?) = apply { this.postViewType = postViewType }

        fun build() = LMFeedReportExtras(
            entityType,
            uuid,
            entityId,
            parentCommentId,
            postId,
            postViewType
        )
    }

    fun toBuilder(): Builder {
        return Builder().uuid(uuid)
            .entityType(entityType)
            .entityId(entityId)
            .parentCommentId(parentCommentId)
            .postId(postId)
            .postViewType(postViewType)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/report/model/LMFeedReportTagViewData.kt
================================================
package com.likeminds.feed.android.core.report.model

import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.base.model.ITEM_REPORT_TAG

class LMFeedReportTagViewData private constructor(
    val id: Int,
    val name: String,
    val isSelected: Boolean
) : LMFeedBaseViewType {

    override val viewType: Int
        get() = ITEM_REPORT_TAG

    class Builder {
        private var id: Int = -1
        private var name: String = ""
        private var isSelected: Boolean = false

        fun id(id: Int) = apply { this.id = id }
        fun name(name: String) = apply { this.name = name }
        fun isSelected(isSelected: Boolean) = apply { this.isSelected = isSelected }

        fun build() = LMFeedReportTagViewData(
            id,
            name,
            isSelected
        )
    }

    fun toBuilder(): Builder {
        return Builder().id(id)
            .name(name)
            .isSelected(isSelected)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/report/model/LMFeedReportType.kt
================================================
package com.likeminds.feed.android.core.report.model

import androidx.annotation.IntDef

const val REPORT_TYPE_POST = 5
const val REPORT_TYPE_COMMENT = 6
const val REPORT_TYPE_REPLY = 7

@IntDef(
    REPORT_TYPE_POST,
    REPORT_TYPE_COMMENT,
    REPORT_TYPE_REPLY
)
@Retention(AnnotationRetention.SOURCE)
annotation class LMFeedReportType {
    companion object {
        //return entity type in string for id
        fun getEntityType(@LMFeedReportType type: Int): String {
            return when (type) {
                REPORT_TYPE_COMMENT -> "Comment"
                REPORT_TYPE_POST -> "Post"
                REPORT_TYPE_REPLY -> "Reply"
                else -> ""
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/report/style/LMFeedReportFragmentViewStyle.kt
================================================
package com.likeminds.feed.android.core.report.style

import android.graphics.Typeface
import android.text.TextUtils
import androidx.annotation.ColorRes
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.widgets.alertdialog.style.LMFeedAlertDialogViewStyle
import com.likeminds.feed.android.core.ui.widgets.headerview.style.LMFeedHeaderViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle
import com.likeminds.feed.android.core.utils.model.LMFeedPadding

/**
 * [LMFeedReportFragmentViewStyle] helps you to customize the alert dialog view [LMFeedReportFragment]
 *
 * @property headerViewStyle : [LMFeedHeaderViewStyle] this will help you to header view of the report fragment
 * @property reportHeaderStyle : [LMFeedTextStyle] this will help you to customize the header text in the report fragment
 * @property reportSubHeaderStyle: [LMFeedTextStyle] this will help you to customize the sub header text in the report fragment
 * @property reportReasonInputStyle: [LMFeedEditTextStyle] this will help you to customize the reason input box in the report fragment when the user has selected "Others" in report tag
 * @property reportButtonStyle: [LMFeedButtonStyle] this will help you to customize the report submit button style
 * @property reportTagStyle: [LMFeedTextStyle] this will help you to customize the tag text in the report fragment
 * @property selectedReportTagColor: [Int] should be in format of [ColorRes] this will help you to customize the color of the selected report tag | Default value = [R.color.lm_feed_majorelle_blue]
 * @property reportSuccessDialogFragmentStyle: [LMFeedAlertDialogViewStyle] this will help you to customize the success dialog shown when the report is submitted
 * @property backgroundColor: [Int] should be in format of [ColorRes] to add background color of the report fragment | Default value =  [null]
 * */
class LMFeedReportFragmentViewStyle private constructor(
    //header view style
    val headerViewStyle: LMFeedHeaderViewStyle,
    //report header text style
    val reportHeaderStyle: LMFeedTextStyle,
    //report sub header text style
    val reportSubHeaderStyle: LMFeedTextStyle,
    //report reason input style
    val reportReasonInputStyle: LMFeedEditTextStyle,
    //report submit button style
    val reportButtonStyle: LMFeedButtonStyle,
    //report tag view style
    val reportTagStyle: LMFeedTextStyle,
    //selected report tag stroke and text color
    @ColorRes val selectedReportTagColor: Int,
    //style for report success dialog
    val reportSuccessDialogFragmentStyle: LMFeedAlertDialogViewStyle,
    //report screen background color
    @ColorRes val backgroundColor: Int?
) : LMFeedViewStyle {

    class Builder {
        private var headerViewStyle: LMFeedHeaderViewStyle = LMFeedHeaderViewStyle.Builder()
            .titleTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_blood_orange)
                    .textSize(R.dimen.lm_feed_header_view_title_text_size)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .maxLines(1)
                    .ellipsize(TextUtils.TruncateAt.END)
                    .build()
            )
            .backgroundColor(R.color.lm_feed_white)
            .navigationIconStyle(
                LMFeedIconStyle.Builder()
                    .iconTint(R.color.lm_feed_black)
                    .inActiveSrc(R.drawable.lm_feed_ic_arrow_back_black_24dp)
                    .iconPadding(
                        LMFeedPadding(
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding
                        )
                    )
                    .build()
            )
            .build()

        private var reportHeaderStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textSize(R.dimen.lm_feed_text_large)
            .fontResource(R.font.lm_feed_roboto_medium)
            .build()

        private var reportSubHeaderStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textSize(R.dimen.lm_feed_text_large)
            .textColor(R.color.lm_feed_brown_grey)
            .build()

        private var reportReasonInputStyle: LMFeedEditTextStyle = LMFeedEditTextStyle.Builder()
            .hintTextColor(R.color.lm_feed_brown_grey)
            .inputTextStyle(
                LMFeedTextStyle.Builder()
                    .textSize(R.dimen.lm_feed_text_large)
                    .fontResource(R.font.lm_feed_roboto)
                    .build()
            )
            .backgroundColor(LMFeedAppearance.getButtonColor())
            .build()

        private var reportButtonStyle: LMFeedButtonStyle = LMFeedButtonStyle.Builder()
            .textStyle(
                LMFeedTextStyle.Builder()
                    .textAllCaps(true)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .textColor(R.color.lm_feed_white)
                    .textSize(R.dimen.lm_feed_text_medium)
                    .typeface(Typeface.BOLD)
                    .build()
            )
            .backgroundColor(R.color.lm_feed_blood_orange)
            .cornerRadius(R.dimen.lm_feed_report_button_corner_radius)
            .build()

        private var reportTagStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .ellipsize(TextUtils.TruncateAt.END)
            .maxLines(1)
            .textSize(R.dimen.lm_feed_text_large)
            .textColor(R.color.lm_feed_brown_grey)
            .build()

        @ColorRes
        private var selectedReportTagColor: Int = LMFeedAppearance.getButtonColor()

        private var reportSuccessDialogFragmentStyle: LMFeedAlertDialogViewStyle =
            LMFeedAlertDialogViewStyle.Builder()
                .alertSubtitleText(
                    LMFeedTextStyle.Builder()
                        .textColor(R.color.lm_feed_grey)
                        .textSize(R.dimen.lm_feed_text_medium)
                        .typeface(Typeface.NORMAL)
                        .fontResource(R.font.lm_feed_roboto)
                        .build()
                )
                .alertPositiveButtonStyle(
                    LMFeedTextStyle.Builder()
                        .textAllCaps(true)
                        .textColor(R.color.lm_feed_black_20)
                        .textSize(R.dimen.lm_feed_text_small)
                        .typeface(Typeface.NORMAL)
                        .fontResource(R.font.lm_feed_roboto_medium)
                        .build()
                )
                .alertBoxElevation(R.dimen.lm_feed_elevation_small)
                .alertBoxCornerRadius(R.dimen.lm_feed_corner_radius_small)
                .build()

        @ColorRes
        private var backgroundColor: Int? = null

        fun headerViewStyle(headerViewStyle: LMFeedHeaderViewStyle) = apply {
            this.headerViewStyle = headerViewStyle
        }

        fun reportHeaderStyle(reportHeaderStyle: LMFeedTextStyle) = apply {
            this.reportHeaderStyle = reportHeaderStyle
        }

        fun reportSubHeaderStyle(reportSubHeaderStyle: LMFeedTextStyle) = apply {
            this.reportSubHeaderStyle = reportSubHeaderStyle
        }

        fun reportReasonInputStyle(reportReasonInputStyle: LMFeedEditTextStyle) = apply {
            this.reportReasonInputStyle = reportReasonInputStyle
        }

        fun reportButtonStyle(reportButtonStyle: LMFeedButtonStyle) = apply {
            this.reportButtonStyle = reportButtonStyle
        }

        fun reportTagStyle(reportTagStyle: LMFeedTextStyle) = apply {
            this.reportTagStyle = reportTagStyle
        }

        fun selectedReportTagColor(@ColorRes selectedReportTagColor: Int) = apply {
            this.selectedReportTagColor = selectedReportTagColor
        }

        fun reportSuccessDialogFragmentStyle(reportSuccessDialogFragmentStyle: LMFeedAlertDialogViewStyle) =
            apply {
                this.reportSuccessDialogFragmentStyle = reportSuccessDialogFragmentStyle
            }

        fun backgroundColor(@ColorRes backgroundColor: Int?) = apply {
            this.backgroundColor = backgroundColor
        }

        fun build() = LMFeedReportFragmentViewStyle(
            headerViewStyle,
            reportHeaderStyle,
            reportSubHeaderStyle,
            reportReasonInputStyle,
            reportButtonStyle,
            reportTagStyle,
            selectedReportTagColor,
            reportSuccessDialogFragmentStyle,
            backgroundColor
        )
    }

    fun toBuilder(): Builder {
        return Builder().headerViewStyle(headerViewStyle)
            .reportHeaderStyle(reportHeaderStyle)
            .reportSubHeaderStyle(reportSubHeaderStyle)
            .reportReasonInputStyle(reportReasonInputStyle)
            .reportButtonStyle(reportButtonStyle)
            .reportTagStyle(reportTagStyle)
            .selectedReportTagColor(selectedReportTagColor)
            .reportSuccessDialogFragmentStyle(reportSuccessDialogFragmentStyle)
            .backgroundColor(backgroundColor)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/report/view/LMFeedReportActivity.kt
================================================
package com.likeminds.feed.android.core.report.view

import android.content.Context
import android.content.Intent
import android.os.Bundle
import androidx.appcompat.app.AppCompatActivity
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedActivityReportBinding
import com.likeminds.feed.android.core.report.model.LMFeedReportExtras
import com.likeminds.feed.android.core.utils.*

class LMFeedReportActivity : AppCompatActivity() {

    private lateinit var binding: LmFeedActivityReportBinding

    private lateinit var reportExtras: LMFeedReportExtras

    companion object {
        const val LM_FEED_REPORT_EXTRAS = "LM_FEED_REPORT_EXTRAS"
        const val LM_FEED_REPORT_BUNDLE = "lm_feed_bundle"
        const val TAG = "LMFeedReportActivity"

        @JvmStatic
        fun start(context: Context, extras: LMFeedReportExtras) {
            val intent = Intent(context, LMFeedReportActivity::class.java)
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_REPORT_EXTRAS, extras)
            intent.putExtra(LM_FEED_REPORT_BUNDLE, bundle)
            context.startActivity(intent)
        }

        @JvmStatic
        fun getIntent(context: Context, extras: LMFeedReportExtras): Intent {
            val intent = Intent(context, LMFeedReportActivity::class.java)
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_REPORT_EXTRAS, extras)
            intent.putExtra(LM_FEED_REPORT_BUNDLE, bundle)
            return intent
        }
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        binding = LmFeedActivityReportBinding.inflate(layoutInflater)
        setContentView(binding.root)

        //parse extras
        assignExtras()

        //inflates report fragment
        inflateReportFragment()
    }

    private fun assignExtras() {
        //get bundle
        val bundle = intent.getBundleExtra(LM_FEED_REPORT_BUNDLE)

        //assign to global variable
        if (bundle != null) {
            reportExtras = LMFeedExtrasUtil.getParcelable(
                bundle,
                LM_FEED_REPORT_EXTRAS,
                LMFeedReportExtras::class.java
            ) ?: throw emptyExtrasException(TAG)
        } else {
            //close activity
            redirectActivity()
        }
    }

    private fun inflateReportFragment() {
        //gets report fragment instance
        val reportFragment =
            LMFeedReportFragment.getInstance(reportExtras = reportExtras)

        //commits fragment replace transaction
        supportFragmentManager.beginTransaction()
            .replace(
                binding.containerReport.id,
                reportFragment,
                TAG
            )
            .commit()
    }

    private fun redirectActivity() {
        LMFeedViewUtils.showSomethingWentWrongToast(this)
        supportFragmentManager.popBackStack()
        onBackPressedDispatcher.onBackPressed()
        overridePendingTransition(R.anim.lm_feed_slide_from_left, R.anim.lm_feed_slide_to_right)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/report/view/LMFeedReportFragment.kt
================================================
package com.likeminds.feed.android.core.report.view

import android.app.Activity
import android.content.Intent
import android.os.Bundle
import android.util.Log
import android.view.*
import androidx.core.content.ContextCompat
import androidx.core.view.isVisible
import androidx.fragment.app.Fragment
import androidx.fragment.app.viewModels
import com.likeminds.feed.android.core.LMFeedCoreApplication
import com.likeminds.feed.android.core.LMFeedCoreApplication.Companion.LOG_TAG
import com.likeminds.feed.android.core.LMFeedTheme.*
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedFragmentReportBinding
import com.likeminds.feed.android.core.report.adapter.LMFeedReportTagAdapterListener
import com.likeminds.feed.android.core.report.model.*
import com.likeminds.feed.android.core.report.viewmodel.LMFeedReportViewModel
import com.likeminds.feed.android.core.ui.base.styles.setStyle
import com.likeminds.feed.android.core.ui.base.views.*
import com.likeminds.feed.android.core.ui.widgets.headerview.view.LMFeedHeaderView
import com.likeminds.feed.android.core.utils.*
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.pluralizeOrCapitalize
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics
import com.likeminds.feed.android.core.utils.pluralize.model.LMFeedWordAction
import com.likeminds.feed.android.core.utils.user.LMFeedUserPreferences
import java.util.Locale

open class LMFeedReportFragment : Fragment(), LMFeedReportTagAdapterListener {

    private lateinit var binding: LmFeedFragmentReportBinding

    private lateinit var reportExtras: LMFeedReportExtras

    private val reportViewModel: LMFeedReportViewModel by viewModels()

    private var tagSelected: LMFeedReportTagViewData? = null
    private lateinit var reasonOrTag: String

    private val userPreferences by lazy {
        LMFeedUserPreferences(requireContext())
    }

    companion object {
        const val TAG = "LMFeedReportFragment"
        const val LM_FEED_REPORT_RESULT = "LM_FEED_REPORT_RESULT"

        fun getInstance(reportExtras: LMFeedReportExtras): LMFeedReportFragment {
            val reportFragment = LMFeedReportFragment()
            val bundle = Bundle()
            bundle.putParcelable(LMFeedReportActivity.LM_FEED_REPORT_EXTRAS, reportExtras)
            reportFragment.arguments = bundle
            return reportFragment
        }
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        receiveExtras()
    }

    private fun receiveExtras() {
        reportExtras = LMFeedExtrasUtil.getParcelable(
            arguments,
            LMFeedReportActivity.LM_FEED_REPORT_EXTRAS,
            LMFeedReportExtras::class.java
        ) ?: throw emptyExtrasException(TAG)
    }

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View {
        binding = LmFeedFragmentReportBinding.inflate(layoutInflater)

        binding.apply {
            customizeReportFragmentHeaderView(headerViewReport)
            customizeReportHeaderText(tvReportHeader)
            customizeReportSubHeaderText(tvReportSubHeader)
            customizeReportReasonInput(etReason)
            customizeReportButton(btnPostReport)

            //set background color
            val backgroundColor =
                LMFeedStyleTransformer.reportFragmentViewStyle.backgroundColor
            backgroundColor?.let { color ->
                root.setBackgroundColor(
                    ContextCompat.getColor(
                        requireContext(),
                        color
                    )
                )
            }
        }
        return binding.root
    }

    //customizes the header view in the report fragment
    protected open fun customizeReportFragmentHeaderView(headerViewReport: LMFeedHeaderView) {
        headerViewReport.apply {
            setStyle(LMFeedStyleTransformer.reportFragmentViewStyle.headerViewStyle)

            setTitleText(getString(R.string.lm_feed_report_abuse))
        }
    }

    //customizes the header text in the report fragment
    protected open fun customizeReportHeaderText(tvReportHeader: LMFeedTextView) {
        tvReportHeader.apply {
            setStyle(LMFeedStyleTransformer.reportFragmentViewStyle.reportHeaderStyle)
        }
    }

    //customizes the sub header text in the report fragment
    protected open fun customizeReportSubHeaderText(tvReportSubHeader: LMFeedTextView) {
        tvReportSubHeader.apply {
            setStyle(LMFeedStyleTransformer.reportFragmentViewStyle.reportSubHeaderStyle)
        }
    }

    //customizes the input box for report reason in the report fragment
    protected open fun customizeReportReasonInput(etReason: LMFeedEditText) {
        etReason.apply {
            setStyle(LMFeedStyleTransformer.reportFragmentViewStyle.reportReasonInputStyle)
        }
    }

    //customizes the report button in the report fragment
    protected open fun customizeReportButton(btnPostReport: LMFeedButton) {
        btnPostReport.apply {
            setStyle(LMFeedStyleTransformer.reportFragmentViewStyle.reportButtonStyle)
        }
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        initUI()
        initListeners()
        fetchData()
        observeData()
    }

    private fun initUI() {
        initRecyclerView()
        initViewAsType()
    }

    private fun initRecyclerView() {
        binding.rvReportTags.setAdapter(this)
    }

    //set headers and sub header as per report type
    private fun initViewAsType() {
        binding.apply {
            when (reportExtras.entityType) {
                REPORT_TYPE_POST -> {
                    tvReportSubHeader.text = getString(
                        R.string.lm_feed_report_sub_header,
                        LMFeedCommunityUtil.getPostVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
                    )
                }

                REPORT_TYPE_COMMENT -> {
                    tvReportSubHeader.text = getString(
                        R.string.lm_feed_report_sub_header,
                        getString(
                            R.string.lm_feed_s_comment,
                            LMFeedCommunityUtil.getCommentVariable()
                                .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
                        )
                    )
                }

                REPORT_TYPE_REPLY -> {
                    tvReportSubHeader.text = getString(
                        R.string.lm_feed_report_sub_header,
                        getString(R.string.lm_feed_reply).lowercase(Locale.getDefault())
                    )
                }
            }
        }
    }

    private fun initListeners() {
        binding.btnPostReport.setOnClickListener {
            onReportSubmitted()
        }

        binding.headerViewReport.setOnClickListener {
            onNavigationIconClick()
        }
    }

    //processes the user submission of the report
    protected open fun onReportSubmitted() {
        binding.apply {
            //get selected tag
            tagSelected = rvReportTags.reportTags()
                .map { it as LMFeedReportTagViewData }
                .find { it.isSelected }

            //get reason for [edittext]
            val reason = etReason.text?.trim().toString()
            val isOthersSelected = tagSelected?.name?.contains("Others", true)

            //if no tag is selected
            if (tagSelected == null) {
                LMFeedViewUtils.showShortSnack(
                    root,
                    getString(R.string.lm_feed_selected_at_least_one_report_tag)
                )
                return
            }

            //if [Others] is selected but reason is empty
            if (isOthersSelected == true && reason.isEmpty()) {
                LMFeedViewUtils.showShortSnack(
                    root,
                    getString(R.string.lm_feed_please_enter_a_reason)
                )
                return
            }

            // update [reasonOrTag] with tag value or reason
            reasonOrTag = if (isOthersSelected == true) {
                reason
            } else {
                tagSelected?.name ?: reason
            }

            //call post api
            reportViewModel.postReport(
                reportExtras.entityId,
                reportExtras.uuid,
                reportExtras.entityType,
                tagSelected?.id,
                reason
            )
        }
    }

    //processes the navigation icon click
    protected open fun onNavigationIconClick() {
        requireActivity().onBackPressedDispatcher.onBackPressed()
    }

    private fun fetchData() {
        reportViewModel.getReportTags()
    }

    private fun observeData() {
        reportViewModel.listOfTagViewData.observe(viewLifecycleOwner) { tags ->
            binding.rvReportTags.replaceReportTags(tags)
        }

        reportViewModel.errorMessage.observe(viewLifecycleOwner) { error ->
            LMFeedViewUtils.showErrorMessageToast(requireContext(), error)
            requireActivity().setResult(Activity.RESULT_CANCELED)
            requireActivity().finish()
        }

        reportViewModel.postReportResponse.observe(viewLifecycleOwner) { success ->
            if (success) {
                Log.d(LOG_TAG, "report send successfully")

                //send analytics events
                sendReportEvent()

                val intent = Intent().apply {
                    putExtra(
                        LM_FEED_REPORT_RESULT,
                        LMFeedReportType.getEntityType(this@LMFeedReportFragment.reportExtras.entityType)
                    )
                }
                //set result, from where the result is coming.
                requireActivity().setResult(Activity.RESULT_OK, intent)
                requireActivity().finish()
            }
        }
    }

    //send report event depending upon which type of the report is created
    private fun sendReportEvent() {
        when (reportExtras.entityType) {
            REPORT_TYPE_POST -> {
                // sends post reported event
                when (LMFeedCoreApplication.selectedTheme) {
                    VIDEO_FEED -> {
                        LMFeedAnalytics.sendReelReportedEvent(
                            loggedInUUID = userPreferences.getUUID(),
                            reelCreatedByUUID = reportExtras.uuid,
                            reelId = reportExtras.entityId,
                            reason = reasonOrTag
                        )
                    }

                    SOCIAL_FEED, QNA_FEED -> {
                        LMFeedAnalytics.sendPostReportedEvent(
                            reportExtras.entityId,
                            reportExtras.uuid,
                            LMFeedViewUtils.getPostTypeFromViewType(reportExtras.postViewType),
                            reasonOrTag
                        )
                    }
                }
            }

            REPORT_TYPE_COMMENT -> {
                // sends comment reported event
                LMFeedAnalytics.sendCommentReportedEvent(
                    reportExtras.postId,
                    reportExtras.uuid,
                    reportExtras.entityId,
                    reasonOrTag
                )
            }

            REPORT_TYPE_REPLY -> {
                // sends reply reported event
                LMFeedAnalytics.sendReplyReportedEvent(
                    reportExtras.postId,
                    reportExtras.uuid,
                    reportExtras.parentCommentId,
                    reportExtras.entityId,
                    reasonOrTag
                )
            }
        }
    }

    override fun onReportTagSelected(reportTagViewData: LMFeedReportTagViewData) {
        super.onReportTagSelected(reportTagViewData)

        binding.apply {
            //check if [Others] is selected, edit text for reason should be visible
            etReason.isVisible = reportTagViewData.name.contains("Others", true)

            //replace list in adapter and only highlight selected tag
            rvReportTags.replaceReportTags(
                rvReportTags.reportTags()
                    .map {
                        (it as LMFeedReportTagViewData).toBuilder()
                            .isSelected(it.id == reportTagViewData.id)
                            .build()
                    })
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/report/view/LMFeedReportSuccessDialogFragment.kt
================================================
package com.likeminds.feed.android.core.report.view

import android.os.Bundle
import android.view.*
import androidx.fragment.app.DialogFragment
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedDialogFragmentReportSuccessBinding
import com.likeminds.feed.android.core.ui.widgets.alertdialog.view.LMFeedAlertDialogView
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.pluralizeOrCapitalize
import com.likeminds.feed.android.core.utils.pluralize.model.LMFeedWordAction

open class LMFeedReportSuccessDialogFragment(
    private val type: String
) : DialogFragment() {

    companion object {
        const val TAG = "LMFeedReportSuccessDialog"
    }

    private lateinit var binding: LmFeedDialogFragmentReportSuccessBinding

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View {
        binding = LmFeedDialogFragmentReportSuccessBinding.inflate(layoutInflater)

        customizeReportSuccessDialog(binding.alertDialogDelete)
        return binding.root
    }

    //customizes the report success dialog
    protected open fun customizeReportSuccessDialog(alertDialogDelete: LMFeedAlertDialogView) {
        val selfDeleteDialogFragmentStyle =
            LMFeedStyleTransformer.reportFragmentViewStyle.reportSuccessDialogFragmentStyle

        alertDialogDelete.setStyle(selfDeleteDialogFragmentStyle)
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        initUI()
    }

    //set title and sub title as per [type] received in constructor
    private fun initUI() {
        binding.alertDialogDelete.apply {
            setPositiveButtonEnabled(true)
            setAlertTitle(getString(R.string.lm_feed_s_is_reported_for_review, type))
            setAlertSubtitle(
                getString(
                    R.string.lm_feed_our_team_will_look_into_your_feedback_and_will_take_appropriate_action_on_this_s,
                    type.pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
                )
            )
            setAlertPositiveButtonText(getString(R.string.lm_feed_okay))
            setPositiveButtonClickListener {
                dismiss()
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/report/view/LMFeedReportTagListView.kt
================================================
package com.likeminds.feed.android.core.report.view

import android.content.Context
import android.util.AttributeSet
import androidx.recyclerview.widget.RecyclerView
import androidx.recyclerview.widget.SimpleItemAnimator
import com.google.android.flexbox.*
import com.likeminds.feed.android.core.report.adapter.LMFeedReportTagAdapter
import com.likeminds.feed.android.core.report.adapter.LMFeedReportTagAdapterListener
import com.likeminds.feed.android.core.report.model.LMFeedReportTagViewData
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType

class LMFeedReportTagListView @JvmOverloads constructor(
    context: Context,
    attrs: AttributeSet? = null,
    defStyleAttr: Int = 0
) : RecyclerView(context, attrs, defStyleAttr) {

    private lateinit var reportTagAdapter: LMFeedReportTagAdapter

    init {
        setHasFixedSize(true)

        //set flexbox layout manager to the tag view
        val flexboxLayoutManager = FlexboxLayoutManager(context)
        flexboxLayoutManager.flexDirection = FlexDirection.ROW
        flexboxLayoutManager.justifyContent = JustifyContent.FLEX_START

        layoutManager = flexboxLayoutManager

        if (itemAnimator is SimpleItemAnimator)
            (itemAnimator as SimpleItemAnimator).supportsChangeAnimations = false
    }

    //sets the adapter with the provided [listener] to the report tag recycler view
    fun setAdapter(listener: LMFeedReportTagAdapterListener) {
        reportTagAdapter = LMFeedReportTagAdapter(listener)
        adapter = reportTagAdapter
    }

    //replaces the report tags in the report tag adapter with the provided [reportTags]
    fun replaceReportTags(reportTags: List<LMFeedReportTagViewData>) {
        reportTagAdapter.replace(reportTags)
    }

    //returns the list of report tags in the report tag adapter
    fun reportTags(): List<LMFeedBaseViewType> {
        return reportTagAdapter.items()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/report/viewmodel/LMFeedReportViewModel.kt
================================================
package com.likeminds.feed.android.core.report.viewmodel

import androidx.lifecycle.*
import com.likeminds.feed.android.core.report.model.LMFeedReportTagViewData
import com.likeminds.feed.android.core.utils.LMFeedViewDataConvertor
import com.likeminds.feed.android.core.utils.coroutine.launchIO
import com.likeminds.likemindsfeed.LMFeedClient
import com.likeminds.likemindsfeed.LMResponse
import com.likeminds.likemindsfeed.moderation.model.*

class LMFeedReportViewModel : ViewModel() {

    private val lmFeedClient by lazy {
        LMFeedClient.getInstance()
    }

    private val _listOfTagViewData by lazy {
        MutableLiveData<List<LMFeedReportTagViewData>>()
    }
    val listOfTagViewData: LiveData<List<LMFeedReportTagViewData>> by lazy {
        _listOfTagViewData
    }

    private val _errorMessage: MutableLiveData<String?> by lazy {
        MutableLiveData()
    }

    val errorMessage: LiveData<String?> by lazy {
        _errorMessage
    }

    private val _postReportResponse by lazy {
        MutableLiveData<Boolean>()
    }

    val postReportResponse: LiveData<Boolean> by lazy {
        _postReportResponse
    }

    companion object {
        const val REPORT_TAG_TYPE = 3
    }

    //get report tags for reporting
    fun getReportTags() {
        viewModelScope.launchIO {
            val request = GetReportTagsRequest.Builder()
                .type(REPORT_TAG_TYPE)
                .build()

            reportTagsFetched(lmFeedClient.getReportTags(request))
        }
    }

    //to convert to TagViewData
    private fun reportTagsFetched(response: LMResponse<GetReportTagsResponse>) {
        if (response.success) {
            val data = response.data ?: return
            val tags = data.tags
            val tagsViewData = LMFeedViewDataConvertor.convertReportTag(tags)
            _listOfTagViewData.postValue(tagsViewData)
        } else {
            _errorMessage.postValue(response.errorMessage)
        }
    }

    //for reporting post/comment/reply
    fun postReport(
        entityId: String,
        uuid: String,
        entityType: Int,
        tagId: Int?,
        reason: String?
    ) {
        viewModelScope.launchIO {
            //if reason is empty then send [null] in request
            val updatedReason = if (reason.isNullOrEmpty()) {
                null
            } else {
                reason
            }

            val request = PostReportRequest.Builder()
                .entityId(entityId)
                .uuid(uuid)
                .entityType(entityType)
                .tagId(tagId ?: 0)
                .reason(updatedReason)
                .build()

            val response = lmFeedClient.postReport(request)

            if (response.success) {
                _postReportResponse.postValue(true)
            } else {
                _errorMessage.postValue(response.errorMessage)
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/search/model/LMFeedSearchExtras.kt
================================================
package com.likeminds.feed.android.core.search.model

import android.os.Parcelable
import com.likeminds.likemindsfeed.search.model.SearchType
import kotlinx.parcelize.Parcelize

@Parcelize
class LMFeedSearchExtras private constructor(
    val searchType: SearchType
) : Parcelable {

    class Builder {
        private var searchType: SearchType = SearchType.TEXT

        fun searchType(searchType: SearchType) = apply {
            this.searchType = searchType
        }

        fun build() = LMFeedSearchExtras(searchType)
    }

    fun toBuilder(): Builder {
        return Builder().searchType(searchType)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/search/style/LMFeedSearchFragmentViewStyle.kt
================================================
package com.likeminds.feed.android.core.search.style

import android.graphics.Typeface
import androidx.annotation.ColorRes
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.search.view.LMFeedSearchFragment
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.widgets.noentitylayout.style.LMFeedNoEntityLayoutViewStyle
import com.likeminds.feed.android.core.ui.widgets.searchbar.style.LMFeedSearchBarViewStyle
import com.likeminds.feed.android.core.utils.model.LMFeedPadding


/**
 * [LMFeedSearchFragmentViewStyle] helps you to customize the search feed fragment [LMFeedSearchFragment]
 *
 * @property feedSearchBarViewStyle : [LMFeedSearchBarViewStyle] this will help you to customize the search bar in the search feed fragment
 * @property noSearchResultLayoutViewStyle : [LMFeedNoEntityLayoutViewStyle] this will help you to customize the no search result layout in the feed search fragment
 * @property backgroundColor:  [Int] should be in format of [ColorRes] to add background color of the search bar | Default value = [null]
 *
 * */
class LMFeedSearchFragmentViewStyle private constructor(
    //search bar
    val feedSearchBarViewStyle: LMFeedSearchBarViewStyle,
    //no search result layout
    val noSearchResultLayoutViewStyle: LMFeedNoEntityLayoutViewStyle,
    //background color
    @ColorRes val backgroundColor: Int?
){
    class Builder {

        private var feedSearchBarViewStyle: LMFeedSearchBarViewStyle =
            LMFeedSearchBarViewStyle.Builder()
                .searchCloseIconStyle(
                    LMFeedIconStyle.Builder()
                        .inActiveSrc(R.drawable.lm_feed_ic_cross_black)
                        .iconTint(R.color.lm_feed_black)
                        .build()
                )
                .searchBackIconStyle(
                    LMFeedIconStyle.Builder()
                        .inActiveSrc(R.drawable.lm_feed_ic_arrow_back_black_24dp)
                        .build()
                )
                .backgroundColor(R.color.lm_feed_white)
                .elevation(R.dimen.lm_feed_elevation_small)
                .build()

        private var noSearchResultLayoutViewStyle: LMFeedNoEntityLayoutViewStyle =
            LMFeedNoEntityLayoutViewStyle.Builder()
                .imageStyle(
                    LMFeedImageStyle.Builder()
                        .imageSrc(R.drawable.lm_feed_ic_not_found)
                        .build()
                )
                .titleStyle(
                    LMFeedTextStyle.Builder()
                        .textColor(R.color.lm_feed_dark_grey)
                        .textSize(R.dimen.lm_feed_text_medium)
                        .typeface(Typeface.NORMAL)
                        .fontResource(R.font.lm_feed_roboto_medium)
                        .build()
                )
                .build()

        @ColorRes
        private var backgroundColor: Int? = null

        fun feedSearchBarViewStyle(feedSearchBarViewStyle: LMFeedSearchBarViewStyle) = apply {
            this.feedSearchBarViewStyle = feedSearchBarViewStyle
        }

        fun noSearchResultLayoutViewStyle(noSearchResultLayoutViewStyle: LMFeedNoEntityLayoutViewStyle) =
            apply {
                this.noSearchResultLayoutViewStyle = noSearchResultLayoutViewStyle
            }

        fun backgroundColor(@ColorRes backgroundColor: Int?) = apply {
            this.backgroundColor = backgroundColor
        }

        fun build() = LMFeedSearchFragmentViewStyle(
            feedSearchBarViewStyle,
            noSearchResultLayoutViewStyle,
            backgroundColor
        )

    }
    fun toBuilder(): Builder {
        return Builder().feedSearchBarViewStyle(feedSearchBarViewStyle)
            .noSearchResultLayoutViewStyle(noSearchResultLayoutViewStyle)
            .backgroundColor(backgroundColor)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/search/util/LMFeedSearchUtil.kt
================================================
package com.likeminds.feed.android.core.search.util

import android.graphics.Typeface
import android.text.Spannable
import android.text.SpannableStringBuilder
import android.text.style.*
import androidx.annotation.ColorInt
import com.likeminds.usertagging.util.UserTaggingDecoder

object LMFeedSearchUtil {
    // trims the post text to show only the part of the post that matches the keyword
    fun getTrimmedText(
        text: String,
        keywords: List<String>,
        @ColorInt color: Int,
        @ColorInt highlightColor: Int? = null,
    ): SpannableStringBuilder {
        val keyword = keywords[0]
        val trimmedText: String
        val ind: Int
        var wordPos = -1
        //split text into words
        val listOfWords = text.split(" ").map { it.trim() }

        //loop to find the position of the word that matches the keyword
        for (i in listOfWords.indices) {
            if (listOfWords[i].startsWith(keyword, ignoreCase = true)) {
                wordPos = i
                break
            }
        }
        //trim the text based on the position of the keyword
        if (wordPos <= 3) {
            trimmedText = text
        } else if (wordPos > 3 && wordPos < listOfWords.size - 5) {
            ind = text.indexOf(" $keyword", ignoreCase = true)
            val totalLen =
                listOfWords[wordPos - 3].length + listOfWords[wordPos - 2].length + listOfWords[wordPos - 1].length + 3
            trimmedText = "... " + text.substring(ind - totalLen)
        } else {
            var totalLen = 0
            for (i in listOfWords.size - 1 downTo listOfWords.size - 5) {
                totalLen += listOfWords[i].length
            }
            totalLen += 4
            trimmedText = if (listOfWords.size == 5) {
                text
            } else {
                "... " + text.substring(text.length - totalLen)
            }
        }
        return getHighlightedText(trimmedText, keywords, color, highlightColor)
    }

    //highlights the matched keywords in the provided text
    private fun getHighlightedText(
        stringToBeMatched: String,
        keywordsMatched: List<String>,
        color: Int,
        highlightColor: Int? = null
    ): SpannableStringBuilder {
        val str = SpannableStringBuilder(stringToBeMatched)
        //loop through each keyword to highlight in the post text
        keywordsMatched.forEach { keyword ->
            //check for if text starts with the keyword
            if (str.startsWith(keyword, ignoreCase = true)) {
                highlightMatchedText(str, color, highlightColor, 0, keyword.length)
            }

            //check for if the keyword appears elsewhere in the text
            if (str.contains(" $keyword", ignoreCase = true) ||
                str.contains(" @$keyword", ignoreCase = true) ||
                str.startsWith("@$keyword", ignoreCase = true)
            ) {
                var lastIndex = 0
                //loop to find all occurrences of keyword in text
                while (lastIndex != -1) {
                    lastIndex = str.indexOf(keyword, lastIndex, ignoreCase = true)
                    if (lastIndex != -1) {
                        //highlighting the keyword in the text
                        highlightMatchedText(
                            str,
                            color,
                            highlightColor,
                            lastIndex,
                            lastIndex + keyword.length
                        )
                        lastIndex += keyword.length
                    }
                }
            }
        }
        return str
    }

    // gives text color and highlightColor to the keyword in post's text
    private fun highlightMatchedText(
        str: SpannableStringBuilder,
        @ColorInt color: Int,
        @ColorInt highlightColor: Int? = null,
        startIndex: Int,
        endIndex: Int,
        applyBoldSpan: Boolean = true
    ) {
        // check if the bold styling should be applied
        if (applyBoldSpan) {
            str.setSpan(
                StyleSpan(Typeface.BOLD),
                startIndex,
                endIndex,
                Spannable.SPAN_EXCLUSIVE_EXCLUSIVE
            )
        }
        //setting color of the keyword
        str.setSpan(
            ForegroundColorSpan(color),
            startIndex,
            endIndex,
            Spannable.SPAN_EXCLUSIVE_EXCLUSIVE
        )
        // apply background highlight color if provided
        highlightColor?.let {
            str.setSpan(
                BackgroundColorSpan(it),
                startIndex,
                endIndex,
                Spannable.SPAN_EXCLUSIVE_EXCLUSIVE
            )
        }
    }

    // finds keywords searched in the post's text and add it in a list
    fun findMatchedKeyword(
        keywordSearched: String?,
        string: String?,
    ): MutableList<String> {
        val listOfKeywords = keywordSearched?.split(" ")?.map { it.trim() }
        val matchedKeywords = mutableListOf<String>()

        val stringDecoded = UserTaggingDecoder.decode(string)

        if (!listOfKeywords.isNullOrEmpty() && !string.isNullOrEmpty()) {
            // loop to find matches in the text
            listOfKeywords.forEach { keyword ->
                if (stringDecoded.contains(" $keyword", ignoreCase = true) ||
                    stringDecoded.contains(" @${keyword}", ignoreCase = true) ||
                    stringDecoded.startsWith(keyword, ignoreCase = true) ||
                    stringDecoded.startsWith("@$keyword", ignoreCase = true)
                ) {
                    matchedKeywords.add(keyword)
                }
            }
        }
        return matchedKeywords
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/search/view/LMFeedSearchActivity.kt
================================================
package com.likeminds.feed.android.core.search.view

import android.content.Context
import android.content.Intent
import android.os.Bundle
import androidx.appcompat.app.AppCompatActivity
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedSearchActivityBinding
import com.likeminds.feed.android.core.post.create.view.LMFeedCreatePostActivity
import com.likeminds.feed.android.core.search.model.LMFeedSearchExtras
import com.likeminds.feed.android.core.utils.*

open class LMFeedSearchActivity : AppCompatActivity() {

    lateinit var binding: LmFeedSearchActivityBinding
    private lateinit var lmFeedSearchFragmentExtras: LMFeedSearchExtras

    companion object {
        private const val TAG = "LMFeedSearchActivity"
        const val LM_FEED_SEARCH_EXTRAS = "LM_FEED_SEARCH_EXTRAS"
        private const val LM_FEED_SEARCH_BUNDLE = "LM_FEED_SEARCH_BUNDLE"

        @JvmStatic
        fun start(context: Context, extras: LMFeedSearchExtras) {
            val intent = Intent(context, LMFeedSearchActivity::class.java)
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_SEARCH_EXTRAS, extras)
            intent.putExtra(LM_FEED_SEARCH_BUNDLE, bundle)
            context.startActivity(intent)
        }

        @JvmStatic
        fun getIntent(context: Context, extras: LMFeedSearchExtras): Intent {
            val intent = Intent(context, LMFeedSearchActivity::class.java)
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_SEARCH_EXTRAS, extras)
            intent.putExtra(LM_FEED_SEARCH_BUNDLE, bundle)
            return intent
        }
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        binding = LmFeedSearchActivityBinding.inflate(layoutInflater)
        setContentView(binding.root)

        //parse extras
        assignExtras()

        //inflates search feed fragment
        inflateSearchFeedFragment()

    }

    //check for extras and handle the flow
    private fun assignExtras() {
        //get bundle
        val bundle = intent.getBundleExtra(LM_FEED_SEARCH_BUNDLE)

        //assign to global variable
        if (bundle != null) {
            lmFeedSearchFragmentExtras = LMFeedExtrasUtil.getParcelable(
                bundle,
                LM_FEED_SEARCH_EXTRAS,
                LMFeedSearchExtras::class.java
            ) ?: throw emptyExtrasException(LMFeedCreatePostActivity.TAG)
        } else {
            //close activity
            redirectActivity(true)
        }
    }

    private fun redirectActivity(isError: Boolean) {
        if (isError) {
            LMFeedViewUtils.showSomethingWentWrongToast(this)
        }
        supportFragmentManager.popBackStack()
        onBackPressedDispatcher.onBackPressed()
        overridePendingTransition(R.anim.lm_feed_slide_from_left, R.anim.lm_feed_slide_to_right)
    }

    protected open fun inflateSearchFeedFragment() {
        //gets feed search fragment instance
        val feedSearchFragment =
            LMFeedSearchFragment.getInstance(lmFeedSearchFragmentExtras)

        //commits fragment replace transaction
        supportFragmentManager.beginTransaction()
            .replace(
                binding.containerSearch.id,
                feedSearchFragment,
                TAG
            )
            .commit()
    }

}



================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/search/view/LMFeedSearchFragment.kt
================================================
package com.likeminds.feed.android.core.search.view

import android.app.Activity
import android.net.Uri
import android.os.Bundle
import android.view.*
import androidx.activity.result.contract.ActivityResultContracts
import androidx.core.app.ActivityCompat
import androidx.fragment.app.Fragment
import androidx.fragment.app.viewModels
import androidx.lifecycle.lifecycleScope
import com.likeminds.feed.android.core.LMFeedCoreApplication
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedSearchFragmentBinding
import com.likeminds.feed.android.core.delete.model.DELETE_TYPE_POST
import com.likeminds.feed.android.core.delete.model.LMFeedDeleteExtras
import com.likeminds.feed.android.core.delete.view.*
import com.likeminds.feed.android.core.likes.model.LMFeedLikesScreenExtras
import com.likeminds.feed.android.core.likes.model.POST
import com.likeminds.feed.android.core.likes.view.LMFeedLikesActivity
import com.likeminds.feed.android.core.poll.result.model.*
import com.likeminds.feed.android.core.poll.result.view.LMFeedPollResultsActivity
import com.likeminds.feed.android.core.post.detail.model.LMFeedPostDetailExtras
import com.likeminds.feed.android.core.post.detail.view.LMFeedPostDetailActivity
import com.likeminds.feed.android.core.post.edit.model.LMFeedEditPostExtras
import com.likeminds.feed.android.core.post.edit.view.LMFeedEditPostActivity
import com.likeminds.feed.android.core.post.model.LMFeedAttachmentViewData
import com.likeminds.feed.android.core.post.util.LMFeedPostEvent
import com.likeminds.feed.android.core.post.util.LMFeedPostObserver
import com.likeminds.feed.android.core.post.viewmodel.LMFeedHelperViewModel
import com.likeminds.feed.android.core.post.viewmodel.LMFeedPostViewModel
import com.likeminds.feed.android.core.postmenu.model.*
import com.likeminds.feed.android.core.report.model.LMFeedReportExtras
import com.likeminds.feed.android.core.report.model.REPORT_TYPE_POST
import com.likeminds.feed.android.core.report.view.*
import com.likeminds.feed.android.core.search.model.LMFeedSearchExtras
import com.likeminds.feed.android.core.search.view.LMFeedSearchActivity.Companion.LM_FEED_SEARCH_EXTRAS
import com.likeminds.feed.android.core.search.viewmodel.LMFeedSearchViewModel
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.socialfeed.util.LMFeedPostBinderUtils
import com.likeminds.feed.android.core.ui.widgets.noentitylayout.view.LMFeedNoEntityLayoutView
import com.likeminds.feed.android.core.ui.widgets.overflowmenu.view.LMFeedOverflowMenu
import com.likeminds.feed.android.core.ui.widgets.poll.model.LMFeedAddPollOptionExtras
import com.likeminds.feed.android.core.ui.widgets.poll.view.*
import com.likeminds.feed.android.core.ui.widgets.searchbar.view.LMFeedSearchBarListener
import com.likeminds.feed.android.core.ui.widgets.searchbar.view.LMFeedSearchBarView
import com.likeminds.feed.android.core.utils.*
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.pluralizeOrCapitalize
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.coroutine.observeInLifecycle
import com.likeminds.feed.android.core.utils.pluralize.model.LMFeedWordAction
import com.likeminds.feed.android.core.utils.user.LMFeedUserMetaData
import com.likeminds.feed.android.core.utils.user.LMFeedUserPreferences
import com.likeminds.likemindsfeed.post.model.PollMultiSelectState
import kotlinx.coroutines.flow.onEach

open class LMFeedSearchFragment : Fragment(),
    LMFeedPostAdapterListener,
    LMFeedAdminDeleteDialogListener,
    LMFeedSelfDeleteDialogListener,
    LMFeedAddPollOptionBottomSheetListener,
    LMFeedPostObserver {

    private lateinit var binding: LmFeedSearchFragmentBinding
    private lateinit var lmFeedSearchFragmentExtras: LMFeedSearchExtras

    private val searchViewModel: LMFeedSearchViewModel by viewModels()

    // keyword entered in the search bar
    private var searchKeyword: String? = null

    companion object {
        const val TAG = "LMFeedSearchFragment"

        fun getInstance(searchFragmentExtras: LMFeedSearchExtras): LMFeedSearchFragment {
            val searchFragment = LMFeedSearchFragment()
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_SEARCH_EXTRAS, searchFragmentExtras)
            searchFragment.arguments = bundle
            return searchFragment
        }
    }

    private val postEvent by lazy {
        LMFeedPostEvent.getPublisher()
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        //receive extras
        receiveExtras()
    }

    private fun receiveExtras() {
        if (arguments == null || arguments?.containsKey(LM_FEED_SEARCH_EXTRAS) == false) {
            requireActivity().supportFragmentManager.popBackStack()
            return
        }

        lmFeedSearchFragmentExtras = LMFeedExtrasUtil.getParcelable(
            arguments,
            LM_FEED_SEARCH_EXTRAS,
            LMFeedSearchExtras::class.java
        ) ?: throw emptyExtrasException(TAG)
    }

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View {
        binding = LmFeedSearchFragmentBinding.inflate(layoutInflater)

        binding.apply {
            rvSearch.initAdapterAndSetListener(this@LMFeedSearchFragment)

            customizeFeedSearchBarView(feedSearchBarView)
            customizeNoSearchResultLayout(layoutNoResultFound)
            customizeSearchListView(rvSearch)
        }

        return binding.root
    }

    //customizes the search bar view
    protected open fun customizeFeedSearchBarView(searchBarView: LMFeedSearchBarView) {
        searchBarView.apply {
            val searchBarStyle =
                LMFeedStyleTransformer.searchFeedFragmentViewStyle.feedSearchBarViewStyle
            setStyle(searchBarStyle)
        }
    }

    //customizes the no search result layout
    protected open fun customizeNoSearchResultLayout(layoutNoResult: LMFeedNoEntityLayoutView) {
        layoutNoResult.apply {
            val noSearchResultLayoutStyle =
                LMFeedStyleTransformer.searchFeedFragmentViewStyle.noSearchResultLayoutViewStyle

            setStyle(noSearchResultLayoutStyle)
            setTitleText(getString(R.string.lm_feed_search_no_results))
        }
    }

    //customizes the search list view
    protected open fun customizeSearchListView(rvSearchListView: LMFeedSearchListView) {
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)
        initUI()
        observeResponses()
    }

    override fun onStart() {
        super.onStart()
        postEvent.subscribe(this)
    }

    override fun onResume() {
        super.onResume()
        binding.rvSearch.initiateVideoAutoPlayer()
    }

    override fun onPause() {
        super.onPause()
        binding.rvSearch.destroyVideoAutoPlayer()
    }

    override fun onDestroy() {
        super.onDestroy()
        // unsubscribes itself from the [PostPublisher]
        postEvent.unsubscribe(this)
    }

    override fun onDestroyView() {
        super.onDestroyView()
        binding.rvSearch.destroyVideoAutoPlayer()
    }

    // initializes the UI by setting up the recycler view and search bar view
    private fun initUI() {
        initSearchView()
        initRecyclerView()
    }

    // handles the back press of search bar for this fragment
    protected open fun onSearchViewClosed() {
        requireActivity().onBackPressedDispatcher.onBackPressed()
    }

    // handles the cross press of search bar for this fragment
    protected open fun onSearchCrossed() {
        binding.rvSearch.hide()
    }

    // initializes the search bar view
    private fun initSearchView() {
        binding.feedSearchBarView.apply {
            initialize(lifecycleScope)
            //open search bar with animation
            post {
                openSearch()
            }

            //set search listener
            val searchListener = object : LMFeedSearchBarListener {
                override fun onSearchViewOpened() {
                    super.onSearchViewOpened()
                    binding.layoutNoResultFound.hide()
                }

                override fun onSearchViewClosed() {
                    super.onSearchViewClosed()
                    this@LMFeedSearchFragment.onSearchViewClosed()
                }

                override fun onSearchCrossed() {
                    super.onSearchCrossed()
                    this@LMFeedSearchFragment.onSearchCrossed()
                    binding.apply {
                        layoutNoResultFound.hide()
                        rvSearch.clearPostsAndNotify()
                    }
                }

                override fun onKeywordEntered(keyword: String) {
                    super.onKeywordEntered(keyword)
                    if (keyword.isNotEmpty()) {
                        updateSearchedPosts(keyword)
                    } else {
                        binding.apply {
                            layoutNoResultFound.hide()
                            rvSearch.clearPostsAndNotify()
                        }
                    }
                }

                override fun onEmptyKeywordEntered() {
                    super.onEmptyKeywordEntered()
                    binding.apply {
                        layoutNoResultFound.hide()
                        rvSearch.clearPostsAndNotify()
                    }
                }
            }

            setSearchViewListener(searchListener)
            observeSearchView(true)
        }
    }

    // initializes the recycler view
    private fun initRecyclerView() {
        LMFeedProgressBarHelper.showProgress(binding.progressBar)
        binding.rvSearch.apply {
            setAdapter()
            //set scroll listener
            val paginationScrollListener =
                object : LMFeedEndlessRecyclerViewScrollListener(linearLayoutManager) {
                    override fun onLoadMore(currentPage: Int) {
                        if (currentPage > 0) {
                            // calls api for paginated data
                            searchKeyword?.let { searchString ->
                                searchViewModel.searchPosts(
                                    currentPage,
                                    searchString,
                                    lmFeedSearchFragmentExtras.searchType
                                )
                            }
                        }
                    }
                }
            setPaginationScrollListener(paginationScrollListener)
        }
    }

    // replaces the adapter with the new posts
    private fun checkPostsAndReplace(posts: List<LMFeedPostViewData>) {
        binding.rvSearch.apply {
            checkForNoPost(posts)
            replacePosts(posts)
            scrollToPosition(0)
            refreshVideoAutoPlayer()
        }
    }

    // checks for no posts in response and shows the no result layout
    private fun checkForNoPost(feed: List<LMFeedBaseViewType>) {
        binding.apply {
            if (feed.isNotEmpty()) {
                layoutNoResultFound.hide()
                rvSearch.show()
            } else {
                binding.apply {
                    layoutNoResultFound.show()
                    rvSearch.clearPostsAndNotify()
                }
            }
        }
    }

    // updates the searched posts
    private fun updateSearchedPosts(keyword: String?) {
        binding.rvSearch.apply {
            resetScrollListenerData()
            clearPostsAndNotify()
        }

        //trims the keyword for leading and trailing spaces before api call
        searchKeyword = keyword?.trim()

        //call apis
        searchKeyword?.let { searchString ->
            searchViewModel.searchPosts(
                1,
                searchString,
                lmFeedSearchFragmentExtras.searchType
            )
        }
    }

    private fun observeResponses() {
        LMFeedProgressBarHelper.showProgress(binding.progressBar)
        //observers post response
        searchViewModel.postViewModel.postResponse.observe(viewLifecycleOwner) { postViewData ->
            binding.rvSearch.apply {
                val index = getIndexAndPostFromAdapter(postViewData.id)?.first ?: return@observe
                updatePostItem(index, postViewData)

                //notifies the subscribers about the change in post data
                postEvent.notify(Pair(postViewData.id, postViewData))
            }
        }

        // observe search post response
        searchViewModel.searchFeedResponse.observe(viewLifecycleOwner) { response ->
            val page = response.first
            val posts = response.second
            binding.apply {
                if (page == 1) {
                    checkPostsAndReplace(posts)
                } else {
                    rvSearch.addPosts(posts)
                    rvSearch.refreshVideoAutoPlayer()
                }
            }
            LMFeedProgressBarHelper.hideProgress(binding.progressBar)
        }

        // observes deletePostResponse LiveData
        searchViewModel.helperViewModel.deletePostResponse.observe(viewLifecycleOwner) { postId ->
            postEvent.notify(Pair(postId, null))

            binding.rvSearch.apply {
                val indexToRemove = getIndexAndPostFromAdapter(postId)?.first ?: return@observe
                removePostAtIndex(indexToRemove)
                checkForNoPost(allPosts())
                refreshVideoAutoPlayer()
                LMFeedViewUtils.showShortToast(
                    requireContext(),
                    getString(
                        R.string.lm_feed_s_deleted,
                        LMFeedCommunityUtil.getPostVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                    )
                )
            }
        }

        searchViewModel.helperViewModel.postSavedResponse.observe(viewLifecycleOwner) { postViewData ->
            //create toast message
            val toastMessage = if (postViewData.actionViewData.isSaved) {
                getString(
                    R.string.lm_feed_s_saved,
                    LMFeedCommunityUtil.getPostVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            } else {
                getString(
                    R.string.lm_feed_s_unsaved,
                    LMFeedCommunityUtil.getPostVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            }
            LMFeedViewUtils.showShortToast(requireContext(), toastMessage)
        }

        searchViewModel.helperViewModel.postPinnedResponse.observe(viewLifecycleOwner) { postViewData ->
            //show toast message
            val toastMessage = if (postViewData.headerViewData.isPinned) {
                getString(
                    R.string.lm_feed_s_pinned_to_top,
                    LMFeedCommunityUtil.getPostVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            } else {
                getString(
                    R.string.lm_feed_s_unpinned,
                    LMFeedCommunityUtil.getPostVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            }
            LMFeedViewUtils.showShortToast(requireContext(), toastMessage)
        }

        //observers get post response
        searchViewModel.postViewModel.postResponse.observe(viewLifecycleOwner) { postViewData ->
            binding.rvSearch.apply {
                val index = getIndexAndPostFromAdapter(postViewData.id)?.first ?: return@observe
                updatePostItem(index, postViewData)
            }
        }

        searchViewModel.postViewModel.errorMessageEventFlow.onEach { response ->
            when (response) {
                is LMFeedPostViewModel.ErrorMessageEvent.SubmitVote -> {
                    LMFeedViewUtils.showErrorMessageToast(
                        requireContext(),
                        response.errorMessage
                    )
                }

                is LMFeedPostViewModel.ErrorMessageEvent.AddPollOption -> {
                    LMFeedViewUtils.showErrorMessageToast(
                        requireContext(),
                        response.errorMessage
                    )
                }

                is LMFeedPostViewModel.ErrorMessageEvent.GetPost -> {
                    LMFeedViewUtils.showErrorMessageToast(
                        requireContext(),
                        response.errorMessage
                    )
                }

                else -> {}
            }
        }

        searchViewModel.helperViewModel.errorMessageEventFlow.onEach { response ->
            when (response) {
                is LMFeedHelperViewModel.ErrorMessageEvent.DeletePost -> {
                    val errorMessage = response.errorMessage
                    LMFeedViewUtils.showErrorMessageToast(requireContext(), errorMessage)
                }

                is LMFeedHelperViewModel.ErrorMessageEvent.LikePost -> {
                    val postId = response.postId

                    //get post and index
                    val pair =
                        binding.rvSearch.getIndexAndPostFromAdapter(postId) ?: return@onEach
                    val post = pair.second
                    val index = pair.first

                    val postActionData = post.actionViewData

                    val newLikesCount = if (postActionData.isLiked) {
                        postActionData.likesCount - 1
                    } else {
                        postActionData.likesCount + 1
                    }

                    val updatedIsLiked = !postActionData.isLiked

                    val updatedActionViewData = postActionData.toBuilder()
                        .isLiked(updatedIsLiked)
                        .likesCount(newLikesCount)
                        .build()

                    val updatedPostData = post.toBuilder()
                        .actionViewData(updatedActionViewData)
                        .fromPostLiked(true)
                        .build()

                    // notifies the subscribers about the change
                    postEvent.notify(Pair(updatedPostData.id, updatedPostData))

                    binding.rvSearch.updatePostItem(index, updatedPostData)

                    //show error message
                    LMFeedViewUtils.showSomethingWentWrongToast(requireContext())
                }

                is LMFeedHelperViewModel.ErrorMessageEvent.PinPost -> {
                    binding.rvSearch.apply {
                        val postId = response.postId

                        //get post and index
                        val pair = getIndexAndPostFromAdapter(postId) ?: return@onEach
                        val post = pair.second
                        val index = pair.first

                        //update header view data
                        val updatedHeaderView = post.headerViewData.toBuilder()
                            .isPinned(!post.headerViewData.isPinned)
                            .build()

                        //update post view data
                        val updatedPostViewData = post.toBuilder()
                            .headerViewData(updatedHeaderView)
                            .build()

                        //update recycler view
                        updatePostItem(index, updatedPostViewData)

                        //show error message
                        LMFeedViewUtils.showSomethingWentWrongToast(requireContext())
                    }
                }

                is LMFeedHelperViewModel.ErrorMessageEvent.SavePost -> {
                    binding.rvSearch.apply {
                        val postId = response.postId

                        //get post and index
                        val pair = getIndexAndPostFromAdapter(postId) ?: return@onEach
                        val post = pair.second
                        val index = pair.first

                        //update action view data
                        val updatedActionView = post.actionViewData.toBuilder()
                            .isSaved(!post.actionViewData.isSaved)
                            .build()

                        //update post view data
                        val updatedPostViewData = post.toBuilder()
                            .actionViewData(updatedActionView)
                            .fromPostSaved(true)
                            .build()

                        //update recycler view
                        updatePostItem(index, updatedPostViewData)

                        //show error message
                        LMFeedViewUtils.showSomethingWentWrongToast(requireContext())
                    }
                }

                else -> {}
            }
        }

        searchViewModel.errorMessageEventFlow.onEach { response ->
            when (response) {
                is LMFeedSearchViewModel.ErrorMessageEvent.SearchPost -> {
                    val errorMessage = response.errorMessage
                    LMFeedProgressBarHelper.hideProgress(binding.progressBar)
                    LMFeedViewUtils.showErrorMessageToast(requireContext(), errorMessage)
                }
            }
        }.observeInLifecycle(viewLifecycleOwner)
    }

    //callback when the user clicks on the post content
    override fun onPostContentClicked(position: Int, postViewData: LMFeedPostViewData) {
        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(postViewData.id)
            .isEditTextFocused(false)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //callback when the user clicks on the post like button
    override fun onPostLikeClicked(position: Int, postViewData: LMFeedPostViewData) {
        val userPreferences = LMFeedUserPreferences(requireContext())
        val loggedInUUID = userPreferences.getUUID()

        // notifies the subscribers about the change
        postEvent.notify(Pair(postViewData.id, postViewData))

        //call api
        searchViewModel.helperViewModel.likePost(
            postViewData.id,
            postViewData.actionViewData.isLiked,
            loggedInUUID
        )

        binding.rvSearch.apply {
            val adapterPosition = getIndexAndPostFromAdapter(postViewData.id)?.first ?: return

            //update recycler
            updatePostItem(adapterPosition, postViewData)
        }
    }

    //callback when the user clicks on the post likes count
    override fun onPostLikesCountClicked(position: Int, postViewData: LMFeedPostViewData) {
        //show the likes screen
        val likesScreenExtras = LMFeedLikesScreenExtras.Builder()
            .postId(postViewData.id)
            .entityType(POST)
            .build()
        LMFeedLikesActivity.start(requireContext(), likesScreenExtras)
    }

    //callback when the user clicks on the post comments count
    override fun onPostCommentsCountClicked(position: Int, postViewData: LMFeedPostViewData) {
        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(postViewData.id)
            .isEditTextFocused(true)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //callback when the user clicks on the save post button
    override fun onPostSaveClicked(position: Int, postViewData: LMFeedPostViewData) {

        // notifies the subscribers about the change
        postEvent.notify(Pair(postViewData.id, postViewData))

        //call api
        searchViewModel.helperViewModel.savePost(postViewData)

        binding.rvSearch.apply {
            val adapterPosition = getIndexAndPostFromAdapter(postViewData.id)?.first ?: return

            //update recycler
            updatePostItem(adapterPosition, postViewData)
        }
    }

    //callback when the user clicks on the share post button
    override fun onPostShareClicked(position: Int, postViewData: LMFeedPostViewData) {
        val userMeta = LMFeedUserMetaData.getInstance()
        LMFeedShareUtils.sharePost(
            requireContext(),
            postViewData.id,
            userMeta.domain ?: "",
            LMFeedCommunityUtil.getPostVariable()
        )

        LMFeedAnalytics.sendPostShared(postViewData)
    }

    //updates the fromPostLiked/fromPostSaved variables and updates the rv list
    override fun updateFromLikedSaved(position: Int, postViewData: LMFeedPostViewData) {
        val updatedPostData = postViewData.toBuilder()
            .fromPostLiked(false)
            .fromPostSaved(false)
            .build()

        binding.rvSearch.updatePostWithoutNotifying(position, updatedPostData)
    }

    //callback when the user clicks on the link in the post content
    override fun onPostContentLinkClicked(url: String) {
        // creates a route and returns an intent to handle the link
        val intent = LMFeedRoute.handleDeepLink(requireContext(), url)
        if (intent != null) {
            try {
                // starts activity with the intent
                ActivityCompat.startActivity(requireContext(), intent, null)
            } catch (e: Exception) {
                e.printStackTrace()
            }
        }
    }

    //callback when the user clicks on the post menu icon
    override fun onPostMenuIconClicked(
        position: Int,
        anchorView: View,
        postViewData: LMFeedPostViewData
    ) {
        val popupMenu = LMFeedOverflowMenu(requireContext(), anchorView)
        val menuItems = postViewData.headerViewData.menuItems
        popupMenu.addMenuItems(menuItems)

        popupMenu.setMenuItemClickListener { menuId ->
            onPostMenuItemClicked(position, menuId, postViewData)
        }

        popupMenu.show()
    }

    //callback when the user clicks on the post image media
    override fun onPostImageMediaClicked(position: Int, postViewData: LMFeedPostViewData) {
        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(postViewData.id)
            .isEditTextFocused(false)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //callback when the user clicks on the post video media
    override fun onPostVideoMediaClicked(position: Int, postViewData: LMFeedPostViewData) {
        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(postViewData.id)
            .isEditTextFocused(false)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //callback when the user clicks on the post link media
    override fun onPostLinkMediaClicked(position: Int, postViewData: LMFeedPostViewData) {
        // creates a route and returns an intent to handle the link
        val intent = LMFeedRoute.handleDeepLink(
            requireContext(),
            postViewData.mediaViewData.attachments.firstOrNull()?.attachmentMeta?.ogTags?.url
        )

        if (intent != null) {
            try {
                // starts activity with the intent
                ActivityCompat.startActivity(requireContext(), intent, null)
            } catch (e: Exception) {
                e.printStackTrace()
            }
        }
    }

    //callback when the user clicks on the post documents media
    override fun onPostDocumentMediaClicked(
        position: Int,
        parentPosition: Int,
        attachmentViewData: LMFeedAttachmentViewData
    ) {
        //open the pdf using Android's document view
        val documentUrl = attachmentViewData.attachmentMeta.url ?: ""
        val pdfUri = Uri.parse(documentUrl)
        LMFeedAndroidUtils.startDocumentViewer(requireContext(), pdfUri)
    }

    //callback when the user clicks on the post image inside multiple media
    override fun onPostMultipleMediaImageClicked(
        position: Int,
        parentPosition: Int,
        attachmentViewData: LMFeedAttachmentViewData
    ) {
        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(attachmentViewData.postId)
            .isEditTextFocused(false)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //callback when the user clicks on the post video inside multiple media
    override fun onPostMultipleMediaVideoClicked(
        position: Int,
        parentPosition: Int,
        attachmentViewData: LMFeedAttachmentViewData
    ) {
        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(attachmentViewData.postId)
            .isEditTextFocused(false)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //called when the page in the multiple media post is changed
    override fun onPostMultipleMediaPageChangeCallback(position: Int, parentPosition: Int) {
        //processes the current video whenever view pager's page is changed
        binding.rvSearch.refreshVideoAutoPlayer()
    }

    //called when show more is clicked in the documents type post
    override fun onPostMultipleDocumentsExpanded(
        position: Int,
        postViewData: LMFeedPostViewData
    ) {
        binding.rvSearch.apply {
            if (position == itemCount - 1) {
                scrollToPositionWithOffset(position)
            }

            val updatedMediaViewData = postViewData.mediaViewData
                .toBuilder()
                .isExpanded(true)
                .build()

            val updatedPostViewData = postViewData.toBuilder()
                .mediaViewData(updatedMediaViewData)
                .fromPostSaved(false)
                .fromPostLiked(false)
                .build()

            binding.rvSearch.apply {
                val adapterPosition =
                    getIndexAndPostFromAdapter(updatedPostViewData.id)?.first ?: return

                //updates the [isExpanded] for the document item to true
                updatePostItem(adapterPosition, updatedPostViewData)
            }
        }
    }

    //callback when the user clicks on the post author header
    override fun onPostAuthorHeaderClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostAuthorHeaderClicked(position, postViewData)

        val coreCallback = LMFeedCoreApplication.getLMFeedCoreCallback()
        coreCallback?.openProfile(postViewData.headerViewData.user)
    }

    override fun onEntityDeletedByAdmin(deleteExtras: LMFeedDeleteExtras, reason: String) {
        val post =
            binding.rvSearch.getIndexAndPostFromAdapter(deleteExtras.postId)?.second ?: return
        searchViewModel.helperViewModel.deletePost(post, reason)
    }

    override fun onEntityDeletedByAuthor(deleteExtras: LMFeedDeleteExtras) {
        val post =
            binding.rvSearch.getIndexAndPostFromAdapter(deleteExtras.postId)?.second ?: return
        searchViewModel.helperViewModel.deletePost(post)
    }

    override fun update(postData: Pair<String, LMFeedPostViewData?>) {
        val postId = postData.first
        // fetches post from adapter
        binding.rvSearch.apply {
            val postIndexPair = getIndexAndPostFromAdapter(postId) ?: return
            val postIndex = postIndexPair.first

            //updated post:{} from event
            var updatedPost = postData.second

            //existing post in adapter
            val existingPost = postIndexPair.second

            // updates the item in adapter
            if (updatedPost == null) {
                // Post was deleted!
                removePostAtIndex(postIndex)
            } else {
                //updated post content
                val updatedPostContent = updatedPost.contentViewData

                //existing matched keywords
                val existingKeywords = existingPost.contentViewData.keywordMatchedInPostText

                //add the matched keywords into updated post
                updatedPost = updatedPost.toBuilder()
                    .contentViewData(
                        updatedPostContent.toBuilder()
                            .keywordMatchedInPostText(existingKeywords)
                            .build()
                    )
                    .build()

                // Post was updated
                updatePostItem(postIndex, updatedPost)
            }
        }
    }

    //callback when the tag of the user is clicked
    override fun onPostTaggedMemberClicked(position: Int, uuid: String) {
        super.onPostTaggedMemberClicked(position, uuid)

        val coreCallback = LMFeedCoreApplication.getLMFeedCoreCallback()
        coreCallback?.openProfileWithUUID(uuid)
    }

    //callback when the post title is clicked
    override fun onPostPollTitleClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostPollTitleClicked(position, postViewData)

        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(postViewData.id)
            .isEditTextFocused(false)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //callback when add poll option is clicked
    override fun onPostAddPollOptionClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostAddPollOptionClicked(position, postViewData)

        val pollAttachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
        val pollId = pollAttachment.attachmentMeta.poll?.id ?: return

        val addPollOptionExtras = LMFeedAddPollOptionExtras.Builder()
            .postId(postViewData.id)
            .pollId(pollId)
            .build()

        LMFeedAddPollOptionBottomSheetFragment.newInstance(
            childFragmentManager,
            addPollOptionExtras
        )
    }

    //callback when the poll member voted count is clicked
    override fun onPostMemberVotedCountClicked(
        position: Int,
        postViewData: LMFeedPostViewData
    ) {
        super.onPostMemberVotedCountClicked(position, postViewData)

        val pollAttachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
        val pollViewData = pollAttachment.attachmentMeta.poll ?: return

        if (pollViewData.isAnonymous) {
            LMFeedAnonymousPollDialogFragment.showDialog(childFragmentManager)
            return
        }

        if (pollViewData.toShowResults || pollViewData.hasPollEnded()) {
            val pollResultsExtras = LMFeedPollResultsExtras.Builder()
                .pollId(pollViewData.id)
                .pollOptions(pollViewData.options)
                .build()

            LMFeedPollResultsActivity.start(requireContext(), pollResultsExtras)
        } else {
            LMFeedViewUtils.showShortToast(
                requireContext(),
                getString(R.string.lm_feed_the_results_will_be_visible_after_the_poll_has_ended)
            )
        }
    }

    //callback when the submit poll vote button is clicked
    override fun onPostSubmitPollVoteClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostSubmitPollVoteClicked(position, postViewData)

        val pollAttachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
        val pollViewData = pollAttachment.attachmentMeta.poll ?: return

        val selectedOptions = pollViewData.options.filter { it.isSelected }
        val selectedOptionIds = selectedOptions.map { it.id }

        validateSelectedPollOptions(pollViewData, selectedOptions.size) {
            searchViewModel.postViewModel.submitPollVote(
                requireContext(),
                postViewData.id,
                pollViewData.id,
                selectedOptionIds
            )
        }
    }

    //validates user submitted poll votes for multiple choice poll
    private fun validateSelectedPollOptions(
        pollViewData: LMFeedPollViewData,
        selectedOptionsCount: Int,
        onValidationSuccess: () -> Unit
    ) {
        val multipleSelectNumber = pollViewData.multipleSelectNumber
        val multipleSelectState = pollViewData.multipleSelectState

        when (multipleSelectState) {
            PollMultiSelectState.EXACTLY -> {
                if (selectedOptionsCount != multipleSelectNumber) {
                    LMFeedViewUtils.showShortSnack(
                        binding.root,
                        resources.getQuantityString(
                            R.plurals.lm_feed_please_select_exactly_d_options,
                            multipleSelectNumber,
                            multipleSelectNumber
                        )
                    )
                    return
                }
            }

            PollMultiSelectState.AT_MAX -> {
                if (selectedOptionsCount > multipleSelectNumber) {
                    LMFeedViewUtils.showShortSnack(
                        binding.root,
                        resources.getQuantityString(
                            R.plurals.lm_feed_please_select_at_most_d_options,
                            multipleSelectNumber,
                            multipleSelectNumber
                        )
                    )
                    return
                }
            }

            PollMultiSelectState.AT_LEAST -> {
                if (selectedOptionsCount < multipleSelectNumber) {
                    LMFeedViewUtils.showShortSnack(
                        binding.root,
                        resources.getQuantityString(
                            R.plurals.lm_feed_please_select_at_least_d_options,
                            multipleSelectNumber,
                            multipleSelectNumber
                        )
                    )
                    return
                }
            }
        }
        onValidationSuccess()
    }

    //callback when the poll edit vote button is clicked
    override fun onPostEditPollVoteClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostEditPollVoteClicked(position, postViewData)

        binding.rvSearch.apply {
            val postIndex = getIndexAndPostFromAdapter(postViewData.id)?.first ?: return

            val attachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
            val pollViewData = attachment.attachmentMeta.poll ?: return


            //update the poll view data
            val updatedPollViewData = pollViewData.toBuilder()
                .isPollSubmitted(false)
                .build()

            //update the attachments with the updated poll view data
            val updatedAttachments = listOf(
                attachment.toBuilder()
                    .attachmentMeta(
                        attachment.attachmentMeta.toBuilder()
                            .poll(updatedPollViewData)
                            .build()
                    )
                    .build()
            )

            //update the post view data
            val updatedPostViewData = postViewData.toBuilder()
                .mediaViewData(
                    postViewData.mediaViewData.toBuilder()
                        .attachments(updatedAttachments)
                        .build()
                )
                .build()

            updatePostItem(postIndex, updatedPostViewData)
        }
    }

    //callback when the poll option is clicked
    override fun onPollOptionClicked(
        pollPosition: Int,
        pollOptionPosition: Int,
        pollOptionViewData: LMFeedPollOptionViewData
    ) {
        super.onPollOptionClicked(
            pollPosition,
            pollOptionPosition,
            pollOptionViewData
        )

        val postViewData = binding.rvSearch.allPosts()[pollPosition] as LMFeedPostViewData
        val attachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
        val pollViewData = attachment.attachmentMeta.poll ?: return

        when {
            pollViewData.hasPollEnded() -> {
                LMFeedViewUtils.showShortToast(
                    requireContext(),
                    getString(R.string.lm_feed_poll_ended_vote_cannot_be_submitted_now)
                )
                return
            }

            (pollViewData.isPollSubmitted && pollViewData.isInstantPoll()) -> {
                return
            }

            !pollViewData.isMultiChoicePoll() -> {
                if (pollViewData.isPollSubmitted) {
                    return
                }

                //call api to submit vote
                searchViewModel.postViewModel.submitPollVote(
                    requireContext(),
                    postViewData.id,
                    pollViewData.id,
                    listOf(pollOptionViewData.id)
                )
            }

            else -> {
                if (pollViewData.isPollSubmitted) {
                    return
                }

                //update the clicked poll option view data
                val updatedPollOptionViewData = if (pollOptionViewData.isSelected) {
                    pollOptionViewData.toBuilder()
                        .isSelected(false)
                        .build()
                } else {
                    pollOptionViewData.toBuilder()
                        .isSelected(true)
                        .build()
                }

                //update the poll view data
                val updatedPollViewData = pollViewData.toBuilder()
                    .options(
                        pollViewData.options.map { pollOption ->
                            if (pollOption.id == pollOptionViewData.id) {
                                updatedPollOptionViewData
                            } else {
                                pollOption
                            }
                        }
                    )
                    .build()

                //update the attachments with the updated poll view data
                val updatedAttachments = listOf(
                    attachment.toBuilder()
                        .attachmentMeta(
                            attachment.attachmentMeta.toBuilder()
                                .poll(updatedPollViewData)
                                .build()
                        )
                        .build()
                )

                //update the post view data
                val updatedPostViewData = postViewData.toBuilder()
                    .mediaViewData(
                        postViewData.mediaViewData.toBuilder()
                            .attachments(updatedAttachments)
                            .build()
                    )
                    .build()

                //update the recycler view
                binding.rvSearch.updatePostItem(pollPosition, updatedPostViewData)
            }
        }

        if (pollViewData.hasPollEnded()) {
            LMFeedViewUtils.showShortToast(
                requireContext(),
                getString(R.string.lm_feed_poll_ended_vote_cannot_be_submitted_now)
            )
            return
        }
    }

    //callback when the polls option vote count is clicked
    override fun onPollOptionVoteCountClicked(
        pollPosition: Int,
        pollOptionPosition: Int,
        pollOptionViewData: LMFeedPollOptionViewData
    ) {
        super.onPollOptionVoteCountClicked(
            pollPosition,
            pollOptionPosition,
            pollOptionViewData
        )

        val postViewData = binding.rvSearch.allPosts()[pollPosition] as LMFeedPostViewData
        val attachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
        val pollViewData = attachment.attachmentMeta.poll ?: return

        if (pollViewData.isAnonymous) {
            LMFeedAnonymousPollDialogFragment.showDialog(childFragmentManager)
            return
        }

        if (pollOptionViewData.toShowResults || pollOptionViewData.hasPollEnded) {
            val pollResultsExtras = LMFeedPollResultsExtras.Builder()
                .pollId(pollViewData.id)
                .pollOptions(pollViewData.options)
                .selectedPollOptionId(pollOptionViewData.id)
                .build()

            LMFeedPollResultsActivity.start(requireContext(), pollResultsExtras)
        } else {
            LMFeedViewUtils.showShortToast(
                requireContext(),
                getString(R.string.lm_feed_the_results_will_be_visible_after_the_poll_has_ended)
            )
        }
    }

    //callback when an option is submitted
    override fun onAddOptionSubmitted(
        postId: String,
        pollId: String,
        option: String
    ) {
        val post = binding.rvSearch.getIndexAndPostFromAdapter(postId)?.second ?: return

        // notifies the subscribers about the change
        postEvent.notify(Pair(postId, post))

        searchViewModel.postViewModel.addPollOption(
            post,
            option
        )
    }

    // callback when the user clicks on the post answer prompt
    override fun onPostAnswerPromptClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostAnswerPromptClicked(position, postViewData)

        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(postViewData.id)
            .isEditTextFocused(true)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //callback when the user clicks on the post menu icon
    protected open fun onPostMenuItemClicked(
        position: Int,
        menuId: Int,
        postViewData: LMFeedPostViewData
    ) {
        when (menuId) {
            EDIT_POST_MENU_ITEM_ID -> {
                onEditPostMenuClicked(
                    position,
                    menuId,
                    postViewData
                )
            }

            DELETE_POST_MENU_ITEM_ID -> {
                onDeletePostMenuClicked(
                    position,
                    menuId,
                    postViewData
                )
            }

            REPORT_POST_MENU_ITEM_ID -> {
                onReportPostMenuClicked(
                    position,
                    menuId,
                    postViewData
                )
            }

            PIN_POST_MENU_ITEM_ID -> {
                val updatedPostViewData =
                    LMFeedPostBinderUtils.updatePostForPin(requireContext(), postViewData)

                updatedPostViewData?.let {
                    onPinPostMenuClicked(
                        position,
                        menuId,
                        it
                    )
                }
            }

            UNPIN_POST_MENU_ITEM_ID -> {
                val updatedPost =
                    LMFeedPostBinderUtils.updatePostForUnpin(requireContext(), postViewData)

                updatedPost?.let {
                    onUnpinPostMenuClicked(
                        position,
                        menuId,
                        it
                    )
                }
            }
        }
    }

    //processes the edit post menu click
    protected open fun onEditPostMenuClicked(
        position: Int,
        menuId: Int,
        post: LMFeedPostViewData
    ) {
        val editPostExtras = LMFeedEditPostExtras.Builder()
            .postId(post.id)
            .build()
        val intent = LMFeedEditPostActivity.getIntent(requireContext(), editPostExtras)
        startActivity(intent)
    }

    //processes the delete post menu click
    protected open fun onDeletePostMenuClicked(
        position: Int,
        menuId: Int,
        post: LMFeedPostViewData
    ) {
        val deleteExtras = LMFeedDeleteExtras.Builder()
            .postId(post.id)
            .entityType(DELETE_TYPE_POST)
            .build()

        val postCreatorUUID = post.headerViewData.user.sdkClientInfoViewData.uuid

        val userPreferences = LMFeedUserPreferences(requireContext())
        val loggedInUUID = userPreferences.getUUID()

        if (postCreatorUUID == loggedInUUID) {
            // if the post was created by current user
            LMFeedSelfDeleteDialogFragment.showDialog(
                childFragmentManager,
                deleteExtras
            )
        } else {
            // if the post was not created by current user and they are admin
            LMFeedAdminDeleteDialogFragment.showDialog(
                childFragmentManager,
                deleteExtras
            )
        }
    }

    // launcher to start [ReportActivity] and show success dialog for result
    private val reportPostLauncher =
        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result ->
            if (result.resultCode == Activity.RESULT_OK) {
                val data =
                    result.data?.getStringExtra(LMFeedReportFragment.LM_FEED_REPORT_RESULT)
                val entityType = if (data == "Post") {
                    LMFeedCommunityUtil.getPostVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                } else {
                    data
                }
                LMFeedReportSuccessDialogFragment(entityType ?: "").show(
                    childFragmentManager,
                    LMFeedReportSuccessDialogFragment.TAG
                )
            }
        }

    //processes the report post menu click
    protected open fun onReportPostMenuClicked(
        position: Int,
        menuId: Int,
        post: LMFeedPostViewData
    ) {
        //create extras for [ReportActivity]
        val reportExtras = LMFeedReportExtras.Builder()
            .entityId(post.id)
            .uuid(post.headerViewData.user.sdkClientInfoViewData.uuid)
            .entityType(REPORT_TYPE_POST)
            .postViewType(post.viewType)
            .build()

        //get Intent for [ReportActivity]
        val intent = LMFeedReportActivity.getIntent(requireContext(), reportExtras)

        //start [ReportActivity] and check for result
        reportPostLauncher.launch(intent)
    }

    //processes the pin post menu click
    protected open fun onPinPostMenuClicked(
        position: Int,
        menuId: Int,
        post: LMFeedPostViewData
    ) {
        //call api
        searchViewModel.helperViewModel.pinPost(post)

        binding.rvSearch.apply {
            val adapterPosition = getIndexAndPostFromAdapter(post.id)?.first ?: return

            //update recycler
            updatePostItem(adapterPosition, post)
        }
    }

    //processes the unpin post menu click
    protected open fun onUnpinPostMenuClicked(
        position: Int,
        menuId: Int,
        post: LMFeedPostViewData
    ) {
        //call api
        searchViewModel.helperViewModel.pinPost(post)

        binding.rvSearch.apply {
            val adapterPosition = getIndexAndPostFromAdapter(post.id)?.first ?: return

            //update recycler
            updatePostItem(adapterPosition, post)
        }
    }

    // callback when the user clicks on the post heading
    override fun onPostHeadingClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostHeadingClicked(position, postViewData)

        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(postViewData.id)
            .isEditTextFocused(false)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    // callback when the see more button is clicked on the post heading
    override fun onPostHeadingSeeMoreClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostHeadingSeeMoreClicked(position, postViewData)

        binding.rvSearch.apply {
            val adapterPosition = getIndexAndPostFromAdapter(postViewData.id)?.first ?: return

            //update recycler
            updatePostItem(adapterPosition, postViewData)
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/search/view/LMFeedSearchListView.kt
================================================
package com.likeminds.feed.android.core.search.view

import android.content.Context
import android.util.AttributeSet
import androidx.core.content.ContextCompat
import androidx.recyclerview.widget.*
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedSocialFeedAdapter
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.utils.LMFeedEndlessRecyclerViewScrollListener
import com.likeminds.feed.android.core.utils.LMFeedViewUtils
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.video.LMFeedPostVideoAutoPlayHelper

/**
 * Represents a recycler view with list of posts in the search feed fragment
 */
class LMFeedSearchListView @JvmOverloads constructor(
    context: Context,
    attrs: AttributeSet? = null,
    defStyleAttr: Int = 0
) : RecyclerView(context, attrs, defStyleAttr) {

    val linearLayoutManager: LinearLayoutManager
    private val dividerDecoration = DividerItemDecoration(context, DividerItemDecoration.VERTICAL)

    private lateinit var socialFeedAdapter: LMFeedSocialFeedAdapter
    private var postVideoAutoPlayHelper: LMFeedPostVideoAutoPlayHelper? = null
    private lateinit var paginationScrollListener: LMFeedEndlessRecyclerViewScrollListener
    val itemCount: Int get() = socialFeedAdapter.itemCount

    init {
        setHasFixedSize(true)
        linearLayoutManager = LinearLayoutManager(context)
        layoutManager = linearLayoutManager

        if (itemAnimator is SimpleItemAnimator) {
            (itemAnimator as SimpleItemAnimator).supportsChangeAnimations = false
        }

        //item decorator to add spacing between items
        val dividerDrawable = ContextCompat.getDrawable(
            context,
            R.drawable.lm_feed_item_divider
        )
        dividerDrawable?.let { drawable ->
            dividerDecoration.setDrawable(drawable)
        }

        addItemDecoration(dividerDecoration)
    }

    /**
     * Initializes the [postVideoAutoPlayHelper] with the recyclerView
     * And starts observing
     **/
    fun initiateVideoAutoPlayer() {
        postVideoAutoPlayHelper = LMFeedPostVideoAutoPlayHelper.getInstance(this)
        postVideoAutoPlayHelper?.attachScrollListenerForVideo()
        postVideoAutoPlayHelper?.playMostVisibleItem()
    }

    // removes the old player and refreshes auto play
    fun refreshVideoAutoPlayer() {
        if (postVideoAutoPlayHelper == null) {
            initiateVideoAutoPlayer()
        }
        postVideoAutoPlayHelper?.removePlayer()
        postVideoAutoPlayHelper?.playMostVisibleItem()
    }

    // removes the player and destroys the [postVideoAutoPlayHelper]
    fun destroyVideoAutoPlayer() {
        if (postVideoAutoPlayHelper != null) {
            postVideoAutoPlayHelper?.detachScrollListenerForVideo()
            postVideoAutoPlayHelper?.destroy()
            postVideoAutoPlayHelper = null
        }
    }

    //create the adapter with the provided [listener] to the search recycler view
    fun initAdapterAndSetListener(listener: LMFeedPostAdapterListener) {
        socialFeedAdapter = LMFeedSocialFeedAdapter(listener)
    }

    //sets the adapter with the provided [listener] to the search recycler view
    fun setAdapter() {
        //setting adapter
        adapter = socialFeedAdapter
    }

    //sets the pagination scroll listener to the search feed recycler view
    fun setPaginationScrollListener(scrollListener: LMFeedEndlessRecyclerViewScrollListener) {
        paginationScrollListener = scrollListener
        addOnScrollListener(scrollListener)
    }

    //resets the scroll listener data
    fun resetScrollListenerData() {
        if (::paginationScrollListener.isInitialized) {
            paginationScrollListener.resetData()
        }
    }

    //returns the list of all the posts in the social feed adapter
    fun allPosts(): List<LMFeedBaseViewType> {
        return socialFeedAdapter.items()
    }

    //replaces the [posts] in the social feed adapter with the provided posts
    fun replacePosts(posts: List<LMFeedPostViewData>) {
        socialFeedAdapter.replace(posts)
    }

    //adds the provided [posts] in the social feed adapter
    fun addPosts(posts: List<LMFeedPostViewData>) {
        socialFeedAdapter.addAll(posts)
    }

    //removes the post at the provided [index] in the social feed adapter
    fun removePostAtIndex(index: Int) {
        socialFeedAdapter.removeIndex(index)
    }

    //clears all the posts in the social feed adapter and notifies the recycler view
    fun clearPostsAndNotify() {
        socialFeedAdapter.clearAndNotify()
    }

    /**
     * Adapter Util Block
     **/

    //get index and post from the adapter using postId
    fun getIndexAndPostFromAdapter(postId: String): Pair<Int, LMFeedPostViewData>? {
        val index = socialFeedAdapter.items().indexOfFirst {
            (it is LMFeedPostViewData) && (it.id == postId)
        }

        if (index == -1) {
            return null
        }

        val post = getPostFromAdapter(index) ?: return null

        return Pair(index, post)
    }

    //get post from the adapter using index
    fun getPostFromAdapter(position: Int): LMFeedPostViewData? {
        return socialFeedAdapter.items()[position] as? LMFeedPostViewData
    }

    //updates the post item at the provided position without notifying the recycler view
    fun updatePostWithoutNotifying(position: Int, postItem: LMFeedPostViewData) {
        socialFeedAdapter.updateWithoutNotifyingRV(position, postItem)
    }

    //returns the post item at the provided index
    fun updatePostItem(position: Int, updatedPostItem: LMFeedPostViewData) {
        socialFeedAdapter.update(position, updatedPostItem)
    }

    /**
     * Scroll to a position with offset from the top header
     * @param position Index of the item to scroll to
     */
    fun scrollToPositionWithOffset(position: Int) {
        post {
            val px = (LMFeedViewUtils.dpToPx(75) * 1.5).toInt()
            (layoutManager as? LinearLayoutManager)?.scrollToPositionWithOffset(
                position,
                px
            )
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/search/viewmodel/LMFeedSearchViewModel.kt
================================================
package com.likeminds.feed.android.core.search.viewmodel

import androidx.lifecycle.*
import com.likeminds.feed.android.core.post.viewmodel.LMFeedHelperViewModel
import com.likeminds.feed.android.core.post.viewmodel.LMFeedPostViewModel
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.utils.LMFeedViewDataConvertor
import com.likeminds.feed.android.core.utils.coroutine.launchIO
import com.likeminds.likemindsfeed.LMFeedClient
import com.likeminds.likemindsfeed.search.model.SearchPostsRequest
import com.likeminds.likemindsfeed.search.model.SearchType
import kotlinx.coroutines.channels.Channel
import kotlinx.coroutines.flow.receiveAsFlow

class LMFeedSearchViewModel : ViewModel() {

    companion object {
        const val PAGE_SIZE = 10
    }

    val helperViewModel: LMFeedHelperViewModel by lazy {
        LMFeedHelperViewModel()
    }

    val postViewModel: LMFeedPostViewModel by lazy {
        LMFeedPostViewModel()
    }

    private val lmFeedClient: LMFeedClient by lazy {
        LMFeedClient.getInstance()
    }

    // it holds the Pair of [page] and list of [postViewData]
    private val _searchFeedResponse by lazy {
        MutableLiveData<Pair<Int, List<LMFeedPostViewData>>>()
    }

    val searchFeedResponse: LiveData<Pair<Int, List<LMFeedPostViewData>>> by lazy {
        _searchFeedResponse
    }

    private val errorMessageChannel by lazy {
        Channel<ErrorMessageEvent>(Channel.BUFFERED)
    }

    val errorMessageEventFlow by lazy {
        errorMessageChannel.receiveAsFlow()
    }

    sealed class ErrorMessageEvent {
        data class SearchPost(val errorMessage: String?) : ErrorMessageEvent()
    }

    // calls searchPosts API and posts the response in LiveData
    fun searchPosts(
        page: Int,
        searchString: String,
        searchType: SearchType = SearchType.TEXT
    ) {
        viewModelScope.launchIO {
            val requestBuilder = SearchPostsRequest.Builder()
                .page(page)
                .pageSize(PAGE_SIZE)
                .searchType(searchType)

            if (searchString.isNotEmpty()) {
                requestBuilder.search(searchString)
            }

            val request = requestBuilder.build()

            val response = lmFeedClient.searchPosts(request)

            if (response.success) {
                val data = response.data ?: return@launchIO
                val posts = data.posts
                val usersMap = data.users
                val topicsMap = data.topics
                val widgetsMap = data.widgets

                //convert to view data
                val listOfPostViewData =
                    LMFeedViewDataConvertor.convertSearchedPosts(
                        searchString,
                        searchType,
                        posts,
                        usersMap,
                        topicsMap,
                        widgetsMap
                    )

                //send it to ui
                _searchFeedResponse.postValue(Pair(page, listOfPostViewData))
            } else {
                errorMessageChannel.send(ErrorMessageEvent.SearchPost(response.errorMessage))
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/adapter/LMFeedDocumentsPostAdapter.kt
================================================
package com.likeminds.feed.android.core.socialfeed.adapter

import com.likeminds.feed.android.core.socialfeed.adapter.databinders.postdocuments.LMFeedItemDocumentViewDataBinder
import com.likeminds.feed.android.core.utils.base.*

class LMFeedDocumentsAdapter(
    private val parentPosition: Int,
    private val postAdapterListener: LMFeedPostAdapterListener,
    private val isMediaRemovable: Boolean = false
) : LMFeedBaseRecyclerAdapter<LMFeedBaseViewType>() {

    init {
        initViewDataBinders()
    }

    override fun getSupportedViewDataBinder(): MutableList<LMFeedViewDataBinder<*, *>> {
        val viewDataBinders = ArrayList<LMFeedViewDataBinder<*, *>>(1)

        val documentsBinder =
            LMFeedItemDocumentViewDataBinder(
                parentPosition,
                postAdapterListener,
                isMediaRemovable
            )
        viewDataBinders.add(documentsBinder)

        return viewDataBinders
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/adapter/LMFeedMultipleMediaPostAdapter.kt
================================================
package com.likeminds.feed.android.core.socialfeed.adapter

import com.likeminds.feed.android.core.socialfeed.adapter.databinders.postmultiplemedia.LMFeedItemMultipleMediaImageViewDataBinder
import com.likeminds.feed.android.core.socialfeed.adapter.databinders.postmultiplemedia.LMFeedItemMultipleMediaVideoViewDataBinder
import com.likeminds.feed.android.core.utils.base.*

class LMFeedMultipleMediaPostAdapter(
    private val parentPosition: Int,
    private val listener: LMFeedPostAdapterListener,
    private val isMediaRemovable: Boolean = false
) : LMFeedBaseRecyclerAdapter<LMFeedBaseViewType>() {

    init {
        initViewDataBinders()
    }

    override fun getSupportedViewDataBinder(): MutableList<LMFeedViewDataBinder<*, *>> {
        val viewDataBinders = ArrayList<LMFeedViewDataBinder<*, *>>(2)

        val multipleMediaImageBinder = LMFeedItemMultipleMediaImageViewDataBinder(
            parentPosition,
            listener,
            isMediaRemovable
        )
        viewDataBinders.add(multipleMediaImageBinder)

        val multipleMediaVideoBinder =
            LMFeedItemMultipleMediaVideoViewDataBinder(
                parentPosition,
                listener,
                isMediaRemovable
            )
        viewDataBinders.add(multipleMediaVideoBinder)

        return viewDataBinders
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/adapter/LMFeedPostAdapterListener.kt
================================================
package com.likeminds.feed.android.core.socialfeed.adapter

import android.view.View
import com.likeminds.feed.android.core.poll.result.model.LMFeedPollOptionViewData
import com.likeminds.feed.android.core.post.model.LMFeedAttachmentViewData
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData

interface LMFeedPostAdapterListener {

    fun onPostContentClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the user clicks on post content
    }

    fun onPostLikeClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the user clicks on like icon
    }

    fun onPostLikesCountClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the user clicks on the post's likes count
    }

    fun onPostCommentsCountClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the user clicks on the comments count
    }

    fun onPostSaveClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the user clicks on save post icon
    }

    fun onPostShareClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the user clicks on share icon
    }

    fun updateFromLikedSaved(position: Int, postViewData: LMFeedPostViewData) {
        //triggered to update the data with re-inflation of the item
    }

    fun onPostContentSeeMoreClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the user clicks on "See More" on post content
    }

    fun onPostContentLinkClicked(url: String) {
        //triggered when link in the post content is clicked
    }

    fun onPostMenuIconClicked(
        position: Int, anchorView: View, postViewData: LMFeedPostViewData
    ) {
        //triggered when the menu icon of the post is clicked
    }

    fun onPostImageMediaClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the image media of the post is clicked
    }

    fun onPostVideoMediaClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the video media of the post is clicked
    }

    fun onPostLinkMediaClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the link media of the post is clicked
    }

    fun onPostDocumentMediaClicked(
        position: Int, parentPosition: Int, attachmentViewData: LMFeedAttachmentViewData
    ) {
        //triggered when the document media in the post is clicked
    }

    fun onPostMultipleMediaImageClicked(
        position: Int, parentPosition: Int, attachmentViewData: LMFeedAttachmentViewData
    ) {
        //triggered when the image media of multiple media is clicked
    }

    fun onPostMultipleMediaVideoClicked(
        position: Int, parentPosition: Int, attachmentViewData: LMFeedAttachmentViewData
    ) {
        //triggered when the video media of multiple media is clicked
    }

    fun onPostMultipleMediaPageChangeCallback(position: Int, parentPosition: Int) {
        //triggered when the page of the view pager is changed
    }

    fun onPostMultipleDocumentsExpanded(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when a user clicks on "See More" of document type post
    }

    fun onPostAuthorHeaderClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when a user clicks post author header
    }

    fun onMediaRemovedClicked(position: Int, mediaType: String) {
        //triggered when user removes a media while creating or editing a post
    }

    fun onPostTaggedMemberClicked(position: Int, uuid: String) {
        //triggered when the member tag in the post text content is clicked
    }

    fun onPostPollTitleClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the user clicks on poll title
    }

    fun onPostEditPollClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the user clicks on edit poll icon
    }

    fun onPostClearPollClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the user clicks on clear poll icon
    }

    fun onPostAddPollOptionClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the user clicks on add poll option button
    }

    fun onPostMemberVotedCountClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the user clicks on poll's member voted count is clicked
    }

    fun onPostSubmitPollVoteClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the user clicks on submit poll vote button
    }

    fun onPostEditPollVoteClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the user clicks on edit poll vote
    }

    fun onPollOptionClicked(
        pollPosition: Int,
        pollOptionPosition: Int,
        pollOptionViewData: LMFeedPollOptionViewData
    ) {
        //triggered when a poll option is clicked
    }

    fun onPollOptionVoteCountClicked(
        pollPosition: Int,
        pollOptionPosition: Int,
        pollOptionViewData: LMFeedPollOptionViewData
    ) {
        //triggered when a poll option vote count is clicked
    }

    fun onPostActionMenuClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the post action menu is clicked
    }

    fun onPostVideoFeedCaughtUpClicked() {
        //triggered when the user clicks on the cta on video feed caught up screen
    }

    fun onPostHeadingClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the user clicks on the heading of the post
    }

    fun onPostHeadingSeeMoreClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the user clicks on "See More" on post content
    }

    fun onPostTopResponseClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the user clicks on the top response of the post
    }

    fun onPostTopResponseSeeMoreClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the user clicks on the see more button in top response of the post
    }

    fun onPostTopResponseTaggedMemberClicked(position: Int, uuid: String) {
        //triggered when the user clicks on tagged member in the top response of the post
    }

    fun onPostTopResponseContentClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the user clicks on the content of the post top response
    }

    fun onPostTopResponseAuthorFrameCLicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the user clicks on the author frame of the post top response
    }

    fun onPostAnswerPromptClicked(position: Int, postViewData: LMFeedPostViewData) {
        //triggered when the user clicks on the answer prompt of the post
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/adapter/LMFeedSelectedTopicAdapter.kt
================================================
package com.likeminds.feed.android.core.socialfeed.adapter

import com.likeminds.feed.android.core.socialfeed.adapter.databinders.LMFeedItemSelectedFilterTopicViewDataBinder
import com.likeminds.feed.android.core.topics.model.LMFeedTopicViewData
import com.likeminds.feed.android.core.utils.base.*

class LMFeedSelectedTopicAdapter(
    private val listener: LMFeedSelectedTopicAdapterListener
) : LMFeedBaseRecyclerAdapter<LMFeedBaseViewType>() {

    init {
        initViewDataBinders()
    }

    override fun getSupportedViewDataBinder(): MutableList<LMFeedViewDataBinder<*, *>> {
        val viewDataBinders = ArrayList<LMFeedViewDataBinder<*, *>>(1)

        val itemSelectedTopicViewDataBinder =
            LMFeedItemSelectedFilterTopicViewDataBinder(listener)
        viewDataBinders.add(itemSelectedTopicViewDataBinder)

        return viewDataBinders
    }
}

interface LMFeedSelectedTopicAdapterListener {
    fun onTopicRemoved(position: Int, topicViewData: LMFeedTopicViewData) {
        //triggered when the user removes a selected topic filter
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/adapter/LMFeedSocialFeedAdapter.kt
================================================
package com.likeminds.feed.android.core.socialfeed.adapter

import com.likeminds.feed.android.core.socialfeed.adapter.databinders.*
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.getItemInList
import com.likeminds.feed.android.core.utils.base.*

class LMFeedSocialFeedAdapter(
    private val postAdapterListener: LMFeedPostAdapterListener,
) : LMFeedBaseRecyclerAdapter<LMFeedBaseViewType>() {

    init {
        initViewDataBinders()
    }

    override fun getSupportedViewDataBinder(): MutableList<LMFeedViewDataBinder<*, *>> {
        val viewDataBinders = ArrayList<LMFeedViewDataBinder<*, *>>(8)

        val itemPostTextOnlyBinder =
            LMFeedItemPostTextOnlyViewDataBinder(postAdapterListener)
        viewDataBinders.add(itemPostTextOnlyBinder)

        val itemPostSingleImageViewDataBinder =
            LMFeedItemPostSingleImageViewDataBinder(postAdapterListener)
        viewDataBinders.add(itemPostSingleImageViewDataBinder)

        val itemPostSingleVideoViewDataBinder =
            LMFeedItemPostSingleVideoViewDataBinder(postAdapterListener)
        viewDataBinders.add(itemPostSingleVideoViewDataBinder)

        val itemPostLinkViewDataBinder =
            LMFeedItemPostLinkViewDataBinder(postAdapterListener)
        viewDataBinders.add(itemPostLinkViewDataBinder)

        val itemPostDocumentsViewDataBinder =
            LMFeedItemPostDocumentsViewDataBinder(postAdapterListener)
        viewDataBinders.add(itemPostDocumentsViewDataBinder)

        val itemPostMultipleMediaViewDataBinder =
            LMFeedItemPostMultipleMediaViewDataBinder(postAdapterListener)
        viewDataBinders.add(itemPostMultipleMediaViewDataBinder)

        val itemPostPollViewDataBinder =
            LMFeedItemPostPollViewDataBinder(postAdapterListener)
        viewDataBinders.add(itemPostPollViewDataBinder)

        val itemPostCustomWidgetViewDataBinder =
            LMFeedItemPostCustomWidgetViewDataBinder(postAdapterListener)
        viewDataBinders.add(itemPostCustomWidgetViewDataBinder)

        return viewDataBinders
    }

    operator fun get(position: Int): LMFeedBaseViewType? {
        return items().getItemInList(position)
    }

    //replace any view data binder provide by the customer
    fun replaceViewDataBinder(viewType: Int, viewDataBinder: LMFeedViewDataBinder<*, *>) {
        supportedViewBinderResolverMap.put(viewType, viewDataBinder)
    }
}




================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/adapter/databinders/LMFeedItemPostCustomWidgetViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.socialfeed.adapter.databinders

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.feed.android.core.LMFeedCoreApplication
import com.likeminds.feed.android.core.LMFeedTheme
import com.likeminds.feed.android.core.databinding.LmFeedItemPostCustomWidgetBinding
import com.likeminds.feed.android.core.post.model.CUSTOM_WIDGET
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.socialfeed.util.LMFeedPostBinderUtils
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_POST_CUSTOM_WIDGET

class LMFeedItemPostCustomWidgetViewDataBinder(
    private val postAdapterListener: LMFeedPostAdapterListener
) : LMFeedViewDataBinder<LmFeedItemPostCustomWidgetBinding, LMFeedPostViewData>() {
    override val viewType: Int
        get() = ITEM_POST_CUSTOM_WIDGET

    override fun createBinder(parent: ViewGroup): LmFeedItemPostCustomWidgetBinding {
        val binding = LmFeedItemPostCustomWidgetBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.apply {
            LMFeedPostBinderUtils.customizePostHeaderView(postHeader)

            LMFeedPostBinderUtils.customizePostHeadingView(tvPostHeading)

            LMFeedPostBinderUtils.customizePostHeadingView(tvPostHeading)

            LMFeedPostBinderUtils.customizePostContentView(tvPostContent)

            when (LMFeedCoreApplication.selectedTheme) {
                LMFeedTheme.SOCIAL_FEED -> {
                    LMFeedPostBinderUtils.customizePostActionHorizontalView(postAction)
                }

                LMFeedTheme.QNA_FEED -> {
                    LMFeedPostBinderUtils.customizePostQnAActionHorizontalView(qnaPostAction)
                }

                else -> {
                    LMFeedPostBinderUtils.customizePostActionHorizontalView(postAction)
                }
            }

            LMFeedPostBinderUtils.customizePostTopicsGroup(postTopicsGroup)

            LMFeedPostBinderUtils.customizePostTopResponseView(postTopResponse)

            LMFeedPostBinderUtils.customizePostQnAAnswerPromptView(containerQnaBeFirstLabel)

            setClickListeners(this)
        }

        return binding
    }

    override fun bindData(
        binding: LmFeedItemPostCustomWidgetBinding,
        data: LMFeedPostViewData,
        position: Int
    ) {
        binding.apply {
            this.position = position
            postViewData = data

            // updates the data in the post action view
            when (LMFeedCoreApplication.selectedTheme) {
                LMFeedTheme.SOCIAL_FEED -> {
                    qnaPostAction.hide()
                    postAction.show()

                    LMFeedPostBinderUtils.setPostHorizontalActionViewData(
                        postAction,
                        data.actionViewData
                    )
                }

                LMFeedTheme.QNA_FEED -> {
                    postAction.hide()
                    qnaPostAction.show()

                    LMFeedPostBinderUtils.setPostQnAHorizontalActionViewData(
                        qnaPostAction,
                        data.actionViewData
                    )
                }

                else -> {
                    qnaPostAction.hide()
                    postAction.show()

                    LMFeedPostBinderUtils.setPostHorizontalActionViewData(
                        postAction,
                        data.actionViewData
                    )
                }
            }

            // checks whether to bind complete data or not and execute corresponding lambda function
            LMFeedPostBinderUtils.setPostBindData(
                postHeader,
                tvPostHeading,
                tvPostContent,
                postTopResponse,
                containerQnaBeFirstLabel,
                data,
                position,
                postTopicsGroup,
                postAdapterListener,
                returnBinder = {
                    return@setPostBindData
                }, executeBinder = {}
            )

            //get custom widget attachment
            val customWidgetData = data.mediaViewData.attachments.find {
                it.attachmentType == CUSTOM_WIDGET
            }
            if (customWidgetData != null) {
                //get widget metadata
                val widgetData = customWidgetData.attachmentMeta.widgetViewData
                if (widgetData != null) {
                    //convert metadata to string
                    val metadata = widgetData.metadata.toString()
                    binding.tvPostCw.show()
                    binding.tvPostCw.text = metadata
                } else {
                    binding.tvPostCw.hide()
                }
            } else {
                binding.tvPostCw.hide()
            }
        }
    }

    private fun setClickListeners(binding: LmFeedItemPostCustomWidgetBinding) {
        binding.apply {
            postHeader.setMenuIconClickListener {
                val post = postViewData ?: return@setMenuIconClickListener
                postAdapterListener.onPostMenuIconClicked(
                    position,
                    postHeader.headerMenu,
                    post
                )
            }

            postHeader.setAuthorFrameClickListener {
                val post = this.postViewData ?: return@setAuthorFrameClickListener
                postAdapterListener.onPostAuthorHeaderClicked(position, post)
            }

            postAction.setLikeIconClickListener {
                val post = this.postViewData ?: return@setLikeIconClickListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForLike(post)
                postAdapterListener.onPostLikeClicked(position, updatedPost)
            }

            postAction.setLikesCountClickListener {
                val post = this.postViewData ?: return@setLikesCountClickListener
                if (post.actionViewData.likesCount > 0) {
                    postAdapterListener.onPostLikesCountClicked(position, post)
                } else {
                    return@setLikesCountClickListener
                }
            }

            postAction.setCommentsCountClickListener {
                val post = this.postViewData ?: return@setCommentsCountClickListener
                postAdapterListener.onPostCommentsCountClicked(position, post)
            }

            postAction.setSaveIconListener {
                val post = this.postViewData ?: return@setSaveIconListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForSave(post)
                postAdapterListener.onPostSaveClicked(position, updatedPost)
            }

            postAction.setShareIconListener {
                val post = this.postViewData ?: return@setShareIconListener
                postAdapterListener.onPostShareClicked(position, post)
            }

            qnaPostAction.setUpvoteIconClickListener {
                val post = this.postViewData ?: return@setUpvoteIconClickListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForLike(post)
                postAdapterListener.onPostLikeClicked(position, updatedPost)
            }

            qnaPostAction.setUpvoteCountClickListener {
                val post = this.postViewData ?: return@setUpvoteCountClickListener
                if (post.actionViewData.likesCount > 0) {
                    postAdapterListener.onPostLikesCountClicked(position, post)
                } else {
                    return@setUpvoteCountClickListener
                }
            }

            qnaPostAction.setCommentsCountClickListener {
                val post = this.postViewData ?: return@setCommentsCountClickListener
                postAdapterListener.onPostCommentsCountClicked(position, post)
            }

            qnaPostAction.setSaveIconListener {
                val post = this.postViewData ?: return@setSaveIconListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForSave(post)
                postAdapterListener.onPostSaveClicked(position, updatedPost)
            }

            qnaPostAction.setShareIconListener {
                val post = this.postViewData ?: return@setShareIconListener
                postAdapterListener.onPostShareClicked(position, post)
            }

            postTopResponse.setTopResponseClickListener {
                val post = this.postViewData ?: return@setTopResponseClickListener
                postAdapterListener.onPostTopResponseClicked(position, post)
            }

            postTopResponse.setAuthorFrameClickListener {
                val post = this.postViewData ?: return@setAuthorFrameClickListener
                postAdapterListener.onPostTopResponseAuthorFrameCLicked(position, post)
            }

            containerQnaBeFirstLabel.setContainerClickListener {
                val post = this.postViewData ?: return@setContainerClickListener
                postAdapterListener.onPostAnswerPromptClicked(position, post)
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/adapter/databinders/LMFeedItemPostDocumentsViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.socialfeed.adapter.databinders

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.feed.android.core.LMFeedCoreApplication
import com.likeminds.feed.android.core.LMFeedTheme
import com.likeminds.feed.android.core.databinding.LmFeedItemPostDocumentsBinding
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.socialfeed.util.LMFeedPostBinderUtils
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_POST_DOCUMENTS

class LMFeedItemPostDocumentsViewDataBinder(
    private val postAdapterListener: LMFeedPostAdapterListener
) : LMFeedViewDataBinder<LmFeedItemPostDocumentsBinding, LMFeedPostViewData>() {

    override val viewType: Int
        get() = ITEM_POST_DOCUMENTS

    override fun createBinder(parent: ViewGroup): LmFeedItemPostDocumentsBinding {
        val binding = LmFeedItemPostDocumentsBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.apply {
            LMFeedPostBinderUtils.customizePostHeaderView(postHeader)

            LMFeedPostBinderUtils.customizePostHeadingView(tvPostHeading)

            LMFeedPostBinderUtils.customizePostContentView(tvPostContent)

            when (LMFeedCoreApplication.selectedTheme) {
                LMFeedTheme.SOCIAL_FEED -> {
                    LMFeedPostBinderUtils.customizePostActionHorizontalView(postAction)
                }

                LMFeedTheme.QNA_FEED -> {
                    LMFeedPostBinderUtils.customizePostQnAActionHorizontalView(qnaPostAction)
                }

                else -> {
                    LMFeedPostBinderUtils.customizePostActionHorizontalView(postAction)
                }
            }

            LMFeedPostBinderUtils.customizePostTopicsGroup(postTopicsGroup)

            LMFeedPostBinderUtils.customizePostTopResponseView(postTopResponse)

            LMFeedPostBinderUtils.customizePostQnAAnswerPromptView(containerQnaBeFirstLabel)

            setClickListeners(this)

            //sets documents media style to documents view
            val postDocumentsMediaViewStyle =
                LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postDocumentsMediaStyle
                    ?: return@apply

            postDocumentsMediaView.setStyle(postDocumentsMediaViewStyle)
        }

        return binding
    }

    override fun bindData(
        binding: LmFeedItemPostDocumentsBinding,
        data: LMFeedPostViewData,
        position: Int
    ) {
        binding.apply {
            // set variables in the binding
            this.position = position
            postViewData = data

            // updates the data in the post action view
            when (LMFeedCoreApplication.selectedTheme) {
                LMFeedTheme.SOCIAL_FEED -> {
                    qnaPostAction.hide()
                    postAction.show()

                    LMFeedPostBinderUtils.setPostHorizontalActionViewData(
                        postAction,
                        data.actionViewData
                    )
                }

                LMFeedTheme.QNA_FEED -> {
                    postAction.hide()
                    qnaPostAction.show()

                    LMFeedPostBinderUtils.setPostQnAHorizontalActionViewData(
                        qnaPostAction,
                        data.actionViewData
                    )
                }

                else -> {
                    qnaPostAction.hide()
                    postAction.show()

                    LMFeedPostBinderUtils.setPostHorizontalActionViewData(
                        postAction,
                        data.actionViewData
                    )
                }
            }

            // checks whether to bind complete data or not and execute corresponding lambda function
            LMFeedPostBinderUtils.setPostBindData(
                postHeader,
                tvPostHeading,
                tvPostContent,
                postTopResponse,
                containerQnaBeFirstLabel,
                data,
                position,
                postTopicsGroup,
                postAdapterListener,
                returnBinder = {
                    return@setPostBindData
                }, executeBinder = {
                    //sets the documents media view
                    LMFeedPostBinderUtils.bindPostDocuments(
                        position,
                        postDocumentsMediaView,
                        data.mediaViewData,
                        postAdapterListener
                    )
                }
            )
        }
    }

    private fun setClickListeners(binding: LmFeedItemPostDocumentsBinding) {
        binding.apply {
            postHeader.setMenuIconClickListener {
                val post = postViewData ?: return@setMenuIconClickListener
                postAdapterListener.onPostMenuIconClicked(
                    position,
                    postHeader.headerMenu,
                    post
                )
            }

            postHeader.setAuthorFrameClickListener {
                val post = postViewData ?: return@setAuthorFrameClickListener
                postAdapterListener.onPostAuthorHeaderClicked(position, post)
            }

            postDocumentsMediaView.setShowMoreTextClickListener {
                val post = postViewData ?: return@setShowMoreTextClickListener
                val updatedPostData = LMFeedPostBinderUtils.updatePostForDocumentExpanded(post)
                postAdapterListener.onPostMultipleDocumentsExpanded(
                    position,
                    updatedPostData
                )
            }

            postAction.setLikeIconClickListener {
                val post = postViewData ?: return@setLikeIconClickListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForLike(post)
                postAdapterListener.onPostLikeClicked(position, updatedPost)
            }

            postAction.setLikesCountClickListener {
                val post = postViewData ?: return@setLikesCountClickListener
                if (post.actionViewData.likesCount > 0) {
                    postAdapterListener.onPostLikesCountClicked(position, post)
                } else {
                    return@setLikesCountClickListener
                }
            }

            postAction.setCommentsCountClickListener {
                val post = postViewData ?: return@setCommentsCountClickListener
                postAdapterListener.onPostCommentsCountClicked(position, post)
            }

            postAction.setSaveIconListener {
                val post = postViewData ?: return@setSaveIconListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForSave(post)
                postAdapterListener.onPostSaveClicked(position, updatedPost)
            }

            postAction.setShareIconListener {
                val post = postViewData ?: return@setShareIconListener
                postAdapterListener.onPostShareClicked(position, post)
            }

            qnaPostAction.setUpvoteIconClickListener {
                val post = this.postViewData ?: return@setUpvoteIconClickListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForLike(post)
                postAdapterListener.onPostLikeClicked(position, updatedPost)
            }

            qnaPostAction.setUpvoteCountClickListener {
                val post = this.postViewData ?: return@setUpvoteCountClickListener
                if (post.actionViewData.likesCount > 0) {
                    postAdapterListener.onPostLikesCountClicked(position, post)
                } else {
                    return@setUpvoteCountClickListener
                }
            }

            qnaPostAction.setCommentsCountClickListener {
                val post = this.postViewData ?: return@setCommentsCountClickListener
                postAdapterListener.onPostCommentsCountClicked(position, post)
            }

            qnaPostAction.setSaveIconListener {
                val post = this.postViewData ?: return@setSaveIconListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForSave(post)
                postAdapterListener.onPostSaveClicked(position, updatedPost)
            }

            qnaPostAction.setShareIconListener {
                val post = this.postViewData ?: return@setShareIconListener
                postAdapterListener.onPostShareClicked(position, post)
            }

            postTopResponse.setTopResponseClickListener {
                val post = this.postViewData ?: return@setTopResponseClickListener
                postAdapterListener.onPostTopResponseClicked(position, post)
            }

            postTopResponse.setAuthorFrameClickListener {
                val post = this.postViewData ?: return@setAuthorFrameClickListener
                postAdapterListener.onPostTopResponseAuthorFrameCLicked(position, post)
            }

            containerQnaBeFirstLabel.setContainerClickListener {
                val post = this.postViewData ?: return@setContainerClickListener
                postAdapterListener.onPostAnswerPromptClicked(position, post)
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/adapter/databinders/LMFeedItemPostLinkViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.socialfeed.adapter.databinders

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.feed.android.core.*
import com.likeminds.feed.android.core.databinding.LmFeedItemPostLinkBinding
import com.likeminds.feed.android.core.post.model.LINK
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.socialfeed.util.LMFeedPostBinderUtils
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_POST_LINK

class LMFeedItemPostLinkViewDataBinder(
    private val postAdapterListener: LMFeedPostAdapterListener
) : LMFeedViewDataBinder<LmFeedItemPostLinkBinding, LMFeedPostViewData>() {

    override val viewType: Int
        get() = ITEM_POST_LINK

    override fun createBinder(parent: ViewGroup): LmFeedItemPostLinkBinding {
        val binding = LmFeedItemPostLinkBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.apply {
            LMFeedPostBinderUtils.customizePostHeaderView(postHeader)

            LMFeedPostBinderUtils.customizePostHeadingView(tvPostHeading)

            LMFeedPostBinderUtils.customizePostContentView(tvPostContent)

            when (LMFeedCoreApplication.selectedTheme) {
                LMFeedTheme.SOCIAL_FEED -> {
                    LMFeedPostBinderUtils.customizePostActionHorizontalView(postAction)
                }

                LMFeedTheme.QNA_FEED -> {
                    LMFeedPostBinderUtils.customizePostQnAActionHorizontalView(qnaPostAction)
                }

                else -> {
                    LMFeedPostBinderUtils.customizePostActionHorizontalView(postAction)
                }
            }

            LMFeedPostBinderUtils.customizePostTopicsGroup(postTopicsGroup)

            LMFeedPostBinderUtils.customizePostTopResponseView(postTopResponse)

            LMFeedPostBinderUtils.customizePostQnAAnswerPromptView(containerQnaBeFirstLabel)

            setClickListeners(this)

            //sets link media style to post link view
            val postLinkViewStyle =
                LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postLinkViewStyle
                    ?: return@apply

            postLinkView.setStyle(postLinkViewStyle)
        }

        return binding
    }

    override fun bindData(
        binding: LmFeedItemPostLinkBinding,
        data: LMFeedPostViewData,
        position: Int
    ) {
        binding.apply {
            val linkAttachment = data.mediaViewData.attachments.firstOrNull {
                it.attachmentType == LINK
            }
            val ogTags = linkAttachment?.attachmentMeta?.ogTags ?: return

            //sets variables in the binding
            this.position = position
            postViewData = data

            // updates the data in the post action view
            when (LMFeedCoreApplication.selectedTheme) {
                LMFeedTheme.SOCIAL_FEED -> {
                    qnaPostAction.hide()
                    postAction.show()

                    LMFeedPostBinderUtils.setPostHorizontalActionViewData(
                        postAction,
                        data.actionViewData
                    )
                }

                LMFeedTheme.QNA_FEED -> {
                    postAction.hide()
                    qnaPostAction.show()

                    LMFeedPostBinderUtils.setPostQnAHorizontalActionViewData(
                        qnaPostAction,
                        data.actionViewData
                    )
                }

                else -> {
                    qnaPostAction.hide()
                    postAction.show()

                    LMFeedPostBinderUtils.setPostHorizontalActionViewData(
                        postAction,
                        data.actionViewData
                    )
                }
            }

            // checks whether to bind complete data or not and execute corresponding lambda function
            LMFeedPostBinderUtils.setPostBindData(
                postHeader,
                tvPostHeading,
                tvPostContent,
                postTopResponse,
                containerQnaBeFirstLabel,
                data,
                position,
                postTopicsGroup,
                postAdapterListener,
                returnBinder = {
                    return@setPostBindData
                }, executeBinder = {
                    //handles the link view
                    LMFeedPostBinderUtils.bindPostMediaLinkView(
                        postLinkView,
                        ogTags
                    )
                }
            )
        }
    }

    private fun setClickListeners(binding: LmFeedItemPostLinkBinding) {
        binding.apply {
            postHeader.setMenuIconClickListener {
                val post = postViewData ?: return@setMenuIconClickListener
                postAdapterListener.onPostMenuIconClicked(
                    position,
                    postHeader.headerMenu,
                    post
                )
            }

            postHeader.setAuthorFrameClickListener {
                val post = postViewData ?: return@setAuthorFrameClickListener
                postAdapterListener.onPostAuthorHeaderClicked(position, post)
            }

            postLinkView.setLinkClickListener {
                val post = postViewData ?: return@setLinkClickListener
                postAdapterListener.onPostLinkMediaClicked(position, post)
            }

            postAction.setLikeIconClickListener {
                val post = postViewData ?: return@setLikeIconClickListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForLike(post)
                postAdapterListener.onPostLikeClicked(position, updatedPost)
            }

            postAction.setLikesCountClickListener {
                val post = postViewData ?: return@setLikesCountClickListener
                if (post.actionViewData.likesCount > 0) {
                    postAdapterListener.onPostLikesCountClicked(position, post)
                } else {
                    return@setLikesCountClickListener
                }
            }

            postAction.setCommentsCountClickListener {
                val post = postViewData ?: return@setCommentsCountClickListener
                postAdapterListener.onPostCommentsCountClicked(position, post)
            }

            postAction.setSaveIconListener {
                val post = postViewData ?: return@setSaveIconListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForSave(post)
                postAdapterListener.onPostSaveClicked(position, updatedPost)
            }

            postAction.setShareIconListener {
                val post = postViewData ?: return@setShareIconListener
                postAdapterListener.onPostShareClicked(position, post)
            }

            qnaPostAction.setUpvoteIconClickListener {
                val post = this.postViewData ?: return@setUpvoteIconClickListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForLike(post)
                postAdapterListener.onPostLikeClicked(position, updatedPost)
            }

            qnaPostAction.setUpvoteCountClickListener {
                val post = this.postViewData ?: return@setUpvoteCountClickListener
                if (post.actionViewData.likesCount > 0) {
                    postAdapterListener.onPostLikesCountClicked(position, post)
                } else {
                    return@setUpvoteCountClickListener
                }
            }

            qnaPostAction.setCommentsCountClickListener {
                val post = this.postViewData ?: return@setCommentsCountClickListener
                postAdapterListener.onPostCommentsCountClicked(position, post)
            }

            qnaPostAction.setSaveIconListener {
                val post = this.postViewData ?: return@setSaveIconListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForSave(post)
                postAdapterListener.onPostSaveClicked(position, updatedPost)
            }

            qnaPostAction.setShareIconListener {
                val post = this.postViewData ?: return@setShareIconListener
                postAdapterListener.onPostShareClicked(position, post)
            }

            postTopResponse.setTopResponseClickListener {
                val post = this.postViewData ?: return@setTopResponseClickListener
                postAdapterListener.onPostTopResponseClicked(position, post)
            }

            postTopResponse.setAuthorFrameClickListener {
                val post = this.postViewData ?: return@setAuthorFrameClickListener
                postAdapterListener.onPostTopResponseAuthorFrameCLicked(position, post)
            }

            containerQnaBeFirstLabel.setContainerClickListener {
                val post = this.postViewData ?: return@setContainerClickListener
                postAdapterListener.onPostAnswerPromptClicked(position, post)
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/adapter/databinders/LMFeedItemPostMultipleMediaViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.socialfeed.adapter.databinders

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.feed.android.core.*
import com.likeminds.feed.android.core.databinding.LmFeedItemPostMultipleMediaBinding
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.socialfeed.util.LMFeedPostBinderUtils
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_POST_MULTIPLE_MEDIA

class LMFeedItemPostMultipleMediaViewDataBinder(
    private val postAdapterListener: LMFeedPostAdapterListener
) : LMFeedViewDataBinder<LmFeedItemPostMultipleMediaBinding, LMFeedPostViewData>() {

    override val viewType: Int
        get() = ITEM_POST_MULTIPLE_MEDIA

    override fun createBinder(parent: ViewGroup): LmFeedItemPostMultipleMediaBinding {
        val binding = LmFeedItemPostMultipleMediaBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.apply {
            LMFeedPostBinderUtils.customizePostHeaderView(postHeader)

            LMFeedPostBinderUtils.customizePostHeadingView(tvPostHeading)

            LMFeedPostBinderUtils.customizePostContentView(tvPostContent)

            when (LMFeedCoreApplication.selectedTheme) {
                LMFeedTheme.SOCIAL_FEED -> {
                    LMFeedPostBinderUtils.customizePostActionHorizontalView(postAction)
                }

                LMFeedTheme.QNA_FEED -> {
                    LMFeedPostBinderUtils.customizePostQnAActionHorizontalView(qnaPostAction)
                }

                else -> {
                    LMFeedPostBinderUtils.customizePostActionHorizontalView(postAction)
                }
            }

            LMFeedPostBinderUtils.customizePostTopicsGroup(postTopicsGroup)

            LMFeedPostBinderUtils.customizePostTopResponseView(postTopResponse)

            LMFeedPostBinderUtils.customizePostQnAAnswerPromptView(containerQnaBeFirstLabel)

            setClickListeners(this)

            //sets link media style to multiple media view
            val postMultipleMediaViewStyle =
                LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postMultipleMediaStyle
                    ?: return@apply

            multipleMediaView.setStyle(postMultipleMediaViewStyle)
        }

        return binding
    }

    override fun bindData(
        binding: LmFeedItemPostMultipleMediaBinding,
        data: LMFeedPostViewData,
        position: Int
    ) {
        binding.apply {
            // set variables in the binding
            this.position = position
            postViewData = data

            // updates the data in the post action view
            when (LMFeedCoreApplication.selectedTheme) {
                LMFeedTheme.SOCIAL_FEED -> {
                    qnaPostAction.hide()
                    postAction.show()

                    LMFeedPostBinderUtils.setPostHorizontalActionViewData(
                        postAction,
                        data.actionViewData
                    )
                }

                LMFeedTheme.QNA_FEED -> {
                    postAction.hide()
                    qnaPostAction.show()

                    LMFeedPostBinderUtils.setPostQnAHorizontalActionViewData(
                        qnaPostAction,
                        data.actionViewData
                    )
                }

                else -> {
                    qnaPostAction.hide()
                    postAction.show()

                    LMFeedPostBinderUtils.setPostHorizontalActionViewData(
                        postAction,
                        data.actionViewData
                    )
                }
            }

            // checks whether to bind complete data or not and execute corresponding lambda function
            LMFeedPostBinderUtils.setPostBindData(
                postHeader,
                tvPostHeading,
                tvPostContent,
                postTopResponse,
                containerQnaBeFirstLabel,
                data,
                position,
                postTopicsGroup,
                postAdapterListener,
                returnBinder = {
                    return@setPostBindData
                }, executeBinder = {
                    LMFeedPostBinderUtils.bindMultipleMediaView(
                        position,
                        multipleMediaView,
                        data.mediaViewData,
                        postAdapterListener
                    )
                }
            )
        }
    }

    private fun setClickListeners(binding: LmFeedItemPostMultipleMediaBinding) {
        binding.apply {
            postHeader.setMenuIconClickListener {
                val post = postViewData ?: return@setMenuIconClickListener
                postAdapterListener.onPostMenuIconClicked(
                    position,
                    postHeader.headerMenu,
                    post
                )
            }

            postHeader.setAuthorFrameClickListener {
                val post = postViewData ?: return@setAuthorFrameClickListener
                postAdapterListener.onPostAuthorHeaderClicked(position, post)
            }

            postAction.setLikeIconClickListener {
                val post = postViewData ?: return@setLikeIconClickListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForLike(post)
                postAdapterListener.onPostLikeClicked(position, updatedPost)
            }

            postAction.setLikesCountClickListener {
                val post = postViewData ?: return@setLikesCountClickListener
                if (post.actionViewData.likesCount > 0) {
                    postAdapterListener.onPostLikesCountClicked(position, post)
                } else {
                    return@setLikesCountClickListener
                }
            }

            postAction.setCommentsCountClickListener {
                val post = postViewData ?: return@setCommentsCountClickListener
                postAdapterListener.onPostCommentsCountClicked(position, post)
            }

            postAction.setSaveIconListener {
                val post = postViewData ?: return@setSaveIconListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForSave(post)
                postAdapterListener.onPostSaveClicked(position, updatedPost)
            }

            postAction.setShareIconListener {
                val post = postViewData ?: return@setShareIconListener
                postAdapterListener.onPostShareClicked(position, post)
            }

            qnaPostAction.setUpvoteIconClickListener {
                val post = this.postViewData ?: return@setUpvoteIconClickListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForLike(post)
                postAdapterListener.onPostLikeClicked(position, updatedPost)
            }

            qnaPostAction.setUpvoteCountClickListener {
                val post = this.postViewData ?: return@setUpvoteCountClickListener
                if (post.actionViewData.likesCount > 0) {
                    postAdapterListener.onPostLikesCountClicked(position, post)
                } else {
                    return@setUpvoteCountClickListener
                }
            }

            qnaPostAction.setCommentsCountClickListener {
                val post = this.postViewData ?: return@setCommentsCountClickListener
                postAdapterListener.onPostCommentsCountClicked(position, post)
            }

            qnaPostAction.setSaveIconListener {
                val post = this.postViewData ?: return@setSaveIconListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForSave(post)
                postAdapterListener.onPostSaveClicked(position, updatedPost)
            }

            qnaPostAction.setShareIconListener {
                val post = this.postViewData ?: return@setShareIconListener
                postAdapterListener.onPostShareClicked(position, post)
            }

            postTopResponse.setTopResponseClickListener {
                val post = this.postViewData ?: return@setTopResponseClickListener
                postAdapterListener.onPostTopResponseClicked(position, post)
            }

            postTopResponse.setAuthorFrameClickListener {
                val post = this.postViewData ?: return@setAuthorFrameClickListener
                postAdapterListener.onPostTopResponseAuthorFrameCLicked(position, post)
            }

            containerQnaBeFirstLabel.setContainerClickListener {
                val post = this.postViewData ?: return@setContainerClickListener
                postAdapterListener.onPostAnswerPromptClicked(position, post)
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/adapter/databinders/LMFeedItemPostPollViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.socialfeed.adapter.databinders

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.feed.android.core.*
import com.likeminds.feed.android.core.databinding.LmFeedItemPostPollBinding
import com.likeminds.feed.android.core.poll.result.model.LMFeedPollOptionViewData
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.socialfeed.util.LMFeedPostBinderUtils
import com.likeminds.feed.android.core.ui.widgets.poll.adapter.LMFeedPollOptionsAdapterListener
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_POST_POLL

class LMFeedItemPostPollViewDataBinder(
    private val postAdapterListener: LMFeedPostAdapterListener,
) : LMFeedViewDataBinder<LmFeedItemPostPollBinding, LMFeedPostViewData>(),
    LMFeedPollOptionsAdapterListener {

    override val viewType: Int
        get() = ITEM_POST_POLL

    override fun createBinder(parent: ViewGroup): LmFeedItemPostPollBinding {
        val binding = LmFeedItemPostPollBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.apply {
            LMFeedPostBinderUtils.customizePostHeaderView(postHeader)

            LMFeedPostBinderUtils.customizePostHeadingView(tvPostHeading)

            LMFeedPostBinderUtils.customizePostContentView(tvPostContent)

            when (LMFeedCoreApplication.selectedTheme) {
                LMFeedTheme.SOCIAL_FEED -> {
                    LMFeedPostBinderUtils.customizePostActionHorizontalView(postAction)
                }

                LMFeedTheme.QNA_FEED -> {
                    LMFeedPostBinderUtils.customizePostQnAActionHorizontalView(qnaPostAction)
                }

                else -> {
                    LMFeedPostBinderUtils.customizePostActionHorizontalView(postAction)
                }
            }

            LMFeedPostBinderUtils.customizePostTopicsGroup(postTopicsGroup)

            LMFeedPostBinderUtils.customizePostTopResponseView(postTopResponse)

            LMFeedPostBinderUtils.customizePostQnAAnswerPromptView(containerQnaBeFirstLabel)

            setClickListeners(this)

            //sets poll media style to the poll view
            val postPollMediaViewStyle =
                LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postPollMediaStyle
                    ?: return@apply

            postPollView.setStyle(postPollMediaViewStyle)
        }

        return binding
    }

    override fun bindData(
        binding: LmFeedItemPostPollBinding,
        data: LMFeedPostViewData,
        position: Int
    ) {
        binding.apply {
            // set variables in the binding
            this.position = position
            postViewData = data

            // updates the data in the post action view
            when (LMFeedCoreApplication.selectedTheme) {
                LMFeedTheme.SOCIAL_FEED -> {
                    qnaPostAction.hide()
                    postAction.show()

                    LMFeedPostBinderUtils.setPostHorizontalActionViewData(
                        postAction,
                        data.actionViewData
                    )
                }

                LMFeedTheme.QNA_FEED -> {
                    postAction.hide()
                    qnaPostAction.show()

                    LMFeedPostBinderUtils.setPostQnAHorizontalActionViewData(
                        qnaPostAction,
                        data.actionViewData
                    )
                }

                else -> {
                    qnaPostAction.hide()
                    postAction.show()

                    LMFeedPostBinderUtils.setPostHorizontalActionViewData(
                        postAction,
                        data.actionViewData
                    )
                }
            }

            // checks whether to bind complete data or not and execute corresponding lambda function
            LMFeedPostBinderUtils.setPostBindData(
                postHeader,
                tvPostHeading,
                tvPostContent,
                postTopResponse,
                containerQnaBeFirstLabel,
                data,
                position,
                postTopicsGroup,
                postAdapterListener,
                returnBinder = {
                    return@setPostBindData
                }, executeBinder = {
                    //sets the post poll media view
                    LMFeedPostBinderUtils.bindPostPollMediaView(
                        position,
                        postPollView,
                        data.mediaViewData,
                        this@LMFeedItemPostPollViewDataBinder
                    )
                }
            )
        }
    }

    private fun setClickListeners(binding: LmFeedItemPostPollBinding) {
        binding.apply {
            postHeader.setMenuIconClickListener {
                val post = postViewData ?: return@setMenuIconClickListener
                postAdapterListener.onPostMenuIconClicked(
                    position,
                    postHeader.headerMenu,
                    post
                )
            }

            postHeader.setAuthorFrameClickListener {
                val post = this.postViewData ?: return@setAuthorFrameClickListener
                postAdapterListener.onPostAuthorHeaderClicked(position, post)
            }

            postPollView.setPollTitleClicked {
                val post = this.postViewData ?: return@setPollTitleClicked
                postAdapterListener.onPostPollTitleClicked(position, post)
            }

            postPollView.setEditPollClicked {
                val post = this.postViewData ?: return@setEditPollClicked
                postAdapterListener.onPostEditPollClicked(position, post)
            }

            postPollView.setClearPollClicked {
                val post = this.postViewData ?: return@setClearPollClicked
                postAdapterListener.onPostClearPollClicked(position, post)
            }

            postPollView.setAddPollOptionClicked {
                val post = this.postViewData ?: return@setAddPollOptionClicked
                postAdapterListener.onPostAddPollOptionClicked(position, post)
            }

            postPollView.setSubmitPollVoteClicked {
                val post = this.postViewData ?: return@setSubmitPollVoteClicked
                postAdapterListener.onPostSubmitPollVoteClicked(position, post)
            }

            postPollView.setMemberVotedCountClicked {
                val post = this.postViewData ?: return@setMemberVotedCountClicked
                postAdapterListener.onPostMemberVotedCountClicked(position, post)
            }

            postPollView.setEditPollVoteClicked {
                val post = this.postViewData ?: return@setEditPollVoteClicked
                postAdapterListener.onPostEditPollVoteClicked(position, post)
            }

            postAction.setLikeIconClickListener {
                val post = this.postViewData ?: return@setLikeIconClickListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForLike(post)
                postAdapterListener.onPostLikeClicked(position, updatedPost)
            }

            postAction.setLikesCountClickListener {
                val post = this.postViewData ?: return@setLikesCountClickListener
                if (post.actionViewData.likesCount > 0) {
                    postAdapterListener.onPostLikesCountClicked(position, post)
                } else {
                    return@setLikesCountClickListener
                }
            }

            postAction.setCommentsCountClickListener {
                val post = this.postViewData ?: return@setCommentsCountClickListener
                postAdapterListener.onPostCommentsCountClicked(position, post)
            }

            postAction.setSaveIconListener {
                val post = this.postViewData ?: return@setSaveIconListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForSave(post)
                postAdapterListener.onPostSaveClicked(position, updatedPost)
            }

            postAction.setShareIconListener {
                val post = this.postViewData ?: return@setShareIconListener
                postAdapterListener.onPostShareClicked(position, post)
            }

            postTopResponse.setTopResponseClickListener {
                val post = this.postViewData ?: return@setTopResponseClickListener
                postAdapterListener.onPostTopResponseClicked(position, post)
            }

            postTopResponse.setAuthorFrameClickListener {
                val post = this.postViewData ?: return@setAuthorFrameClickListener
                postAdapterListener.onPostTopResponseAuthorFrameCLicked(position, post)
            }

            qnaPostAction.setUpvoteIconClickListener {
                val post = this.postViewData ?: return@setUpvoteIconClickListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForLike(post)
                postAdapterListener.onPostLikeClicked(position, updatedPost)
            }

            qnaPostAction.setUpvoteCountClickListener {
                val post = this.postViewData ?: return@setUpvoteCountClickListener
                if (post.actionViewData.likesCount > 0) {
                    postAdapterListener.onPostLikesCountClicked(position, post)
                } else {
                    return@setUpvoteCountClickListener
                }
            }

            qnaPostAction.setCommentsCountClickListener {
                val post = this.postViewData ?: return@setCommentsCountClickListener
                postAdapterListener.onPostCommentsCountClicked(position, post)
            }

            qnaPostAction.setSaveIconListener {
                val post = this.postViewData ?: return@setSaveIconListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForSave(post)
                postAdapterListener.onPostSaveClicked(position, updatedPost)
            }

            qnaPostAction.setShareIconListener {
                val post = this.postViewData ?: return@setShareIconListener
                postAdapterListener.onPostShareClicked(position, post)
            }

            containerQnaBeFirstLabel.setContainerClickListener {
                val post = this.postViewData ?: return@setContainerClickListener
                postAdapterListener.onPostAnswerPromptClicked(position, post)
            }
        }
    }

    override fun onPollOptionClicked(
        pollPosition: Int,
        pollOptionPosition: Int,
        pollOptionViewData: LMFeedPollOptionViewData
    ) {
        super.onPollOptionClicked(
            pollPosition,
            pollOptionPosition,
            pollOptionViewData
        )

        postAdapterListener.onPollOptionClicked(
            pollPosition,
            pollOptionPosition,
            pollOptionViewData
        )
    }

    override fun onPollOptionVoteCountClicked(
        pollPosition: Int,
        pollOptionPosition: Int,
        pollOptionViewData: LMFeedPollOptionViewData
    ) {
        super.onPollOptionVoteCountClicked(
            pollPosition,
            pollOptionPosition,
            pollOptionViewData
        )

        postAdapterListener.onPollOptionVoteCountClicked(
            pollPosition,
            pollOptionPosition,
            pollOptionViewData
        )
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/adapter/databinders/LMFeedItemPostSingleImageViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.socialfeed.adapter.databinders

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.feed.android.core.*
import com.likeminds.feed.android.core.databinding.LmFeedItemPostSingleImageBinding
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.socialfeed.util.LMFeedPostBinderUtils
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_POST_SINGLE_IMAGE

class LMFeedItemPostSingleImageViewDataBinder(
    private val postAdapterListener: LMFeedPostAdapterListener
) : LMFeedViewDataBinder<LmFeedItemPostSingleImageBinding, LMFeedPostViewData>() {

    override val viewType: Int
        get() = ITEM_POST_SINGLE_IMAGE

    override fun createBinder(parent: ViewGroup): LmFeedItemPostSingleImageBinding {
        val binding = LmFeedItemPostSingleImageBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.apply {
            LMFeedPostBinderUtils.customizePostHeaderView(postHeader)

            LMFeedPostBinderUtils.customizePostHeadingView(tvPostHeading)

            LMFeedPostBinderUtils.customizePostContentView(tvPostContent)

            when (LMFeedCoreApplication.selectedTheme) {
                LMFeedTheme.SOCIAL_FEED -> {
                    LMFeedPostBinderUtils.customizePostActionHorizontalView(postAction)
                }

                LMFeedTheme.QNA_FEED -> {
                    LMFeedPostBinderUtils.customizePostQnAActionHorizontalView(qnaPostAction)
                }

                else -> {
                    LMFeedPostBinderUtils.customizePostActionHorizontalView(postAction)
                }
            }

            LMFeedPostBinderUtils.customizePostTopicsGroup(postTopicsGroup)

            LMFeedPostBinderUtils.customizePostTopResponseView(postTopResponse)

            LMFeedPostBinderUtils.customizePostQnAAnswerPromptView(containerQnaBeFirstLabel)

            setClickListeners(this)

            //set styles to the image media in the post
            val postImageMediaStyle =
                LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postImageMediaStyle
                    ?: return@apply

            postImageView.setStyle(postImageMediaStyle)
        }
        return binding
    }

    override fun bindData(
        binding: LmFeedItemPostSingleImageBinding,
        data: LMFeedPostViewData,
        position: Int
    ) {
        binding.apply {
            // set variables in the binding
            this.position = position
            postViewData = data

            // updates the data in the post action view
            when (LMFeedCoreApplication.selectedTheme) {
                LMFeedTheme.SOCIAL_FEED -> {
                    qnaPostAction.hide()
                    postAction.show()

                    LMFeedPostBinderUtils.setPostHorizontalActionViewData(
                        postAction,
                        data.actionViewData
                    )
                }

                LMFeedTheme.QNA_FEED -> {
                    postAction.hide()
                    qnaPostAction.show()

                    LMFeedPostBinderUtils.setPostQnAHorizontalActionViewData(
                        qnaPostAction,
                        data.actionViewData
                    )
                }

                else -> {
                    qnaPostAction.hide()
                    postAction.show()

                    LMFeedPostBinderUtils.setPostHorizontalActionViewData(
                        postAction,
                        data.actionViewData
                    )
                }
            }

            // checks whether to bind complete data or not and execute corresponding lambda function
            LMFeedPostBinderUtils.setPostBindData(
                postHeader,
                tvPostHeading,
                tvPostContent,
                postTopResponse,
                containerQnaBeFirstLabel,
                data,
                position,
                postTopicsGroup,
                postAdapterListener,
                returnBinder = {
                    return@setPostBindData
                }, executeBinder = {
                    // binds the image to the single image post view
                    LMFeedPostBinderUtils.bindPostSingleImage(
                        postImageView,
                        data.mediaViewData
                    )
                }
            )
        }
    }

    private fun setClickListeners(binding: LmFeedItemPostSingleImageBinding) {
        binding.apply {
            postHeader.setMenuIconClickListener {
                val post = postViewData ?: return@setMenuIconClickListener
                postAdapterListener.onPostMenuIconClicked(
                    position,
                    postHeader.headerMenu,
                    post
                )
            }

            postHeader.setAuthorFrameClickListener {
                val post = postViewData ?: return@setAuthorFrameClickListener
                postAdapterListener.onPostAuthorHeaderClicked(position, post)
            }

            postImageView.setOnClickListener {
                val post = postViewData ?: return@setOnClickListener
                postAdapterListener.onPostImageMediaClicked(position, post)
            }

            postAction.setLikeIconClickListener {
                val post = postViewData ?: return@setLikeIconClickListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForLike(post)
                postAdapterListener.onPostLikeClicked(position, updatedPost)
            }

            postAction.setLikesCountClickListener {
                val post = postViewData ?: return@setLikesCountClickListener
                if (post.actionViewData.likesCount > 0) {
                    postAdapterListener.onPostLikesCountClicked(position, post)
                } else {
                    return@setLikesCountClickListener
                }
            }

            postAction.setCommentsCountClickListener {
                val post = postViewData ?: return@setCommentsCountClickListener
                postAdapterListener.onPostCommentsCountClicked(position, post)
            }

            postAction.setSaveIconListener {
                val post = postViewData ?: return@setSaveIconListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForSave(post)
                postAdapterListener.onPostSaveClicked(position, updatedPost)
            }

            postAction.setShareIconListener {
                val post = postViewData ?: return@setShareIconListener
                postAdapterListener.onPostShareClicked(position, post)
            }

            qnaPostAction.setUpvoteIconClickListener {
                val post = this.postViewData ?: return@setUpvoteIconClickListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForLike(post)
                postAdapterListener.onPostLikeClicked(position, updatedPost)
            }

            qnaPostAction.setUpvoteCountClickListener {
                val post = this.postViewData ?: return@setUpvoteCountClickListener
                if (post.actionViewData.likesCount > 0) {
                    postAdapterListener.onPostLikesCountClicked(position, post)
                } else {
                    return@setUpvoteCountClickListener
                }
            }

            qnaPostAction.setCommentsCountClickListener {
                val post = this.postViewData ?: return@setCommentsCountClickListener
                postAdapterListener.onPostCommentsCountClicked(position, post)
            }

            qnaPostAction.setSaveIconListener {
                val post = this.postViewData ?: return@setSaveIconListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForSave(post)
                postAdapterListener.onPostSaveClicked(position, updatedPost)
            }

            qnaPostAction.setShareIconListener {
                val post = this.postViewData ?: return@setShareIconListener
                postAdapterListener.onPostShareClicked(position, post)
            }

            postTopResponse.setTopResponseClickListener {
                val post = this.postViewData ?: return@setTopResponseClickListener
                postAdapterListener.onPostTopResponseClicked(position, post)
            }

            postTopResponse.setAuthorFrameClickListener {
                val post = this.postViewData ?: return@setAuthorFrameClickListener
                postAdapterListener.onPostTopResponseAuthorFrameCLicked(position, post)
            }

            containerQnaBeFirstLabel.setContainerClickListener {
                val post = this.postViewData ?: return@setContainerClickListener
                postAdapterListener.onPostAnswerPromptClicked(position, post)
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/adapter/databinders/LMFeedItemPostSingleVideoViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.socialfeed.adapter.databinders

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.feed.android.core.*
import com.likeminds.feed.android.core.databinding.LmFeedItemPostSingleVideoBinding
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.socialfeed.util.LMFeedPostBinderUtils
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_POST_SINGLE_VIDEO

class LMFeedItemPostSingleVideoViewDataBinder(
    private val postAdapterListener: LMFeedPostAdapterListener
) : LMFeedViewDataBinder<LmFeedItemPostSingleVideoBinding, LMFeedPostViewData>() {

    override val viewType: Int
        get() = ITEM_POST_SINGLE_VIDEO

    override fun createBinder(parent: ViewGroup): LmFeedItemPostSingleVideoBinding {
        val binding = LmFeedItemPostSingleVideoBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.apply {
            LMFeedPostBinderUtils.customizePostHeaderView(postHeader)

            LMFeedPostBinderUtils.customizePostHeadingView(tvPostHeading)

            LMFeedPostBinderUtils.customizePostContentView(tvPostContent)

            when (LMFeedCoreApplication.selectedTheme) {
                LMFeedTheme.SOCIAL_FEED -> {
                    LMFeedPostBinderUtils.customizePostActionHorizontalView(postAction)
                }

                LMFeedTheme.QNA_FEED -> {
                    LMFeedPostBinderUtils.customizePostQnAActionHorizontalView(qnaPostAction)
                }

                else -> {
                    LMFeedPostBinderUtils.customizePostActionHorizontalView(postAction)
                }
            }

            LMFeedPostBinderUtils.customizePostTopicsGroup(postTopicsGroup)

            LMFeedPostBinderUtils.customizePostTopResponseView(postTopResponse)

            LMFeedPostBinderUtils.customizePostQnAAnswerPromptView(containerQnaBeFirstLabel)

            setClickListeners(this)

            //set video media style to post video view
            val postVideoMediaStyle =
                LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postVideoMediaStyle
                    ?: return@apply

            postVideoView.setStyle(postVideoMediaStyle)
        }

        return binding
    }

    override fun bindData(
        binding: LmFeedItemPostSingleVideoBinding,
        data: LMFeedPostViewData,
        position: Int
    ) {
        binding.apply {
            // set variables in the binding
            this.position = position
            postViewData = data

            // updates the data in the post action view
            when (LMFeedCoreApplication.selectedTheme) {
                LMFeedTheme.SOCIAL_FEED -> {
                    qnaPostAction.hide()
                    postAction.show()

                    LMFeedPostBinderUtils.setPostHorizontalActionViewData(
                        postAction,
                        data.actionViewData
                    )
                }

                LMFeedTheme.QNA_FEED -> {
                    postAction.hide()
                    qnaPostAction.show()

                    LMFeedPostBinderUtils.setPostQnAHorizontalActionViewData(
                        qnaPostAction,
                        data.actionViewData
                    )
                }

                else -> {
                    qnaPostAction.hide()
                    postAction.show()

                    LMFeedPostBinderUtils.setPostHorizontalActionViewData(
                        postAction,
                        data.actionViewData
                    )
                }
            }

            // checks whether to bind complete data or not and execute corresponding lambda function
            LMFeedPostBinderUtils.setPostBindData(
                postHeader,
                tvPostHeading,
                tvPostContent,
                postTopResponse,
                containerQnaBeFirstLabel,
                data,
                position,
                postTopicsGroup,
                postAdapterListener,
                returnBinder = {
                    return@setPostBindData
                }, executeBinder = {}
            )
        }
    }

    private fun setClickListeners(binding: LmFeedItemPostSingleVideoBinding) {
        binding.apply {
            postHeader.setMenuIconClickListener {
                val post = postViewData ?: return@setMenuIconClickListener
                postAdapterListener.onPostMenuIconClicked(
                    position,
                    postHeader.headerMenu,
                    post
                )
            }

            postHeader.setAuthorFrameClickListener {
                val post = postViewData ?: return@setAuthorFrameClickListener
                postAdapterListener.onPostAuthorHeaderClicked(position, post)
            }

            postVideoView.setOnClickListener {
                val post = postViewData ?: return@setOnClickListener
                postAdapterListener.onPostVideoMediaClicked(position, post)
            }

            postAction.setLikeIconClickListener {
                val post = postViewData ?: return@setLikeIconClickListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForLike(post)
                postAdapterListener.onPostLikeClicked(position, updatedPost)
            }

            postAction.setLikesCountClickListener {
                val post = postViewData ?: return@setLikesCountClickListener
                if (post.actionViewData.likesCount > 0) {
                    postAdapterListener.onPostLikesCountClicked(position, post)
                } else {
                    return@setLikesCountClickListener
                }
            }

            postAction.setCommentsCountClickListener {
                val post = postViewData ?: return@setCommentsCountClickListener
                postAdapterListener.onPostCommentsCountClicked(position, post)
            }

            postAction.setSaveIconListener {
                val post = postViewData ?: return@setSaveIconListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForSave(post)
                postAdapterListener.onPostSaveClicked(position, updatedPost)
            }

            postAction.setShareIconListener {
                val post = postViewData ?: return@setShareIconListener
                postAdapterListener.onPostShareClicked(position, post)
            }

            qnaPostAction.setUpvoteIconClickListener {
                val post = this.postViewData ?: return@setUpvoteIconClickListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForLike(post)
                postAdapterListener.onPostLikeClicked(position, updatedPost)
            }

            qnaPostAction.setUpvoteCountClickListener {
                val post = this.postViewData ?: return@setUpvoteCountClickListener
                if (post.actionViewData.likesCount > 0) {
                    postAdapterListener.onPostLikesCountClicked(position, post)
                } else {
                    return@setUpvoteCountClickListener
                }
            }

            qnaPostAction.setCommentsCountClickListener {
                val post = this.postViewData ?: return@setCommentsCountClickListener
                postAdapterListener.onPostCommentsCountClicked(position, post)
            }

            qnaPostAction.setSaveIconListener {
                val post = this.postViewData ?: return@setSaveIconListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForSave(post)
                postAdapterListener.onPostSaveClicked(position, updatedPost)
            }

            qnaPostAction.setShareIconListener {
                val post = this.postViewData ?: return@setShareIconListener
                postAdapterListener.onPostShareClicked(position, post)
            }

            postTopResponse.setTopResponseClickListener {
                val post = this.postViewData ?: return@setTopResponseClickListener
                postAdapterListener.onPostTopResponseClicked(position, post)
            }

            postTopResponse.setAuthorFrameClickListener {
                val post = this.postViewData ?: return@setAuthorFrameClickListener
                postAdapterListener.onPostTopResponseAuthorFrameCLicked(position, post)
            }

            containerQnaBeFirstLabel.setContainerClickListener {
                val post = this.postViewData ?: return@setContainerClickListener
                postAdapterListener.onPostAnswerPromptClicked(position, post)
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/adapter/databinders/LMFeedItemPostTextOnlyViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.socialfeed.adapter.databinders

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.feed.android.core.LMFeedCoreApplication
import com.likeminds.feed.android.core.LMFeedTheme
import com.likeminds.feed.android.core.databinding.LmFeedItemPostTextOnlyBinding
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.socialfeed.util.LMFeedPostBinderUtils
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_POST_TEXT_ONLY

class LMFeedItemPostTextOnlyViewDataBinder(
    private val postAdapterListener: LMFeedPostAdapterListener
) : LMFeedViewDataBinder<LmFeedItemPostTextOnlyBinding, LMFeedPostViewData>() {

    override val viewType: Int
        get() = ITEM_POST_TEXT_ONLY

    override fun createBinder(parent: ViewGroup): LmFeedItemPostTextOnlyBinding {
        val binding = LmFeedItemPostTextOnlyBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.apply {
            LMFeedPostBinderUtils.customizePostHeaderView(postHeader)

            LMFeedPostBinderUtils.customizePostHeadingView(tvPostHeading)

            LMFeedPostBinderUtils.customizePostContentView(tvPostContent)

            when (LMFeedCoreApplication.selectedTheme) {
                LMFeedTheme.SOCIAL_FEED -> {
                    LMFeedPostBinderUtils.customizePostActionHorizontalView(postAction)
                }

                LMFeedTheme.QNA_FEED -> {
                    LMFeedPostBinderUtils.customizePostQnAActionHorizontalView(qnaPostAction)
                }

                else -> {
                    LMFeedPostBinderUtils.customizePostActionHorizontalView(postAction)
                }
            }

            LMFeedPostBinderUtils.customizePostTopicsGroup(postTopicsGroup)

            LMFeedPostBinderUtils.customizePostTopResponseView(postTopResponse)

            LMFeedPostBinderUtils.customizePostQnAAnswerPromptView(containerQnaBeFirstLabel)

            setClickListeners(this)
        }

        return binding
    }

    override fun bindData(
        binding: LmFeedItemPostTextOnlyBinding,
        data: LMFeedPostViewData,
        position: Int
    ) {
        binding.apply {
            this.position = position
            postViewData = data

            // updates the data in the post action view
            when (LMFeedCoreApplication.selectedTheme) {
                LMFeedTheme.SOCIAL_FEED -> {
                    qnaPostAction.hide()
                    postAction.show()

                    LMFeedPostBinderUtils.setPostHorizontalActionViewData(
                        postAction,
                        data.actionViewData
                    )
                }

                LMFeedTheme.QNA_FEED -> {
                    postAction.hide()
                    qnaPostAction.show()

                    LMFeedPostBinderUtils.setPostQnAHorizontalActionViewData(
                        qnaPostAction,
                        data.actionViewData
                    )
                }

                else -> {
                    qnaPostAction.hide()
                    postAction.show()

                    LMFeedPostBinderUtils.setPostHorizontalActionViewData(
                        postAction,
                        data.actionViewData
                    )
                }
            }

            // checks whether to bind complete data or not and execute corresponding lambda function
            LMFeedPostBinderUtils.setPostBindData(
                postHeader,
                tvPostHeading,
                tvPostContent,
                postTopResponse,
                containerQnaBeFirstLabel,
                data,
                position,
                postTopicsGroup,
                postAdapterListener,
                returnBinder = {
                    return@setPostBindData
                }, executeBinder = {}
            )
        }
    }

    private fun setClickListeners(binding: LmFeedItemPostTextOnlyBinding) {
        binding.apply {
            postHeader.setMenuIconClickListener {
                val post = postViewData ?: return@setMenuIconClickListener
                postAdapterListener.onPostMenuIconClicked(
                    position,
                    postHeader.headerMenu,
                    post
                )
            }

            postHeader.setAuthorFrameClickListener {
                val post = this.postViewData ?: return@setAuthorFrameClickListener
                postAdapterListener.onPostAuthorHeaderClicked(position, post)
            }

            postAction.setLikeIconClickListener {
                val post = this.postViewData ?: return@setLikeIconClickListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForLike(post)
                postAdapterListener.onPostLikeClicked(position, updatedPost)
            }

            postAction.setLikesCountClickListener {
                val post = this.postViewData ?: return@setLikesCountClickListener
                if (post.actionViewData.likesCount > 0) {
                    postAdapterListener.onPostLikesCountClicked(position, post)
                } else {
                    return@setLikesCountClickListener
                }
            }

            postAction.setCommentsCountClickListener {
                val post = this.postViewData ?: return@setCommentsCountClickListener
                postAdapterListener.onPostCommentsCountClicked(position, post)
            }

            postAction.setSaveIconListener {
                val post = this.postViewData ?: return@setSaveIconListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForSave(post)
                postAdapterListener.onPostSaveClicked(position, updatedPost)
            }

            postAction.setShareIconListener {
                val post = this.postViewData ?: return@setShareIconListener
                postAdapterListener.onPostShareClicked(position, post)
            }

            qnaPostAction.setUpvoteIconClickListener {
                val post = this.postViewData ?: return@setUpvoteIconClickListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForLike(post)
                postAdapterListener.onPostLikeClicked(position, updatedPost)
            }

            qnaPostAction.setUpvoteCountClickListener {
                val post = this.postViewData ?: return@setUpvoteCountClickListener
                if (post.actionViewData.likesCount > 0) {
                    postAdapterListener.onPostLikesCountClicked(position, post)
                } else {
                    return@setUpvoteCountClickListener
                }
            }

            qnaPostAction.setCommentsCountClickListener {
                val post = this.postViewData ?: return@setCommentsCountClickListener
                postAdapterListener.onPostCommentsCountClicked(position, post)
            }

            qnaPostAction.setSaveIconListener {
                val post = this.postViewData ?: return@setSaveIconListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForSave(post)
                postAdapterListener.onPostSaveClicked(position, updatedPost)
            }

            qnaPostAction.setShareIconListener {
                val post = this.postViewData ?: return@setShareIconListener
                postAdapterListener.onPostShareClicked(position, post)
            }

            postTopResponse.setTopResponseClickListener {
                val post = this.postViewData ?: return@setTopResponseClickListener
                postAdapterListener.onPostTopResponseClicked(position, post)
            }

            postTopResponse.setAuthorFrameClickListener {
                val post = this.postViewData ?: return@setAuthorFrameClickListener
                postAdapterListener.onPostTopResponseAuthorFrameCLicked(position, post)
            }

            containerQnaBeFirstLabel.setContainerClickListener {
                val post = this.postViewData ?: return@setContainerClickListener
                postAdapterListener.onPostAnswerPromptClicked(position, post)
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/adapter/databinders/LMFeedItemSelectedFilterTopicViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.socialfeed.adapter.databinders

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.feed.android.core.databinding.LmFeedItemSelectedFilterTopicBinding
import com.likeminds.feed.android.core.topics.model.LMFeedTopicViewData
import com.likeminds.feed.android.core.ui.base.styles.setStyle
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedSelectedTopicAdapterListener
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_TOPIC

class LMFeedItemSelectedFilterTopicViewDataBinder(
    private val listener: LMFeedSelectedTopicAdapterListener
) : LMFeedViewDataBinder<LmFeedItemSelectedFilterTopicBinding, LMFeedTopicViewData>() {

    override val viewType: Int
        get() = ITEM_TOPIC

    override fun createBinder(parent: ViewGroup): LmFeedItemSelectedFilterTopicBinding {
        val binding = LmFeedItemSelectedFilterTopicBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.apply {
            setListeners(this)

            //set styles
            val topicSelectorBarStyle =
                LMFeedStyleTransformer.socialFeedFragmentViewStyle.topicSelectorBarStyle

            tvTopicName.setStyle(topicSelectorBarStyle.selectedTopicTextStyle)
            ivCross.setStyle(topicSelectorBarStyle.removeSelectedTopicIconStyle)

            return this
        }
    }

    override fun bindData(
        binding: LmFeedItemSelectedFilterTopicBinding,
        data: LMFeedTopicViewData,
        position: Int
    ) {
        binding.apply {
            this.position = position
            selectedTopicViewData = data

            tvTopicName.text = data.name
        }
    }

    //set click listeners to the view data binder
    private fun setListeners(binding: LmFeedItemSelectedFilterTopicBinding) {
        binding.apply {
            ivCross.setOnClickListener {
                val topicViewData = selectedTopicViewData ?: return@setOnClickListener
                listener.onTopicRemoved(position, topicViewData)
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/adapter/databinders/postdocuments/LMFeedItemDocumentViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.socialfeed.adapter.databinders.postdocuments

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.customgallery.media.model.PDF
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedItemDocumentBinding
import com.likeminds.feed.android.core.post.model.LMFeedAttachmentViewData
import com.likeminds.feed.android.core.ui.base.styles.LMFeedIconStyle
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.util.LMFeedPostBinderUtils
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_POST_DOCUMENTS_ITEM

class LMFeedItemDocumentViewDataBinder(
    private val parentPosition: Int,
    private val listener: LMFeedPostAdapterListener,
    private val isMediaRemovable: Boolean
) : LMFeedViewDataBinder<LmFeedItemDocumentBinding, LMFeedAttachmentViewData>() {

    override val viewType: Int
        get() = ITEM_POST_DOCUMENTS_ITEM

    override fun createBinder(parent: ViewGroup): LmFeedItemDocumentBinding {
        val binding = LmFeedItemDocumentBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.apply {
            //sets click listener to the documents item
            setClickListeners(binding)

            //sets document media style
            val postDocumentMediaStyle =
                LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postDocumentsMediaStyle

            val finalDocumentMediaStyle = if (isMediaRemovable) {
                postDocumentMediaStyle?.toBuilder()
                    ?.removeIconStyle(
                        LMFeedIconStyle.Builder()
                            .inActiveSrc(R.drawable.lm_feed_ic_cross)
                            .build()
                    )
                    ?.build()
            } else {
                postDocumentMediaStyle
            } ?: return@apply

            documentItem.setStyle(finalDocumentMediaStyle)
        }

        return binding
    }

    override fun bindData(
        binding: LmFeedItemDocumentBinding,
        data: LMFeedAttachmentViewData,
        position: Int
    ) {
        binding.apply {
            //sets variables in the binding
            this.position = position
            this.attachmentViewData = data

            //sets data on the documents view
            LMFeedPostBinderUtils.bindPostMediaDocument(
                documentItem,
                data
            )
        }
    }

    private fun setClickListeners(binding: LmFeedItemDocumentBinding) {
        binding.apply {
            documentItem.setDocumentClickListener {
                val attachment = attachmentViewData ?: return@setDocumentClickListener
                listener.onPostDocumentMediaClicked(
                    position,
                    parentPosition,
                    attachment
                )
            }

            documentItem.setRemoveIconClickListener {
                listener.onMediaRemovedClicked(
                    position,
                    PDF
                )
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/adapter/databinders/postmultiplemedia/LMFeedItemMultipleMediaImageViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.socialfeed.adapter.databinders.postmultiplemedia

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.customgallery.media.model.IMAGE
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedItemMultipleMediaImageBinding
import com.likeminds.feed.android.core.post.model.LMFeedAttachmentViewData
import com.likeminds.feed.android.core.ui.base.styles.LMFeedIconStyle
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.util.LMFeedPostBinderUtils
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_MULTIPLE_MEDIA_IMAGE

class LMFeedItemMultipleMediaImageViewDataBinder(
    private val parentPosition: Int,
    private val listener: LMFeedPostAdapterListener,
    private val isMediaRemovable: Boolean
) : LMFeedViewDataBinder<LmFeedItemMultipleMediaImageBinding, LMFeedAttachmentViewData>() {

    override val viewType: Int
        get() = ITEM_MULTIPLE_MEDIA_IMAGE

    override fun createBinder(parent: ViewGroup): LmFeedItemMultipleMediaImageBinding {
        val binding = LmFeedItemMultipleMediaImageBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.apply {
            setClickListeners(this)

            //sets image media style to multiple media image view
            val postImageMediaStyle =
                LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postImageMediaStyle

            val finalPostImageMediaStyle = if (isMediaRemovable) {
                postImageMediaStyle?.toBuilder()
                    ?.removeIconStyle(
                        LMFeedIconStyle.Builder()
                            .inActiveSrc(R.drawable.lm_feed_ic_cross)
                            .build()
                    )
                    ?.build()
            } else {
                postImageMediaStyle
            } ?: return@apply

            postImageView.setStyle(finalPostImageMediaStyle)
        }

        return binding
    }

    override fun bindData(
        binding: LmFeedItemMultipleMediaImageBinding,
        data: LMFeedAttachmentViewData,
        position: Int
    ) {
        binding.apply {
            //set data to the binding
            this.position = position
            this.attachmentViewData = data

            // loads post image inside the multiple media image view
            LMFeedPostBinderUtils.bindMultipleMediaImageView(postImageView, data)
        }
    }

    private fun setClickListeners(binding: LmFeedItemMultipleMediaImageBinding) {
        binding.apply {
            postImageView.setOnClickListener {
                val attachment = attachmentViewData ?: return@setOnClickListener
                listener.onPostMultipleMediaImageClicked(
                    position,
                    parentPosition,
                    attachment
                )
            }

            postImageView.setRemoveIconClickListener {
                listener.onMediaRemovedClicked(
                    position,
                    IMAGE
                )
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/adapter/databinders/postmultiplemedia/LMFeedItemMultipleMediaVideoViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.socialfeed.adapter.databinders.postmultiplemedia

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.customgallery.media.model.VIDEO
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedItemMultipleMediaVideoBinding
import com.likeminds.feed.android.core.post.model.LMFeedAttachmentViewData
import com.likeminds.feed.android.core.ui.base.styles.LMFeedIconStyle
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_MULTIPLE_MEDIA_VIDEO

class LMFeedItemMultipleMediaVideoViewDataBinder(
    private val parentPosition: Int,
    private val listener: LMFeedPostAdapterListener,
    private val isMediaRemovable: Boolean
) : LMFeedViewDataBinder<LmFeedItemMultipleMediaVideoBinding, LMFeedAttachmentViewData>() {

    override val viewType: Int
        get() = ITEM_MULTIPLE_MEDIA_VIDEO

    override fun createBinder(parent: ViewGroup): LmFeedItemMultipleMediaVideoBinding {
        val binding = LmFeedItemMultipleMediaVideoBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.apply {
            setClickListeners(this)

            //sets video media style to multiple media video view
            val postVideoMediaStyle =
                LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postVideoMediaStyle

            val finalPostVideoMediaStyle = if (isMediaRemovable) {
                postVideoMediaStyle?.toBuilder()
                    ?.removeIconStyle(
                        LMFeedIconStyle.Builder()
                            .inActiveSrc(R.drawable.lm_feed_ic_cross)
                            .build()
                    )
                    ?.build()
            } else {
                postVideoMediaStyle
            } ?: return@apply

            postVideoView.setStyle(finalPostVideoMediaStyle)
        }

        return binding
    }

    override fun bindData(
        binding: LmFeedItemMultipleMediaVideoBinding,
        data: LMFeedAttachmentViewData,
        position: Int
    ) {
        binding.apply {
            //set data to the binding
            this.position = position
            this.attachmentViewData = data
        }
    }

    private fun setClickListeners(binding: LmFeedItemMultipleMediaVideoBinding) {
        binding.apply {
            postVideoView.setOnClickListener {
                val attachment = attachmentViewData ?: return@setOnClickListener
                listener.onPostMultipleMediaVideoClicked(
                    position,
                    parentPosition,
                    attachment
                )
            }

            postVideoView.setRemoveIconClickListener {
                listener.onMediaRemovedClicked(
                    position,
                    VIDEO
                )
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/model/LMFeedMediaViewData.kt
================================================
package com.likeminds.feed.android.core.socialfeed.model

import com.likeminds.feed.android.core.post.model.LMFeedAttachmentViewData
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.base.model.ITEM_POST_MEDIA

class LMFeedMediaViewData private constructor(
    val attachments: List<LMFeedAttachmentViewData>,
    val isExpanded: Boolean,
    val temporaryId: Long?,
    val workerUUID: String
) : LMFeedBaseViewType {

    override val viewType: Int
        get() = ITEM_POST_MEDIA

    class Builder {
        private var attachments: List<LMFeedAttachmentViewData> = listOf()
        private var isExpanded: Boolean = false
        private var temporaryId: Long? = null
        private var workerUUID: String = ""

        fun attachments(attachments: List<LMFeedAttachmentViewData>) = apply {
            this.attachments = attachments
        }

        fun isExpanded(isExpanded: Boolean) = apply {
            this.isExpanded = isExpanded
        }

        fun temporaryId(temporaryId: Long?) = apply {
            this.temporaryId = temporaryId
        }

        fun workerUUID(workerUUID: String) = apply {
            this.workerUUID = workerUUID
        }

        fun build() = LMFeedMediaViewData(
            attachments,
            isExpanded,
            temporaryId,
            workerUUID
        )
    }

    fun toBuilder(): Builder {
        return Builder().attachments(attachments)
            .isExpanded(isExpanded)
            .temporaryId(temporaryId)
            .workerUUID(workerUUID)
    }

    override fun toString(): String {
        return "LMFeedMediaViewData:(attachments=$attachments, isExpanded=$isExpanded, temporaryId=$temporaryId, workerUUID=$workerUUID)"
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/model/LMFeedPostActionViewData.kt
================================================
package com.likeminds.feed.android.core.socialfeed.model

import com.likeminds.feed.android.core.post.detail.model.LMFeedCommentViewData

class LMFeedPostActionViewData private constructor(
    val likesCount: Int,
    val commentsCount: Int,
    val isSaved: Boolean,
    val isLiked: Boolean,
    val replies: MutableList<LMFeedCommentViewData>,
) {

    class Builder {
        private var likesCount: Int = 0
        private var commentsCount: Int = 0
        private var isSaved: Boolean = false
        private var isLiked: Boolean = false
        private var replies: MutableList<LMFeedCommentViewData> = mutableListOf()

        fun likesCount(likesCount: Int) = apply { this.likesCount = likesCount }
        fun commentsCount(commentsCount: Int) = apply { this.commentsCount = commentsCount }
        fun isSaved(isSaved: Boolean) = apply { this.isSaved = isSaved }
        fun isLiked(isLiked: Boolean) = apply { this.isLiked = isLiked }
        fun replies(replies: MutableList<LMFeedCommentViewData>) = apply { this.replies = replies }

        fun build() = LMFeedPostActionViewData(
            likesCount,
            commentsCount,
            isSaved,
            isLiked,
            replies
        )
    }

    fun toBuilder(): Builder {
        return Builder()
            .likesCount(likesCount)
            .commentsCount(commentsCount)
            .isSaved(isSaved)
            .isLiked(isLiked)
            .replies(replies)
    }

    override fun toString(): String {
        return buildString {
            append("LMFeedPostFooterViewData(likesCount=")
            append(likesCount)
            append(", commentsCount=")
            append(commentsCount)
            append(", isSaved=")
            append(isSaved)
            append(", isLiked=")
            append(isLiked)
            append(", replies=")
            append(replies)
            append(")")
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/model/LMFeedPostContentViewData.kt
================================================
package com.likeminds.feed.android.core.socialfeed.model

import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.base.model.ITEM_POST_CONTENT

class LMFeedPostContentViewData private constructor(
    val text: String?,
    val alreadySeenFullText: Boolean?,
    val keywordMatchedInPostText: List<String>?,
    val heading: String?,
    val alreadySeenFullHeading: Boolean?,
    val keywordMatchedInPostHeading: List<String>?
) : LMFeedBaseViewType {

    override val viewType: Int
        get() = ITEM_POST_CONTENT

    class Builder {
        private var text: String? = null
        private var alreadySeenFullText: Boolean? = null
        private var keywordMatchedInPostText: List<String>? = null
        private var heading: String? = null
        private var alreadySeenFullHeading: Boolean? = null
        private var keywordMatchedInPostHeading: List<String>? = null

        fun text(text: String?) = apply {
            this.text = text
        }

        fun alreadySeenFullText(alreadySeenFullText: Boolean?) = apply {
            this.alreadySeenFullText = alreadySeenFullText
        }

        fun keywordMatchedInPostText(keywordMatchedInPostText: List<String>?) = apply {
            this.keywordMatchedInPostText = keywordMatchedInPostText
        }

        fun heading(heading: String?) = apply {
            this.heading = heading
        }

        fun alreadySeenFullHeading(alreadySeenFullHeading: Boolean?) = apply {
            this.alreadySeenFullHeading = alreadySeenFullHeading
        }

        fun keywordMatchedInPostHeading(keywordMatchedInPostHeading: List<String>?) = apply {
            this.keywordMatchedInPostHeading = keywordMatchedInPostHeading
        }

        fun build() = LMFeedPostContentViewData(
            text,
            alreadySeenFullText,
            keywordMatchedInPostText,
            heading,
            alreadySeenFullHeading,
            keywordMatchedInPostHeading
        )
    }

    fun toBuilder(): Builder {
        return Builder().text(text)
            .alreadySeenFullText(alreadySeenFullText)
            .keywordMatchedInPostText(keywordMatchedInPostText)
            .heading(heading)
            .alreadySeenFullHeading(alreadySeenFullHeading)
            .keywordMatchedInPostHeading(keywordMatchedInPostHeading)
    }

    override fun toString(): String {
        return buildString {
            append("LMFeedPostContentViewData(text='")
            append(text)
            append("', alreadySeenFullText=")
            append(alreadySeenFullText)
            append(", keywordMatchedInPostText=")
            append(keywordMatchedInPostText)
            append(", heading=")
            append(heading)
            append(", alreadySeenFullHeading=")
            append(alreadySeenFullHeading)
            append(", keywordMatchedInPostHeading=")
            append(keywordMatchedInPostHeading)
            append(")")
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/model/LMFeedPostHeaderViewData.kt
================================================
package com.likeminds.feed.android.core.socialfeed.model

import com.likeminds.feed.android.core.postmenu.model.LMFeedPostMenuItemViewData
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData

class LMFeedPostHeaderViewData private constructor(
    val isEdited: Boolean,
    val isPinned: Boolean,
    val userId: String,
    val user: LMFeedUserViewData,
    val createdAt: Long,
    val updatedAt: Long,
    val menuItems: List<LMFeedPostMenuItemViewData>
) {

    class Builder {
        private var isEdited: Boolean = false
        private var isPinned: Boolean = false
        private var userId: String = ""
        private var user: LMFeedUserViewData = LMFeedUserViewData.Builder().build()
        private var createdAt: Long = 0L
        private var updatedAt: Long = 0L
        private var menuItems: List<LMFeedPostMenuItemViewData> = emptyList()

        fun isEdited(isEdited: Boolean) = apply { this.isEdited = isEdited }
        fun isPinned(isPinned: Boolean) = apply { this.isPinned = isPinned }
        fun userId(userId: String) = apply { this.userId = userId }
        fun user(user: LMFeedUserViewData) = apply { this.user = user }
        fun createdAt(createdAt: Long) = apply { this.createdAt = createdAt }
        fun updatedAt(updatedAt: Long) = apply { this.updatedAt = updatedAt }
        fun menuItems(menuItems: List<LMFeedPostMenuItemViewData>) =
            apply { this.menuItems = menuItems }

        fun build() = LMFeedPostHeaderViewData(
            isEdited,
            isPinned,
            userId,
            user,
            createdAt,
            updatedAt,
            menuItems
        )
    }

    fun toBuilder(): Builder {
        return Builder()
            .isEdited(isEdited)
            .isPinned(isPinned)
            .userId(userId)
            .user(user)
            .createdAt(createdAt)
            .updatedAt(updatedAt)
            .menuItems(menuItems)
    }

    override fun toString(): String {
        return buildString {
            append("LMFeedPostHeaderViewData(isEdited=")
            append(isEdited)
            append(", isPinned=")
            append(isPinned)
            append(", userId='")
            append(userId)
            append("', user=")
            append(user)
            append(", createdAt=")
            append(createdAt)
            append(", updatedAt=")
            append(updatedAt)
            append(", menuItems=")
            append(menuItems)
            append(")")
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/model/LMFeedPostViewData.kt
================================================
package com.likeminds.feed.android.core.socialfeed.model

import com.likeminds.feed.android.core.post.detail.model.LMFeedCommentViewData
import com.likeminds.feed.android.core.post.model.*
import com.likeminds.feed.android.core.topics.model.LMFeedTopicViewData
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.base.model.*

class LMFeedPostViewData private constructor(
    val id: String,
    val headerViewData: LMFeedPostHeaderViewData,
    val contentViewData: LMFeedPostContentViewData,
    val mediaViewData: LMFeedMediaViewData,
    val actionViewData: LMFeedPostActionViewData,
    val topicsViewData: List<LMFeedTopicViewData>,
    val fromPostLiked: Boolean,
    val fromPostSaved: Boolean,
    val fromVideoAction: Boolean,
    val isPosted: Boolean,
    val topResponses: List<LMFeedCommentViewData>
) : LMFeedBaseViewType {

    private val noOfCustomWidgets =
        mediaViewData.attachments.filter { it.attachmentType == CUSTOM_WIDGET }.size
    private val mediaAttachments =
        mediaViewData.attachments.filter { it.attachmentType != CUSTOM_WIDGET }

    override val viewType: Int
        get() = when {
            (mediaViewData.attachments.isEmpty()) -> {
                ITEM_POST_TEXT_ONLY
            }

            (noOfCustomWidgets == mediaViewData.attachments.size) -> {
                ITEM_POST_CUSTOM_WIDGET
            }

            (mediaAttachments.size == 1 && mediaAttachments.first().attachmentType == IMAGE) -> {
                ITEM_POST_SINGLE_IMAGE
            }

            (mediaAttachments.size == 1 && mediaAttachments.first().attachmentType == VIDEO) -> {
                ITEM_POST_SINGLE_VIDEO
            }

            (mediaAttachments.isNotEmpty() && mediaAttachments.first().attachmentType == DOCUMENT) -> {
                ITEM_POST_DOCUMENTS
            }

            (mediaAttachments.size > 1 && (mediaAttachments.first().attachmentType == IMAGE || mediaAttachments.first().attachmentType == VIDEO)) -> {
                ITEM_POST_MULTIPLE_MEDIA
            }

            (mediaAttachments.size == 1 && mediaAttachments.first().attachmentType == LINK) -> {
                ITEM_POST_LINK
            }

            (mediaAttachments.size == 1 && mediaAttachments.first().attachmentType == POLL) -> {
                ITEM_POST_POLL
            }

            (mediaAttachments.size == 1 && mediaAttachments.first().attachmentType == REEL) -> {
                ITEM_POST_VIDEO_FEED
            }

            else -> {
                ITEM_POST_TEXT_ONLY
            }
        }

    class Builder {
        private var id: String = ""

        private var headerViewData: LMFeedPostHeaderViewData =
            LMFeedPostHeaderViewData.Builder().build()

        private var contentViewData: LMFeedPostContentViewData =
            LMFeedPostContentViewData.Builder().build()

        private var mediaViewData: LMFeedMediaViewData =
            LMFeedMediaViewData.Builder().build()

        private var actionViewData: LMFeedPostActionViewData =
            LMFeedPostActionViewData.Builder().build()

        private var topicsViewData: List<LMFeedTopicViewData> = emptyList()

        private var fromPostLiked: Boolean = false

        private var fromPostSaved: Boolean = false

        private var fromVideoAction: Boolean = false

        private var isPosted: Boolean = true

        private var topResponses: List<LMFeedCommentViewData> = emptyList()

        fun id(id: String) = apply {
            this.id = id
        }

        fun headerViewData(headerViewData: LMFeedPostHeaderViewData) = apply {
            this.headerViewData = headerViewData
        }

        fun contentViewData(contentViewData: LMFeedPostContentViewData) = apply {
            this.contentViewData = contentViewData
        }

        fun mediaViewData(mediaViewData: LMFeedMediaViewData) = apply {
            this.mediaViewData = mediaViewData
        }

        fun actionViewData(actionViewData: LMFeedPostActionViewData) = apply {
            this.actionViewData = actionViewData
        }

        fun topicsViewData(topicsViewData: List<LMFeedTopicViewData>) = apply {
            this.topicsViewData = topicsViewData
        }

        fun fromPostLiked(fromPostLiked: Boolean) = apply {
            this.fromPostLiked = fromPostLiked
        }

        fun fromPostSaved(fromPostSaved: Boolean) = apply {
            this.fromPostSaved = fromPostSaved
        }

        fun fromVideoAction(fromVideoAction: Boolean) = apply {
            this.fromVideoAction = fromVideoAction
        }

        fun isPosted(isPosted: Boolean) = apply {
            this.isPosted = isPosted
        }

        fun topResponses(topResponses: List<LMFeedCommentViewData>) = apply {
            this.topResponses = topResponses
        }

        fun build() = LMFeedPostViewData(
            id,
            headerViewData,
            contentViewData,
            mediaViewData,
            actionViewData,
            topicsViewData,
            fromPostLiked,
            fromPostSaved,
            fromVideoAction,
            isPosted,
            topResponses
        )
    }

    fun toBuilder(): Builder {
        return Builder()
            .id(id)
            .headerViewData(headerViewData)
            .contentViewData(contentViewData)
            .mediaViewData(mediaViewData)
            .actionViewData(actionViewData)
            .topicsViewData(topicsViewData)
            .fromPostLiked(fromPostLiked)
            .fromPostSaved(fromPostSaved)
            .fromVideoAction(fromVideoAction)
            .isPosted(isPosted)
            .topResponses(topResponses)
    }

    override fun toString(): String {
        return buildString {
            append("LMFeedPostViewData(id='")
            append(id)
            append("', headerViewData=")
            append(headerViewData)
            append(", contentViewData=")
            append(contentViewData)
            append(", mediaViewData=")
            append(mediaViewData)
            append(", actionViewData=")
            append(actionViewData)
            append(", topicsViewData=")
            append(topicsViewData)
            append(", fromPostLiked=")
            append(fromPostLiked)
            append(", fromPostSaved=")
            append(fromPostSaved)
            append(", topResponses=")
            append(topResponses)
            append(")")
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/model/LMFeedSDKClientInfoViewData.kt
================================================
package com.likeminds.feed.android.core.socialfeed.model

import android.os.Parcelable
import kotlinx.parcelize.Parcelize

@Parcelize
class LMFeedSDKClientInfoViewData private constructor(
    val community: Int,
    val user: Int,
    val userUniqueId: String,
    val uuid: String
) : Parcelable {

    class Builder {
        private var community: Int = 0
        private var user: Int = 0
        private var userUniqueId: String = ""
        private var uuid: String = ""

        fun community(community: Int) = apply { this.community = community }
        fun user(user: Int) = apply { this.user = user }
        fun userUniqueId(userUniqueId: String) = apply { this.userUniqueId = userUniqueId }
        fun uuid(uuid: String) = apply { this.uuid = uuid }

        fun build() = LMFeedSDKClientInfoViewData(community, user, userUniqueId, uuid)
    }

    fun toBuilder(): Builder {
        return Builder().user(user)
            .community(community)
            .uuid(uuid)
            .userUniqueId(userUniqueId)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/style/LMFeedPostingViewStyle.kt
================================================
package com.likeminds.feed.android.core.socialfeed.style

import android.text.TextUtils
import androidx.annotation.ColorRes
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.LMFeedImageStyle
import com.likeminds.feed.android.core.ui.base.styles.LMFeedProgressBarStyle
import com.likeminds.feed.android.core.ui.base.styles.LMFeedTextStyle
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedPostingViewStyle] helps to customize [LMFeedPostingView] in the following way
 * @property attachmentThumbnailImageStyle: [LMFeedImageStyle] this will help to customize thumbnail of the post | Set value to [null] to hide the thumbnail
 * @property postingHeadingTextStyle: [LMFeedTextStyle] this will help to customize posting heading
 * @property progressStyle: [LMFeedProgressBarStyle] this will help to customize progress bar to show uploading status
 * @property retryButtonTextStyle: [LMFeedTextStyle] this will help to customize retry CTA
 * @property postingDoneImageStyle: [LMFeedImageStyle] this will help to customize the image to show, once uploading is done.
 * @property backgroundColor: [Int] should be in format of [ColorRes] to add background Color the view| Default value is [null]
 */
class LMFeedPostingViewStyle private constructor(
    val attachmentThumbnailImageStyle: LMFeedImageStyle?,
    val postingHeadingTextStyle: LMFeedTextStyle,
    val progressStyle: LMFeedProgressBarStyle,
    val retryButtonTextStyle: LMFeedTextStyle,
    val postingDoneImageStyle: LMFeedImageStyle,
    @ColorRes val backgroundColor: Int?
) : LMFeedViewStyle {

    class Builder {
        private var attachmentThumbnailImageStyle: LMFeedImageStyle? = null

        private var postingHeadingTextStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textSize(R.dimen.lm_feed_text_medium)
            .textColor(R.color.lm_feed_dark_grey)
            .ellipsize(TextUtils.TruncateAt.END)
            .build()

        private var progressStyle: LMFeedProgressBarStyle = LMFeedProgressBarStyle.Builder()
            .isIndeterminate(false)
            .progressColor(LMFeedAppearance.getButtonColor())
            .build()

        private var retryButtonTextStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textColor(R.color.lm_feed_grey)
            .textSize(R.dimen.lm_feed_text_medium)
            .ellipsize(TextUtils.TruncateAt.END)
            .build()

        private var postingDoneImageStyle: LMFeedImageStyle = LMFeedImageStyle.Builder()
            .isCircle(true)
            .imageSrc(R.drawable.lm_feed_ic_completed_green)
            .build()

        @ColorRes
        private var backgroundColor: Int? = null


        fun attachmentThumbnailImageStyle(attachmentThumbnailImageStyle: LMFeedImageStyle?) =
            apply { this.attachmentThumbnailImageStyle = attachmentThumbnailImageStyle }

        fun postingHeadingTextStyle(postingHeadingTextStyle: LMFeedTextStyle) =
            apply { this.postingHeadingTextStyle = postingHeadingTextStyle }

        fun progressStyle(progressStyle: LMFeedProgressBarStyle) =
            apply { this.progressStyle = progressStyle }

        fun retryButtonTextStyle(retryButtonTextStyle: LMFeedTextStyle) =
            apply { this.retryButtonTextStyle = retryButtonTextStyle }

        fun postingDoneImageStyle(postingDoneImageStyle: LMFeedImageStyle) =
            apply { this.postingDoneImageStyle = postingDoneImageStyle }

        fun backgroundColor(backgroundColor: Int?) = apply {
            this.backgroundColor = backgroundColor
        }

        fun build() = LMFeedPostingViewStyle(
            attachmentThumbnailImageStyle,
            postingHeadingTextStyle,
            progressStyle,
            retryButtonTextStyle,
            postingDoneImageStyle,
            backgroundColor
        )
    }

    fun toBuilder(): Builder {
        return Builder().attachmentThumbnailImageStyle(attachmentThumbnailImageStyle)
            .postingDoneImageStyle(postingDoneImageStyle)
            .progressStyle(progressStyle)
            .retryButtonTextStyle(retryButtonTextStyle)
            .postingHeadingTextStyle(postingHeadingTextStyle)
            .backgroundColor(backgroundColor)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/style/LMFeedSocialFeedFragmentViewStyle.kt
================================================
package com.likeminds.feed.android.core.socialfeed.style

import android.text.TextUtils
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.widgets.headerview.style.LMFeedHeaderViewStyle
import com.likeminds.feed.android.core.ui.widgets.noentitylayout.style.LMFeedNoEntityLayoutViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle
import com.likeminds.feed.android.core.utils.model.LMFeedPadding

/**
 * [LMFeedSocialFeedFragmentViewStyle] helps you to customize the social feed fragment [LMFeedSocialFeedFragment]
 *
 * @property headerViewStyle : [LMFeedHeaderViewStyle] this will help you to customize the header view in the social feed fragment
 * @property createNewPostButtonViewStyle : [LMFeedFABStyle] this will help you to customize the create new post fab in the social feed fragment
 * @property noPostLayoutViewStyle: [LMFeedNoEntityLayoutViewStyle] this will help you to customize the no post layout in the social feed fragment
 * @property postingViewStyle: [LMFeedPostingViewStyle] this will help you to customize the posting progress view in the social feed fragment
 * @property topicSelectorBarStyle: [LMFeedTopicSelectorBarViewStyle] this will help you to customize the topic selector bar in the social feed fragment
 * */
class LMFeedSocialFeedFragmentViewStyle private constructor(
    //header
    val headerViewStyle: LMFeedHeaderViewStyle,
    //create post button
    val createNewPostButtonViewStyle: LMFeedFABStyle,
    //no post layout
    val noPostLayoutViewStyle: LMFeedNoEntityLayoutViewStyle,
    //posting view
    val postingViewStyle: LMFeedPostingViewStyle,
    //topic selector bar view
    val topicSelectorBarStyle: LMFeedTopicSelectorBarViewStyle
) : LMFeedViewStyle {

    class Builder {
        private var headerViewStyle: LMFeedHeaderViewStyle = LMFeedHeaderViewStyle.Builder()
            .titleTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_black)
                    .textSize(R.dimen.lm_feed_header_view_title_text_size)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .maxLines(1)
                    .ellipsize(TextUtils.TruncateAt.END)
                    .build()
            )
            .backgroundColor(R.color.lm_feed_white)
            .userProfileStyle(
                LMFeedImageStyle.Builder()
                    .isCircle(true)
                    .showGreyScale(false)
                    .build()
            )
            .notificationIconStyle(
                LMFeedIconStyle.Builder()
                    .inActiveSrc(R.drawable.lm_feed_ic_notification_bell)
                    .iconTint(R.color.lm_feed_black)
                    .iconPadding(
                        LMFeedPadding(
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding
                        )
                    )
                    .build()
            )
            .notificationCountTextStyle(
                LMFeedTextStyle.Builder()
                    .textSize(R.dimen.lm_feed_notification_badge_text_size)
                    .textColor(R.color.lm_feed_white)
                    .build()
            )
            .searchIconStyle(
                LMFeedIconStyle.Builder()
                    .inActiveSrc(R.drawable.lm_feed_ic_search_icon)
                    .iconTint(R.color.lm_feed_black)
                    .iconPadding(
                        LMFeedPadding(
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding
                        )
                    )
                    .build()
            )
            .build()

        private var createNewPostButtonViewStyle = LMFeedFABStyle.Builder()
            .isExtended(false)
            .backgroundColor(LMFeedAppearance.getButtonColor())
            .icon(R.drawable.lm_feed_ic_new_post_plus)
            .iconTint(R.color.lm_feed_white)
            .iconSize(R.dimen.lm_feed_create_new_post_icon_size)
            .textStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_white)
                    .textAllCaps(true)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .build()
            )
            .build()

        private var noPostLayoutViewStyle: LMFeedNoEntityLayoutViewStyle =
            LMFeedNoEntityLayoutViewStyle.Builder()
                .backgroundColor(R.color.lm_feed_white)
                .actionStyle(createNewPostButtonViewStyle)
                .titleStyle(
                    LMFeedTextStyle.Builder()
                        .textSize(R.dimen.lm_feed_text_extra_large)
                        .textColor(R.color.lm_feed_black)
                        .fontResource(R.font.lm_feed_roboto_medium)
                        .textAllCaps(false)
                        .maxLines(1)
                        .build()
                )
                .imageStyle(
                    LMFeedImageStyle.Builder()
                        .isCircle(false)
                        .showGreyScale(false)
                        .imageSrc(R.drawable.lm_feed_ic_post)
                        .alpha(0.6f)
                        .build()
                )
                .subtitleStyle(
                    LMFeedTextStyle.Builder()
                        .textAllCaps(false)
                        .textColor(R.color.lm_feed_black)
                        .textSize(R.dimen.lm_feed_text_small)
                        .textAllCaps(false)
                        .build()
                )
                .build()

        private var postingViewStyle: LMFeedPostingViewStyle = LMFeedPostingViewStyle.Builder()
            .build()

        private var topicSelectorBarStyle: LMFeedTopicSelectorBarViewStyle =
            LMFeedTopicSelectorBarViewStyle.Builder()
                .backgroundColor(R.color.lm_feed_white)
                .build()

        fun createNewPostButtonViewStyle(createNewPostButtonViewStyle: LMFeedFABStyle) = apply {
            this.createNewPostButtonViewStyle = createNewPostButtonViewStyle
        }

        fun headerViewStyle(headerViewStyle: LMFeedHeaderViewStyle) = apply {
            this.headerViewStyle = headerViewStyle
        }

        fun noPostLayoutViewStyle(noPostLayoutViewStyle: LMFeedNoEntityLayoutViewStyle) = apply {
            this.noPostLayoutViewStyle = noPostLayoutViewStyle
        }

        fun postingViewStyle(postingViewStyle: LMFeedPostingViewStyle) = apply {
            this.postingViewStyle = postingViewStyle
        }

        fun topicSelectorBarStyle(topicSelectorBarStyle: LMFeedTopicSelectorBarViewStyle) =
            apply {
                this.topicSelectorBarStyle = topicSelectorBarStyle
            }

        fun build() =
            LMFeedSocialFeedFragmentViewStyle(
                headerViewStyle,
                createNewPostButtonViewStyle,
                noPostLayoutViewStyle,
                postingViewStyle,
                topicSelectorBarStyle
            )
    }

    fun toBuilder(): Builder {
        return Builder().headerViewStyle(headerViewStyle)
            .createNewPostButtonViewStyle(createNewPostButtonViewStyle)
            .noPostLayoutViewStyle(noPostLayoutViewStyle)
            .postingViewStyle(postingViewStyle)
            .topicSelectorBarStyle(topicSelectorBarStyle)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/style/LMFeedTopicSelectorBarViewStyle.kt
================================================
package com.likeminds.feed.android.core.socialfeed.style

import androidx.annotation.ColorRes
import androidx.annotation.DimenRes
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedTopicSelectorBarViewStyle] helps you to customize the likes fragment [LMFeedTopicSelectorBarView]
 *
 * @property allTopicsSelectorStyle : [LMFeedTextStyle] this will help you to customize the all topics selector text of the topic selector bar
 * @property clearTopicFilterStyle : [LMFeedTextStyle] this will help you to customize the clear topic filter text of the topic selector bar
 * @property selectedTopicTextStyle : [LMFeedTextStyle] this will help you to customize the selected topic text of the topic selector bar
 * @property removeSelectedTopicIconStyle : [LMFeedIconStyle] this will help you to customize the remove selected topic icon of the topic selector bar
 * @property backgroundColor: [Int] should be in format of [ColorRes] this will help you to customize the background color of the topic selector bar | Default value = [null]
 * @property elevation: [Int] should be in format of [DimenRes] to add custom elevation of the topic selector bar | Default value =  [null]
 * */
class LMFeedTopicSelectorBarViewStyle private constructor(
    //all topics selector style
    val allTopicsSelectorStyle: LMFeedTextStyle,
    //clear topic filter view style
    val clearTopicFilterStyle: LMFeedTextStyle,
    //selected topic name text style
    val selectedTopicTextStyle: LMFeedTextStyle,
    //remove selected topic icon style
    val removeSelectedTopicIconStyle: LMFeedIconStyle,
    //background color of the selector bar
    @ColorRes val backgroundColor: Int?,
    //elevation of the bar
    @DimenRes val elevation: Int?,
) : LMFeedViewStyle {
    class Builder {
        private var allTopicsSelectorStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .drawableRightSrc(R.drawable.lm_feed_ic_arrow_down)
            .textColor(R.color.lm_feed_grey)
            .textSize(R.dimen.lm_feed_text_large)
            .build()

        private var clearTopicFilterStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textColor(LMFeedAppearance.getButtonColor())
            .textSize(R.dimen.lm_feed_text_large)
            .build()

        private var selectedTopicTextStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textColor(LMFeedAppearance.getButtonColor())
            .textSize(R.dimen.lm_feed_text_large)
            .build()

        private var removeSelectedTopicIconStyle: LMFeedIconStyle = LMFeedIconStyle.Builder()
            .iconTint(LMFeedAppearance.getButtonColor())
            .inActiveSrc(R.drawable.lm_feed_ic_cross_topics)
            .build()

        @ColorRes
        private var backgroundColor: Int? = null

        @DimenRes
        private var elevation: Int? = null

        fun allTopicsSelectorStyle(allTopicsSelectorStyle: LMFeedTextStyle) = apply {
            this.allTopicsSelectorStyle = allTopicsSelectorStyle
        }

        fun clearTopicFilterStyle(clearTopicFilterStyle: LMFeedTextStyle) = apply {
            this.clearTopicFilterStyle = clearTopicFilterStyle
        }

        fun selectedTopicTextStyle(selectedTopicTextStyle: LMFeedTextStyle) = apply {
            this.selectedTopicTextStyle = selectedTopicTextStyle
        }

        fun removeSelectedTopicIconStyle(removeSelectedTopicIconStyle: LMFeedIconStyle) = apply {
            this.removeSelectedTopicIconStyle = removeSelectedTopicIconStyle
        }

        fun backgroundColor(@ColorRes backgroundColor: Int?) = apply {
            this.backgroundColor = backgroundColor
        }

        fun elevation(@DimenRes elevation: Int?) = apply {
            this.elevation = elevation
        }

        fun build() = LMFeedTopicSelectorBarViewStyle(
            allTopicsSelectorStyle,
            clearTopicFilterStyle,
            selectedTopicTextStyle,
            removeSelectedTopicIconStyle,
            backgroundColor,
            elevation
        )
    }

    fun toBuilder(): Builder {
        return Builder().allTopicsSelectorStyle(allTopicsSelectorStyle)
            .clearTopicFilterStyle(clearTopicFilterStyle)
            .selectedTopicTextStyle(selectedTopicTextStyle)
            .removeSelectedTopicIconStyle(removeSelectedTopicIconStyle)
            .backgroundColor(backgroundColor)
            .elevation(elevation)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/util/LMFeedPostBinderUtils.kt
================================================
package com.likeminds.feed.android.core.socialfeed.util

import android.content.Context
import android.text.*
import android.text.style.ClickableSpan
import android.text.style.ForegroundColorSpan
import android.text.util.Linkify
import android.view.View
import android.widget.TextView
import androidx.core.content.ContextCompat
import androidx.core.text.util.LinkifyCompat
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.post.model.*
import com.likeminds.feed.android.core.postmenu.model.PIN_POST_MENU_ITEM_ID
import com.likeminds.feed.android.core.postmenu.model.UNPIN_POST_MENU_ITEM_ID
import com.likeminds.feed.android.core.search.util.LMFeedSearchUtil
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.model.*
import com.likeminds.feed.android.core.topics.model.LMFeedTopicViewData
import com.likeminds.feed.android.core.ui.base.styles.setStyle
import com.likeminds.feed.android.core.ui.base.views.LMFeedChipGroup
import com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.widgets.labelimagecontainer.view.LMFeedLabelImageContainerView
import com.likeminds.feed.android.core.ui.widgets.poll.adapter.LMFeedPollOptionsAdapterListener
import com.likeminds.feed.android.core.ui.widgets.poll.view.LMFeedPostPollView
import com.likeminds.feed.android.core.ui.widgets.post.postactionview.view.*
import com.likeminds.feed.android.core.ui.widgets.post.postheaderview.view.LMFeedPostHeaderView
import com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.*
import com.likeminds.feed.android.core.ui.widgets.post.posttopresponse.view.LMFeedPostTopResponseView
import com.likeminds.feed.android.core.utils.*
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.getFormatedNumber
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.getValidTextForLinkify
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.pluralizeOrCapitalize
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.link.LMFeedLinkMovementMethod
import com.likeminds.feed.android.core.utils.pluralize.model.LMFeedWordAction
import com.likeminds.feed.android.core.utils.user.LMFeedUserImageUtil
import com.likeminds.feed.android.core.utils.user.LMFeedUserPreferences
import com.likeminds.usertagging.util.UserTaggingDecoder

object LMFeedPostBinderUtils {

    // customizes the header view of the post
    fun customizePostHeaderView(postHeaderView: LMFeedPostHeaderView) {
        val postHeaderViewStyle = LMFeedStyleTransformer.postViewStyle.postHeaderViewStyle
        postHeaderView.setStyle(postHeaderViewStyle)
    }

    // customizes the heading view of the post
    fun customizePostHeadingView(postHeading: LMFeedTextView) {
        val headingContentViewStyle =
            LMFeedStyleTransformer.postViewStyle.postContentTextStyle.headingContentViewStyle

        if (headingContentViewStyle != null) {
            postHeading.show()
            postHeading.setStyle(headingContentViewStyle)
        } else {
            postHeading.hide()
        }
    }

    // customizes the content view of the post
    fun customizePostContentView(
        postContent: LMFeedTextView,
    ) {
        val postContentTextStyle = LMFeedStyleTransformer.postViewStyle.postContentTextStyle
        postContent.setStyle(postContentTextStyle.textContentViewStyle)
    }

    // customizes the horizontal post action view
    fun customizePostActionHorizontalView(postActionHorizontalView: LMFeedPostActionHorizontalView) {
        val postActionViewStyle = LMFeedStyleTransformer.postViewStyle.postActionViewStyle
        postActionHorizontalView.setStyle(postActionViewStyle)
    }

    // customizes the horizontal post qna action view
    fun customizePostQnAActionHorizontalView(postAQnAActionHorizontalView: LMFeedPostQnAActionHorizontalView) {
        val postActionViewStyle = LMFeedStyleTransformer.postViewStyle.postActionViewStyle
        postAQnAActionHorizontalView.setStyle(postActionViewStyle)
    }

    // customizes the post answer prompt view
    fun customizePostQnAAnswerPromptView(labelImageContainerView: LMFeedLabelImageContainerView) {
        labelImageContainerView.apply {
            var postAnswerPromptViewStyle =
                LMFeedStyleTransformer.postViewStyle.postAnswerPromptViewStyle
            if (postAnswerPromptViewStyle != null) {
                // set user first letter as placeholder
                val containerImageViewStyle = postAnswerPromptViewStyle.containerImageStyle
                val loggedInUserPrefs = LMFeedUserPreferences(context)

                postAnswerPromptViewStyle =
                    postAnswerPromptViewStyle.toBuilder().containerImageStyle(
                        containerImageViewStyle.toBuilder().placeholderSrc(
                            LMFeedUserImageUtil.getNameDrawable(
                                loggedInUserPrefs.getUUID(),
                                loggedInUserPrefs.getUserName(),
                                containerImageViewStyle.isCircle,
                            ).first
                        ).build()
                    ).build()

                show()
                setStyle(postAnswerPromptViewStyle)
            } else {
                hide()
            }
        }
    }

    // customizes the vertical post action view
    fun customizePostActionVerticalView(postActionVerticalView: LMFeedPostActionVerticalView) {
        val postActionViewStyle = LMFeedStyleTransformer.postViewStyle.postActionViewStyle
        postActionVerticalView.setStyle(postActionViewStyle)
    }

    // customizes the topics view of the post
    fun customizePostTopicsGroup(postTopicsGroup: LMFeedChipGroup) {
        postTopicsGroup.apply {
            val postTopicsGroupViewStyle =
                LMFeedStyleTransformer.postViewStyle.postTopicsGroupStyle

            setStyle(postTopicsGroupViewStyle)
        }
    }

    // customizes the top response view of the post
    fun customizePostTopResponseView(postTopResponseView: LMFeedPostTopResponseView) {
        postTopResponseView.apply {
            val postTopResponseViewStyle =
                LMFeedStyleTransformer.postViewStyle.postTopResponseViewStyle

            if (postTopResponseViewStyle == null) {
                postTopResponseView.hide()
            } else {
                postTopResponseView.show()
                postTopResponseView.setStyle(postTopResponseViewStyle)
            }
        }
    }

    //bind post data to specific views
    fun setPostBindData(
        headerView: LMFeedPostHeaderView,
        headingView: LMFeedTextView,
        contentView: LMFeedTextView,
        postTopResponseView: LMFeedPostTopResponseView?,
        postAnswerPromptView: LMFeedLabelImageContainerView?,
        data: LMFeedPostViewData,
        position: Int,
        topicsView: LMFeedChipGroup,
        postAdapterListener: LMFeedPostAdapterListener,
        returnBinder: () -> Unit,
        executeBinder: () -> Unit
    ) {
        if (data.fromPostLiked || data.fromPostSaved || data.fromVideoAction) {
            // update fromLiked/fromSaved variables and return from binder
            postAdapterListener.updateFromLikedSaved(position, data)
            returnBinder()
        } else {
            // call all the common functions

            // sets data to the header view
            setPostHeaderViewData(
                headerView,
                data.headerViewData
            )

            // sets data to the heading view
            setPostHeadingViewData(
                headingView,
                data,
                postAdapterListener,
                position
            )

            // sets the text content of the post
            setPostContentViewData(
                contentView,
                data,
                postAdapterListener,
                position
            )

            // sets the topics view of the post
            setPostTopicsViewData(
                topicsView,
                data.topicsViewData
            )

            // sets the top response view of the post
            setPostTopResponse(
                position,
                postAdapterListener,
                postTopResponseView,
                data
            )

            // sets the answer prompt view of the post
            setPostAnswerPrompt(
                data,
                postAnswerPromptView
            )

            executeBinder()
        }
    }

    //sets the data in the post header view
    private fun setPostHeaderViewData(
        headerView: LMFeedPostHeaderView,
        headerViewData: LMFeedPostHeaderViewData
    ) {
        headerView.apply {
            setPinIcon(headerViewData.isPinned)
            setPostEdited(headerViewData.isEdited)

            // post author data
            val author = headerViewData.user
            setAuthorName(author.name)
            setAuthorCustomTitle(author.customTitle)
            setAuthorImage(author)

            setTimestamp(headerViewData.createdAt)
        }
    }

    //sets the data in the post content view
    private fun setPostContentViewData(
        contentView: LMFeedTextView,
        postViewData: LMFeedPostViewData,
        postAdapterListener: LMFeedPostAdapterListener,
        position: Int
    ) {
        contentView.apply {
            val contentViewData = postViewData.contentViewData
            val postContent = contentViewData.text ?: return
            val matchedKeyword = contentViewData.keywordMatchedInPostText

            val postContentStyle = LMFeedStyleTransformer.postViewStyle.postContentTextStyle
            val postTextStyle = postContentStyle.textContentViewStyle
            val searchHighlightedStyle = postContentStyle.searchHighlightedTextViewStyle

            val maxLines = (postTextStyle.maxLines ?: LMFeedAppearance.DEFAULT_POST_MAX_LINES)

            //if used while searching a post, when matchedKeyword is not null
            if (!matchedKeyword.isNullOrEmpty()) {
                val textForLinkify = postContent.getValidTextForLinkify()

                if (textForLinkify.isEmpty()) {
                    hide()
                    return
                } else {
                    show()
                }

                post {
                    setOnClickListener {
                        postAdapterListener.onPostContentClicked(position, postViewData)
                    }

                    val tvPostText = SpannableStringBuilder()

                    // get the color of text and background
                    val textColor = searchHighlightedStyle?.textColor ?: R.color.lm_feed_black
                    val backgroundColor =
                        searchHighlightedStyle?.backgroundColor ?: R.color.lm_feed_transparent

                    val textWithTags = UserTaggingDecoder.decode(postContent)

                    // update the post's text
                    tvPostText.append(
                        LMFeedSearchUtil.getTrimmedText(
                            textWithTags,
                            matchedKeyword,
                            ContextCompat.getColor(context, textColor),
                            ContextCompat.getColor(context, backgroundColor)
                        )
                    )

                    contentView.setText(tvPostText, TextView.BufferType.SPANNABLE)

                    //handling click of web links or email addresses or phone numbers in post content
                    val linkifyLinks =
                        (Linkify.WEB_URLS or Linkify.EMAIL_ADDRESSES or Linkify.PHONE_NUMBERS)
                    LinkifyCompat.addLinks(this, linkifyLinks)
                    movementMethod = LMFeedLinkMovementMethod { url ->
                        setOnClickListener {
                            return@setOnClickListener
                        }

                        postAdapterListener.onPostContentLinkClicked(url)
                        true
                    }
                }
            } else {
                //in normal cases
                var alreadySeenFullContent = contentViewData.alreadySeenFullText == true

                val textForLinkify = postContent.getValidTextForLinkify()

                if (textForLinkify.isEmpty()) {
                    hide()
                    return
                } else {
                    show()
                }

                post {
                    setOnClickListener {
                        postAdapterListener.onPostContentClicked(position, postViewData)
                    }

                    //handling click of tagged users in post content
                    UserTaggingDecoder.decodeRegexIntoSpannableText(
                        this,
                        textForLinkify.trim(),
                        enableClick = true,
                        highlightColor = ContextCompat.getColor(
                            context,
                            LMFeedAppearance.getTextLinkColor()
                        ),
                        hasAtRateSymbol = true,
                    ) { route ->
                        val uuid = route.getQueryParameter("member_id")
                            ?: route.getQueryParameter("user_id")
                            ?: route.getQueryParameter("uuid")
                            ?: route.lastPathSegment
                            ?: return@decodeRegexIntoSpannableText

                        //notify listener to handel click
                        postAdapterListener.onPostTaggedMemberClicked(position, uuid)
                    }

                    //shortens the text of the post to that of maxLines
                    val shortText: String? = LMFeedSeeMoreUtil.getShortContent(
                        this,
                        maxLines,
                        LMFeedAppearance.getPostCharacterLimit()
                    )

                    val trimmedText =
                        if (!alreadySeenFullContent && !shortText.isNullOrEmpty()) {
                            editableText.subSequence(0, shortText.length)
                        } else {
                            editableText
                        }

                    //creating see more spannable text for expanding post content.
                    val seeMoreSpannableStringBuilder = SpannableStringBuilder()
                    val expandableText = postTextStyle.expandableCTAText

                    if (!alreadySeenFullContent && !shortText.isNullOrEmpty() && expandableText != null) {

                        val expandableTextColor = ContextCompat.getColor(
                            context,
                            postTextStyle.expandableCTAColor ?: R.color.lm_feed_brown_grey
                        )
                        val expandSpannable = SpannableStringBuilder(expandableText)
                        expandSpannable.setSpan(
                            ForegroundColorSpan(expandableTextColor),
                            0,
                            expandSpannable.length,
                            Spannable.SPAN_EXCLUSIVE_EXCLUSIVE
                        )

                        //handling click of spannable text
                        val seeMoreClickableSpan = object : ClickableSpan() {
                            override fun onClick(view: View) {
                                setOnClickListener {
                                    return@setOnClickListener
                                }
                                alreadySeenFullContent = true
                                val updatedPost = updatePostContentForSeeFullContent(postViewData)
                                postAdapterListener.onPostContentSeeMoreClicked(
                                    position,
                                    updatedPost
                                )
                            }

                            override fun updateDrawState(textPaint: TextPaint) {
                                textPaint.isUnderlineText = false
                            }
                        }

                        seeMoreSpannableStringBuilder.append(expandSpannable)
                        seeMoreSpannableStringBuilder.setSpan(
                            seeMoreClickableSpan,
                            0,
                            expandSpannable.length,
                            Spanned.SPAN_EXCLUSIVE_EXCLUSIVE
                        )
                    }

                    text = TextUtils.concat(
                        trimmedText,
                        seeMoreSpannableStringBuilder
                    )

                    //handling click of web links or email addresses or phone numbers in post content
                    val linkifyLinks =
                        (Linkify.WEB_URLS or Linkify.EMAIL_ADDRESSES or Linkify.PHONE_NUMBERS)
                    LinkifyCompat.addLinks(this, linkifyLinks)
                    movementMethod = LMFeedLinkMovementMethod { url ->
                        setOnClickListener {
                            return@setOnClickListener
                        }

                        postAdapterListener.onPostContentLinkClicked(url)
                        true
                    }
                }
            }
        }
    }

    //sets data in post heading view
    private fun setPostHeadingViewData(
        headingView: LMFeedTextView,
        postViewData: LMFeedPostViewData,
        postAdapterListener: LMFeedPostAdapterListener,
        position: Int
    ) {
        headingView.apply {
            val postContentTextStyle =
                LMFeedStyleTransformer.postViewStyle.postContentTextStyle

            val postContentViewData = postViewData.contentViewData

            if (postContentTextStyle.headingContentViewStyle == null
                || postContentViewData.heading.isNullOrEmpty()
            ) {
                headingView.hide()
            } else {
                headingView.show()

                val postHeading = postContentViewData.heading
                val matchedKeyword = postContentViewData.keywordMatchedInPostHeading

                val postHeadingStyle = postContentTextStyle.headingContentViewStyle
                val searchHeadingHighlightedStyle =
                    postContentTextStyle.searchHighlightedHeadingViewStyle

                val maxLines =
                    (postHeadingStyle.maxLines ?: LMFeedAppearance.DEFAULT_POST_MAX_LINES)

                //if used while searching a post, when matchedKeyword is not null
                if (!matchedKeyword.isNullOrEmpty()) {
                    post {
                        setOnClickListener {
                            postAdapterListener.onPostHeadingClicked(position, postViewData)
                        }

                        val tvPostText = SpannableStringBuilder()

                        // get the color of text and background
                        val textColor =
                            searchHeadingHighlightedStyle?.textColor ?: R.color.lm_feed_black
                        val backgroundColor =
                            searchHeadingHighlightedStyle?.backgroundColor
                                ?: R.color.lm_feed_transparent

                        // update the post's text
                        tvPostText.append(
                            LMFeedSearchUtil.getTrimmedText(
                                postHeading,
                                matchedKeyword,
                                ContextCompat.getColor(context, textColor),
                                ContextCompat.getColor(context, backgroundColor)
                            )
                        )

                        headingView.setText(tvPostText, TextView.BufferType.SPANNABLE)
                    }
                } else {
                    //in normal cases
                    var alreadySeenFullContent = postContentViewData.alreadySeenFullHeading == true

                    post {
                        setOnClickListener {
                            postAdapterListener.onPostHeadingClicked(position, postViewData)
                        }

                        setText(postHeading, TextView.BufferType.EDITABLE)

                        //shortens the text of the post to that of maxLines
                        val shortText: String? = LMFeedSeeMoreUtil.getShortContent(
                            this,
                            maxLines,
                            LMFeedAppearance.getPostHeadingLimit()
                        )

                        val trimmedText =
                            if (!alreadySeenFullContent && !shortText.isNullOrEmpty()) {
                                editableText.subSequence(0, shortText.length)
                            } else {
                                editableText
                            }

                        //creating see more spannable text for expanding post heading.
                        val seeMoreSpannableStringBuilder = SpannableStringBuilder()
                        val expandableText = postHeadingStyle.expandableCTAText

                        if (!alreadySeenFullContent && !shortText.isNullOrEmpty() && expandableText != null) {

                            val expandableTextColor = ContextCompat.getColor(
                                context,
                                postHeadingStyle.expandableCTAColor ?: R.color.lm_feed_brown_grey
                            )
                            val expandSpannable = SpannableStringBuilder(expandableText)
                            expandSpannable.setSpan(
                                ForegroundColorSpan(expandableTextColor),
                                0,
                                expandSpannable.length,
                                Spannable.SPAN_EXCLUSIVE_EXCLUSIVE
                            )

                            //handling click of spannable text
                            val seeMoreClickableSpan = object : ClickableSpan() {
                                override fun onClick(view: View) {
                                    setOnClickListener {
                                        return@setOnClickListener
                                    }
                                    alreadySeenFullContent = true
                                    val updatedPost =
                                        updatePostHeadingForSeeFullContent(postViewData)
                                    postAdapterListener.onPostHeadingSeeMoreClicked(
                                        position,
                                        updatedPost
                                    )
                                }

                                override fun updateDrawState(textPaint: TextPaint) {
                                    textPaint.isUnderlineText = false
                                }
                            }

                            seeMoreSpannableStringBuilder.append(expandSpannable)
                            seeMoreSpannableStringBuilder.setSpan(
                                seeMoreClickableSpan,
                                0,
                                expandSpannable.length,
                                Spanned.SPAN_EXCLUSIVE_EXCLUSIVE
                            )
                        }

                        text = TextUtils.concat(
                            trimmedText,
                            seeMoreSpannableStringBuilder
                        )

                        //handling click of web links or email addresses or phone numbers in post content
                        val linkifyLinks =
                            (Linkify.WEB_URLS or Linkify.EMAIL_ADDRESSES or Linkify.PHONE_NUMBERS)
                        LinkifyCompat.addLinks(this, linkifyLinks)
                        movementMethod = LMFeedLinkMovementMethod {
                            setOnClickListener {
                                return@setOnClickListener
                            }

                            true
                        }
                    }
                }
            }
        }
    }

    // sets the data in the post horizontal action view
    fun setPostHorizontalActionViewData(
        horizontalActionView: LMFeedPostActionHorizontalView,
        postActionViewData: LMFeedPostActionViewData
    ) {
        horizontalActionView.apply {
            setLikesIcon(postActionViewData.isLiked)
            setSaveIcon(postActionViewData.isSaved)

            val likesCount = postActionViewData.likesCount

            val likesCountText = if (likesCount == 0) {
                context.getString(
                    R.string.lm_feed_s_like,
                    LMFeedCommunityUtil.getLikeVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            } else {
                val likeString = if (likesCount == 1) {
                    LMFeedCommunityUtil.getLikeVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                } else {
                    LMFeedCommunityUtil.getLikeVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_PLURAL)
                }
                context.resources.getQuantityString(
                    R.plurals.lm_feed_s_likes,
                    likesCount,
                    likesCount,
                    likeString
                )
            }
            setLikesCount(likesCountText)

            val commentsCount = postActionViewData.commentsCount

            val commentsCountText = if (commentsCount == 0) {
                context.getString(
                    R.string.lm_feed_add_s_comment,
                    LMFeedCommunityUtil.getCommentVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_PLURAL)
                )
            } else {
                val commentString = if (commentsCount == 1) {
                    LMFeedCommunityUtil.getCommentVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                } else {
                    LMFeedCommunityUtil.getCommentVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_PLURAL)
                }
                context.resources.getQuantityString(
                    R.plurals.lm_feed_s_comments,
                    commentsCount,
                    commentsCount,
                    commentString
                )
            }
            setCommentsCount(commentsCountText)
        }
    }

    // sets the data in the post qna horizontal action view
    fun setPostQnAHorizontalActionViewData(
        qnaHorizontalActionView: LMFeedPostQnAActionHorizontalView,
        postActionViewData: LMFeedPostActionViewData
    ) {
        qnaHorizontalActionView.apply {
            setUpvoteIcon(postActionViewData.isLiked)
            setSaveIcon(postActionViewData.isSaved)

            val upvoteCount = postActionViewData.likesCount

            val upvoteCountText = if (upvoteCount == 0) {
                ""
            } else {
                upvoteCount.toString()
            }
            setUpvoteText(
                context.getString(
                    R.string.lm_feed_s_likes,
                    LMFeedCommunityUtil.getLikeVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            )
            setUpvoteCount(upvoteCountText)

            val commentsCount = postActionViewData.commentsCount

            val commentsCountText = if (commentsCount == 0) {
                context.getString(
                    R.string.lm_feed_s_answer,
                    LMFeedCommunityUtil.getCommentVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            } else {
                commentsCount.toString()
            }
            setCommentsCount(commentsCountText)
        }
    }

    // sets the data in the post vertical action view
    fun setPostVerticalActionViewData(
        verticalActionView: LMFeedPostActionVerticalView,
        postActionViewData: LMFeedPostActionViewData
    ) {
        verticalActionView.apply {
            setLikesIcon(postActionViewData.isLiked)

            val likesCount = postActionViewData.likesCount

            val likesCountText = if (likesCount == 0) {
                context.getString(
                    R.string.lm_feed_s_like,
                    LMFeedCommunityUtil.getLikeVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            } else {
                likesCount.toLong().getFormatedNumber()
            }

            setLikesCount(likesCountText)
        }
    }

    // sets the data in post topics view
    private fun setPostTopicsViewData(
        postTopicsGroup: LMFeedChipGroup,
        topics: List<LMFeedTopicViewData>
    ) {
        if (topics.isEmpty()) {
            postTopicsGroup.hide()
        } else {
            postTopicsGroup.apply {
                show()
                removeAllChips()
                topics.forEach { topic ->
                    addChip(topic.name, LMFeedStyleTransformer.postViewStyle.postTopicChipsStyle)
                }
            }
        }
    }

    // sets the data in post top response view
    private fun setPostTopResponse(
        position: Int,
        postAdapterListener: LMFeedPostAdapterListener,
        postTopResponseView: LMFeedPostTopResponseView?,
        postViewData: LMFeedPostViewData
    ) {
        postTopResponseView?.apply {
            val topResponses = postViewData.topResponses
            if (topResponses.isEmpty()) {
                hide()
            } else {
                show()

                val topResponse = topResponses.first()

                setTopResponseTitle(context.getString(R.string.lm_feed_top_response))
                setAuthorImage(topResponse.user)
                setAuthorName(topResponse.user.name)
                setTimestamp(topResponse.createdAt)

                postTopResponseView.setTopResponseContent(
                    topResponse.text,
                    topResponse.alreadySeenFullContent,
                    onTopResponseContentClicked = {
                        postAdapterListener.onPostTopResponseContentClicked(
                            position,
                            postViewData
                        )
                    },
                    onTopResponseSeeMoreClickListener = {
                        val updatedPost = updatePostForSeeFullTopResponseContent(postViewData)
                        postAdapterListener.onPostTopResponseSeeMoreClicked(
                            position,
                            updatedPost
                        )
                    },
                    onMemberTagClickListener = { uuid ->
                        postAdapterListener.onPostTopResponseTaggedMemberClicked(position, uuid)
                    }
                )
            }
        }
    }

    // sets the data in answer prompt view of the post
    private fun setPostAnswerPrompt(
        data: LMFeedPostViewData,
        postAnswerPromptView: LMFeedLabelImageContainerView?
    ) {
        postAnswerPromptView?.apply {
            val postAnswerPromptViewStyle =
                LMFeedStyleTransformer.postViewStyle.postAnswerPromptViewStyle

            if (data.actionViewData.commentsCount == 0 && postAnswerPromptViewStyle != null) {
                show()
                val loggedInUserImage = LMFeedUserPreferences(context).getUserImage()
                setContainerImage(loggedInUserImage)
                setContainerLabel(
                    context.getString(
                        R.string.lm_feed_be_the_first_one_to_s,
                        LMFeedCommunityUtil.getCommentVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
                    )
                )
            } else {
                hide()
            }
        }
    }

    // update post object for a like action
    fun updatePostForLike(oldPostViewData: LMFeedPostViewData): LMFeedPostViewData {
        val postActionData = oldPostViewData.actionViewData
        val newLikesCount = if (postActionData.isLiked) {
            postActionData.likesCount - 1
        } else {
            postActionData.likesCount + 1
        }

        val updatedIsLiked = !postActionData.isLiked

        val updatedFooterData = postActionData.toBuilder()
            .isLiked(updatedIsLiked)
            .likesCount(newLikesCount)
            .build()

        return oldPostViewData.toBuilder()
            .actionViewData(updatedFooterData)
            .fromPostLiked(true)
            .build()
    }

    // update post object for a save action
    fun updatePostForSave(oldPostViewData: LMFeedPostViewData): LMFeedPostViewData {
        val postActionData = oldPostViewData.actionViewData
        val updatedFooterData = postActionData.toBuilder()
            .isSaved(!postActionData.isSaved)
            .build()

        return oldPostViewData.toBuilder()
            .actionViewData(updatedFooterData)
            .fromPostSaved(true)
            .build()
    }

    // update post object for a pin action
    fun updatePostForPin(
        context: Context,
        oldPostViewData: LMFeedPostViewData
    ): LMFeedPostViewData? {
        //get pin menu item
        val menuItems = oldPostViewData.headerViewData.menuItems.toMutableList()
        val pinPostIndex = menuItems.indexOfFirst {
            (it.id == PIN_POST_MENU_ITEM_ID)
        }

        //if pin item doesn't exist
        if (pinPostIndex == -1) return null

        //update pin menu item
        val pinPostMenuItem = menuItems[pinPostIndex]
        val newPinPostMenuItem =
            pinPostMenuItem.toBuilder().id(UNPIN_POST_MENU_ITEM_ID)
                .title(
                    context.getString(
                        R.string.lm_feed_unpin_this_s,
                        LMFeedCommunityUtil.getPostVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                    )
                )
                .build()
        menuItems[pinPostIndex] = newPinPostMenuItem

        //update the header view data
        val updatedHeaderViewData = oldPostViewData.headerViewData.toBuilder()
            .isPinned(!oldPostViewData.headerViewData.isPinned)
            .menuItems(menuItems)
            .build()

        //update the post view data
        return oldPostViewData.toBuilder()
            .headerViewData(updatedHeaderViewData)
            .build()
    }

    // update post object for a unpin action
    fun updatePostForUnpin(
        context: Context,
        oldPostViewData: LMFeedPostViewData
    ): LMFeedPostViewData? {
        val headerViewData = oldPostViewData.headerViewData
        //get unpin menu item
        val menuItems = headerViewData.menuItems.toMutableList()
        val unPinPostIndex = menuItems.indexOfFirst {
            (it.id == UNPIN_POST_MENU_ITEM_ID)
        }

        //if unpin item doesn't exist
        if (unPinPostIndex == -1) return null

        //update unpin menu item
        val unPinPostMenuItem = menuItems[unPinPostIndex]
        val newUnPinPostMenuItem =
            unPinPostMenuItem.toBuilder().id(PIN_POST_MENU_ITEM_ID)
                .title(
                    context.getString(
                        R.string.lm_feed_pin_this_s,
                        LMFeedCommunityUtil.getPostVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                    )
                )
                .build()
        menuItems[unPinPostIndex] = newUnPinPostMenuItem

        //update header view data
        val updatedHeaderViewData = headerViewData.toBuilder()
            .isPinned(!headerViewData.isPinned)
            .menuItems(menuItems)
            .build()

        //update the post view data
        return oldPostViewData.toBuilder()
            .headerViewData(updatedHeaderViewData)
            .build()
    }

    // update post object for document expanded action
    fun updatePostForDocumentExpanded(oldPostViewData: LMFeedPostViewData): LMFeedPostViewData {
        val mediaData = oldPostViewData.mediaViewData

        val updatedMediaData = mediaData.toBuilder()
            .isExpanded(true)
            .build()

        return oldPostViewData.toBuilder()
            .mediaViewData(updatedMediaData)
            .build()
    }

    //updates post object for a see full content action and returns updated post
    private fun updatePostContentForSeeFullContent(oldPostViewData: LMFeedPostViewData): LMFeedPostViewData {
        val contentViewData = oldPostViewData.contentViewData.toBuilder()
            .alreadySeenFullText(true)
            .build()

        //return updated comment view data
        return oldPostViewData.toBuilder()
            .contentViewData(contentViewData)
            .build()
    }

    //updates post object for a see full content action on post heading and returns updated post
    private fun updatePostHeadingForSeeFullContent(oldPostViewData: LMFeedPostViewData): LMFeedPostViewData {
        val contentViewData = oldPostViewData.contentViewData.toBuilder()
            .alreadySeenFullHeading(true)
            .build()

        //return updated comment view data
        return oldPostViewData.toBuilder()
            .contentViewData(contentViewData)
            .build()
    }

    //updates post object for a see full content action on the top response view and returns updated post
    private fun updatePostForSeeFullTopResponseContent(oldPostViewData: LMFeedPostViewData): LMFeedPostViewData {
        val topResponseViewData = oldPostViewData.topResponses.first().toBuilder()
            .alreadySeenFullContent(true)
            .build()

        return oldPostViewData.toBuilder()
            .topResponses(listOf(topResponseViewData))
            .build()
    }

    // bind data for single image post
    fun bindPostSingleImage(
        ivPost: LMFeedPostImageMediaView,
        mediaData: LMFeedMediaViewData
    ) {
        val postImageMediaStyle =
            LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postImageMediaStyle ?: return

        mediaData.attachments.first {
            it.attachmentType == IMAGE
        }.attachmentMeta.url?.let { url ->
            ivPost.setImage(url, postImageMediaStyle)
        }
    }

    // bind data for link preview post
    fun bindPostMediaLinkView(
        linkView: LMFeedPostLinkMediaView,
        linkOgTags: LMFeedLinkOGTagsViewData
    ) {
        linkView.apply {
            setLinkTitle(linkOgTags.title)
            setLinkDescription(linkOgTags.description)
            setLinkImage(linkOgTags.image)
            setLinkUrl(linkOgTags.url)
        }
    }


    // bind data for documents post
    fun bindPostDocuments(
        position: Int,
        postDocumentsMediaView: LMFeedPostDocumentsMediaView,
        mediaData: LMFeedMediaViewData,
        listener: LMFeedPostAdapterListener
    ) {
        //sets documents adapter and handles show more functionality of documents
        postDocumentsMediaView.setAdapter(
            position,
            mediaData,
            listener
        )
    }

    // bind data in nested document view
    fun bindPostMediaDocument(
        binding: LMFeedPostDocumentView,
        data: LMFeedAttachmentViewData
    ) {
        binding.apply {
            val attachmentMeta = data.attachmentMeta

            setDocumentName(attachmentMeta.name)
            setDocumentPages(attachmentMeta.pageCount)
            setDocumentSize(attachmentMeta.size)
            setDocumentType(attachmentMeta.format)
        }
    }

    //bind data for multiple media image view post
    fun bindMultipleMediaImageView(
        ivPost: LMFeedPostImageMediaView,
        attachment: LMFeedAttachmentViewData?
    ) {
        val postImageMediaStyle =
            LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postImageMediaStyle ?: return

        val attachmentUrl =
            attachment?.attachmentMeta?.url ?: attachment?.attachmentMeta?.uri ?: return

        ivPost.setImage(attachmentUrl, postImageMediaStyle)
    }

    // bind data to view page for multi media post
    fun bindMultipleMediaView(
        position: Int,
        multipleMediaView: LMFeedPostMultipleMediaView,
        data: LMFeedMediaViewData,
        listener: LMFeedPostAdapterListener
    ) {
        multipleMediaView.apply {
            //sets multiple media view pager
            setViewPager(
                position,
                listener,
                data.attachments
            )
        }
    }

    //binds data for the poll media view in the post
    fun bindPostPollMediaView(
        pollPosition: Int,
        pollView: LMFeedPostPollView,
        mediaData: LMFeedMediaViewData,
        listener: LMFeedPollOptionsAdapterListener
    ) {
        pollView.apply {
            val pollAttachment = mediaData.attachments.first()
            val pollViewData = pollAttachment.attachmentMeta.poll ?: return

            setPollTitle(pollViewData.title)
            setPollInfo(pollViewData.getPollSelectionText(context))
            setMemberVotedCount(pollViewData.pollAnswerText)
            setTimeLeft(pollViewData.getTimeLeftInPoll(context))
            setPollOptions(
                pollPosition,
                pollViewData.options,
                null,
                listener
            )
            setSubmitButtonVisibility(pollViewData)
            setEditPollVoteVisibility(pollViewData)
            setAddPollOptionButtonVisibility(pollViewData)
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/view/LMFeedDocumentListView.kt
================================================
package com.likeminds.feed.android.core.socialfeed.view

import android.content.Context
import android.util.AttributeSet
import androidx.core.content.ContextCompat
import androidx.recyclerview.widget.*
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.post.model.DOCUMENT
import com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedDocumentsAdapter
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.model.LMFeedMediaViewData
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show

class LMFeedDocumentListView @JvmOverloads constructor(
    context: Context,
    attrs: AttributeSet? = null,
    defStyleAttr: Int = 0
) : RecyclerView(context, attrs, defStyleAttr) {

    private val linearLayoutManager: LinearLayoutManager
    private val dividerDecoration: DividerItemDecoration =
        DividerItemDecoration(context, DividerItemDecoration.VERTICAL)

    private lateinit var documentsAdapter: LMFeedDocumentsAdapter

    init {
        setHasFixedSize(true)
        linearLayoutManager = LinearLayoutManager(context)
        layoutManager = linearLayoutManager

        //item decorator to add spacing between items
        val dividerDrawable = ContextCompat.getDrawable(
            context,
            R.drawable.lm_feed_document_item_divider
        )
        dividerDrawable?.let { drawable ->
            dividerDecoration.setDrawable(drawable)
        }

        // if separator is not there already, then only add
        if (itemDecorationCount < 1) {
            addItemDecoration(dividerDecoration)
        }
    }

    //sets the adapter with the provided [listener] to the recycler view and handles the visible documents logic
    fun setAdapter(
        parentPosition: Int,
        mediaViewData: LMFeedMediaViewData,
        tvShowMore: LMFeedTextView,
        listener: LMFeedPostAdapterListener,
        isMediaRemovable: Boolean
    ) {
        documentsAdapter = LMFeedDocumentsAdapter(parentPosition, listener, isMediaRemovable)
        adapter = documentsAdapter
        handleVisibleDocuments(mediaViewData, tvShowMore)
    }

    //removes document from the provided position
    fun removeDocument(position: Int) {
        documentsAdapter.removeIndex(position)
    }

    private fun handleVisibleDocuments(
        mediaViewData: LMFeedMediaViewData,
        tvShowMore: LMFeedTextView,
    ) {
        //get documents media style
        val postDocumentsMediaStyle =
            LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postDocumentsMediaStyle
                ?: return

        //gets the limit of visible documents
        val visibleDocumentsLimit = postDocumentsMediaStyle.visibleDocumentsLimit

        val documents = mediaViewData.attachments.filter {
            it.attachmentType == DOCUMENT
        }

        //handle show more logic
        if (mediaViewData.isExpanded || documents.size <= visibleDocumentsLimit) {
            tvShowMore.hide()
            documentsAdapter.replace(documents)
        } else {
            tvShowMore.show()
            "+${documents.size - visibleDocumentsLimit} more".also { tvShowMore.text = it }
            documentsAdapter.replace(documents.take(visibleDocumentsLimit))
        }

        //if show more style is not provided then we will not show this view
        postDocumentsMediaStyle.documentShowMoreStyle ?: tvShowMore.hide()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/view/LMFeedPostingView.kt
================================================
package com.likeminds.feed.android.core.socialfeed.view

import android.content.Context
import android.content.res.ColorStateList
import android.net.Uri
import android.util.AttributeSet
import android.view.LayoutInflater
import androidx.constraintlayout.widget.ConstraintLayout
import androidx.core.content.ContextCompat
import androidx.core.view.isVisible
import com.likeminds.feed.android.core.databinding.LmFeedLayoutPostingBinding
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.socialfeed.style.LMFeedPostingViewStyle
import com.likeminds.feed.android.core.utils.LMFeedImageBindingUtil
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnClickListener

class LMFeedPostingView : ConstraintLayout {

    constructor(context: Context) : super(context) {
    }

    constructor(context: Context, attributeSet: AttributeSet?) : super(context, attributeSet) {
    }

    constructor(context: Context, attributeSet: AttributeSet?, defStyle: Int) : super(
        context,
        attributeSet,
        defStyle
    ) {
    }

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding = LmFeedLayoutPostingBinding.inflate(inflater, this, true)

    /**
     * Sets title text in the posting layout view.
     *
     * @param title Text for the title in the view.
     */
    fun setPostingText(title: String) {
        binding.tvPosting.text = title
    }

    /**
     * Sets progress to progressbar of posting layout view.
     *
     * @param progress to be mapped in progress bar
     */
    fun setProgress(progress: Int) {
        binding.postingProgress.progress = progress
    }


    /**
     * Sets visibility of progress bar in the posting layout view.
     *
     * @param isVisible to show/hide progress bar
     */
    fun setProgressVisibility(isVisible: Boolean) {
        binding.postingProgress.isVisible = isVisible
    }

    /**
     * Sets retry cta text in the posting layout view.
     *
     * @param retryCTAText Text for the title in the view.
     */
    fun setRetryCTAText(retryCTAText: String) {
        binding.tvRetry.text = retryCTAText
    }

    /**
     * Sets visibility of retry cta text in the posting layout view.
     *
     * @param isVisible to show/hide retry cta
     */
    fun setRetryVisibility(isVisible: Boolean) {
        binding.tvRetry.isVisible = isVisible
    }

    /**
     * Sets visibility of post successful in the posting layout view.
     *
     * @param isVisible to show/hide post successful
     */
    fun setPostSuccessfulVisibility(isVisible: Boolean) {
        binding.ivPosted.isVisible = isVisible
    }

    /**
     * Sets click listener on the retry cta of the posting layout view
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setRetryCTAClickListener(listener: LMFeedOnClickListener) {
        binding.tvRetry.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets thumbnail of attachment in posting layout view.
     *
     * @param uri to show thumbnail of attachment
     */
    fun setAttachmentThumbnail(uri: Uri?) {
        binding.ivPostThumbnail.apply {
            if (uri != null) {
                show()
                val thumbnailStyle =
                    LMFeedStyleTransformer.socialFeedFragmentViewStyle.postingViewStyle.attachmentThumbnailImageStyle
                LMFeedImageBindingUtil.loadImage(
                    view = this,
                    file = uri,
                    placeholder = thumbnailStyle?.placeholderSrc,
                    isCircle = thumbnailStyle?.isCircle ?: false,
                    cornerRadius = thumbnailStyle?.cornerRadius ?: 0,
                    showGreyScale = thumbnailStyle?.showGreyScale ?: false
                )
            } else {
                hide()
            }
        }
    }

    //sets provided [postingViewStyle] to the posting view
    fun setStyle(postingViewStyle: LMFeedPostingViewStyle) {

        postingViewStyle.apply {
            //set background color
            backgroundColor?.let {
                binding.clContainer.backgroundTintList =
                    ColorStateList.valueOf(ContextCompat.getColor(context, it))
            }

            //configures each view inside the posting view
            configureTitle(postingHeadingTextStyle)
            configureRetryCTA(retryButtonTextStyle)
            configureProgressStyle(progressStyle)
            configurePostingDoneStyle(postingDoneImageStyle)
            configurePostAttachmentView(attachmentThumbnailImageStyle)
        }
    }

    private fun configureTitle(titleStyle: LMFeedTextStyle) {
        binding.tvPosting.setStyle(titleStyle)
    }

    private fun configureRetryCTA(retryCTAStyle: LMFeedTextStyle) {
        binding.tvRetry.setStyle(retryCTAStyle)
    }

    private fun configureProgressStyle(progressStyle: LMFeedProgressBarStyle) {
        binding.postingProgress.apply {
            setStyle(progressStyle)
        }
    }

    private fun configurePostingDoneStyle(postingDoneStyle: LMFeedImageStyle) {
        binding.ivPosted.setStyle(postingDoneStyle)
    }

    private fun configurePostAttachmentView(attachmentViewStyle: LMFeedImageStyle?) {
        binding.ivPostThumbnail.apply {
            if (attachmentViewStyle == null) {
                hide()
            } else {
                show()
                setStyle(attachmentViewStyle)
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/view/LMFeedSocialFeedFragment.kt
================================================
package com.likeminds.feed.android.core.socialfeed.view

import android.Manifest
import android.app.Activity
import android.content.pm.PackageManager
import android.content.res.ColorStateList
import android.net.Uri
import android.os.Build
import android.os.Bundle
import android.view.*
import androidx.activity.result.contract.ActivityResultContracts
import androidx.annotation.RequiresApi
import androidx.core.app.ActivityCompat
import androidx.core.app.NotificationManagerCompat
import androidx.core.content.ContextCompat
import androidx.core.view.isVisible
import androidx.fragment.app.viewModels
import androidx.swiperefreshlayout.widget.SwipeRefreshLayout
import androidx.work.WorkInfo
import androidx.work.WorkManager
import com.likeminds.feed.android.core.LMFeedCoreApplication
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.activityfeed.view.LMFeedActivityFeedActivity
import com.likeminds.feed.android.core.databinding.LmFeedFragmentSocialFeedBinding
import com.likeminds.feed.android.core.delete.model.DELETE_TYPE_POST
import com.likeminds.feed.android.core.delete.model.LMFeedDeleteExtras
import com.likeminds.feed.android.core.delete.view.*
import com.likeminds.feed.android.core.likes.model.LMFeedLikesScreenExtras
import com.likeminds.feed.android.core.likes.model.POST
import com.likeminds.feed.android.core.likes.view.LMFeedLikesActivity
import com.likeminds.feed.android.core.poll.result.model.*
import com.likeminds.feed.android.core.poll.result.view.LMFeedPollResultsActivity
import com.likeminds.feed.android.core.post.create.model.LMFeedCreatePostExtras
import com.likeminds.feed.android.core.post.create.view.LMFeedCreatePostActivity
import com.likeminds.feed.android.core.post.detail.model.LMFeedPostDetailExtras
import com.likeminds.feed.android.core.post.detail.view.LMFeedPostDetailActivity
import com.likeminds.feed.android.core.post.edit.model.LMFeedEditPostExtras
import com.likeminds.feed.android.core.post.edit.view.LMFeedEditPostActivity
import com.likeminds.feed.android.core.post.model.LMFeedAttachmentViewData
import com.likeminds.feed.android.core.post.util.LMFeedPostEvent
import com.likeminds.feed.android.core.post.util.LMFeedPostObserver
import com.likeminds.feed.android.core.post.viewmodel.LMFeedHelperViewModel
import com.likeminds.feed.android.core.post.viewmodel.LMFeedPostViewModel
import com.likeminds.feed.android.core.post.viewmodel.LMFeedPostViewModel.ErrorMessageEvent.*
import com.likeminds.feed.android.core.postmenu.model.*
import com.likeminds.feed.android.core.report.model.LMFeedReportExtras
import com.likeminds.feed.android.core.report.model.REPORT_TYPE_POST
import com.likeminds.feed.android.core.report.view.LMFeedReportActivity
import com.likeminds.feed.android.core.report.view.LMFeedReportFragment.Companion.LM_FEED_REPORT_RESULT
import com.likeminds.feed.android.core.report.view.LMFeedReportSuccessDialogFragment
import com.likeminds.feed.android.core.search.model.LMFeedSearchExtras
import com.likeminds.feed.android.core.search.view.LMFeedSearchActivity
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedSelectedTopicAdapterListener
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.socialfeed.util.LMFeedPostBinderUtils
import com.likeminds.feed.android.core.socialfeed.viewmodel.LMFeedSocialFeedViewModel
import com.likeminds.feed.android.core.topics.model.LMFeedTopicViewData
import com.likeminds.feed.android.core.topicselection.model.LMFeedTopicSelectionExtras
import com.likeminds.feed.android.core.topicselection.model.LMFeedTopicSelectionResultExtras
import com.likeminds.feed.android.core.topicselection.view.LMFeedTopicSelectionActivity
import com.likeminds.feed.android.core.topicselection.view.LMFeedTopicSelectionActivity.Companion.LM_FEED_TOPIC_SELECTION_RESULT_EXTRAS
import com.likeminds.feed.android.core.ui.base.styles.setStyle
import com.likeminds.feed.android.core.ui.base.views.LMFeedFAB
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.widgets.headerview.view.LMFeedHeaderView
import com.likeminds.feed.android.core.ui.widgets.noentitylayout.view.LMFeedNoEntityLayoutView
import com.likeminds.feed.android.core.ui.widgets.overflowmenu.view.LMFeedOverflowMenu
import com.likeminds.feed.android.core.ui.widgets.poll.model.LMFeedAddPollOptionExtras
import com.likeminds.feed.android.core.ui.widgets.poll.view.*
import com.likeminds.feed.android.core.utils.*
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.pluralizeOrCapitalize
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics.LMFeedScreenNames
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.coroutine.observeInLifecycle
import com.likeminds.feed.android.core.utils.feed.*
import com.likeminds.feed.android.core.utils.feed.LMFeedType.PERSONALISED_FEED
import com.likeminds.feed.android.core.utils.feed.LMFeedType.UNIVERSAL_FEED
import com.likeminds.feed.android.core.utils.mediauploader.LMFeedMediaUploadWorker
import com.likeminds.feed.android.core.utils.pluralize.model.LMFeedWordAction
import com.likeminds.feed.android.core.utils.user.*
import com.likeminds.likemindsfeed.post.model.PollMultiSelectState
import com.likeminds.likemindsfeed.search.model.SearchType
import kotlinx.coroutines.flow.onEach
import java.util.UUID

open class LMFeedSocialFeedFragment(private val feedType: LMFeedType) :
    LMFeedBaseThemeFragment(),
    LMFeedPostAdapterListener,
    LMFeedAdminDeleteDialogListener,
    LMFeedSelfDeleteDialogListener,
    LMFeedSelectedTopicAdapterListener,
    LMFeedAddPollOptionBottomSheetListener,
    LMFeedPostObserver {

    private lateinit var binding: LmFeedFragmentSocialFeedBinding
    private lateinit var mSwipeRefreshLayout: SwipeRefreshLayout

    private val socialFeedViewModel: LMFeedSocialFeedViewModel by viewModels()

    // variable to check if there is a post already uploading
    private var alreadyPosting: Boolean = false
    private val workersMap by lazy { ArrayList<UUID>() }

    private val postPublisher by lazy {
        LMFeedPostEvent.getPublisher()
    }

    private val notificationPermissionLauncher = registerForActivityResult(
        ActivityResultContracts.RequestPermission()
    ) {}

    companion object {

        @RequiresApi(Build.VERSION_CODES.TIRAMISU)
        private const val POST_NOTIFICATIONS = Manifest.permission.POST_NOTIFICATIONS

        @JvmStatic
        fun getInstance(
            feedType: LMFeedType = UNIVERSAL_FEED
        ): LMFeedSocialFeedFragment {
            return LMFeedSocialFeedFragment(feedType)
        }
    }

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View {
        binding = LmFeedFragmentSocialFeedBinding.inflate(layoutInflater)

        binding.apply {
            rvSocial.initAdapterAndSetListener(this@LMFeedSocialFeedFragment)

            customizeCreateNewPostButton(fabNewPost)
            customizeSocialFeedHeaderView(headerViewSocial)
            customizeNoPostLayout(layoutNoPost)
            customizePostingLayout(layoutPosting)
            customizeTopicSelectorBar(topicSelectorBar)
            customizeSocialFeedListView(rvSocial)
        }
        return binding.root
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        initUI()
        fetchData()
        initListeners()
        observeResponses()
        checkForNotificationPermission()
    }

    override fun onStart() {
        super.onStart()
        postPublisher.subscribe(this)
    }

    override fun onResume() {
        super.onResume()

        // sends feed opened event
        LMFeedAnalytics.sendFeedOpenedEvent()

        socialFeedViewModel.postViewModel.fetchPendingPostFromDB()
        binding.rvSocial.initiateVideoAutoPlayer()
    }

    override fun onHiddenChanged(hidden: Boolean) {
        super.onHiddenChanged(hidden)

        if (hidden) {
            // destroy the video player when fragment is not hidden
            binding.rvSocial.destroyVideoAutoPlayer()
        } else {
            // initiate the video player when fragment is not hidden
            binding.rvSocial.initiateVideoAutoPlayer()
        }
    }

    private fun fetchData() {
        socialFeedViewModel.apply {
            helperViewModel.getLoggedInUser()
            postViewModel.getCreatePostRights()
            helperViewModel.getUnreadNotificationCount()

            when (feedType) {
                PERSONALISED_FEED -> {
                    postViewModel.getPersonalisedFeed(
                        page = 1,
                        shouldReorder = true,
                        shouldRecompute = true
                    )
                    helperViewModel.postSeen()
                }

                UNIVERSAL_FEED -> {
                    postViewModel.getUniversalFeed(1, null)
                }
            }
        }
    }

    private fun initUI() {
        initSocialFeedRecyclerView()
        initSwipeRefreshLayout()

        if (feedType == UNIVERSAL_FEED) {
            initSelectedTopicRecyclerView()
        } else {
            binding.topicSelectorBar.hide()
        }
    }

    override fun onPause() {
        super.onPause()
        binding.rvSocial.destroyVideoAutoPlayer()
    }

    override fun onStop() {
        if (feedType == PERSONALISED_FEED) {
            socialFeedViewModel.helperViewModel.setPostSeenInLocalDb()
        }
        super.onStop()
    }

    override fun onDestroy() {
        super.onDestroy()
        // unsubscribes itself from the [PostPublisher]
        postPublisher.unsubscribe(this)
    }

    override fun onDestroyView() {
        super.onDestroyView()
        binding.rvSocial.destroyVideoAutoPlayer()
    }

    private fun initListeners() {
        binding.apply {
            fabNewPost.setOnClickListener {
                onCreateNewPostClick(true)
            }

            headerViewSocial.setNotificationIconClickListener {
                onNotificationIconClicked()
            }

            headerViewSocial.setSearchIconClickListener {
                onSearchIconClicked()
            }

            layoutNoPost.setActionFABClickListener {
                onCreateNewPostClick(true)
            }

            topicSelectorBar.setAllTopicsClickListener {
                onAllTopicsClicked()
            }
        }
    }

    //check for notification permission
    private fun checkForNotificationPermission() {
        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.TIRAMISU) {
            if (!NotificationManagerCompat.from(requireContext()).areNotificationsEnabled()) {
                if (activity?.checkSelfPermission(POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {
                    notificationPermissionLauncher.launch(POST_NOTIFICATIONS)
                }
            }
        }
    }

    private fun observeResponses() {
        observePosting()

        //observes user response LiveData
        socialFeedViewModel.helperViewModel.userResponse.observe(viewLifecycleOwner) {
            binding.headerViewSocial.apply {
                setUserProfileClickListener {
                    onUserProfileClicked(it)
                }
                setUserProfileImage(it)
            }
        }

        // observes hasCreatePostRights LiveData
        socialFeedViewModel.postViewModel.hasCreatePostRights.observe(viewLifecycleOwner) {
            socialFeedViewModel.helperViewModel.getLoggedInUser()
            initNewPostClick(it)
        }

        socialFeedViewModel.postViewModel.personalisedFeedResponse.observe(viewLifecycleOwner) { response ->
            LMFeedProgressBarHelper.hideProgress(binding.progressBar)
            val page = response.first
            val posts = response.second

            if (mSwipeRefreshLayout.isRefreshing) {
                checkPostsAndReplace(posts)
                mSwipeRefreshLayout.isRefreshing = false
                return@observe
            }

            if (page == 1) {
                checkPostsAndReplace(posts)
            } else {
                binding.rvSocial.addPosts(posts)
                binding.rvSocial.refreshVideoAutoPlayer()
            }
        }

        socialFeedViewModel.postViewModel.universalFeedResponse.observe(viewLifecycleOwner) { response ->
            LMFeedProgressBarHelper.hideProgress(binding.progressBar)
            val page = response.first
            val posts = response.second

            if (mSwipeRefreshLayout.isRefreshing) {
                checkPostsAndReplace(posts)
                mSwipeRefreshLayout.isRefreshing = false
                return@observe
            }

            if (page == 1) {
                checkPostsAndReplace(posts)
            } else {
                binding.rvSocial.addPosts(posts)
                binding.rvSocial.refreshVideoAutoPlayer()
            }
        }

        // observes deletePostResponse LiveData
        socialFeedViewModel.helperViewModel.deletePostResponse.observe(viewLifecycleOwner) { postId ->
            binding.rvSocial.apply {
                val indexToRemove = getIndexAndPostFromAdapter(postId)?.first ?: return@observe
                removePostAtIndex(indexToRemove)
                checkForNoPost(allPosts())
                refreshVideoAutoPlayer()
                LMFeedViewUtils.showShortToast(
                    requireContext(),
                    getString(
                        R.string.lm_feed_s_deleted,
                        LMFeedCommunityUtil.getPostVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                    )
                )
            }
        }

        socialFeedViewModel.helperViewModel.showTopicFilter.observe(viewLifecycleOwner) { showTopicFilter ->
            if (feedType == PERSONALISED_FEED) return@observe
            binding.topicSelectorBar.apply {
                isVisible = showTopicFilter
                setAllTopicsTextVisibility(showTopicFilter)
                setSelectedTopicFilterVisibility(false)
            }
        }

        socialFeedViewModel.helperViewModel.unreadNotificationCount.observe(viewLifecycleOwner) { unreadNotificationCount ->
            binding.headerViewSocial.setNotificationCountText(unreadNotificationCount)
        }

        socialFeedViewModel.helperViewModel.postSavedResponse.observe(viewLifecycleOwner) { postViewData ->
            //create toast message
            val toastMessage = if (postViewData.actionViewData.isSaved) {
                getString(
                    R.string.lm_feed_s_saved,
                    LMFeedCommunityUtil.getPostVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            } else {
                getString(
                    R.string.lm_feed_s_unsaved,
                    LMFeedCommunityUtil.getPostVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            }
            LMFeedViewUtils.showShortToast(requireContext(), toastMessage)
        }

        socialFeedViewModel.helperViewModel.postPinnedResponse.observe(viewLifecycleOwner) { postViewData ->
            //show toast message
            val toastMessage = if (postViewData.headerViewData.isPinned) {
                getString(
                    R.string.lm_feed_s_pinned_to_top,
                    LMFeedCommunityUtil.getPostVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            } else {
                getString(
                    R.string.lm_feed_s_unpinned,
                    LMFeedCommunityUtil.getPostVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            }
            LMFeedViewUtils.showShortToast(requireContext(), toastMessage)
        }

        //observers get post response
        socialFeedViewModel.postViewModel.postResponse.observe(viewLifecycleOwner) { postViewData ->
            binding.rvSocial.apply {
                val index = getIndexAndPostFromAdapter(postViewData.id)?.first ?: return@observe
                updatePostItem(index, postViewData)
            }
        }

        socialFeedViewModel.postViewModel.errorMessageEventFlow.onEach { response ->
            when (response) {
                is UniversalFeed -> {
                    val errorMessage = response.errorMessage
                    mSwipeRefreshLayout.isRefreshing = false
                    LMFeedProgressBarHelper.hideProgress(binding.progressBar)
                    LMFeedViewUtils.showErrorMessageToast(requireContext(), errorMessage)
                }

                is AddPost -> {
                    LMFeedViewUtils.showErrorMessageToast(requireContext(), response.errorMessage)
                    removePostingView()
                }

                is SubmitVote -> {
                    LMFeedViewUtils.showErrorMessageToast(requireContext(), response.errorMessage)
                }

                is AddPollOption -> {
                    LMFeedViewUtils.showErrorMessageToast(requireContext(), response.errorMessage)
                }

                is GetPost -> {
                    LMFeedViewUtils.showErrorMessageToast(requireContext(), response.errorMessage)
                }

                is PersonalisedFeed -> {
                    val errorMessage = response.errorMessage
                    mSwipeRefreshLayout.isRefreshing = false
                    LMFeedProgressBarHelper.hideProgress(binding.progressBar)
                    LMFeedViewUtils.showErrorMessageToast(requireContext(), errorMessage)
                }
            }
        }.observeInLifecycle(viewLifecycleOwner)

        socialFeedViewModel.helperViewModel.errorMessageEventFlow.onEach { response ->
            when (response) {
                is LMFeedHelperViewModel.ErrorMessageEvent.LikePost -> {
                    val postId = response.postId

                    //get post and index
                    val pair =
                        binding.rvSocial.getIndexAndPostFromAdapter(postId) ?: return@onEach
                    val post = pair.second
                    val index = pair.first

                    val postActionData = post.actionViewData

                    val newLikesCount = if (postActionData.isLiked) {
                        postActionData.likesCount - 1
                    } else {
                        postActionData.likesCount + 1
                    }

                    val updatedIsLiked = !postActionData.isLiked

                    val updatedActionViewData = postActionData.toBuilder()
                        .isLiked(updatedIsLiked)
                        .likesCount(newLikesCount)
                        .build()

                    val updatedPostData = post.toBuilder()
                        .actionViewData(updatedActionViewData)
                        .fromPostLiked(true)
                        .build()

                    binding.rvSocial.updatePostItem(index, updatedPostData)

                    //show error message
                    LMFeedViewUtils.showSomethingWentWrongToast(requireContext())
                }

                is LMFeedHelperViewModel.ErrorMessageEvent.DeletePost -> {
                    val errorMessage = response.errorMessage
                    LMFeedViewUtils.showErrorMessageToast(requireContext(), errorMessage)
                }

                is LMFeedHelperViewModel.ErrorMessageEvent.PinPost -> {
                    binding.rvSocial.apply {
                        val postId = response.postId

                        //get post and index
                        val pair = getIndexAndPostFromAdapter(postId) ?: return@onEach
                        val post = pair.second
                        val index = pair.first

                        //update header view data
                        val updatedHeaderView = post.headerViewData.toBuilder()
                            .isPinned(!post.headerViewData.isPinned)
                            .build()

                        //update post view data
                        val updatedPostViewData = post.toBuilder()
                            .headerViewData(updatedHeaderView)
                            .build()

                        //update recycler view
                        updatePostItem(index, updatedPostViewData)

                        //show error message
                        LMFeedViewUtils.showSomethingWentWrongToast(requireContext())
                    }
                }

                is LMFeedHelperViewModel.ErrorMessageEvent.SavePost -> {
                    binding.rvSocial.apply {
                        val postId = response.postId

                        //get post and index
                        val pair = getIndexAndPostFromAdapter(postId) ?: return@onEach
                        val post = pair.second
                        val index = pair.first

                        //update action view data
                        val updatedActionView = post.actionViewData.toBuilder()
                            .isSaved(!post.actionViewData.isSaved)
                            .build()

                        //update post view data
                        val updatedPostViewData = post.toBuilder()
                            .actionViewData(updatedActionView)
                            .fromPostSaved(true)
                            .build()

                        //update recycler view
                        updatePostItem(index, updatedPostViewData)

                        //show error message
                        LMFeedViewUtils.showSomethingWentWrongToast(requireContext())
                    }
                }

                is LMFeedHelperViewModel.ErrorMessageEvent.GetTopic -> {
                    LMFeedViewUtils.showSomethingWentWrongToast(requireContext())
                }

                is LMFeedHelperViewModel.ErrorMessageEvent.GetUnreadNotificationCount -> {
                    binding.headerViewSocial.setNotificationIconVisibility(false)
                    LMFeedViewUtils.showErrorMessageToast(requireContext(), response.errorMessage)
                }
            }
        }.observeInLifecycle(viewLifecycleOwner)
    }

    // observes post live data
    private fun observePosting() {
        socialFeedViewModel.postViewModel.postDataEventFlow.onEach { response ->
            when (response) {
                // when the post data comes from local db
                is LMFeedPostViewModel.PostDataEvent.PostDbData -> {
                    val post = response.post
                    if (post.isPosted) {
                        removePostingView()
                        return@onEach
                    }
                    if (!alreadyPosting) {
                        alreadyPosting = true
                        binding.layoutPosting.apply {
                            show()
                            val postThumbnail =
                                post.mediaViewData.attachments.firstOrNull()?.attachmentMeta?.thumbnail

                            if (postThumbnail.isNullOrEmpty()) {
                                setAttachmentThumbnail(null)
                            } else {
                                setAttachmentThumbnail(Uri.parse(postThumbnail))
                            }
                            setProgress(0)
                            setProgressVisibility(true)

                            setPostSuccessfulVisibility(false)
                            setRetryVisibility(false)
                            observeMediaUpload(post)
                        }
                    }
                }

                // when the post data comes from api response
                is LMFeedPostViewModel.PostDataEvent.PostResponseData -> {
                    binding.apply {
                        LMFeedViewUtils.showShortToast(
                            requireContext(),
                            getString(
                                R.string.lm_feed_s_created,
                                LMFeedCommunityUtil.getPostVariable()
                                    .pluralizeOrCapitalize(
                                        LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR
                                    )
                            )
                        )
                        onFeedRefreshed()
                        removePostingView()
                    }
                }
            }
        }.observeInLifecycle(viewLifecycleOwner)
    }

    // removes the posting view and shows create post button
    private fun removePostingView() {
        binding.apply {
            alreadyPosting = false
            layoutPosting.hide()
        }
    }

    // finds the upload worker by UUID and observes the worker
    private fun observeMediaUpload(postingData: LMFeedPostViewData) {
        if (postingData.mediaViewData.workerUUID.isEmpty()) {
            return
        }
        val uuid = UUID.fromString(postingData.mediaViewData.workerUUID)
        if (!workersMap.contains(uuid)) {
            workersMap.add(uuid)
            WorkManager.getInstance(requireContext()).getWorkInfoByIdLiveData(uuid)
                .observe(viewLifecycleOwner) { workInfo ->
                    observeMediaWorker(workInfo, postingData)
                }
        }
    }

    // observes the media worker through various worker lifecycle
    private fun observeMediaWorker(
        workInfo: WorkInfo,
        postingData: LMFeedPostViewData
    ) {
        when (workInfo.state) {
            WorkInfo.State.SUCCEEDED -> {
                // uploading completed, call the add post api
                binding.layoutPosting.apply {
                    setProgressVisibility(false)
                    setRetryVisibility(false)
                    setPostSuccessfulVisibility(true)
                }
                socialFeedViewModel.postViewModel.addPost(postingData)
            }

            WorkInfo.State.FAILED -> {
                // uploading failed, initiate retry mechanism
                val indexList = workInfo.outputData.getIntArray(
                    LMFeedMediaUploadWorker.ARG_MEDIA_INDEX_LIST
                ) ?: return
                initRetryAction(
                    postingData.mediaViewData.temporaryId,
                    indexList.size
                )
            }

            else -> {
                // uploading in progress, map the progress to progress bar
                val progress = LMFeedMediaUploadWorker.getProgress(workInfo) ?: return
                binding.layoutPosting.apply {
                    val percentage = (((1.0 * progress.first) / progress.second) * 100)
                    val progressValue = percentage.toInt()
                    setProgress(progressValue)
                }
            }
        }
    }

    // initializes retry mechanism for attachments uploading
    private fun initRetryAction(temporaryId: Long?, attachmentCount: Int) {
        binding.layoutPosting.apply {
            setPostSuccessfulVisibility(false)
            setProgressVisibility(false)
            setRetryVisibility(true)
            setRetryCTAClickListener {
                onRetryUploadClicked(temporaryId, attachmentCount)
            }
        }
    }

    // initializes new post fab
    private fun initNewPostClick(hasCreatePostRights: Boolean) {
        binding.apply {

            if (hasCreatePostRights) {
                val fabButtonColor =
                    LMFeedStyleTransformer.socialFeedFragmentViewStyle.createNewPostButtonViewStyle.backgroundColor

                //sets color of fab button as per user rights
                layoutNoPost.setActionFABColor(fabButtonColor)
                fabNewPost.backgroundTintList =
                    ColorStateList.valueOf(ContextCompat.getColor(requireContext(), fabButtonColor))
            } else {
                //sets color of fab button as per user rights
                layoutNoPost.setActionFABColor(R.color.lm_feed_grey)
                fabNewPost.backgroundTintList =
                    ColorStateList.valueOf(
                        ContextCompat.getColor(
                            requireContext(),
                            R.color.lm_feed_grey
                        )
                    )
            }

            layoutNoPost.setActionFABClickListener {
                onCreateNewPostClick(hasCreatePostRights)
            }

            fabNewPost.setOnClickListener {
                onCreateNewPostClick(hasCreatePostRights)
            }
        }
    }

    private fun checkPostsAndReplace(posts: List<LMFeedPostViewData>) {
        binding.rvSocial.apply {
            checkForNoPost(posts)
            replacePosts(posts)
            scrollToPosition(0)
            refreshVideoAutoPlayer()
        }
    }

    // initializes the recycler view of the social feed
    private fun initSocialFeedRecyclerView() {
        LMFeedProgressBarHelper.showProgress(binding.progressBar)
        binding.rvSocial.apply {
            setAdapter()

            val paginationScrollListener =
                object : LMFeedEndlessRecyclerViewScrollListener(linearLayoutManager) {
                    override fun onLoadMore(currentPage: Int) {
                        if (currentPage > 0) {
                            when (feedType) {
                                PERSONALISED_FEED -> {
                                    socialFeedViewModel.postViewModel.getPersonalisedFeed(
                                        currentPage
                                    )
                                }

                                UNIVERSAL_FEED -> {
                                    socialFeedViewModel.postViewModel.getUniversalFeed(
                                        currentPage,
                                        socialFeedViewModel.helperViewModel.getTopicIdsFromAdapterList(
                                            binding.topicSelectorBar.getAllSelectedTopics()
                                        )
                                    )
                                }
                            }
                        }
                    }
                }
            setPaginationScrollListener(paginationScrollListener)

            val scrollStateListener =
                object : LMFeedRecyclerViewScrollStateListener(linearLayoutManager) {
                    override fun onItemVisibleMoreThan40Percent(position: Int) {
                        val postViewData = getPostFromAdapter(position)
                        postViewData?.let {
                            LMFeedPostSeenUtil.insertSeenPost(
                                postViewData,
                                System.currentTimeMillis()
                            )
                        }
                    }

                    override fun onScrollStateIdleReached() {
                        socialFeedViewModel.helperViewModel.apply {
                            setPostSeenInLocalDb()
                            postSeen()
                        }
                    }
                }

            if (feedType == PERSONALISED_FEED) {
                setScrollStateListener(scrollStateListener)
            }
        }
    }

    // initializes the swipe to refresh layout
    private fun initSwipeRefreshLayout() {
        mSwipeRefreshLayout = binding.swipeRefreshLayout
        mSwipeRefreshLayout.apply {
            setColorSchemeColors(
                ContextCompat.getColor(
                    requireContext(),
                    LMFeedAppearance.getButtonColor()
                )
            )

            setOnRefreshListener {
                onFeedRefreshed()
            }
        }
    }

    //init selected topic recycler view
    private fun initSelectedTopicRecyclerView() {
        binding.topicSelectorBar.apply {
            socialFeedViewModel.helperViewModel.getAllTopics(false)
            setSelectedTopicAdapter(this@LMFeedSocialFeedFragment)

            setClearSelectedTopicsClickListener {
                clearSelectedTopics()
            }
        }
    }

    //clear all selected topics and reset data
    private fun clearSelectedTopics() {
        binding.apply {
            //call api
            topicSelectorBar.clearSelectedTopicsAndNotify()
            rvSocial.resetPaginationScrollListenerData()
            LMFeedProgressBarHelper.showProgress(progressBar, true)
            socialFeedViewModel.postViewModel.getUniversalFeed(1, null)

            //show layout accordingly
            topicSelectorBar.setSelectedTopicFilterVisibility(false)
            topicSelectorBar.setAllTopicsTextVisibility(true)
        }
    }

    private fun checkForNoPost(feed: List<LMFeedBaseViewType>) {
        binding.apply {
            if (feed.isNotEmpty()) {
                layoutNoPost.hide()
                fabNewPost.show()
                rvSocial.show()
            } else {
                binding.apply {
                    layoutNoPost.show()
                    fabNewPost.hide()
                    rvSocial.hide()
                }
            }
        }
    }

    // callback when the user clicks on the post content
    override fun onPostContentClicked(position: Int, postViewData: LMFeedPostViewData) {
        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(postViewData.id)
            .isEditTextFocused(false)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //callback when the user clicks on the post like button
    override fun onPostLikeClicked(position: Int, postViewData: LMFeedPostViewData) {
        val userPreferences = LMFeedUserPreferences(requireContext())
        val loggedInUUID = userPreferences.getUUID()

        //call api
        socialFeedViewModel.helperViewModel.likePost(
            postViewData.id,
            postViewData.actionViewData.isLiked,
            loggedInUUID
        )

        binding.rvSocial.apply {
            val adapterPosition = getIndexAndPostFromAdapter(postViewData.id)?.first ?: return

            //update recycler
            updatePostItem(adapterPosition, postViewData)
        }
    }

    //callback when the user clicks on the post likes count
    override fun onPostLikesCountClicked(position: Int, postViewData: LMFeedPostViewData) {
        //show the likes screen
        val likesScreenExtras = LMFeedLikesScreenExtras.Builder()
            .postId(postViewData.id)
            .entityType(POST)
            .build()
        LMFeedLikesActivity.start(requireContext(), likesScreenExtras)
    }

    //callback when the user clicks on the post comments count
    override fun onPostCommentsCountClicked(position: Int, postViewData: LMFeedPostViewData) {
        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(postViewData.id)
            .isEditTextFocused(true)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //callback when the user clicks on the save post button
    override fun onPostSaveClicked(position: Int, postViewData: LMFeedPostViewData) {
        //call api
        socialFeedViewModel.helperViewModel.savePost(postViewData)

        binding.rvSocial.apply {
            val adapterPosition = getIndexAndPostFromAdapter(postViewData.id)?.first ?: return

            //update recycler
            updatePostItem(adapterPosition, postViewData)
        }
    }

    //callback when the user clicks on the share post button
    override fun onPostShareClicked(position: Int, postViewData: LMFeedPostViewData) {
        val userMeta = LMFeedUserMetaData.getInstance()
        LMFeedShareUtils.sharePost(
            requireContext(),
            postViewData.id,
            userMeta.domain ?: "",
            LMFeedCommunityUtil.getPostVariable()
        )

        LMFeedAnalytics.sendPostShared(postViewData)
    }

    //updates the fromPostLiked/fromPostSaved variables and updates the rv list
    override fun updateFromLikedSaved(position: Int, postViewData: LMFeedPostViewData) {
        val updatedPostData = postViewData.toBuilder()
            .fromPostLiked(false)
            .fromPostSaved(false)
            .build()

        binding.rvSocial.updatePostWithoutNotifying(position, updatedPostData)
    }

    //updates [alreadySeenFullContent] for the post
    override fun onPostContentSeeMoreClicked(position: Int, postViewData: LMFeedPostViewData) {
        binding.rvSocial.apply {
            val adapterPosition = getIndexAndPostFromAdapter(postViewData.id)?.first ?: return

            //update recycler
            updatePostItem(adapterPosition, postViewData)
        }
    }

    //callback when the user clicks on the link in the post content
    override fun onPostContentLinkClicked(url: String) {
        // creates a route and returns an intent to handle the link
        val intent = LMFeedRoute.handleDeepLink(requireContext(), url)
        if (intent != null) {
            try {
                // starts activity with the intent
                ActivityCompat.startActivity(requireContext(), intent, null)
            } catch (e: Exception) {
                e.printStackTrace()
            }
        }
    }

    //callback when the user clicks on the post menu icon
    override fun onPostMenuIconClicked(
        position: Int,
        anchorView: View,
        postViewData: LMFeedPostViewData
    ) {
        val popupMenu = LMFeedOverflowMenu(requireContext(), anchorView)
        val menuItems = postViewData.headerViewData.menuItems
        popupMenu.addMenuItems(menuItems)

        popupMenu.setMenuItemClickListener { menuId ->
            onPostMenuItemClicked(position, menuId, postViewData)
        }

        popupMenu.show()
    }

    //callback when the user clicks on the post image media
    override fun onPostImageMediaClicked(position: Int, postViewData: LMFeedPostViewData) {
        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(postViewData.id)
            .isEditTextFocused(false)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //callback when the user clicks on the post video media
    override fun onPostVideoMediaClicked(position: Int, postViewData: LMFeedPostViewData) {
        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(postViewData.id)
            .isEditTextFocused(false)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //callback when the user clicks on the post link media
    override fun onPostLinkMediaClicked(position: Int, postViewData: LMFeedPostViewData) {
        // creates a route and returns an intent to handle the link
        val intent = LMFeedRoute.handleDeepLink(
            requireContext(),
            postViewData.mediaViewData.attachments.firstOrNull()?.attachmentMeta?.ogTags?.url
        )

        if (intent != null) {
            try {
                // starts activity with the intent
                ActivityCompat.startActivity(requireContext(), intent, null)
            } catch (e: Exception) {
                e.printStackTrace()
            }
        }
    }

    //callback when the user clicks on the post documents media
    override fun onPostDocumentMediaClicked(
        position: Int,
        parentPosition: Int,
        attachmentViewData: LMFeedAttachmentViewData
    ) {
        //open the pdf using Android's document view
        val documentUrl = attachmentViewData.attachmentMeta.url ?: ""
        val pdfUri = Uri.parse(documentUrl)
        LMFeedAndroidUtils.startDocumentViewer(requireContext(), pdfUri)
    }

    //callback when the user clicks on the post image inside multiple media
    override fun onPostMultipleMediaImageClicked(
        position: Int,
        parentPosition: Int,
        attachmentViewData: LMFeedAttachmentViewData
    ) {
        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(attachmentViewData.postId)
            .isEditTextFocused(false)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //callback when the user clicks on the post video inside multiple media
    override fun onPostMultipleMediaVideoClicked(
        position: Int,
        parentPosition: Int,
        attachmentViewData: LMFeedAttachmentViewData
    ) {
        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(attachmentViewData.postId)
            .isEditTextFocused(false)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //called when the page in the multiple media post is changed
    override fun onPostMultipleMediaPageChangeCallback(position: Int, parentPosition: Int) {
        //processes the current video whenever view pager's page is changed
        binding.rvSocial.refreshVideoAutoPlayer()
    }

    //called when show more is clicked in the documents type post
    override fun onPostMultipleDocumentsExpanded(position: Int, postViewData: LMFeedPostViewData) {
        binding.rvSocial.apply {
            if (position == itemCount - 1) {
                scrollToPositionWithOffset(position)
            }

            val updatedMediaViewData = postViewData.mediaViewData
                .toBuilder()
                .isExpanded(true)
                .build()

            val updatedPostViewData = postViewData.toBuilder()
                .mediaViewData(updatedMediaViewData)
                .fromPostSaved(false)
                .fromPostLiked(false)
                .build()

            binding.rvSocial.apply {
                val adapterPosition =
                    getIndexAndPostFromAdapter(updatedPostViewData.id)?.first ?: return

                //updates the [isExpanded] for the document item to true
                updatePostItem(adapterPosition, updatedPostViewData)
            }
        }
    }

    //callback when the user clicks on the post author header
    override fun onPostAuthorHeaderClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostAuthorHeaderClicked(position, postViewData)

        val coreCallback = LMFeedCoreApplication.getLMFeedCoreCallback()
        coreCallback?.openProfile(postViewData.headerViewData.user)
    }

    override fun onEntityDeletedByAdmin(deleteExtras: LMFeedDeleteExtras, reason: String) {
        val post =
            binding.rvSocial.getIndexAndPostFromAdapter(deleteExtras.postId)?.second ?: return
        socialFeedViewModel.helperViewModel.deletePost(post, reason)
    }

    override fun onEntityDeletedByAuthor(deleteExtras: LMFeedDeleteExtras) {
        val post =
            binding.rvSocial.getIndexAndPostFromAdapter(deleteExtras.postId)?.second ?: return
        socialFeedViewModel.helperViewModel.deletePost(post)
    }

    override fun onTopicRemoved(position: Int, topicViewData: LMFeedTopicViewData) {
        super.onTopicRemoved(position, topicViewData)

        binding.apply {
            val selectedTopics = topicSelectorBar.getAllSelectedTopics()
            if (selectedTopics.size == 1) {
                clearSelectedTopics()
            } else {
                //remove from adapter
                topicSelectorBar.removeTopicAndNotify(position)

                //call apis
                rvSocial.resetPaginationScrollListenerData()
                rvSocial.clearPostsAndNotify()
                LMFeedProgressBarHelper.showProgress(binding.progressBar, true)
                socialFeedViewModel.postViewModel.getUniversalFeed(
                    1,
                    socialFeedViewModel.helperViewModel.getTopicIdsFromAdapterList(selectedTopics)
                )
            }
        }
    }

    //callback when publisher publishes any updated postData
    override fun update(postData: Pair<String, LMFeedPostViewData?>) {
        val postId = postData.first
        // fetches post from adapter
        binding.rvSocial.apply {
            val postIndex = getIndexAndPostFromAdapter(postId)?.first ?: return

            val updatedPost = postData.second

            // updates the item in adapter
            if (updatedPost == null) {
                // Post was deleted!
                removePostAtIndex(postIndex)
            } else {
                // Post was updated
                updatePostItem(postIndex, updatedPost)
            }
        }
    }

    //callback when the tag of the user is clicked
    override fun onPostTaggedMemberClicked(position: Int, uuid: String) {
        super.onPostTaggedMemberClicked(position, uuid)

        val coreCallback = LMFeedCoreApplication.getLMFeedCoreCallback()
        coreCallback?.openProfileWithUUID(uuid)
    }

    //callback when the post title is clicked
    override fun onPostPollTitleClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostPollTitleClicked(position, postViewData)

        // sends comment list open event
        LMFeedAnalytics.sendCommentListOpenEvent()

        val postDetailExtras = LMFeedPostDetailExtras.Builder()
            .postId(postViewData.id)
            .isEditTextFocused(false)
            .build()
        LMFeedPostDetailActivity.start(requireContext(), postDetailExtras)
    }

    //callback when add poll option is clicked
    override fun onPostAddPollOptionClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostAddPollOptionClicked(position, postViewData)

        val pollAttachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
        val pollId = pollAttachment.attachmentMeta.poll?.id ?: return

        val addPollOptionExtras = LMFeedAddPollOptionExtras.Builder()
            .postId(postViewData.id)
            .pollId(pollId)
            .build()

        LMFeedAddPollOptionBottomSheetFragment.newInstance(
            childFragmentManager,
            addPollOptionExtras
        )
    }

    //callback when the poll member voted count is clicked
    override fun onPostMemberVotedCountClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostMemberVotedCountClicked(position, postViewData)

        val pollAttachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
        val pollViewData = pollAttachment.attachmentMeta.poll ?: return

        if (pollViewData.isAnonymous) {
            LMFeedAnonymousPollDialogFragment.showDialog(childFragmentManager)
            return
        }

        if (pollViewData.toShowResults || pollViewData.hasPollEnded()) {
            val pollResultsExtras = LMFeedPollResultsExtras.Builder()
                .pollId(pollViewData.id)
                .pollOptions(pollViewData.options)
                .build()

            LMFeedPollResultsActivity.start(requireContext(), pollResultsExtras)
        } else {
            LMFeedViewUtils.showShortToast(
                requireContext(),
                getString(R.string.lm_feed_the_results_will_be_visible_after_the_poll_has_ended)
            )
        }
    }

    //callback when the submit poll vote button is clicked
    override fun onPostSubmitPollVoteClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostSubmitPollVoteClicked(position, postViewData)

        val pollAttachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
        val pollViewData = pollAttachment.attachmentMeta.poll ?: return

        val selectedOptions = pollViewData.options.filter { it.isSelected }
        val selectedOptionIds = selectedOptions.map { it.id }

        validateSelectedPollOptions(pollViewData, selectedOptions.size) {
            socialFeedViewModel.postViewModel.submitPollVote(
                requireContext(),
                postViewData.id,
                pollViewData.id,
                selectedOptionIds
            )
        }
    }

    //validates user submitted poll votes for multiple choice poll
    private fun validateSelectedPollOptions(
        pollViewData: LMFeedPollViewData,
        selectedOptionsCount: Int,
        onValidationSuccess: () -> Unit
    ) {
        val multipleSelectNumber = pollViewData.multipleSelectNumber
        val multipleSelectState = pollViewData.multipleSelectState

        when (multipleSelectState) {
            PollMultiSelectState.EXACTLY -> {
                if (selectedOptionsCount != multipleSelectNumber) {
                    LMFeedViewUtils.showShortSnack(
                        binding.root,
                        resources.getQuantityString(
                            R.plurals.lm_feed_please_select_exactly_d_options,
                            multipleSelectNumber,
                            multipleSelectNumber
                        )
                    )
                    return
                }
            }

            PollMultiSelectState.AT_MAX -> {
                if (selectedOptionsCount > multipleSelectNumber) {
                    LMFeedViewUtils.showShortSnack(
                        binding.root,
                        resources.getQuantityString(
                            R.plurals.lm_feed_please_select_at_most_d_options,
                            multipleSelectNumber,
                            multipleSelectNumber
                        )
                    )
                    return
                }
            }

            PollMultiSelectState.AT_LEAST -> {
                if (selectedOptionsCount < multipleSelectNumber) {
                    LMFeedViewUtils.showShortSnack(
                        binding.root,
                        resources.getQuantityString(
                            R.plurals.lm_feed_please_select_at_least_d_options,
                            multipleSelectNumber,
                            multipleSelectNumber
                        )
                    )
                    return
                }
            }
        }
        onValidationSuccess()
    }

    //callback when the poll edit vote button is clicked
    override fun onPostEditPollVoteClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostEditPollVoteClicked(position, postViewData)

        binding.rvSocial.apply {
            val postIndex = getIndexAndPostFromAdapter(postViewData.id)?.first ?: return

            val attachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
            val pollViewData = attachment.attachmentMeta.poll ?: return


            //update the poll view data
            val updatedPollViewData = pollViewData.toBuilder()
                .isPollSubmitted(false)
                .build()

            //update the attachments with the updated poll view data
            val updatedAttachments = listOf(
                attachment.toBuilder()
                    .attachmentMeta(
                        attachment.attachmentMeta.toBuilder()
                            .poll(updatedPollViewData)
                            .build()
                    )
                    .build()
            )

            //update the post view data
            val updatedPostViewData = postViewData.toBuilder()
                .mediaViewData(
                    postViewData.mediaViewData.toBuilder()
                        .attachments(updatedAttachments)
                        .build()
                )
                .build()

            updatePostItem(postIndex, updatedPostViewData)
        }
    }

    //callback when the poll option is clicked
    override fun onPollOptionClicked(
        pollPosition: Int,
        pollOptionPosition: Int,
        pollOptionViewData: LMFeedPollOptionViewData
    ) {
        super.onPollOptionClicked(
            pollPosition,
            pollOptionPosition,
            pollOptionViewData
        )

        val postViewData = binding.rvSocial.allPosts()[pollPosition] as LMFeedPostViewData
        val attachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
        val pollViewData = attachment.attachmentMeta.poll ?: return

        when {
            pollViewData.hasPollEnded() -> {
                LMFeedViewUtils.showShortToast(
                    requireContext(),
                    getString(R.string.lm_feed_poll_ended_vote_cannot_be_submitted_now)
                )
                return
            }

            (pollViewData.isPollSubmitted && pollViewData.isInstantPoll()) -> {
                return
            }

            !pollViewData.isMultiChoicePoll() -> {
                if (pollViewData.isPollSubmitted) {
                    return
                }

                //call api to submit vote
                socialFeedViewModel.postViewModel.submitPollVote(
                    requireContext(),
                    postViewData.id,
                    pollViewData.id,
                    listOf(pollOptionViewData.id)
                )
            }

            else -> {
                if (pollViewData.isPollSubmitted) {
                    return
                }

                //update the clicked poll option view data
                val updatedPollOptionViewData = if (pollOptionViewData.isSelected) {
                    pollOptionViewData.toBuilder()
                        .isSelected(false)
                        .build()
                } else {
                    pollOptionViewData.toBuilder()
                        .isSelected(true)
                        .build()
                }

                //update the poll view data
                val updatedPollViewData = pollViewData.toBuilder()
                    .options(
                        pollViewData.options.map { pollOption ->
                            if (pollOption.id == pollOptionViewData.id) {
                                updatedPollOptionViewData
                            } else {
                                pollOption
                            }
                        }
                    )
                    .build()

                //update the attachments with the updated poll view data
                val updatedAttachments = listOf(
                    attachment.toBuilder()
                        .attachmentMeta(
                            attachment.attachmentMeta.toBuilder()
                                .poll(updatedPollViewData)
                                .build()
                        )
                        .build()
                )

                //update the post view data
                val updatedPostViewData = postViewData.toBuilder()
                    .mediaViewData(
                        postViewData.mediaViewData.toBuilder()
                            .attachments(updatedAttachments)
                            .build()
                    )
                    .build()

                //update the recycler view
                binding.rvSocial.updatePostItem(pollPosition, updatedPostViewData)
            }
        }

        if (pollViewData.hasPollEnded()) {
            LMFeedViewUtils.showShortToast(
                requireContext(),
                getString(R.string.lm_feed_poll_ended_vote_cannot_be_submitted_now)
            )
            return
        }
    }

    //callback when the polls option vote count is clicked
    override fun onPollOptionVoteCountClicked(
        pollPosition: Int,
        pollOptionPosition: Int,
        pollOptionViewData: LMFeedPollOptionViewData
    ) {
        super.onPollOptionVoteCountClicked(
            pollPosition,
            pollOptionPosition,
            pollOptionViewData
        )

        val postViewData = binding.rvSocial.allPosts()[pollPosition] as LMFeedPostViewData
        val attachment = postViewData.mediaViewData.attachments.firstOrNull() ?: return
        val pollViewData = attachment.attachmentMeta.poll ?: return

        if (pollViewData.isAnonymous) {
            LMFeedAnonymousPollDialogFragment.showDialog(childFragmentManager)
            return
        }

        if (pollOptionViewData.toShowResults || pollOptionViewData.hasPollEnded) {
            val pollResultsExtras = LMFeedPollResultsExtras.Builder()
                .pollId(pollViewData.id)
                .pollOptions(pollViewData.options)
                .selectedPollOptionId(pollOptionViewData.id)
                .build()

            LMFeedPollResultsActivity.start(requireContext(), pollResultsExtras)
        } else {
            LMFeedViewUtils.showShortToast(
                requireContext(),
                getString(R.string.lm_feed_the_results_will_be_visible_after_the_poll_has_ended)
            )
        }
    }

    //callback when an option is submitted
    override fun onAddOptionSubmitted(
        postId: String,
        pollId: String,
        option: String
    ) {
        val post = binding.rvSocial.getIndexAndPostFromAdapter(postId)?.second ?: return

        socialFeedViewModel.postViewModel.addPollOption(
            post,
            option
        )
    }

    //customizes the create new post fab
    protected open fun customizeCreateNewPostButton(fabNewPost: LMFeedFAB) {
        fabNewPost.apply {
            setStyle(LMFeedStyleTransformer.socialFeedFragmentViewStyle.createNewPostButtonViewStyle)

            text = getString(
                R.string.lm_feed_new_s,
                LMFeedCommunityUtil.getPostVariable()
                    .pluralizeOrCapitalize(LMFeedWordAction.ALL_CAPITAL_SINGULAR)
            )
        }
    }

    private val createPostLauncher =
        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result ->
            when (result.resultCode) {
                Activity.RESULT_OK -> {
                    // post of type text/link has been created and posted
                    onFeedRefreshed()
                }

                LMFeedCreatePostActivity.RESULT_UPLOAD_POST -> {
                    // post with attachments created, now upload and post it from db
                    socialFeedViewModel.postViewModel.fetchPendingPostFromDB()
                }
            }
        }

    /**
     * Processes the new post fab click
     *
     * @param hasCreatePostRights: whether the user has the rights to create a post or not
     */
    protected open fun onCreateNewPostClick(hasCreatePostRights: Boolean) {
        binding.apply {
            if (hasCreatePostRights) {
                if (alreadyPosting) {
                    LMFeedViewUtils.showShortToast(
                        requireContext(),
                        getString(
                            R.string.lm_feed_a_s_is_already_uploading,
                            LMFeedCommunityUtil.getPostVariable()
                                .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
                        )
                    )
                } else {
                    // sends post creation started event
                    LMFeedAnalytics.sendPostCreationStartedEvent(LMFeedScreenNames.UNIVERSAL_FEED)

                    val createPostExtras = LMFeedCreatePostExtras.Builder()
                        .source(LMFeedAnalytics.LMFeedSource.SOCIAL_FEED)
                        .build()

                    val intent = LMFeedCreatePostActivity.getIntent(
                        requireContext(),
                        createPostExtras
                    )
                    createPostLauncher.launch(intent)
                }
            } else {
                LMFeedViewUtils.showShortSnack(
                    root,
                    getString(
                        R.string.lm_feed_you_do_not_have_permission_to_create_a_s,
                        LMFeedCommunityUtil.getPostVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
                    )
                )
            }
        }
    }

    //customizes the header view
    protected open fun customizeSocialFeedHeaderView(headerViewSocial: LMFeedHeaderView) {
        headerViewSocial.apply {
            setStyle(LMFeedStyleTransformer.socialFeedFragmentViewStyle.headerViewStyle)

            setTitleText(getString(R.string.lm_feed_feed))
        }
    }

    //customizes the universal feed list view
    protected open fun customizeSocialFeedListView(rvUniversal: LMFeedSocialFeedListView) {
    }

    //processes the user profile clicked
    protected open fun onUserProfileClicked(userViewData: LMFeedUserViewData) {
        val coreCallback = LMFeedCoreApplication.getLMFeedCoreCallback()
        coreCallback?.openProfile(userViewData)
    }

    //processes the notification icon clicked
    protected open fun onNotificationIconClicked() {
        LMFeedAnalytics.sendNotificationPageOpenedEvent()
        LMFeedActivityFeedActivity.start(requireContext())
    }

    //processes the search icon clicked
    protected open fun onSearchIconClicked() {
        val searchExtras = LMFeedSearchExtras.Builder()
            .searchType(SearchType.TEXT)
            .build()

        LMFeedSearchActivity.start(requireContext(), searchExtras)
    }

    //customizes the no post layout
    protected open fun customizeNoPostLayout(layoutNoPost: LMFeedNoEntityLayoutView) {
        layoutNoPost.apply {
            val postAsVariable = LMFeedCommunityUtil.getPostVariable()

            setStyle(LMFeedStyleTransformer.socialFeedFragmentViewStyle.noPostLayoutViewStyle)

            setTitleText(
                getString(
                    R.string.lm_feed_no_s_to_show,
                    postAsVariable.pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            )
            setSubtitleText(
                getString(
                    R.string.lm_feed_be_the_first_one_to_s_here,
                    postAsVariable.pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            )
            setActionCTAText(
                getString(
                    R.string.lm_feed_new_s,
                    postAsVariable.pluralizeOrCapitalize(LMFeedWordAction.ALL_CAPITAL_SINGULAR)
                )
            )
        }
    }

    //customizes the posting layout
    protected open fun customizePostingLayout(layoutPosting: LMFeedPostingView) {
        layoutPosting.apply {
            setStyle(LMFeedStyleTransformer.socialFeedFragmentViewStyle.postingViewStyle)

            setPostingText(
                getString(
                    R.string.lm_feed_creating_s,
                    LMFeedCommunityUtil.getPostVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            )
            setRetryCTAText(getString(R.string.lm_feed_retry))
        }
    }

    //customizes the topic selector bar
    protected open fun customizeTopicSelectorBar(topicSelectorBar: LMFeedTopicSelectorBarView) {
        topicSelectorBar.apply {
            setStyle(LMFeedStyleTransformer.socialFeedFragmentViewStyle.topicSelectorBarStyle)

            setAllTopicsText(getString(R.string.lm_feed_all_topics))
            setClearTopicsText(getString(R.string.lm_feed_clear))
        }
    }

    protected open fun onRetryUploadClicked(temporaryId: Long?, attachmentCount: Int) {
        socialFeedViewModel.postViewModel.createRetryPostMediaWorker(
            requireContext(),
            temporaryId,
            attachmentCount
        )
    }

    private val topicSelectionLauncher =
        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result ->
            if (result.resultCode == Activity.RESULT_OK) {
                val bundle = result.data?.extras
                val resultExtras = LMFeedExtrasUtil.getParcelable(
                    bundle,
                    LM_FEED_TOPIC_SELECTION_RESULT_EXTRAS,
                    LMFeedTopicSelectionResultExtras::class.java
                ) ?: return@registerForActivityResult

                handleTopicSelectionResult(resultExtras)
            }
        }

    //handles result after selecting filters and show recyclers views
    private fun handleTopicSelectionResult(resultExtras: LMFeedTopicSelectionResultExtras) {
        binding.apply {
            rvSocial.resetPaginationScrollListenerData()
            rvSocial.clearPostsAndNotify()

            if (resultExtras.isAllTopicSelected) {
                //show layouts accordingly
                topicSelectorBar.setAllTopicsTextVisibility(true)
                topicSelectorBar.setSelectedTopicFilterVisibility(false)

                //call api
                LMFeedProgressBarHelper.showProgress(progressBar, true)
                socialFeedViewModel.postViewModel.getUniversalFeed(1, null)
            } else {
                //show layouts accordingly
                topicSelectorBar.setAllTopicsTextVisibility(false)
                topicSelectorBar.setSelectedTopicFilterVisibility(true)

                //set selected topics to filter
                val selectedTopics = resultExtras.selectedTopics
                topicSelectorBar.replaceSelectedTopics(selectedTopics)

                //call api
                LMFeedProgressBarHelper.showProgress(progressBar, true)
                socialFeedViewModel.postViewModel.getUniversalFeed(
                    1,
                    socialFeedViewModel.helperViewModel.getTopicIdsFromAdapterList(selectedTopics)
                )
            }
        }
    }

    //processes the all topics view click
    protected open fun onAllTopicsClicked() {
        //show topics selecting screen with All topic filter
        val intent = LMFeedTopicSelectionActivity.getIntent(
            requireContext(),
            LMFeedTopicSelectionExtras.Builder()
                .showAllTopicFilter(true)
                .showEnabledTopicOnly(false)
                .build()
        )

        topicSelectionLauncher.launch(intent)
    }

    //processes the feed refreshed event
    protected open fun onFeedRefreshed() {
        binding.apply {
            mSwipeRefreshLayout.isRefreshing = true
            rvSocial.resetPaginationScrollListenerData()
            socialFeedViewModel.helperViewModel.getUnreadNotificationCount()
            when (feedType) {
                PERSONALISED_FEED -> {
                    rvSocial.resetScrollStateListenerData()
                    socialFeedViewModel.postViewModel.getPersonalisedFeed(
                        page = 1,
                        shouldReorder = true,
                        shouldRecompute = true
                    )
                    socialFeedViewModel.helperViewModel.postSeen()
                }

                UNIVERSAL_FEED -> {
                    socialFeedViewModel.postViewModel.getUniversalFeed(
                        1,
                        socialFeedViewModel.helperViewModel.getTopicIdsFromAdapterList(
                            topicSelectorBar.getAllSelectedTopics()
                        )
                    )
                }
            }
        }
    }

    //callback when post menu items are clicked
    protected open fun onPostMenuItemClicked(
        position: Int,
        menuId: Int,
        postViewData: LMFeedPostViewData
    ) {
        when (menuId) {
            EDIT_POST_MENU_ITEM_ID -> {
                onEditPostMenuClicked(
                    position,
                    menuId,
                    postViewData
                )
            }

            DELETE_POST_MENU_ITEM_ID -> {
                onDeletePostMenuClicked(
                    position,
                    menuId,
                    postViewData
                )
            }

            REPORT_POST_MENU_ITEM_ID -> {
                onReportPostMenuClicked(
                    position,
                    menuId,
                    postViewData
                )
            }

            PIN_POST_MENU_ITEM_ID -> {
                val updatedPostViewData =
                    LMFeedPostBinderUtils.updatePostForPin(requireContext(), postViewData)

                updatedPostViewData?.let {
                    onPinPostMenuClicked(
                        position,
                        menuId,
                        it
                    )
                }
            }

            UNPIN_POST_MENU_ITEM_ID -> {
                val updatedPost =
                    LMFeedPostBinderUtils.updatePostForUnpin(requireContext(), postViewData)

                updatedPost?.let {
                    onUnpinPostMenuClicked(
                        position,
                        menuId,
                        it
                    )
                }
            }
        }
    }

    //processes the edit post menu click
    protected open fun onEditPostMenuClicked(
        position: Int,
        menuId: Int,
        post: LMFeedPostViewData
    ) {
        val editPostExtras = LMFeedEditPostExtras.Builder()
            .postId(post.id)
            .build()
        val intent = LMFeedEditPostActivity.getIntent(requireContext(), editPostExtras)
        startActivity(intent)
    }

    //processes the delete post menu click
    protected open fun onDeletePostMenuClicked(
        position: Int,
        menuId: Int,
        post: LMFeedPostViewData
    ) {
        val deleteExtras = LMFeedDeleteExtras.Builder()
            .postId(post.id)
            .entityType(DELETE_TYPE_POST)
            .build()

        val postCreatorUUID = post.headerViewData.user.sdkClientInfoViewData.uuid

        val userPreferences = LMFeedUserPreferences(requireContext())
        val loggedInUUID = userPreferences.getUUID()

        if (postCreatorUUID == loggedInUUID) {
            // if the post was created by current user
            LMFeedSelfDeleteDialogFragment.showDialog(
                childFragmentManager,
                deleteExtras
            )
        } else {
            // if the post was not created by current user and they are admin
            LMFeedAdminDeleteDialogFragment.showDialog(
                childFragmentManager,
                deleteExtras
            )
        }
    }

    // launcher to start [ReportActivity] and show success dialog for result
    private val reportPostLauncher =
        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result ->
            if (result.resultCode == Activity.RESULT_OK) {
                val data = result.data?.getStringExtra(LM_FEED_REPORT_RESULT)
                val entityType = if (data == "Post") {
                    LMFeedCommunityUtil.getPostVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                } else {
                    data
                }
                LMFeedReportSuccessDialogFragment(entityType ?: "").show(
                    childFragmentManager,
                    LMFeedReportSuccessDialogFragment.TAG
                )
            }
        }

    //processes the report post menu click
    protected open fun onReportPostMenuClicked(
        position: Int,
        menuId: Int,
        post: LMFeedPostViewData
    ) {
        //create extras for [ReportActivity]
        val reportExtras = LMFeedReportExtras.Builder()
            .entityId(post.id)
            .uuid(post.headerViewData.user.sdkClientInfoViewData.uuid)
            .entityType(REPORT_TYPE_POST)
            .postViewType(post.viewType)
            .build()

        //get Intent for [ReportActivity]
        val intent = LMFeedReportActivity.getIntent(requireContext(), reportExtras)

        //start [ReportActivity] and check for result
        reportPostLauncher.launch(intent)
    }

    //processes the pin post menu click
    protected open fun onPinPostMenuClicked(
        position: Int,
        menuId: Int,
        post: LMFeedPostViewData
    ) {
        //call api
        socialFeedViewModel.helperViewModel.pinPost(post)

        binding.rvSocial.apply {
            val adapterPosition = getIndexAndPostFromAdapter(post.id)?.first ?: return

            //update recycler
            updatePostItem(adapterPosition, post)
        }
    }

    //processes the unpin post menu click
    protected open fun onUnpinPostMenuClicked(
        position: Int,
        menuId: Int,
        post: LMFeedPostViewData
    ) {
        //call api
        socialFeedViewModel.helperViewModel.pinPost(post)

        binding.rvSocial.apply {
            val adapterPosition = getIndexAndPostFromAdapter(post.id)?.first ?: return

            //update recycler
            updatePostItem(adapterPosition, post)
        }
    }
}



================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/view/LMFeedSocialFeedListView.kt
================================================
package com.likeminds.feed.android.core.socialfeed.view

import android.content.Context
import android.util.AttributeSet
import androidx.core.content.ContextCompat
import androidx.recyclerview.widget.*
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedSocialFeedAdapter
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.utils.*
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.video.LMFeedPostVideoAutoPlayHelper

/**
 * Represents a recycler view with list of posts in the social feed fragment
 */
class LMFeedSocialFeedListView @JvmOverloads constructor(
    context: Context,
    attrs: AttributeSet? = null,
    defStyleAttr: Int = 0
) : RecyclerView(context, attrs, defStyleAttr) {

    val linearLayoutManager: LinearLayoutManager
    private val dividerDecoration = DividerItemDecoration(context, DividerItemDecoration.VERTICAL)

    private lateinit var socialFeedAdapter: LMFeedSocialFeedAdapter
    private var postVideoAutoPlayHelper: LMFeedPostVideoAutoPlayHelper? = null
    private lateinit var paginationScrollListener: LMFeedEndlessRecyclerViewScrollListener
    private lateinit var scrollStateListener: LMFeedRecyclerViewScrollStateListener

    val itemCount: Int get() = socialFeedAdapter.itemCount

    init {
        setHasFixedSize(true)
        linearLayoutManager = LinearLayoutManager(context)
        layoutManager = linearLayoutManager

        if (itemAnimator is SimpleItemAnimator) {
            (itemAnimator as SimpleItemAnimator).supportsChangeAnimations = false
        }

        //item decorator to add spacing between items
        val dividerDrawable = ContextCompat.getDrawable(
            context,
            R.drawable.lm_feed_item_divider
        )
        dividerDrawable?.let { drawable ->
            dividerDecoration.setDrawable(drawable)
        }

        addItemDecoration(dividerDecoration)
    }

    /**
     * Initializes the [postVideoAutoPlayHelper] with the recyclerView
     * And starts observing
     **/
    fun initiateVideoAutoPlayer() {
        postVideoAutoPlayHelper = LMFeedPostVideoAutoPlayHelper.getInstance(this)
        postVideoAutoPlayHelper?.attachScrollListenerForVideo()
        postVideoAutoPlayHelper?.playMostVisibleItem()
    }

    // removes the old player and refreshes auto play
    fun refreshVideoAutoPlayer() {
        if (postVideoAutoPlayHelper == null) {
            initiateVideoAutoPlayer()
        }
        postVideoAutoPlayHelper?.removePlayer()
        postVideoAutoPlayHelper?.playMostVisibleItem()
    }

    // removes the player and destroys the [postVideoAutoPlayHelper]
    fun destroyVideoAutoPlayer() {
        if (postVideoAutoPlayHelper != null) {
            postVideoAutoPlayHelper?.detachScrollListenerForVideo()
            postVideoAutoPlayHelper?.destroy()
            postVideoAutoPlayHelper = null
        }
    }

    //create the adapter with the provided [listener] to the universal feed recycler view
    fun initAdapterAndSetListener(listener: LMFeedPostAdapterListener) {
        socialFeedAdapter = LMFeedSocialFeedAdapter(listener)
    }

    //sets the adapter with the provided [listener] to the universal feed recycler view
    fun setAdapter() {
        //setting adapter
        adapter = socialFeedAdapter
    }

    //sets the pagination scroll listener to the social feed recycler view
    fun setPaginationScrollListener(scrollListener: LMFeedEndlessRecyclerViewScrollListener) {
        paginationScrollListener = scrollListener
        addOnScrollListener(scrollListener)
    }

    //resets the scroll listener data
    fun resetPaginationScrollListenerData() {
        if (::paginationScrollListener.isInitialized) {
            paginationScrollListener.resetData()
        }
    }

    //sets the scroll state listener to the social feed recycler view
    fun setScrollStateListener(scrollStateListener: LMFeedRecyclerViewScrollStateListener) {
        this.scrollStateListener = scrollStateListener
        addOnScrollListener(scrollStateListener)
    }

    //resets the scroll state listener data
    fun resetScrollStateListenerData() {
        if (::scrollStateListener.isInitialized) {
            scrollStateListener.resetListener()
        }
    }

    //returns the list of all the posts in the social feed adapter
    fun allPosts(): List<LMFeedBaseViewType> {
        return socialFeedAdapter.items()
    }

    //replaces the [posts] in the social feed adapter with the provided posts
    fun replacePosts(posts: List<LMFeedPostViewData>) {
        socialFeedAdapter.replace(posts)
    }

    //adds the provided [posts] in the social feed adapter
    fun addPosts(posts: List<LMFeedPostViewData>) {
        socialFeedAdapter.addAll(posts)
    }

    //removes the post at the provided [index] in the social feed adapter
    fun removePostAtIndex(index: Int) {
        socialFeedAdapter.removeIndex(index)
    }

    //clears all the posts in the social feed adapter and notifies the recycler view
    fun clearPostsAndNotify() {
        socialFeedAdapter.clearAndNotify()
    }

    /**
     * Adapter Util Block
     **/

    //get index and post from the adapter using postId
    fun getIndexAndPostFromAdapter(postId: String): Pair<Int, LMFeedPostViewData>? {
        val index = socialFeedAdapter.items().indexOfFirst {
            (it is LMFeedPostViewData) && (it.id == postId)
        }

        if (index == -1) {
            return null
        }

        val post = getPostFromAdapter(index) ?: return null

        return Pair(index, post)
    }

    //get post from the adapter using index
    fun getPostFromAdapter(position: Int): LMFeedPostViewData? {
        return socialFeedAdapter.items()[position] as? LMFeedPostViewData
    }

    //updates the post item at the provided position without notifying the recycler view
    fun updatePostWithoutNotifying(position: Int, postItem: LMFeedPostViewData) {
        socialFeedAdapter.updateWithoutNotifyingRV(position, postItem)
    }

    //returns the post item at the provided index
    fun updatePostItem(position: Int, updatedPostItem: LMFeedPostViewData) {
        socialFeedAdapter.update(position, updatedPostItem)
    }

    /**
     * Scroll to a position with offset from the top header
     * @param position Index of the item to scroll to
     */
    fun scrollToPositionWithOffset(position: Int) {
        post {
            val px = (LMFeedViewUtils.dpToPx(75) * 1.5).toInt()
            (layoutManager as? LinearLayoutManager)?.scrollToPositionWithOffset(
                position,
                px
            )
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/view/LMFeedSocialSelectedTopicListView.kt
================================================
package com.likeminds.feed.android.core.socialfeed.view

import android.content.Context
import android.util.AttributeSet
import androidx.recyclerview.widget.*
import com.likeminds.feed.android.core.topics.model.LMFeedTopicViewData
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedSelectedTopicAdapter
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedSelectedTopicAdapterListener
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType

class LMFeedSocialSelectedTopicListView @JvmOverloads constructor(
    context: Context,
    attrs: AttributeSet? = null,
    defStyleAttr: Int = 0
) : RecyclerView(context, attrs, defStyleAttr) {

    val linearLayoutManager: LinearLayoutManager

    private lateinit var selectedTopicAdapter: LMFeedSelectedTopicAdapter

    init {
        setHasFixedSize(true)
        linearLayoutManager = LinearLayoutManager(
            context,
            LinearLayoutManager.HORIZONTAL,
            false
        )
        layoutManager = linearLayoutManager

        if (itemAnimator is SimpleItemAnimator) {
            (itemAnimator as SimpleItemAnimator).supportsChangeAnimations = false
        }
    }

    //sets the adapter with the provided [listener] to the selected topic recycler view
    fun setAdapter(listener: LMFeedSelectedTopicAdapterListener) {
        selectedTopicAdapter = LMFeedSelectedTopicAdapter(listener)
        adapter = selectedTopicAdapter
    }

    //returns the list of all the selected topics in the adapter
    fun getAllSelectedTopics(): List<LMFeedBaseViewType> {
        return selectedTopicAdapter.items()
    }

    //replaces all the selected topics with the provided [selectedTopics] in the adapter
    fun replaceSelectedTopics(selectedTopics: List<LMFeedTopicViewData>) {
        selectedTopicAdapter.replace(selectedTopics)
    }

    //removes the selected topics at the provided [position] in the adapter and notifies the recycler view
    fun removeSelectedTopicAndNotify(position: Int) {
        selectedTopicAdapter.removeIndexWithNotifyDataSetChanged(position)
    }

    //clear all the selected topics in the adapter and notifies the recycler view
    fun clearAllSelectedTopicsAndNotify() {
        selectedTopicAdapter.clearAndNotify()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/view/LMFeedTopicSelectorBarView.kt
================================================
package com.likeminds.feed.android.core.socialfeed.view

import android.content.Context
import android.util.AttributeSet
import android.view.LayoutInflater
import androidx.constraintlayout.widget.ConstraintLayout
import androidx.core.content.ContextCompat
import androidx.core.view.isVisible
import com.likeminds.feed.android.core.databinding.LmFeedSocialTopicSelectorBarBinding
import com.likeminds.feed.android.core.topics.model.LMFeedTopicViewData
import com.likeminds.feed.android.core.ui.base.styles.LMFeedTextStyle
import com.likeminds.feed.android.core.ui.base.styles.setStyle
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedSelectedTopicAdapterListener
import com.likeminds.feed.android.core.socialfeed.style.LMFeedTopicSelectorBarViewStyle
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnClickListener

class LMFeedTopicSelectorBarView : ConstraintLayout {

    constructor(context: Context) : super(context)

    constructor(context: Context, attrs: AttributeSet?) : super(context, attrs)

    constructor(context: Context, attrs: AttributeSet?, defStyle: Int) : super(
        context,
        attrs,
        defStyle
    )

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding: LmFeedSocialTopicSelectorBarBinding =
        LmFeedSocialTopicSelectorBarBinding.inflate(inflater, this, true)

    //sets the provided [topicSelectorBarStyle] to the topic selector bar
    fun setStyle(topicSelectorBarStyle: LMFeedTopicSelectorBarViewStyle) {
        topicSelectorBarStyle.apply {

            //sets background color
            backgroundColor?.let {
                setBackgroundColor(ContextCompat.getColor(context, it))
            }

            //sets the elevation of the header view
            elevation?.let {
                this@LMFeedTopicSelectorBarView.elevation = resources.getDimension(it)
            }

            //configures all the views in the topic selector bar
            configureAllTopicsSelector(allTopicsSelectorStyle)
            configureClearTopicFilter(clearTopicFilterStyle)
        }
    }

    private fun configureAllTopicsSelector(allTopicsSelectorStyle: LMFeedTextStyle) {
        binding.tvAllTopics.setStyle(allTopicsSelectorStyle)
    }

    private fun configureClearTopicFilter(clearTopicFilterStyle: LMFeedTextStyle) {
        binding.tvClear.setStyle(clearTopicFilterStyle)
    }

    /**
     * Sets text in all topics text view in the selector bar.
     *
     * @param allTopicsText Text for the all topics text view in the selector bar.
     */
    fun setAllTopicsText(allTopicsText: String) {
        binding.tvAllTopics.text = allTopicsText
    }

    /**
     * Sets text in clear topics text view in the selector bar.
     *
     * @param clearTopicsText Text for clear topics text view in the selector bar.
     */
    fun setClearTopicsText(clearTopicsText: String) {
        binding.tvClear.text = clearTopicsText
    }

    /**
     * Sets click listener on the all topics text view
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setAllTopicsClickListener(listener: LMFeedOnClickListener) {
        binding.tvAllTopics.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the clear selected topics text
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setClearSelectedTopicsClickListener(listener: LMFeedOnClickListener) {
        binding.tvClear.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets all topics text view visibility
     *
     * @param isVisible whether to make the all topics text view visible or not
     */
    fun setAllTopicsTextVisibility(isVisible: Boolean) {
        binding.tvAllTopics.isVisible = isVisible
    }

    /**
     * Sets selected topic filter visibility
     *
     * @param isVisible whether to make the selected topics filter visible or not
     */
    fun setSelectedTopicFilterVisibility(isVisible: Boolean) {
        binding.grpSelectedTopics.isVisible = isVisible
    }

    /**
     * Selected topics adapter functions
     */

    //exposed function to set the adapter with the provided [listener] to the selected topic recycler view
    fun setSelectedTopicAdapter(listener: LMFeedSelectedTopicAdapterListener) {
        binding.rvSelectedTopics.setAdapter(listener)
    }

    //exposed function to get all the topics in the selected topics adapter
    fun getAllSelectedTopics(): List<LMFeedBaseViewType> {
        return binding.rvSelectedTopics.getAllSelectedTopics()
    }

    //exposed function to replace the selected topics with the provided [selectedTopics] in the selected topics adapter
    fun replaceSelectedTopics(selectedTopics: List<LMFeedTopicViewData>) {
        binding.rvSelectedTopics.replaceSelectedTopics(selectedTopics)
    }

    //exposed function to clear the selected topics in the selected topics adapter and notify the recycler view
    fun clearSelectedTopicsAndNotify() {
        binding.rvSelectedTopics.clearAllSelectedTopicsAndNotify()
    }

    //exposed function to remove the selected topic at the provided [index] in the selected topics adapter and notify the recycler view
    fun removeTopicAndNotify(position: Int) {
        binding.rvSelectedTopics.removeSelectedTopicAndNotify(position)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/socialfeed/viewmodel/LMFeedSocialFeedViewModel.kt
================================================
package com.likeminds.feed.android.core.socialfeed.viewmodel

import androidx.lifecycle.ViewModel
import com.likeminds.feed.android.core.post.viewmodel.LMFeedHelperViewModel
import com.likeminds.feed.android.core.post.viewmodel.LMFeedPostViewModel

class LMFeedSocialFeedViewModel : ViewModel() {

    val helperViewModel: LMFeedHelperViewModel by lazy {
        LMFeedHelperViewModel()
    }

    val postViewModel: LMFeedPostViewModel by lazy {
        LMFeedPostViewModel()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/topics/model/LMFeedTopicViewData.kt
================================================
package com.likeminds.feed.android.core.topics.model

import android.os.Parcelable
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.base.model.ITEM_TOPIC
import kotlinx.parcelize.Parcelize

@Parcelize
class LMFeedTopicViewData private constructor(
    val id: String,
    val name: String,
    val isEnabled: Boolean,
    val isSelected: Boolean
) : LMFeedBaseViewType, Parcelable {
    override val viewType: Int
        get() = ITEM_TOPIC

    class Builder {
        private var id: String = ""
        private var name: String = ""
        private var isEnabled: Boolean = false
        private var isSelected: Boolean = false

        fun id(id: String) = apply { this.id = id }
        fun name(name: String) = apply { this.name = name }
        fun isEnabled(isEnabled: Boolean) = apply { this.isEnabled = isEnabled }
        fun isSelected(isSelected: Boolean) = apply { this.isSelected = isSelected }

        fun build() = LMFeedTopicViewData(id, name, isEnabled, isSelected)
    }

    fun toBuilder(): Builder {
        return Builder().id(id)
            .name(name)
            .isEnabled(isEnabled)
            .isSelected(isSelected)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/topicselection/adapter/LMFeedTopicSelectionAdapter.kt
================================================
package com.likeminds.feed.android.core.topicselection.adapter

import com.likeminds.feed.android.core.topics.model.LMFeedTopicViewData
import com.likeminds.feed.android.core.topicselection.adapter.databinder.LMFeedItemAllTopicsViewDataBinder
import com.likeminds.feed.android.core.topicselection.adapter.databinder.LMFeedItemTopicViewDataBinder
import com.likeminds.feed.android.core.topicselection.model.LMFeedAllTopicsViewData
import com.likeminds.feed.android.core.utils.base.*

class LMFeedTopicSelectionAdapter(
    private val listener: LMFeedTopicSelectionAdapterListener
) : LMFeedBaseRecyclerAdapter<LMFeedBaseViewType>() {

    init {
        initViewDataBinders()
    }

    override fun getSupportedViewDataBinder(): MutableList<LMFeedViewDataBinder<*, *>> {
        val viewDataBinders = ArrayList<LMFeedViewDataBinder<*, *>>(2)

        val itemTopicViewDataBinder = LMFeedItemTopicViewDataBinder(listener)
        viewDataBinders.add(itemTopicViewDataBinder)

        val itemAllTopicsViewDataBinder = LMFeedItemAllTopicsViewDataBinder(listener)
        viewDataBinders.add(itemAllTopicsViewDataBinder)

        return viewDataBinders
    }
}

interface LMFeedTopicSelectionAdapterListener {
    fun onAllTopicsSelected(position: Int, allTopicsViewData: LMFeedAllTopicsViewData) {
        //triggered when user selects all topics
    }

    fun onTopicSelected(position: Int, topic: LMFeedTopicViewData) {
        //triggered when user selects any topic from the list of the topics
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/topicselection/adapter/databinder/LMFeedItemAllTopicsViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.topicselection.adapter.databinder

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.feed.android.core.databinding.LmFeedItemAllTopicsBinding
import com.likeminds.feed.android.core.topicselection.adapter.LMFeedTopicSelectionAdapterListener
import com.likeminds.feed.android.core.topicselection.model.LMFeedAllTopicsViewData
import com.likeminds.feed.android.core.ui.base.styles.setStyle
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_ALL_TOPICS

class LMFeedItemAllTopicsViewDataBinder(
    private val listener: LMFeedTopicSelectionAdapterListener
) : LMFeedViewDataBinder<LmFeedItemAllTopicsBinding, LMFeedAllTopicsViewData>() {

    override val viewType: Int
        get() = ITEM_ALL_TOPICS

    override fun createBinder(parent: ViewGroup): LmFeedItemAllTopicsBinding {
        val binding = LmFeedItemAllTopicsBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.apply {
            setListeners(this)

            //set style
            tvAllTopics.setStyle(LMFeedStyleTransformer.topicSelectionFragmentViewStyle.topicItemStyle)

            return this
        }
    }

    override fun bindData(
        binding: LmFeedItemAllTopicsBinding,
        data: LMFeedAllTopicsViewData,
        position: Int
    ) {
        //set data in binding
        binding.apply {
            this.position = position
            allTopicsViewData = data

            val style = LMFeedStyleTransformer.topicSelectionFragmentViewStyle.topicItemStyle

            //sets or remove drawables when the topic is selected or unselected
            if (data.isSelected) {
                tvAllTopics.setCompoundDrawablesWithIntrinsicBounds(
                    style.drawableLeftSrc ?: 0,
                    style.drawableTopSrc ?: 0,
                    style.drawableRightSrc ?: 0,
                    style.drawableBottomSrc ?: 0
                )
            } else {
                tvAllTopics.clearDrawables()
            }
        }
    }

    //set click listeners to the view data binder
    private fun setListeners(binding: LmFeedItemAllTopicsBinding) {
        binding.apply {
            root.setOnClickListener {
                val allTopicsViewData = allTopicsViewData ?: return@setOnClickListener
                listener.onAllTopicsSelected(position, allTopicsViewData)
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/topicselection/adapter/databinder/LMFeedItemTopicViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.topicselection.adapter.databinder

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.feed.android.core.databinding.LmFeedItemTopicBinding
import com.likeminds.feed.android.core.topics.model.LMFeedTopicViewData
import com.likeminds.feed.android.core.topicselection.adapter.LMFeedTopicSelectionAdapterListener
import com.likeminds.feed.android.core.ui.base.styles.setStyle
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_TOPIC

class LMFeedItemTopicViewDataBinder(
    private val listener: LMFeedTopicSelectionAdapterListener
) : LMFeedViewDataBinder<LmFeedItemTopicBinding, LMFeedTopicViewData>() {

    override val viewType: Int
        get() = ITEM_TOPIC

    override fun createBinder(parent: ViewGroup): LmFeedItemTopicBinding {
        val binding = LmFeedItemTopicBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.apply {
            setListeners(this)

            //set style
            tvTopicName.setStyle(LMFeedStyleTransformer.topicSelectionFragmentViewStyle.topicItemStyle)

            return this
        }
    }

    override fun bindData(
        binding: LmFeedItemTopicBinding,
        data: LMFeedTopicViewData,
        position: Int
    ) {
        binding.apply {
            this.position = position
            topicViewData = data

            //set topic name
            tvTopicName.text = data.name

            val style = LMFeedStyleTransformer.topicSelectionFragmentViewStyle.topicItemStyle

            //sets or remove drawables when the topic is selected or unselected
            if (data.isSelected) {
                tvTopicName.setCompoundDrawablesWithIntrinsicBounds(
                    style.drawableLeftSrc ?: 0,
                    style.drawableTopSrc ?: 0,
                    style.drawableRightSrc ?: 0,
                    style.drawableBottomSrc ?: 0
                )
            } else {
                tvTopicName.clearDrawables()
            }
        }
    }

    private fun setListeners(binding: LmFeedItemTopicBinding) {
        binding.apply {
            root.setOnClickListener {
                val topicViewData = topicViewData ?: return@setOnClickListener
                listener.onTopicSelected(position, topicViewData)
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/topicselection/model/LMFeedAllTopicsViewData.kt
================================================
package com.likeminds.feed.android.core.topicselection.model

import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.base.model.ITEM_ALL_TOPICS

class LMFeedAllTopicsViewData private constructor(
    val isSelected: Boolean
) : LMFeedBaseViewType {

    override val viewType: Int
        get() = ITEM_ALL_TOPICS

    class Builder {

        private var isSelected: Boolean = true

        fun isSelected(isSelected: Boolean) = apply { this.isSelected = isSelected }

        fun build() = LMFeedAllTopicsViewData(isSelected)
    }

    fun toBuilder(): Builder {
        return Builder().isSelected(isSelected)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/topicselection/model/LMFeedTopicSelectionExtras.kt
================================================
package com.likeminds.feed.android.core.topicselection.model

import android.os.Parcelable
import com.likeminds.feed.android.core.topics.model.LMFeedTopicViewData
import kotlinx.parcelize.Parcelize

@Parcelize
class LMFeedTopicSelectionExtras private constructor(
    val showAllTopicFilter: Boolean,
    val selectedTopics: List<LMFeedTopicViewData>?,
    val showEnabledTopicOnly: Boolean,
    val disabledTopics: List<LMFeedTopicViewData>?
) : Parcelable {

    class Builder {
        private var showAllTopicFilter: Boolean = false

        private var selectedTopics: List<LMFeedTopicViewData>? = null

        private var showEnabledTopicOnly: Boolean = false

        private var disabledTopics: List<LMFeedTopicViewData>? = null

        fun showAllTopicFilter(showAllTopicFilter: Boolean) = apply {
            this.showAllTopicFilter = showAllTopicFilter
        }

        fun selectedTopics(selectedTopics: List<LMFeedTopicViewData>?) = apply {
            this.selectedTopics = selectedTopics
        }

        fun showEnabledTopicOnly(showEnabledTopicOnly: Boolean) = apply {
            this.showEnabledTopicOnly = showEnabledTopicOnly
        }

        fun disabledTopics(disabledTopics: List<LMFeedTopicViewData>?) = apply {
            this.disabledTopics = disabledTopics
        }

        fun build() =
            LMFeedTopicSelectionExtras(
                showAllTopicFilter,
                selectedTopics,
                showEnabledTopicOnly,
                disabledTopics
            )
    }

    fun toBuilder(): Builder {
        return Builder().showAllTopicFilter(showAllTopicFilter)
            .selectedTopics(selectedTopics)
            .showEnabledTopicOnly(showEnabledTopicOnly)
            .disabledTopics(disabledTopics)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/topicselection/model/LMFeedTopicSelectionResultExtras.kt
================================================
package com.likeminds.feed.android.core.topicselection.model

import android.os.Parcelable
import com.likeminds.feed.android.core.topics.model.LMFeedTopicViewData
import kotlinx.parcelize.Parcelize

@Parcelize
class LMFeedTopicSelectionResultExtras private constructor(
    val isAllTopicSelected: Boolean,
    val selectedTopics: List<LMFeedTopicViewData>
) : Parcelable {

    class Builder {
        private var isAllTopicSelected: Boolean = false
        private var selectedTopics: List<LMFeedTopicViewData> = emptyList()

        fun isAllTopicSelected(isAllTopicSelected: Boolean) =
            apply { this.isAllTopicSelected = isAllTopicSelected }

        fun selectedTopics(selectedTopics: List<LMFeedTopicViewData>) =
            apply { this.selectedTopics = selectedTopics }

        fun build() = LMFeedTopicSelectionResultExtras(isAllTopicSelected, selectedTopics)
    }

    fun toBuilder(): Builder {
        return Builder().selectedTopics(selectedTopics)
            .isAllTopicSelected(isAllTopicSelected)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/topicselection/style/LMFeedTopicSelectionFragmentViewStyle.kt
================================================
package com.likeminds.feed.android.core.topicselection.style

import android.graphics.Typeface
import android.text.TextUtils
import androidx.annotation.ColorRes
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.widgets.headerview.style.LMFeedHeaderViewStyle
import com.likeminds.feed.android.core.ui.widgets.noentitylayout.style.LMFeedNoEntityLayoutViewStyle
import com.likeminds.feed.android.core.ui.widgets.searchbar.style.LMFeedSearchBarViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle
import com.likeminds.feed.android.core.utils.model.LMFeedPadding

/**
 * [LMFeedTopicSelectionFragmentViewStyle] helps you to customize the likes fragment [LMFeedTopicSelectionFragment]
 *
 * @property headerViewStyle : [LMFeedHeaderViewStyle] this will help you to customize the header view in the topic selection fragment
 * @property topicItemStyle : [LMFeedTextStyle] this will help you to customize the topic item in the topic selection fragment
 * @property noTopicsLayoutViewStyle : [LMFeedNoEntityLayoutViewStyle] this will help you to customize the no topics layout in the topic selection fragment
 * @property submitSelectedTopicsFABStyle : [LMFeedFABStyle] this will help you to customize the submit selected topics fab in the topic selection fragment
 * @property topicSearchBarViewStyle : [LMFeedSearchBarViewStyle] this will help you to customize the search bar in the topic selection fragment
 * @property backgroundColor: [Int] should be in format of [ColorRes] this will help you to customize the background color of the topic selection fragment | Default value = [null]
 * */
class LMFeedTopicSelectionFragmentViewStyle private constructor(
    //header
    val headerViewStyle: LMFeedHeaderViewStyle,
    //topic item style
    val topicItemStyle: LMFeedTextStyle,
    //no topics layout style
    val noTopicsLayoutViewStyle: LMFeedNoEntityLayoutViewStyle,
    //submit selected topics fab style
    val submitSelectedTopicsFABStyle: LMFeedFABStyle,
    //topic search bar styles
    val topicSearchBarViewStyle: LMFeedSearchBarViewStyle,
    //background color
    @ColorRes val backgroundColor: Int?
) : LMFeedViewStyle {

    class Builder {
        private var headerViewStyle: LMFeedHeaderViewStyle = LMFeedHeaderViewStyle.Builder()
            .titleTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_black)
                    .textSize(R.dimen.lm_feed_header_view_title_text_size)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .maxLines(1)
                    .ellipsize(TextUtils.TruncateAt.END)
                    .build()
            )
            .backgroundColor(R.color.lm_feed_white)
            .searchIconStyle(
                LMFeedIconStyle.Builder()
                    .iconTint(R.color.lm_feed_black)
                    .inActiveSrc(R.drawable.lm_feed_ic_search_icon)
                    .iconPadding(
                        LMFeedPadding(
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding
                        )
                    )
                    .build()
            )
            .navigationIconStyle(
                LMFeedIconStyle.Builder()
                    .iconTint(R.color.lm_feed_black)
                    .inActiveSrc(R.drawable.lm_feed_ic_arrow_back_black_24dp)
                    .iconPadding(
                        LMFeedPadding(
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding,
                            R.dimen.lm_feed_icon_padding
                        )
                    )
                    .build()
            )
            .build()

        private var topicItemStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textSize(R.dimen.lm_feed_text_large)
            .textColor(R.color.lm_feed_dark_grey)
            .drawableRightSrc(R.drawable.lm_feed_ic_topic_selected)
            .build()

        private var noTopicsLayoutViewStyle: LMFeedNoEntityLayoutViewStyle =
            LMFeedNoEntityLayoutViewStyle.Builder()
                .imageStyle(
                    LMFeedImageStyle.Builder()
                        .imageSrc(R.drawable.lm_feed_ic_not_found)
                        .build()
                )
                .titleStyle(
                    LMFeedTextStyle.Builder()
                        .textColor(R.color.lm_feed_dark_grey)
                        .textSize(R.dimen.lm_feed_text_medium)
                        .typeface(Typeface.NORMAL)
                        .fontResource(R.font.lm_feed_roboto_medium)
                        .build()
                )
                .build()

        private var submitSelectedTopicsFABStyle: LMFeedFABStyle = LMFeedFABStyle.Builder()
            .isExtended(false)
            .backgroundColor(LMFeedAppearance.getButtonColor())
            .icon(R.drawable.lm_feed_ic_arrow_right_white)
            .iconTint(R.color.lm_feed_white)
            .build()

        private var topicSearchBarViewStyle: LMFeedSearchBarViewStyle =
            LMFeedSearchBarViewStyle.Builder()
                .searchCloseIconStyle(
                    LMFeedIconStyle.Builder()
                        .inActiveSrc(R.drawable.lm_feed_ic_cross_black)
                        .iconTint(R.color.lm_feed_black)
                        .build()
                )
                .searchBackIconStyle(
                    LMFeedIconStyle.Builder()
                        .inActiveSrc(R.drawable.lm_feed_ic_arrow_back_black_24dp)
                        .build()
                )
                .backgroundColor(R.color.lm_feed_white)
                .elevation(R.dimen.lm_feed_elevation_small)
                .build()

        @ColorRes
        private var backgroundColor: Int? = null

        fun headerViewStyle(headerViewStyle: LMFeedHeaderViewStyle) = apply {
            this.headerViewStyle = headerViewStyle
        }

        fun topicItemStyle(topicItemStyle: LMFeedTextStyle) = apply {
            this.topicItemStyle = topicItemStyle
        }

        fun noTopicsLayoutViewStyle(noTopicsLayoutViewStyle: LMFeedNoEntityLayoutViewStyle) =
            apply {
                this.noTopicsLayoutViewStyle = noTopicsLayoutViewStyle
            }

        fun submitSelectedTopicsFABStyle(submitSelectedTopicsFABStyle: LMFeedFABStyle) = apply {
            this.submitSelectedTopicsFABStyle = submitSelectedTopicsFABStyle
        }

        fun topicSearchBarViewStyle(topicSearchBarViewStyle: LMFeedSearchBarViewStyle) =
            apply {
                this.topicSearchBarViewStyle = topicSearchBarViewStyle
            }

        fun backgroundColor(@ColorRes backgroundColor: Int?) = apply {
            this.backgroundColor = backgroundColor
        }

        fun build() = LMFeedTopicSelectionFragmentViewStyle(
            headerViewStyle,
            topicItemStyle,
            noTopicsLayoutViewStyle,
            submitSelectedTopicsFABStyle,
            topicSearchBarViewStyle,
            backgroundColor
        )
    }

    fun toBuilder(): Builder {
        return Builder().headerViewStyle(headerViewStyle)
            .topicItemStyle(topicItemStyle)
            .noTopicsLayoutViewStyle(noTopicsLayoutViewStyle)
            .submitSelectedTopicsFABStyle(submitSelectedTopicsFABStyle)
            .topicSearchBarViewStyle(topicSearchBarViewStyle)
            .backgroundColor(backgroundColor)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/topicselection/view/LMFeedTopicSelectionActivity.kt
================================================
package com.likeminds.feed.android.core.topicselection.view

import android.content.Context
import android.content.Intent
import android.os.Bundle
import androidx.appcompat.app.AppCompatActivity
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedActivityTopicSelectionBinding
import com.likeminds.feed.android.core.topicselection.model.LMFeedTopicSelectionExtras
import com.likeminds.feed.android.core.utils.*

class LMFeedTopicSelectionActivity : AppCompatActivity() {

    private lateinit var binding: LmFeedActivityTopicSelectionBinding

    private lateinit var topicSelectionExtras: LMFeedTopicSelectionExtras

    companion object {
        const val TAG = "LMFeedTopicSelectionActivity"
        const val LM_FEED_TOPIC_SELECTION_EXTRAS = "LM_FEED_TOPIC_SELECTION_EXTRAS"
        private const val LM_FEED_TOPIC_SELECTION_BUNDLE = "lm_feed_bundle"
        const val LM_FEED_TOPIC_SELECTION_RESULT_EXTRAS = "LM_FEED_TOPIC_SELECTION_RESULT_EXTRAS"

        @JvmStatic
        fun start(context: Context, extras: LMFeedTopicSelectionExtras) {
            val intent = Intent(context, LMFeedTopicSelectionActivity::class.java)
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_TOPIC_SELECTION_EXTRAS, extras)
            intent.putExtra(LM_FEED_TOPIC_SELECTION_BUNDLE, bundle)
            context.startActivity(intent)
        }

        @JvmStatic
        fun getIntent(context: Context, extras: LMFeedTopicSelectionExtras): Intent {
            val intent = Intent(context, LMFeedTopicSelectionActivity::class.java)
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_TOPIC_SELECTION_EXTRAS, extras)
            intent.putExtra(LM_FEED_TOPIC_SELECTION_BUNDLE, bundle)
            return intent
        }
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        binding = LmFeedActivityTopicSelectionBinding.inflate(layoutInflater)
        setContentView(binding.root)

        //parse extras
        assignExtras()

        //inflates topic selection fragment
        inflateTopicSelectionFragment()
    }

    private fun assignExtras() {
        //get bundle
        val bundle = intent.getBundleExtra(LM_FEED_TOPIC_SELECTION_BUNDLE)

        //assign to global variable
        if (bundle != null) {
            topicSelectionExtras = LMFeedExtrasUtil.getParcelable(
                bundle,
                LM_FEED_TOPIC_SELECTION_EXTRAS,
                LMFeedTopicSelectionExtras::class.java
            ) ?: throw emptyExtrasException(TAG)
        } else {
            redirectActivity()
        }
    }

    private fun inflateTopicSelectionFragment() {
        //gets topic selection fragment instance
        val topicSelectionFragment =
            LMFeedTopicSelectionFragment.getInstance(topicSelectionExtras = topicSelectionExtras)

        //commits fragment replace transaction
        supportFragmentManager.beginTransaction()
            .replace(
                binding.containerTopicSelection.id,
                topicSelectionFragment,
                TAG
            )
            .commit()
    }

    private fun redirectActivity() {
        LMFeedViewUtils.showShortToast(this, getString(R.string.lm_feed_request_not_processed))
        supportFragmentManager.popBackStack()
        onBackPressedDispatcher.onBackPressed()
        overridePendingTransition(R.anim.lm_feed_slide_from_left, R.anim.lm_feed_slide_to_right)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/topicselection/view/LMFeedTopicSelectionFragment.kt
================================================
package com.likeminds.feed.android.core.topicselection.view

import android.app.Activity
import android.content.Intent
import android.os.Bundle
import android.view.*
import androidx.core.content.ContextCompat
import androidx.fragment.app.Fragment
import androidx.fragment.app.viewModels
import androidx.lifecycle.lifecycleScope
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedFragmentTopicSelectionBinding
import com.likeminds.feed.android.core.topics.model.LMFeedTopicViewData
import com.likeminds.feed.android.core.topicselection.adapter.LMFeedTopicSelectionAdapterListener
import com.likeminds.feed.android.core.topicselection.model.*
import com.likeminds.feed.android.core.topicselection.view.LMFeedTopicSelectionActivity.Companion.LM_FEED_TOPIC_SELECTION_EXTRAS
import com.likeminds.feed.android.core.topicselection.view.LMFeedTopicSelectionActivity.Companion.LM_FEED_TOPIC_SELECTION_RESULT_EXTRAS
import com.likeminds.feed.android.core.topicselection.viewmodel.LMFeedTopicSelectionViewModel
import com.likeminds.feed.android.core.ui.base.styles.setStyle
import com.likeminds.feed.android.core.ui.base.views.LMFeedFAB
import com.likeminds.feed.android.core.ui.widgets.headerview.view.LMFeedHeaderView
import com.likeminds.feed.android.core.ui.widgets.noentitylayout.view.LMFeedNoEntityLayoutView
import com.likeminds.feed.android.core.ui.widgets.searchbar.view.LMFeedSearchBarListener
import com.likeminds.feed.android.core.ui.widgets.searchbar.view.LMFeedSearchBarView
import com.likeminds.feed.android.core.utils.*
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show

open class LMFeedTopicSelectionFragment :
    Fragment(),
    LMFeedTopicSelectionAdapterListener {

    private lateinit var binding: LmFeedFragmentTopicSelectionBinding

    private val topicSelectionViewModel: LMFeedTopicSelectionViewModel by viewModels()

    private lateinit var topicSelectionExtras: LMFeedTopicSelectionExtras

    private var selectedTopics = 0
    private var searchKeyword: String? = null

    companion object {
        const val TAG = "LMFeedTopicSelectionFragment"

        fun getInstance(topicSelectionExtras: LMFeedTopicSelectionExtras): LMFeedTopicSelectionFragment {
            val topicSelectionFragment = LMFeedTopicSelectionFragment()
            val bundle = Bundle()
            bundle.putParcelable(LM_FEED_TOPIC_SELECTION_EXTRAS, topicSelectionExtras)
            topicSelectionFragment.arguments = bundle
            return topicSelectionFragment
        }
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        receiveExtras()
    }

    private fun receiveExtras() {
        topicSelectionExtras = LMFeedExtrasUtil.getParcelable(
            arguments,
            LMFeedTopicSelectionActivity.LM_FEED_TOPIC_SELECTION_EXTRAS,
            LMFeedTopicSelectionExtras::class.java
        ) ?: throw emptyExtrasException(TAG)
    }

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View {
        binding = LmFeedFragmentTopicSelectionBinding.inflate(layoutInflater)

        binding.apply {
            //set background color
            val backgroundColor =
                LMFeedStyleTransformer.topicSelectionFragmentViewStyle.backgroundColor
            backgroundColor?.let { color ->
                root.setBackgroundColor(
                    ContextCompat.getColor(
                        requireContext(),
                        color
                    )
                )
            }

            customizeTopicSelectionHeaderView(headerViewTopicSelection)
            customizeNoTopicsLayout(layoutNoTopics)
            customizeSubmitTopicsFab(fabSubmitSelectedTopics)
            customizeSearchBar(searchBar)
        }
        return binding.root
    }

    //customizes the topic selection header view
    protected open fun customizeTopicSelectionHeaderView(headerViewTopicSelection: LMFeedHeaderView) {
        headerViewTopicSelection.apply {
            val headerStyle = LMFeedStyleTransformer.topicSelectionFragmentViewStyle.headerViewStyle

            setStyle(headerStyle)
            setTitleText(getString(R.string.lm_feed_select_topic))
        }
    }

    //customizes the no topics layout
    protected open fun customizeNoTopicsLayout(layoutNoTopics: LMFeedNoEntityLayoutView) {
        layoutNoTopics.apply {
            val noTopicsLayoutStyle =
                LMFeedStyleTransformer.topicSelectionFragmentViewStyle.noTopicsLayoutViewStyle

            setStyle(noTopicsLayoutStyle)
            setTitleText(getString(R.string.lm_feed_no_topics_yet))
        }
    }

    //customizes the fab to submit the selected topics
    protected open fun customizeSubmitTopicsFab(fabSubmitSelectedTopics: LMFeedFAB) {
        fabSubmitSelectedTopics.apply {
            val submitSelectedTopicsFABStyle =
                LMFeedStyleTransformer.topicSelectionFragmentViewStyle.submitSelectedTopicsFABStyle

            setStyle(submitSelectedTopicsFABStyle)
        }
    }

    //customizes the search bar to search for the topics
    protected open fun customizeSearchBar(searchBar: LMFeedSearchBarView) {
        searchBar.apply {
            val searchBarStyle =
                LMFeedStyleTransformer.topicSelectionFragmentViewStyle.topicSearchBarViewStyle

            setStyle(searchBarStyle)
        }
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        fetchData()
        observeData()
        initUI()
        initListeners()
    }

    private fun fetchData() {
        checkForSelectedTopics()

        //calls api to get the list of topics
        topicSelectionViewModel.getTopics(
            topicSelectionExtras.showAllTopicFilter,
            topicSelectionExtras.showEnabledTopicOnly,
            1,
            null
        )
    }

    private fun observeData() {
        topicSelectionViewModel.topicsViewData.observe(viewLifecycleOwner) { response ->
            val topics = response.second

            binding.apply {
                if (rvTopics.getAllTopics().isEmpty() && topics.isEmpty()) {
                    rvTopics.hide()
                    layoutNoTopics.show()
                    fabSubmitSelectedTopics.hide()
                    rvTopics.clearAllTopicsAndNotify()
                } else {
                    rvTopics.show()
                    layoutNoTopics.hide()
                    fabSubmitSelectedTopics.show()
                    rvTopics.addAllTopics(topics)
                }
            }
        }

        topicSelectionViewModel.errorMessage.observe(viewLifecycleOwner) { errorMessage ->
            LMFeedViewUtils.showErrorMessageToast(requireContext(), errorMessage)
        }
    }

    //check whether extras contains selected and disabled topics and set it to view model
    private fun checkForSelectedTopics() {
        val previousSelectedTopics = topicSelectionExtras.selectedTopics
        val disabledTopics = topicSelectionExtras.disabledTopics

        topicSelectionViewModel.setPreviousSelectedTopics(previousSelectedTopics)
        topicSelectionViewModel.setPreviousDisabledTopics(disabledTopics)

        selectedTopics = previousSelectedTopics?.size ?: 0
        updateSelectedTopicsCount()
    }

    //update selected count in subtitle
    private fun updateSelectedTopicsCount() {
        if (selectedTopics > 0) {
            binding.headerViewTopicSelection.setSubTitleText(
                getString(
                    R.string.lm_feed_topics_selected,
                    selectedTopics
                )
            )
        }
    }

    private fun initUI() {
        initSearchView()
        initRecyclerView()
    }

    private fun initSearchView() {
        binding.searchBar.apply {
            initialize(lifecycleScope)
            setSearchViewListener(object : LMFeedSearchBarListener {

                override fun onSearchViewClosed() {
                    super.onSearchViewClosed()
                    hide()
                    updateSearchedTopics(null, topicSelectionExtras.showAllTopicFilter)
                }

                override fun onSearchCrossed() {
                    super.onSearchCrossed()
                    updateSearchedTopics(null, topicSelectionExtras.showAllTopicFilter)
                }

                override fun onKeywordEntered(keyword: String) {
                    super.onKeywordEntered(keyword)
                    updateSearchedTopics(keyword, false)
                }

                override fun onEmptyKeywordEntered() {
                    super.onEmptyKeywordEntered()
                    if (!searchKeyword.isNullOrEmpty()) {
                        updateSearchedTopics(null, topicSelectionExtras.showAllTopicFilter)
                    }
                }
            })
            observeSearchView(true)
        }
    }

    //reset data and show data as per the entered keyword
    private fun updateSearchedTopics(keyword: String?, showAllTopicFilter: Boolean) {
        binding.rvTopics.apply {
            resetScrollListenerData()
            clearAllTopicsAndNotify()
        }
        searchKeyword = keyword
        topicSelectionViewModel.getTopics(
            showAllTopicFilter,
            topicSelectionExtras.showEnabledTopicOnly,
            1,
            keyword
        )
    }

    private fun initRecyclerView() {
        binding.rvTopics.apply {
            setAdapter(this@LMFeedTopicSelectionFragment)
            //set scroll listener
            val paginationScrollListener =
                object : LMFeedEndlessRecyclerViewScrollListener(linearLayoutManager) {
                    override fun onLoadMore(currentPage: Int) {
                        if (currentPage > 0) {
                            // calls api for paginated data
                            topicSelectionViewModel.getTopics(
                                topicSelectionExtras.showAllTopicFilter,
                                topicSelectionExtras.showEnabledTopicOnly,
                                currentPage,
                                searchKeyword
                            )
                        }
                    }
                }
            setPaginationScrollListener(paginationScrollListener)
        }
    }

    private fun initListeners() {
        binding.apply {
            headerViewTopicSelection.setSearchIconClickListener {
                onSearchIconClicked()
            }

            headerViewTopicSelection.setNavigationIconClickListener {
                onNavigationIconClicked()
            }

            fabSubmitSelectedTopics.setOnClickListener {
                onSubmitFABClicked()
            }
        }
    }

    //processes the search icon click
    protected open fun onSearchIconClicked() {
        binding.searchBar.apply {
            show()
            post {
                openSearch()
            }
        }
    }

    //processes the navigation icon click
    protected open fun onNavigationIconClicked() {
        requireActivity().onBackPressedDispatcher.onBackPressed()
    }

    //processes the submit fab click
    protected open fun onSubmitFABClicked() {
        binding.rvTopics.apply {
            //check for all topic is selected
            val allTopicViewData = getAllTopics().find {
                it is LMFeedAllTopicsViewData
            } as? LMFeedAllTopicsViewData

            //create result extras
            val resultExtras = if (allTopicViewData != null && allTopicViewData.isSelected) {
                LMFeedTopicSelectionResultExtras.Builder()
                    .isAllTopicSelected(true)
                    .build()
            } else {
                val selectedTopics = getAllTopics().filter {
                    it is LMFeedTopicViewData && it.isSelected
                }.map {
                    it as LMFeedTopicViewData
                }
                LMFeedTopicSelectionResultExtras.Builder()
                    .selectedTopics(selectedTopics)
                    .build()
            }

            //send result
            val resultIntent = Intent().apply {
                putExtra(LM_FEED_TOPIC_SELECTION_RESULT_EXTRAS, resultExtras)
            }
            requireActivity().setResult(Activity.RESULT_OK, resultIntent)
            requireActivity().finish()
        }
    }

    override fun onTopicSelected(position: Int, topic: LMFeedTopicViewData) {
        super.onTopicSelected(position, topic)

        binding.rvTopics.apply {
            val allTopicViewData = getAllTopics().find {
                it is LMFeedAllTopicsViewData
            } as? LMFeedAllTopicsViewData

            //check all topic filter exists and it is selected
            if (allTopicViewData != null && allTopicViewData.isSelected) {
                //update view data to not selected
                val updatedAllTopicViewData = allTopicViewData.toBuilder()
                    .isSelected(false)
                    .build()

                updateTopicAtIndex(0, updatedAllTopicViewData)
            }

            //update topic
            val updatedTopic = if (topic.isSelected) {
                selectedTopics--
                topicSelectionViewModel.removeSelectedTopic(topic)
                topic.toBuilder()
                    .isSelected(false)
                    .build()
            } else {
                selectedTopics++
                topicSelectionViewModel.addSelectedTopic(topic)
                topic.toBuilder()
                    .isSelected(true)
                    .build()
            }

            //update recycle
            updateTopicAtIndex(position, updatedTopic)

            //update sub title
            updateSelectedTopicsCount()
        }
    }

    override fun onAllTopicsSelected(position: Int, allTopicsViewData: LMFeedAllTopicsViewData) {
        super.onAllTopicsSelected(position, allTopicsViewData)

        binding.rvTopics.apply {
            if (allTopicsViewData.isSelected) return

            //update lmFeedAllTopic
            val updateAllTopic = allTopicsViewData.toBuilder()
                .isSelected(true)
                .build()

            //update recyclerview for all topics
            updateTopicAtIndex(position, updateAllTopic)

            //update other topics
            getAllTopics().forEachIndexed { index, topic ->
                if (topic is LMFeedTopicViewData) {
                    val updatedTopic = topic.toBuilder().isSelected(false).build()

                    updateTopicAtIndex(index, updatedTopic)
                }
            }

            //update sub title
            selectedTopics = 0
            updateSelectedTopicsCount()
            topicSelectionViewModel.clearSelectedTopic()
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/topicselection/view/LMFeedTopicSelectionListView.kt
================================================
package com.likeminds.feed.android.core.topicselection.view

import android.content.Context
import android.util.AttributeSet
import androidx.recyclerview.widget.*
import com.likeminds.feed.android.core.topicselection.adapter.LMFeedTopicSelectionAdapter
import com.likeminds.feed.android.core.topicselection.adapter.LMFeedTopicSelectionAdapterListener
import com.likeminds.feed.android.core.utils.LMFeedEndlessRecyclerViewScrollListener
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType

class LMFeedTopicSelectionListView @JvmOverloads constructor(
    context: Context,
    attrs: AttributeSet? = null,
    defStyleAttr: Int = 0
) : RecyclerView(context, attrs, defStyleAttr) {

    val linearLayoutManager: LinearLayoutManager
    private lateinit var paginationScrollListener: LMFeedEndlessRecyclerViewScrollListener

    private lateinit var topicSelectionAdapter: LMFeedTopicSelectionAdapter

    init {
        setHasFixedSize(true)
        linearLayoutManager = LinearLayoutManager(context)
        layoutManager = linearLayoutManager

        if (itemAnimator is SimpleItemAnimator) {
            (itemAnimator as SimpleItemAnimator).supportsChangeAnimations = false
        }
    }

    //sets the adapter with the provided [listener] to the topic selection recycler view
    fun setAdapter(listener: LMFeedTopicSelectionAdapterListener) {
        topicSelectionAdapter = LMFeedTopicSelectionAdapter(listener)
        adapter = topicSelectionAdapter
    }

    //sets the pagination scroll listener to the topic selection recycler view
    fun setPaginationScrollListener(scrollListener: LMFeedEndlessRecyclerViewScrollListener) {
        paginationScrollListener = scrollListener
        addOnScrollListener(scrollListener)
    }

    //resets the scroll listener data
    fun resetScrollListenerData() {
        if (::paginationScrollListener.isInitialized) {
            paginationScrollListener.resetData()
        }
    }

    //returns the list of all the topics in the adapter
    fun getAllTopics(): List<LMFeedBaseViewType> {
        return topicSelectionAdapter.items()
    }

    //adds all the provided [topics] to the adapter
    fun addAllTopics(topics: List<LMFeedBaseViewType>) {
        topicSelectionAdapter.addAll(topics)
    }

    //updated the topic at the provided [position]
    fun updateTopicAtIndex(index: Int, topic: LMFeedBaseViewType) {
        topicSelectionAdapter.update(index, topic)
    }

    //clears all the topics and notifies the recycler view
    fun clearAllTopicsAndNotify() {
        topicSelectionAdapter.clearAndNotify()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/topicselection/viewmodel/LMFeedTopicSelectionViewModel.kt
================================================
package com.likeminds.feed.android.core.topicselection.viewmodel

import androidx.lifecycle.*
import com.likeminds.feed.android.core.topics.model.LMFeedTopicViewData
import com.likeminds.feed.android.core.topicselection.model.LMFeedAllTopicsViewData
import com.likeminds.feed.android.core.utils.LMFeedViewDataConvertor
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.coroutine.launchIO
import com.likeminds.likemindsfeed.LMFeedClient
import com.likeminds.likemindsfeed.topic.model.GetTopicRequest

class LMFeedTopicSelectionViewModel : ViewModel() {

    companion object {
        const val SEARCH_TYPE = "name"
        const val PAGE_SIZE = 10
    }

    private val lmFeedClient by lazy {
        LMFeedClient.getInstance()
    }

    //first -> page
    //second -> list of topics
    private val _topicsViewData by lazy {
        MutableLiveData<Pair<Int, List<LMFeedBaseViewType>>>()
    }

    val topicsViewData: LiveData<Pair<Int, List<LMFeedBaseViewType>>> by lazy {
        _topicsViewData
    }

    private val _errorMessage by lazy {
        MutableLiveData<String?>()
    }

    val errorMessage: LiveData<String?> by lazy {
        _errorMessage
    }

    private val selectedTopics by lazy {
        HashMap<String, LMFeedTopicViewData>()
    }

    private val disabledTopics by lazy {
        ArrayList<LMFeedTopicViewData>()
    }

    //set previous selected topics to map
    fun setPreviousSelectedTopics(selectedTopics: List<LMFeedTopicViewData>?) {
        if (selectedTopics.isNullOrEmpty()) return
        selectedTopics.forEach { topic ->
            this.selectedTopics[topic.id] = topic
        }
    }

    //set previous disabled topics to map
    fun setPreviousDisabledTopics(disabledTopics: List<LMFeedTopicViewData>?) {
        if (disabledTopics.isNullOrEmpty()) return
        val updatedDisabledTopics = disabledTopics.map {
            it.toBuilder().isSelected(true).build()
        }
        this.disabledTopics.addAll(updatedDisabledTopics)
    }

    //get topics as per requirement
    fun getTopics(
        showAllTopicFilter: Boolean,
        showEnabledTopicOnly: Boolean,
        page: Int,
        searchString: String? = null
    ) {
        viewModelScope.launchIO {

            val requestBuilder = GetTopicRequest.Builder()
                .page(page)
                .pageSize(PAGE_SIZE)

            if (!searchString.isNullOrEmpty()) {
                requestBuilder.search(searchString)
                    .searchType(SEARCH_TYPE)
            }

            if (showEnabledTopicOnly) {
                requestBuilder.isEnabled(true)
            }

            val request = requestBuilder.build()

            val response = lmFeedClient.getTopics(request)

            if (response.success) {
                val topics = response.data?.topics ?: emptyList()
                val topicsViewData = topics.map { topic ->
                    val topicViewData = LMFeedViewDataConvertor.convertTopic(topic)

                    if (selectedTopics.containsKey(topicViewData.id)) {
                        topicViewData.toBuilder().isSelected(true).build()
                    } else {
                        topicViewData.toBuilder().isSelected(false).build()
                    }
                }

                val viewTypes = ArrayList<LMFeedBaseViewType>()

                if (page == 1 && disabledTopics.isNotEmpty()) {
                    viewTypes.addAll(disabledTopics)
                }

                if (page == 1 && showAllTopicFilter) {
                    val allTopicsFilter =
                        LMFeedAllTopicsViewData.Builder()
                            .isSelected(selectedTopics.isEmpty())
                            .build()
                    viewTypes.add(allTopicsFilter)
                }

                viewTypes.addAll(topicsViewData)

                _topicsViewData.postValue(Pair(page, viewTypes.toList()))
            } else {
                val errorMessage = response.errorMessage
                _errorMessage.postValue(errorMessage)
            }
        }
    }

    //add selected topic into map
    fun addSelectedTopic(topicViewData: LMFeedTopicViewData) {
        selectedTopics[topicViewData.id] = topicViewData
    }

    //remove topic from map
    fun removeSelectedTopic(topicViewData: LMFeedTopicViewData) {
        selectedTopics.remove(topicViewData.id)
    }

    fun clearSelectedTopic() {
        selectedTopics.clear()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/.DS_Store
================================================
[Non-text file]


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/base/.DS_Store
================================================
[Non-text file]


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/base/styles/LMFeedButtonStyle.kt
================================================
package com.likeminds.feed.android.core.ui.base.styles

import android.content.res.ColorStateList
import android.graphics.Typeface
import androidx.annotation.*
import androidx.core.content.ContextCompat
import com.google.android.material.button.MaterialButton.IconGravity
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.views.LMFeedButton
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.utils.LMFeedViewStyle
import kotlin.math.roundToInt

/**
 * [LMFeedButtonStyle] helps you to customize a button in the following way
 *
 * @property textStyle : [LMFeedTextStyle] this will help to customize the text of the button
 *
 * @property backgroundColor: [Int] should be in format of [ColorRes] to add background color of the button | Default value =  [R.color.majorelle_blue]
 * @property strokeColor: [Int] should be in format of [ColorRes] to add border color of the button | Default value = [null]
 * @property strokeWidth: [Int] should be in format of [DimenRes] to add border width of the button | Default value = [null]
 * @property elevation: [Int] should be in format of [DimenRes] to add custom elevation of the button | Default value = [null]
 *
 * @property icon: [Int] should be in format of [DrawableRes] to add custom icon of the button | Default value = [null]
 * @property iconTint:[Int] should be in format of [ColorRes] to change custom icon color | Default value = [null]
 * @property iconSize: [Int] should be in format of [DimenRes] to change custom size of the icon | Default value = [null]
 * @property iconGravity: [Int] should be in format of [IconGravity] to change gravity of the icon | Default value = [ICON_GRAVITY_START]
 * @property iconPadding: [Int] should be in the format of [DimenRes] to change padding of the icon | Default value = [null]
 * @property cornerRadius: [Int] should be in the format of [DimenRes] to change corner radius of the button | Default value = [null]
 * @property disabledButtonColor: [Int] should be in the format of [ColorRes] to change disabled button color | Default value = [R.color.lm_feed_cloudy_blue]
 **/
class LMFeedButtonStyle private constructor(
    //text related
    val textStyle: LMFeedTextStyle,

    //button related
    @ColorRes val backgroundColor: Int,
    @ColorRes val strokeColor: Int?,
    @DimenRes val strokeWidth: Int?,
    @DimenRes val elevation: Int?,

    //icon related
    @DrawableRes val icon: Int?,
    @ColorRes val iconTint: Int?,
    @DimenRes val iconSize: Int?,
    @IconGravity val iconGravity: Int?,
    @DimenRes val iconPadding: Int?,
    @DimenRes val cornerRadius: Int?,
    @ColorRes val disabledButtonColor: Int
) : LMFeedViewStyle {

    class Builder {
        private var textStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textColor(R.color.lm_feed_white)
            .typeface(Typeface.BOLD)
            .build()

        @ColorRes
        private var backgroundColor: Int = LMFeedAppearance.getButtonColor()

        @ColorRes
        private var strokeColor: Int? = null

        @DimenRes
        private var strokeWidth: Int? = null

        @DimenRes
        private var elevation: Int? = null

        //icon related
        @DrawableRes
        private var icon: Int? = null

        @ColorRes
        private var iconTint: Int? = null

        @DimenRes
        private var iconSize: Int? = null

        @IconGravity
        private var iconGravity: Int? = null

        @DimenRes
        private var iconPadding: Int? = null

        @DimenRes
        private var cornerRadius: Int? = null

        @ColorRes
        private var disabledButtonColor: Int = R.color.lm_feed_cloudy_blue

        fun textStyle(textStyle: LMFeedTextStyle) = apply { this.textStyle = textStyle }

        fun backgroundColor(@ColorRes backgroundColor: Int) =
            apply { this.backgroundColor = backgroundColor }

        fun strokeColor(@ColorRes strokeColor: Int?) = apply { this.strokeColor = strokeColor }

        fun strokeWidth(@DimenRes strokeWidth: Int?) = apply { this.strokeWidth = strokeWidth }

        fun elevation(@DimenRes elevation: Int?) = apply { this.elevation = elevation }

        fun icon(@DrawableRes icon: Int?) = apply { this.icon = icon }

        fun iconTint(@ColorRes iconTint: Int?) = apply { this.iconTint = iconTint }

        fun iconSize(@DimenRes iconSize: Int?) = apply { this.iconSize = iconSize }

        fun iconGravity(@IconGravity iconGravity: Int?) = apply { this.iconGravity = iconGravity }

        fun iconPadding(@DimenRes iconPadding: Int?) = apply { this.iconPadding = iconPadding }

        fun cornerRadius(@DimenRes cornerRadius: Int?) = apply { this.cornerRadius = cornerRadius }

        fun disabledButtonColor(@ColorRes disabledButtonColor: Int) = apply {
            this.disabledButtonColor = disabledButtonColor
        }

        fun build() = LMFeedButtonStyle(
            textStyle,
            backgroundColor,
            strokeColor,
            strokeWidth,
            elevation,
            icon,
            iconTint,
            iconSize,
            iconGravity,
            iconPadding,
            cornerRadius,
            disabledButtonColor
        )
    }

    fun apply(button: LMFeedButton) {
        button.apply {
            //all text related styling
            textStyle.apply(this)

            //button related styling
            val backgroundColor = this@LMFeedButtonStyle.backgroundColor
            backgroundTintList = ColorStateList.valueOf(
                ContextCompat.getColor(
                    context,
                    backgroundColor
                )
            )

            //stroke color
            val strokeColor = this@LMFeedButtonStyle.strokeColor
            strokeColor?.let {
                this.strokeColor = ColorStateList.valueOf(
                    ContextCompat.getColor(
                        context,
                        strokeColor
                    )
                )
            }

            //stroke width
            val strokeWidth = this@LMFeedButtonStyle.strokeWidth
            strokeWidth?.let {
                this.strokeWidth = resources.getDimension(strokeWidth).roundToInt()
            }

            //elevation
            val elevation = this@LMFeedButtonStyle.elevation
            elevation?.let {
                this.elevation = resources.getDimension(elevation)
            }

            //icon related
            val icon = this@LMFeedButtonStyle.icon
            icon?.let {
                this.icon = ContextCompat.getDrawable(context, icon)
            }

            //iconTint
            val iconTint = this@LMFeedButtonStyle.iconTint
            iconTint?.let {
                this.iconTint = ColorStateList.valueOf(
                    ContextCompat.getColor(
                        context,
                        iconTint
                    )
                )
            }

            //iconSize
            val iconSize = this@LMFeedButtonStyle.iconSize
            iconSize?.let {
                this.iconSize = resources.getDimension(iconSize).roundToInt()
            }

            //iconGravity
            val iconGravity = this@LMFeedButtonStyle.iconGravity
            iconGravity?.let {
                this.iconGravity = iconGravity
            }

            //iconPadding
            val iconPadding = this@LMFeedButtonStyle.iconPadding
            iconPadding?.let {
                this.iconPadding = resources.getDimension(iconPadding).roundToInt()
            }

            //corner radius
            val cornerRadius = this@LMFeedButtonStyle.cornerRadius
            cornerRadius?.let {
                this.cornerRadius = resources.getDimension(cornerRadius).toInt()
            }
        }
    }

    fun toBuilder(): Builder {
        return Builder().textStyle(textStyle)
            .backgroundColor(backgroundColor)
            .strokeColor(strokeColor)
            .strokeWidth(strokeWidth)
            .elevation(elevation)
            .icon(icon)
            .iconTint(iconTint)
            .iconSize(iconSize)
            .iconGravity(iconGravity)
            .iconPadding(iconPadding)
            .cornerRadius(cornerRadius)
            .disabledButtonColor(disabledButtonColor)
    }
}

/**
 * Util function to helps to apply all the styling [LMFeedButtonStyle] to [LMFeedButton]
 **/
fun LMFeedButton.setStyle(viewStyle: LMFeedButtonStyle) {
    viewStyle.apply(this)
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/base/styles/LMFeedChipGroupStyle.kt
================================================
package com.likeminds.feed.android.core.ui.base.styles

import androidx.annotation.*
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.views.*
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedChipGroupStyle] helps you to customize a [LMFeedChipGroup] with the following properties
 * @property isSingleLine : [Boolean] to customize whether the chip group is single line or not | Default value = [false]
 * @property chipGroupHorizontalSpacing: [Int] should be in format of [DimenRes] to customize the horizontal spacing of the chip group | Default value =  [R.dimen.lm_feed_default_chip_group_vertical_spacing]
 * @property chipGroupVerticalSpacing: [Int] should be in format of [DimenRes] to customize the vertical spacing of the chip group | Default value = [R.dimen.lm_feed_default_chip_group_vertical_spacing]
 *
 **/
class LMFeedChipGroupStyle private constructor(
    //whether the chip group is single line or not
    val isSingleLine: Boolean,
    //horizontal spacing for the chip group
    @DimenRes val chipGroupHorizontalSpacing: Int,
    //vertical spacing for the chip group
    @DimenRes val chipGroupVerticalSpacing: Int,
) : LMFeedViewStyle {

    class Builder {
        private var isSingleLine: Boolean = false

        @DimenRes
        private var chipGroupHorizontalSpacing: Int =
            R.dimen.lm_feed_default_chip_group_horizontal_spacing

        @DimenRes
        private var chipGroupVerticalSpacing: Int =
            R.dimen.lm_feed_default_chip_group_vertical_spacing

        fun isSingleLine(isSingleLine: Boolean) = apply {
            this.isSingleLine = isSingleLine
        }

        fun chipGroupHorizontalSpacing(@DimenRes chipGroupHorizontalSpacing: Int) = apply {
            this.chipGroupHorizontalSpacing = chipGroupHorizontalSpacing
        }

        fun chipGroupVerticalSpacing(@DimenRes chipGroupVerticalSpacing: Int) = apply {
            this.chipGroupVerticalSpacing = chipGroupVerticalSpacing
        }

        fun build() = LMFeedChipGroupStyle(
            isSingleLine,
            chipGroupHorizontalSpacing,
            chipGroupVerticalSpacing,
        )
    }

    fun apply(chipGroup: LMFeedChipGroup) {
        chipGroup.apply {
            isSingleLine = this@LMFeedChipGroupStyle.isSingleLine

            setChipSpacingHorizontalResource(this@LMFeedChipGroupStyle.chipGroupHorizontalSpacing)
            setChipSpacingVerticalResource(this@LMFeedChipGroupStyle.chipGroupVerticalSpacing)
        }
    }

    fun toBuilder(): Builder {
        return Builder().isSingleLine(isSingleLine)
            .chipGroupHorizontalSpacing(chipGroupHorizontalSpacing)
            .chipGroupVerticalSpacing(chipGroupVerticalSpacing)
    }
}

/**
 * Util function to helps to apply all the styling [LMFeedChipGroupStyle] to [LMFeedButton]
 **/
fun LMFeedChipGroup.setStyle(viewStyle: LMFeedChipGroupStyle) {
    viewStyle.apply(this)
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/base/styles/LMFeedChipStyle.kt
================================================
package com.likeminds.feed.android.core.ui.base.styles

import android.content.res.ColorStateList
import android.util.TypedValue
import androidx.annotation.*
import androidx.core.content.ContextCompat
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.views.LMFeedChip
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedChipStyle] helps you to customize a [LMFeedChip] with the following properties
 * @property chipBackgroundColor: [Int] should be in format of [ColorRes] to customize the background color of the chip | Default value =  [null]
 * @property chipStrokeColor: [Int] should be in format of [ColorRes] to customize the stroke color of the chip | Default value =  [null]
 * @property chipTextColor: [Int] should be in format of [ColorRes] to customize the text color of the chip | Default value =  [R.color.lm_feed_majorelle_blue]
 * @property chipStrokeWidth: [Int] should be in format of [DimenRes] to customize the width of the stroke on the chip | Default value =  [null]
 * @property chipMinHeight: [Int] should be in format of [DimenRes] to customize the minimum height of the chip | Default value =  [null]
 * @property chipStartPadding: [Int] should be in format of [DimenRes] to customize the start padding of the chip | Default value =  [null]
 * @property chipEndPadding: [Int] should be in format of [DimenRes] to customize the end padding of the chip | Default value =  [null]
 * @property chipCornerRadius: [Int] should be in format of [DimenRes] to customize the corner radius of the chip | Default value =  [R.dimen.lm_feed_corner_radius_regular]
 * @property chipTextSize: [Int] should be in format of [DimenRes] to customize the text size of the chip | Default value = [R.dimen.lm_feed_text_medium]
 * @property chipIcon: [Int] should be in format of [DrawableRes] to customize the icon of the chip | Default value = [null]
 * @property chipIconSize: [Int] should be in format of [DimenRes] to customize the size of the chip icon | Default value = [null]
 * @property chipIconTint: [Int] should be in format of [ColorRes] to customize the color of the chip icon | Default value = [null]
 *
 **/
class LMFeedChipStyle private constructor(
    @ColorRes val chipBackgroundColor: Int?,
    @ColorRes val chipStrokeColor: Int?,
    @ColorRes val chipTextColor: Int,
    @DimenRes val chipStrokeWidth: Int?,
    @DimenRes val chipMinHeight: Int?,
    @DimenRes val chipStartPadding: Int?,
    @DimenRes val chipEndPadding: Int?,
    @DimenRes val chipCornerRadius: Int,
    @DimenRes val chipTextSize: Int,
    @DrawableRes val chipIcon: Int?,
    @DimenRes val chipIconSize: Int?,
    @ColorRes val chipIconTint: Int?
) : LMFeedViewStyle {

    class Builder {
        @ColorRes
        private var chipBackgroundColor: Int? = null

        @ColorRes
        private var chipStrokeColor: Int? = null

        @ColorRes
        private var chipTextColor: Int = LMFeedAppearance.getButtonColor()

        @DimenRes
        private var chipStrokeWidth: Int? = null

        @DimenRes
        private var chipMinHeight: Int? = null

        @DimenRes
        private var chipStartPadding: Int? = null

        @DimenRes
        private var chipEndPadding: Int? = null

        @DimenRes
        private var chipCornerRadius: Int = R.dimen.lm_feed_corner_radius_regular

        @DimenRes
        private var chipTextSize: Int = R.dimen.lm_feed_text_medium

        @DrawableRes
        private var chipIcon: Int? = null

        @DimenRes
        private var chipIconSize: Int? = null

        @ColorRes
        private var chipIconTint: Int? = null

        fun chipBackgroundColor(@ColorRes chipBackgroundColor: Int?) = apply {
            this.chipBackgroundColor = chipBackgroundColor
        }

        fun chipStrokeColor(@ColorRes chipStrokeColor: Int?) = apply {
            this.chipStrokeColor = chipStrokeColor
        }

        fun chipTextColor(@ColorRes chipTextColor: Int) = apply {
            this.chipTextColor = chipTextColor
        }

        fun chipStrokeWidth(@DimenRes chipStrokeWidth: Int?) = apply {
            this.chipStrokeWidth = chipStrokeWidth
        }

        fun chipMinHeight(@DimenRes chipMinHeight: Int?) = apply {
            this.chipMinHeight = chipMinHeight
        }

        fun chipStartPadding(@DimenRes chipStartPadding: Int?) = apply {
            this.chipStartPadding = chipStartPadding
        }

        fun chipEndPadding(@DimenRes chipEndPadding: Int?) = apply {
            this.chipEndPadding = chipEndPadding
        }

        fun chipCornerRadius(@DimenRes chipCornerRadius: Int) = apply {
            this.chipCornerRadius = chipCornerRadius
        }

        fun chipTextSize(@DimenRes chipTextSize: Int) = apply {
            this.chipTextSize = chipTextSize
        }

        fun chipIcon(@DrawableRes chipIcon: Int?) = apply {
            this.chipIcon = chipIcon
        }

        fun chipIconSize(@DimenRes chipIconSize: Int?) = apply {
            this.chipIconSize = chipIconSize
        }

        fun chipIconTint(@ColorRes chipIconTint: Int?) = apply {
            this.chipIconTint = chipIconTint
        }

        fun build() = LMFeedChipStyle(
            chipBackgroundColor,
            chipStrokeColor,
            chipTextColor,
            chipStrokeWidth,
            chipMinHeight,
            chipStartPadding,
            chipEndPadding,
            chipCornerRadius,
            chipTextSize,
            chipIcon,
            chipIconSize,
            chipIconTint
        )
    }

    fun apply(chip: LMFeedChip) {
        chip.apply {
            //chip background color
            this@LMFeedChipStyle.chipBackgroundColor?.let {
                setChipBackgroundColorResource(this@LMFeedChipStyle.chipBackgroundColor)
            }

            //chip stroke width
            if (this@LMFeedChipStyle.chipStrokeWidth == null) {
                setChipStrokeWidthResource(R.dimen.lm_feed_zero_dp)
            } else {
                setChipStrokeWidthResource(this@LMFeedChipStyle.chipStrokeWidth)
            }

            //chip stroke color
            this@LMFeedChipStyle.chipStrokeColor?.let {
                setChipStrokeColorResource(this@LMFeedChipStyle.chipStrokeColor)
            }

            //chip min height
            this@LMFeedChipStyle.chipMinHeight?.let {
                setChipMinHeightResource(it)
            }

            //chip start padding
            this@LMFeedChipStyle.chipStartPadding?.let {
                setChipStartPaddingResource(it)
            }

            //chip end padding
            this@LMFeedChipStyle.chipEndPadding?.let {
                setChipEndPaddingResource(it)
            }

            val shape = this.shapeAppearanceModel.toBuilder()
                .setAllCornerSizes(context.resources.getDimension(this@LMFeedChipStyle.chipCornerRadius))
                .build()

            shapeAppearanceModel = shape

            //chip text size
            setTextSize(
                TypedValue.COMPLEX_UNIT_PX,
                context.resources.getDimension(this@LMFeedChipStyle.chipTextSize)
            )

            //chip text color
            setTextColor(
                ColorStateList.valueOf(
                    ContextCompat.getColor(
                        context,
                        this@LMFeedChipStyle.chipTextColor
                    )
                )
            )

            this@LMFeedChipStyle.chipIcon?.let {
                setChipIconResource(it)
            }

            this@LMFeedChipStyle.chipIconSize?.let {
                setChipIconSizeResource(it)
            }

            this@LMFeedChipStyle.chipIconTint?.let {
                setChipIconTintResource(it)
            }

            setEnsureMinTouchTargetSize(false)
        }
    }

    fun toBuilder(): Builder {
        return Builder().chipBackgroundColor(chipBackgroundColor)
            .chipTextColor(chipTextColor)
            .chipStrokeColor(chipStrokeColor)
            .chipStrokeWidth(chipStrokeWidth)
            .chipMinHeight(chipMinHeight)
            .chipStartPadding(chipStartPadding)
            .chipEndPadding(chipEndPadding)
            .chipCornerRadius(chipCornerRadius)
            .chipTextSize(chipTextSize)
            .chipIcon(chipIcon)
            .chipIconSize(chipIconSize)
            .chipIconTint(chipIconTint)
    }
}

/**
 * Util function to helps to apply all the styling [LMFeedChipStyle] to [LMFeedChip]
 **/
fun LMFeedChip.setStyle(viewStyle: LMFeedChipStyle) {
    viewStyle.apply(this)
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/base/styles/LMFeedEditTextStyle.kt
================================================
package com.likeminds.feed.android.core.ui.base.styles

import android.content.res.ColorStateList
import android.graphics.Typeface
import androidx.annotation.ColorRes
import androidx.annotation.DimenRes
import androidx.core.content.ContextCompat
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.views.LMFeedEditText
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedEditTextStyle] helps you to customize a [LMFeedEditText] with the following properties
 * @property inputTextStyle : [LMFeedTextStyle] to customize the text of the edit text
 *
 * @property hintTextColor: [Int] should be in format of [ColorRes] to customize the hint text color | Default value = [null]
 * @property elevation: [Int] should be in format of [DimenRes] to customize the elevation of the edit text | Default value = [null]
 * @property backgroundColor: [Int] should be in format of [ColorRes] to customize the background color of the edit text | Default value = [null]
 **/
class LMFeedEditTextStyle private constructor(
    val inputTextStyle: LMFeedTextStyle,
    @ColorRes val hintTextColor: Int?,
    @DimenRes val elevation: Int?,
    @ColorRes val backgroundColor: Int?
) : LMFeedViewStyle {

    class Builder {
        private var inputTextStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textColor(R.color.lm_feed_white)
            .typeface(Typeface.NORMAL)
            .build()

        @ColorRes
        private var hintTextColor: Int? = null

        @DimenRes
        private var elevation: Int? = null

        @ColorRes
        private var backgroundColor: Int? = null

        fun inputTextStyle(inputTextStyle: LMFeedTextStyle) =
            apply { this.inputTextStyle = inputTextStyle }

        fun hintTextColor(@ColorRes hintTextColor: Int?) =
            apply { this.hintTextColor = hintTextColor }

        fun elevation(@DimenRes elevation: Int?) = apply { this.elevation = elevation }
        fun backgroundColor(@ColorRes backgroundColor: Int?) =
            apply { this.backgroundColor = backgroundColor }

        fun build() = LMFeedEditTextStyle(
            inputTextStyle,
            hintTextColor,
            elevation,
            backgroundColor
        )
    }

    fun toBuilder(): Builder {
        return Builder().inputTextStyle(inputTextStyle)
            .hintTextColor(hintTextColor)
            .elevation(elevation)
            .backgroundColor(backgroundColor)
    }

    fun apply(editText: LMFeedEditText) {
        editText.apply {
            // applies all text related styling
            inputTextStyle.apply(this)

            // sets hint text color
            if (hintTextColor != null) {
                setHintTextColor(ContextCompat.getColor(this.context, hintTextColor))
            }

            // sets input type of edit text
            if (this@LMFeedEditTextStyle.elevation != null) {
                elevation = resources.getDimension(this@LMFeedEditTextStyle.elevation)
            }

            if (backgroundColor != null) {
                backgroundTintList = ColorStateList.valueOf(
                    ContextCompat.getColor(
                        context,
                        this@LMFeedEditTextStyle.backgroundColor
                    )
                )
            }
        }
    }
}

/**
 * Util function that helps to apply all the styling [LMFeedEditTextStyle] to [LMFeedEditText]
 **/
fun LMFeedEditText.setStyle(viewStyle: LMFeedEditTextStyle) {
    viewStyle.apply(this)
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/base/styles/LMFeedFABStyle.kt
================================================
package com.likeminds.feed.android.core.ui.base.styles

import android.content.res.ColorStateList
import androidx.annotation.*
import androidx.core.content.ContextCompat
import com.likeminds.feed.android.core.R

import com.likeminds.feed.android.core.ui.base.views.LMFeedFAB
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.utils.LMFeedViewStyle
import kotlin.math.roundToInt

/**
 * [LMFeedFABStyle] helps you to customize a [LMFeedFAB] with the following properties
 * @property textStyle : [LMFeedTextStyle] to customize the text of the FAB
 * @property isExtended : [Boolean] to customize whether the FAB is extended or not
 *
 * @property backgroundColor: [Int] should be in format of [ColorRes] to customize the background color of the FAB | Default value =  [R.color.majorelle_blue]
 * @property strokeColor: [Int] should be in format of [ColorRes] to customize the border color of the FAB | Default value = [null]
 * @property strokeWidth: [Int] should be in format of [DimenRes] to customize the border width of the FAB | Default value = [null]
 * @property elevation: [Int] should be in format of [DimenRes] to customize the elevation of the FAB | Default value = [null]
 *
 *
 * @property icon: [Int] should be in format of [DrawableRes] to customize the icon of the FAB | Default value = [null]
 * @property iconTint:[Int] should be in format of [ColorRes] to customize the icon color | Default value = [null]
 * @property iconSize: [Int] should be in format of [DimenRes] to customize the size of the icon | Default value = [null]
 * @property iconPadding: [Int] should be in the format of [DimenRes] to customize the padding of the icon | Default value = [null]
 **/
class LMFeedFABStyle private constructor(
    val isExtended: Boolean,

    //fab related
    @ColorRes val backgroundColor: Int,
    @ColorRes val strokeColor: Int?,
    @DimenRes val strokeWidth: Int?,
    @DimenRes val elevation: Int?,

    //icon related
    @DrawableRes val icon: Int?,
    @ColorRes val iconTint: Int?,
    @DimenRes val iconSize: Int?,
    @DimenRes val iconPadding: Int?,

    //text related
    val textStyle: LMFeedTextStyle?
) : LMFeedViewStyle {

    class Builder {
        private var isExtended: Boolean = true

        //fab related
        @ColorRes
        private var backgroundColor: Int = LMFeedAppearance.getButtonColor()

        @ColorRes
        private var strokeColor: Int? = null

        @DimenRes
        private var strokeWidth: Int? = null

        @DimenRes
        private var elevation: Int? = null

        //icon related
        @DrawableRes
        private var icon: Int? = null

        @ColorRes
        private var iconTint: Int? = null

        @DimenRes
        private var iconSize: Int? = null

        @DimenRes
        private var iconPadding: Int? = null

        //text related
        private var textStyle: LMFeedTextStyle? = null

        fun isExtended(isExtended: Boolean) = apply { this.isExtended = isExtended }

        fun backgroundColor(@ColorRes backgroundColor: Int) =
            apply { this.backgroundColor = backgroundColor }

        fun strokeColor(@ColorRes strokeColor: Int?) = apply { this.strokeColor = strokeColor }

        fun strokeWidth(@DimenRes strokeWidth: Int?) = apply { this.strokeWidth = strokeWidth }

        fun elevation(@DimenRes elevation: Int?) = apply { this.elevation = elevation }

        fun icon(@DrawableRes icon: Int?) = apply { this.icon = icon }

        fun iconTint(@ColorRes iconTint: Int?) = apply { this.iconTint = iconTint }

        fun iconSize(@DimenRes iconSize: Int?) = apply { this.iconSize = iconSize }

        fun iconPadding(@DimenRes iconPadding: Int?) = apply { this.iconPadding = iconPadding }

        fun textStyle(textStyle: LMFeedTextStyle) = apply { this.textStyle = textStyle }

        fun build() = LMFeedFABStyle(
            isExtended,
            backgroundColor,
            strokeColor,
            strokeWidth,
            elevation,
            icon,
            iconTint,
            iconSize,
            iconPadding,
            textStyle
        )
    }

    fun apply(fab: LMFeedFAB) {
        fab.apply {
            //text related
            textStyle?.apply(this)

            //button related styling
            isExtended = this@LMFeedFABStyle.isExtended

            backgroundTintList = ColorStateList.valueOf(
                ContextCompat.getColor(
                    context,
                    this@LMFeedFABStyle.backgroundColor
                )
            )

            //stroke color
            val strokeColor = this@LMFeedFABStyle.strokeColor
            if (strokeColor != null) {
                this.strokeColor = ColorStateList.valueOf(
                    ContextCompat.getColor(
                        context,
                        strokeColor
                    )
                )
            }

            //stroke width
            val strokeWidth = this@LMFeedFABStyle.strokeWidth
            if (strokeWidth != null) {
                this.strokeWidth = resources.getDimension(strokeWidth).roundToInt()
            }

            //elevation
            val elevation = this@LMFeedFABStyle.elevation
            if (elevation != null) {
                this.elevation = resources.getDimension(elevation)
            }

            //icon related
            val icon = this@LMFeedFABStyle.icon
            if (icon != null) {
                this.icon = ContextCompat.getDrawable(context, icon)
            }

            //iconTint
            val iconTint = this@LMFeedFABStyle.iconTint
            if (iconTint != null) {
                this.iconTint = ColorStateList.valueOf(
                    ContextCompat.getColor(
                        context,
                        iconTint
                    )
                )
            }

            //iconSize
            val iconSize = this@LMFeedFABStyle.iconSize
            if (iconSize != null) {
                this.iconSize = resources.getDimension(iconSize).roundToInt()
            }

            //iconPadding
            val iconPadding = this@LMFeedFABStyle.iconPadding
            if (iconPadding != null) {
                this.iconPadding = resources.getDimension(iconPadding).roundToInt()
            }
        }
    }

    fun toBuilder(): Builder {
        return Builder().isExtended(isExtended)
            .backgroundColor(backgroundColor)
            .strokeColor(strokeColor)
            .strokeWidth(strokeWidth)
            .elevation(elevation)
            .icon(icon)
            .iconTint(iconTint)
            .iconSize(iconSize)
            .iconPadding(iconPadding)
    }

    override fun toString(): String {
        return """
            isExtended: $isExtended
            backgroundColor: $backgroundColor
            icon: $icon
            iconTint: $iconTint
            iconSize: $iconSize
        """.trimIndent()
    }
}

/**
 * Util function that helps to apply all the styling [LMFeedFABStyle] to [LMFeedFAB]
 **/
fun LMFeedFAB.setStyle(viewStyle: LMFeedFABStyle) {
    viewStyle.apply(this)
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/base/styles/LMFeedIconStyle.kt
================================================
package com.likeminds.feed.android.core.ui.base.styles

import android.content.res.ColorStateList
import android.widget.ImageView.ScaleType
import androidx.annotation.*
import androidx.core.content.ContextCompat
import com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
import com.likeminds.feed.android.core.utils.LMFeedViewStyle
import com.likeminds.feed.android.core.utils.model.LMFeedPadding

/**
 * [LMFeedIconStyle] helps you to customize an icon
 *
 * @property activeSrc : [Int] should be in format of [DrawableRes] this will be used as the source for the icon when it is in active state | Default value [null]
 * @property inActiveSrc : [Int] should be in format of [DrawableRes] this will be used as the source for the icon when it is in inactive state | Default value [null]
 * @property iconTint : [Int] should be in format of [ColorRes] this will help to customize the tint of the icon  | Default value [null]
 * @property elevation: [Int] should be in format of [DimenRes] to customize the elevation of the icon | Default value = [null]
 * @property alpha : [Float] this will help to customize the alpha of the icon  | Default value [null]
 * @property scaleType : [ScaleType] this will help to customize the scale type of the image view  | Default value [null]
 * @property iconPadding : [LMFeedPadding] this will help to customize the padding of the icon  | Default value [null]
 * @property backgroundColor: [Int] should be in format of [ColorRes] to customize the background color of the icon | Default value = [null]
 * */
class LMFeedIconStyle private constructor(
    @DrawableRes val activeSrc: Int?,
    @DrawableRes val inActiveSrc: Int?,
    @ColorRes val iconTint: Int?,
    @DimenRes val elevation: Int?,
    val alpha: Float?,
    val scaleType: ScaleType?,
    val iconPadding: LMFeedPadding?,
    @ColorRes val backgroundColor: Int?,
) : LMFeedViewStyle {

    class Builder {
        @DrawableRes
        private var activeSrc: Int? = null

        @DrawableRes
        private var inActiveSrc: Int? = null

        @ColorRes
        private var iconTint: Int? = null

        @DimenRes
        private var elevation: Int? = null
        private var alpha: Float? = null
        private var scaleType: ScaleType? = null
        private var iconPadding: LMFeedPadding? = null

        @ColorRes
        private var backgroundColor: Int? = null

        fun activeSrc(@DrawableRes activeSrc: Int?) = apply {
            this.activeSrc = activeSrc
        }

        fun inActiveSrc(@DrawableRes inActiveSrc: Int?) = apply {
            this.inActiveSrc = inActiveSrc
        }

        fun iconTint(@ColorRes iconTint: Int?) = apply {
            this.iconTint = iconTint
        }

        fun elevation(@DimenRes elevation: Int?) = apply { this.elevation = elevation }
        fun alpha(alpha: Float?) = apply { this.alpha = alpha }
        fun scaleType(scaleType: ScaleType?) = apply { this.scaleType = scaleType }
        fun iconPadding(iconPadding: LMFeedPadding?) = apply { this.iconPadding = iconPadding }

        fun backgroundColor(@ColorRes backgroundColor: Int?) = apply {
            this.backgroundColor = backgroundColor
        }

        fun build() = LMFeedIconStyle(
            activeSrc,
            inActiveSrc,
            iconTint,
            elevation,
            alpha,
            scaleType,
            iconPadding,
            backgroundColor
        )
    }

    fun toBuilder(): Builder {
        return Builder().activeSrc(activeSrc)
            .inActiveSrc(inActiveSrc)
            .iconTint(iconTint)
            .elevation(elevation)
            .alpha(alpha)
            .scaleType(scaleType)
            .iconPadding(iconPadding)
            .backgroundColor(backgroundColor)
    }

    fun apply(icon: LMFeedIcon) {
        icon.apply {
            if (inActiveSrc != null) {
                setImageDrawable(ContextCompat.getDrawable(context, inActiveSrc))
            }

            if (this@LMFeedIconStyle.scaleType != null) {
                this.scaleType = this@LMFeedIconStyle.scaleType
            }

            if (this@LMFeedIconStyle.iconTint != null) {
                val iconTint =
                    ContextCompat.getColorStateList(context, this@LMFeedIconStyle.iconTint)
                imageTintList = iconTint
            }

            if (this@LMFeedIconStyle.elevation != null) {
                this.elevation = resources.getDimension(this@LMFeedIconStyle.elevation)
            }

            if (this@LMFeedIconStyle.alpha != null) {
                alpha = this@LMFeedIconStyle.alpha
            }

            if (this@LMFeedIconStyle.iconPadding != null) {
                val padding = this@LMFeedIconStyle.iconPadding
                setPadding(
                    resources.getDimension(padding.paddingLeft).toInt(),
                    resources.getDimension(padding.paddingTop).toInt(),
                    resources.getDimension(padding.paddingRight).toInt(),
                    resources.getDimension(padding.paddingBottom).toInt()
                )
            }

            if (this@LMFeedIconStyle.backgroundColor != null) {
                val backgroundColor =
                    ContextCompat.getColor(context, this@LMFeedIconStyle.backgroundColor)

                setBackgroundColor(backgroundColor)
            }
        }
    }
}

fun LMFeedIcon.setStyle(viewStyle: LMFeedIconStyle) {
    viewStyle.apply(this)
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/base/styles/LMFeedImageStyle.kt
================================================
package com.likeminds.feed.android.core.ui.base.styles

import android.widget.ImageView.ScaleType
import androidx.annotation.ColorRes
import androidx.core.content.ContextCompat
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.views.LMFeedImageView
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedImageStyle] helps you to customize an image
 *
 * @property imageSrc : [Any]] sets the provided image source to the image view, use this to set a static source to the image | Default value [R.drawable.lm_feed_picture_placeholder]
 * @property placeholderSrc : [Any] sets the placeholder source to the image view while the image is loading, use this to set a static placeholder to the image | Default value [null]
 * @property isCircle : [Boolean] this will define whether the image view should be circular or not | Default value [false]
 * @property showGreyScale : [Boolean] whether to show grey scale to the image view or not | Default value [false]
 * @property cornerRadius : [Int] this will help to customize the corner radius of the image view  | Default value [null]
 * @property imageTint : [Int] should be in format of [ColorRes] this will help to customize the tint of the image view  | Default value [null]
 * @property alpha : [Float] this will help to customize the alpha of the image view  | Default value [null]
 * @property scaleType : [ScaleType] this will help to customize the scale type of the image view  | Default value [null]
 * */
class LMFeedImageStyle private constructor(
    val imageSrc: Any,
    val placeholderSrc: Any?,
    val isCircle: Boolean,
    val showGreyScale: Boolean,
    val cornerRadius: Int?,
    @ColorRes val imageTint: Int?,
    val alpha: Float?,
    val scaleType: ScaleType?
) : LMFeedViewStyle {

    class Builder {
        private var imageSrc: Any = R.drawable.lm_feed_picture_placeholder
        private var placeholderSrc: Any? = null
        private var isCircle: Boolean = false
        private var showGreyScale: Boolean = false
        private var cornerRadius: Int? = null

        @ColorRes
        private var imageTint: Int? = null
        private var alpha: Float? = null
        private var scaleType: ScaleType? = null

        fun imageSrc(imageSrc: Any) = apply {
            this.imageSrc = imageSrc
        }

        fun placeholderSrc(drawableSrc: Any?) = apply {
            this.placeholderSrc = drawableSrc
        }

        fun isCircle(isCircle: Boolean) = apply {
            this.isCircle = isCircle
        }

        fun showGreyScale(showGreyScale: Boolean) = apply {
            this.showGreyScale = showGreyScale
        }

        fun cornerRadius(cornerRadius: Int?) = apply {
            this.cornerRadius = cornerRadius
        }

        fun imageTint(@ColorRes imageTint: Int?) = apply {
            this.imageTint = imageTint
        }

        fun alpha(alpha: Float?) = apply { this.alpha = alpha }
        fun scaleType(scaleType: ScaleType?) = apply { this.scaleType = scaleType }

        fun build() = LMFeedImageStyle(
            imageSrc,
            placeholderSrc,
            isCircle,
            showGreyScale,
            cornerRadius,
            imageTint,
            alpha,
            scaleType
        )
    }

    fun toBuilder(): Builder {
        return Builder().imageSrc(imageSrc)
            .placeholderSrc(placeholderSrc)
            .isCircle(isCircle)
            .showGreyScale(showGreyScale)
            .cornerRadius(cornerRadius)
            .imageTint(imageTint)
            .alpha(alpha)
            .scaleType(scaleType)
    }

    fun apply(imageView: LMFeedImageView) {
        imageView.apply {
            setImage(imageSrc, this@LMFeedImageStyle)

            if (this@LMFeedImageStyle.scaleType != null) {
                this.scaleType = this@LMFeedImageStyle.scaleType
            }

            if (this@LMFeedImageStyle.imageTint != null) {
                val imageTint =
                    ContextCompat.getColorStateList(this.context, this@LMFeedImageStyle.imageTint)
                this.imageTintList = imageTint
            }

            if (this@LMFeedImageStyle.alpha != null) {
                this.alpha = this@LMFeedImageStyle.alpha
            }
        }
    }
}

//sets the provided view style to the image view
fun LMFeedImageView.setStyle(viewStyle: LMFeedImageStyle) {
    viewStyle.apply(this)
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/base/styles/LMFeedProgressBarStyle.kt
================================================
package com.likeminds.feed.android.core.ui.base.styles

import android.content.res.ColorStateList
import androidx.annotation.ColorRes
import androidx.core.content.ContextCompat
import com.likeminds.feed.android.core.ui.base.views.LMFeedProgressBar
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedProgressBarStyle] helps you customize a circular progress bar in the following way
 * @property progressColor: [Int] should be in format of [ColorRes] to add color to progress | Default value = [null]
 * @property isIndeterminate: [Boolean], this property defines whether progress should be determinate or indeterminate | Default value = [false]
 * @property maxProgress: [Int], this property defines the maximum value of progress, should be provided in case [isIndeterminate] is [true] | Default value = [null]
 **/
class LMFeedProgressBarStyle private constructor(
    @ColorRes val progressColor: Int?,
    val isIndeterminate: Boolean,
    val maxProgress: Int?
) : LMFeedViewStyle {

    class Builder {
        @ColorRes
        private var progressColor: Int? = null
        private var isIndeterminate: Boolean = false
        private var maxProgress: Int? = 100

        fun progressColor(progressColor: Int?) = apply { this.progressColor = progressColor }
        fun isIndeterminate(isIndeterminate: Boolean) =
            apply { this.isIndeterminate = isIndeterminate }

        fun maxProgress(maxProgress: Int?) = apply { this.maxProgress = maxProgress }

        fun build() = LMFeedProgressBarStyle(
            progressColor,
            isIndeterminate,
            maxProgress
        )
    }

    fun toBuilder(): Builder {
        return Builder().progressColor(progressColor)
            .isIndeterminate(isIndeterminate)
            .maxProgress(maxProgress)
    }

    fun apply(progressBar: LMFeedProgressBar) {
        progressBar.apply {

            //progress color
            progressColor?.let {
                this.progressTintList = ColorStateList.valueOf(
                    ContextCompat.getColor(
                        context,
                        progressColor
                    )
                )
            }

            //indeterminate
            this.isIndeterminate = this@LMFeedProgressBarStyle.isIndeterminate

            //max progress
            this@LMFeedProgressBarStyle.maxProgress?.let {
                this.max = it
            }
        }
    }
}

/**
 * Util functions to helps to apply all the styling [LMFeedProgressBarStyle] to [LMFeedProgressBar]
 **/
fun LMFeedProgressBar.setStyle(viewStyle: LMFeedProgressBarStyle) {
    viewStyle.apply(this)
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/base/styles/LMFeedSwitchStyle.kt
================================================
package com.likeminds.feed.android.core.ui.base.styles

import android.content.res.ColorStateList
import android.graphics.Color
import androidx.annotation.ColorRes
import androidx.annotation.DrawableRes
import androidx.core.content.ContextCompat
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.views.LMFeedSwitch
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance

/***
 * [LMFeedSwitchStyle] helps to customize the switch [LMFeedSwitch]
 *
 * @property textStyle [LMFeedTextStyle] helps to customize the text style of the switch | Default: [LMFeedTextStyle]
 * @property thumbColor [Int] should be in the form of [ColorRes] to add color to the thumb | Default: [R.color.lm_feed_white_smoke]
 * @property trackColor [Int] should be in the form of [ColorRes] to add color to the track | Default: [LMFeedAppearance.getButtonColor]
 * @property thumbIcon [Int] should be in the form of [DrawableRes] to add icon to the track | Default: null
 * @property thumbIconColor [Int] should be in the form of [ColorRes] to add color to the icon | Default: null
 */
class LMFeedSwitchStyle private constructor(
    //text related
    val textStyle: LMFeedTextStyle,
    @ColorRes
    val thumbColor: Int?,
    @ColorRes
    val trackColor: Int?,
    @DrawableRes
    val thumbIcon: Int?,
    @ColorRes
    val thumbIconColor: Int?,
) {
    class Builder {
        private var textStyle = LMFeedTextStyle.Builder()
            .build()

        private var thumbColor: Int? = R.color.lm_feed_white_smoke
        private var trackColor: Int? = LMFeedAppearance.getButtonColor()
        private var thumbIcon: Int? = null
        private var thumbIconColor: Int? = null

        fun textStyle(textStyle: LMFeedTextStyle) = apply {
            this.textStyle = textStyle
        }

        fun thumbColor(@ColorRes thumbColor: Int?) = apply {
            this.thumbColor = thumbColor
        }

        fun trackColor(@ColorRes trackColor: Int?) = apply {
            this.trackColor = trackColor
        }

        fun thumbIcon(@DrawableRes thumbIcon: Int?) = apply {
            this.thumbIcon = thumbIcon
        }

        fun thumbIconColor(@ColorRes thumbIconColor: Int?) = apply {
            this.thumbIconColor = thumbIconColor
        }

        fun build() = LMFeedSwitchStyle(
            textStyle,
            thumbColor,
            trackColor,
            thumbIcon,
            thumbIconColor
        )
    }

    fun toBuilder(): Builder {
        return Builder()
            .textStyle(textStyle)
            .thumbColor(thumbColor)
            .trackColor(trackColor)
            .thumbIcon(thumbIcon)
            .thumbIconColor(thumbIconColor)
    }

    fun apply(switch: LMFeedSwitch) {
        switch.apply {
            //text related
            textStyle.apply(this)

            //thumb color related
            thumbColor?.let { thumbColor ->
                thumbTintList = ColorStateList.valueOf(
                    ContextCompat.getColor(context, thumbColor)
                )
            }

            //track color related
            trackColor?.let { trackColor ->
                val states = arrayOf(
                    intArrayOf(-android.R.attr.state_checked),
                    intArrayOf(android.R.attr.state_checked)
                )

                val trackColors = intArrayOf(
                    Color.LTGRAY,
                    ContextCompat.getColor(context, trackColor)
                )

                trackTintList = ColorStateList(states, trackColors)
            }

            //thumb icon related
            thumbIcon?.let { thumbIcon ->
                thumbIconDrawable = ContextCompat.getDrawable(context, thumbIcon)
            }

            //thumb icon color related
            thumbIconColor?.let { thumbIconColor ->
                thumbIconTintList = ColorStateList.valueOf(
                    ContextCompat.getColor(context, thumbIconColor)
                )
            }
        }
    }
}

/**
 * Util function that helps to apply all the styling [LMFeedSwitchStyle] to [LMFeedSwitch]
 **/
fun LMFeedSwitch.setStyle(style: LMFeedSwitchStyle) {
    style.apply(this)
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/base/styles/LMFeedTextStyle.kt
================================================
package com.likeminds.feed.android.core.ui.base.styles

import android.content.res.ColorStateList
import android.graphics.Typeface
import android.text.TextUtils.TruncateAt
import android.util.TypedValue
import android.widget.TextView
import androidx.annotation.*
import androidx.core.content.ContextCompat
import androidx.core.content.res.ResourcesCompat
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.views.*
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.utils.LMFeedViewStyle
import kotlin.math.roundToInt

/**
 * [LMFeedTextStyle] helps you to customize a [LMFeedTextView] with the following properties
 * @property textColor : [Int] to customize the color of the text
 * @property textSize: [Int] should be in format of [DimenRes] to customize the size of the text | Default value =  [R.dimen.lm_feed_ui_text_small]
 * @property textAllCaps: [Boolean] to customize whether the text should be all caps or not | Default value = [false]
 * @property fontResource: [Int] should be in format of [FontRes] to customize the font of the text using font resources | Default value = [null]
 * @property fontAssetsPath: [String] to to customize the font of the text using the path of the font assets | Default value = [null]
 * @property typeface: [Int] to customize the typeface of the text | Default value = [null]
 * @property maxLines: [Int] to customize the max lines for a text | Default value = [null]
 * @property ellipsize: [TruncateAt] to customize how to ellipsize the text  | Default value = [null]
 * @property maxHeight: [Int] to customize the maximum height of the text | Default value = [null]
 * @property minHeight: [Int] to customize the minimum height of the text | Default value = [null]
 * @property backgroundColor: [Int] should be in format of [ColorRes] to customize the background color of the text | Default value = [null]
 * @property textAlignment: [Int] to customize the alignment of the text | Default value = [null]
 * @property elevation: [Int] should be in format of [DimenRes] to customize the elevation of the text | Default value = [null]
 * @property hintTextColor: [Int] should be in format of [ColorRes] to customize the hint color of the text | Default value = [null]
 * @property drawableLeftSrc: [Int] should be in format of [DrawableRes] to customize the left drawable of the text | Default value = [null]
 * @property drawableTopSrc: [Int] should be in format of [DrawableRes] to customize the top drawable of the text  | Default value = [null]
 * @property drawableRightSrc: [Int] should be in format of [DrawableRes] to customize the right drawable of the text  | Default value = [null]
 * @property drawableBottomSrc: [Int] should be in format of [DrawableRes] to customize the bottom drawable of the text  | Default value = [null]
 * @property drawablePadding: [Int] should be in format of [DimenRes] to customize the padding of drawable of the text  | Default value = [null]
 *
 **/
class LMFeedTextStyle private constructor(
    @ColorRes val textColor: Int,
    @DimenRes val textSize: Int,
    val textAllCaps: Boolean,
    @FontRes val fontResource: Int?,
    val fontAssetsPath: String?,
    val typeface: Int,
    val maxLines: Int?,
    val ellipsize: TruncateAt?,
    @DimenRes val maxHeight: Int?,
    @DimenRes val minHeight: Int?,
    @ColorRes val backgroundColor: Int?,
    val textAlignment: Int?,
    @DimenRes val elevation: Int?,
    @ColorRes val hintTextColor: Int?,
    @DrawableRes val drawableLeftSrc: Int?,
    @DrawableRes val drawableTopSrc: Int?,
    @DrawableRes val drawableRightSrc: Int?,
    @DrawableRes val drawableBottomSrc: Int?,
    @DimenRes val drawablePadding: Int?,
    val expandableCTAText: String?,
    @ColorRes val expandableCTAColor: Int?
) : LMFeedViewStyle {

    class Builder {
        @ColorRes
        private var textColor: Int = R.color.lm_feed_black

        @DimenRes
        private var textSize: Int = R.dimen.lm_feed_text_small
        private var textAllCaps: Boolean = false

        @FontRes
        private var fontResource: Int? = null
        private var fontAssetsPath: String? = null
        private var typeface: Int = Typeface.NORMAL
        private var maxLines: Int? = null
        private var ellipsize: TruncateAt? = null

        @DimenRes
        private var maxHeight: Int? = null

        @DimenRes
        private var minHeight: Int? = null

        @ColorRes
        private var backgroundColor: Int? = null
        private var textAlignment: Int? = null

        @DimenRes
        private var elevation: Int? = null

        @ColorRes
        private var hintTextColor: Int? = null

        @DrawableRes
        private var drawableLeftSrc: Int? = null

        @DrawableRes
        private var drawableTopSrc: Int? = null

        @DrawableRes
        private var drawableRightSrc: Int? = null

        @DrawableRes
        private var drawableBottomSrc: Int? = null

        @DimenRes
        private var drawablePadding: Int? = null

        private var expandableCTAText: String? = null

        @ColorRes
        private var expandableCTAColor: Int? = null

        fun textColor(@ColorRes textColor: Int) = apply {
            this.textColor = textColor
        }

        fun textSize(@DimenRes textSize: Int) = apply {
            this.textSize = textSize
        }

        fun textAllCaps(textAllCaps: Boolean) = apply {
            this.textAllCaps = textAllCaps
        }

        fun fontResource(@FontRes fontResource: Int?) = apply {
            this.fontResource = fontResource
        }

        fun fontAssetsPath(fontAssetsPath: String?) = apply {
            this.fontAssetsPath = fontAssetsPath
        }

        fun typeface(typeface: Int) = apply {
            this.typeface = typeface
        }

        fun maxLines(maxLines: Int?) = apply {
            this.maxLines = maxLines
        }

        fun ellipsize(ellipsize: TruncateAt?) = apply {
            this.ellipsize = ellipsize
        }

        fun maxHeight(@DimenRes maxHeight: Int?) = apply {
            this.maxHeight = maxHeight
        }

        fun minHeight(@DimenRes minHeight: Int?) = apply {
            this.minHeight = minHeight
        }

        fun backgroundColor(@ColorRes backgroundColor: Int?) = apply {
            this.backgroundColor = backgroundColor
        }

        fun textAlignment(textAlignment: Int?) = apply {
            this.textAlignment = textAlignment
        }

        fun elevation(@DimenRes elevation: Int?) = apply {
            this.elevation = elevation
        }

        fun hintTextColor(@ColorRes hintTextColor: Int?) = apply {
            this.hintTextColor = hintTextColor
        }

        fun drawableLeftSrc(@DrawableRes drawableLeftSrc: Int?) = apply {
            this.drawableLeftSrc = drawableLeftSrc
        }

        fun drawableTopSrc(@DrawableRes drawableTopSrc: Int?) = apply {
            this.drawableTopSrc = drawableTopSrc
        }

        fun drawableRightSrc(@DrawableRes drawableRightSrc: Int?) = apply {
            this.drawableRightSrc = drawableRightSrc
        }

        fun drawableBottomSrc(@DrawableRes drawableBottomSrc: Int?) = apply {
            this.drawableBottomSrc = drawableBottomSrc
        }

        fun drawablePadding(@DimenRes drawablePadding: Int?) = apply {
            this.drawablePadding = drawablePadding
        }

        fun expandableCTAText(expandableCTAText: String?) = apply {
            this.expandableCTAText = expandableCTAText
        }

        fun expandableCTAColor(@ColorRes expandableCTAColor: Int?) = apply {
            this.expandableCTAColor = expandableCTAColor
        }

        fun build() = LMFeedTextStyle(
            textColor,
            textSize,
            textAllCaps,
            fontResource,
            fontAssetsPath,
            typeface,
            maxLines,
            ellipsize,
            maxHeight,
            minHeight,
            backgroundColor,
            textAlignment,
            elevation,
            hintTextColor,
            drawableLeftSrc,
            drawableTopSrc,
            drawableRightSrc,
            drawableBottomSrc,
            drawablePadding,
            expandableCTAText,
            expandableCTAColor
        )
    }

    fun toBuilder(): Builder {
        return Builder().textColor(textColor)
            .textSize(textSize)
            .textAllCaps(textAllCaps)
            .fontResource(fontResource)
            .fontAssetsPath(fontAssetsPath)
            .typeface(typeface)
            .maxLines(maxLines)
            .ellipsize(ellipsize)
            .maxHeight(maxHeight)
            .minHeight(minHeight)
            .backgroundColor(backgroundColor)
            .textAlignment(textAlignment)
            .elevation(elevation)
            .hintTextColor(hintTextColor)
            .drawableLeftSrc(drawableLeftSrc)
            .drawableTopSrc(drawableTopSrc)
            .drawableRightSrc(drawableRightSrc)
            .drawableBottomSrc(drawableRightSrc)
            .drawablePadding(drawablePadding)
            .expandableCTAText(expandableCTAText)
            .expandableCTAColor(expandableCTAColor)
    }

    // applies the [LMFeedTextStyle] to [LMFeedTextView]
    fun apply(lmFeedTextView: LMFeedTextView) {
        applyImpl(lmFeedTextView)
    }

    // applies the [LMFeedTextStyle] to [LMFeedEditText]
    fun apply(lmFeedEditText: LMFeedEditText) {
        applyImpl(lmFeedEditText)
    }

    // applies the [LMFeedTextStyle] to [LMFeedButton]
    fun apply(lmFeedButton: LMFeedButton) {
        applyImpl(lmFeedButton)
    }

    // applies the [LMFeedTextStyle] to [LMFeedFAB]
    fun apply(lmFeedFAB: LMFeedFAB) {
        applyImpl(lmFeedFAB)
    }

    fun apply(lmFeedSwitch: LMFeedSwitch) {
        applyImpl(lmFeedSwitch)
    }

    private fun applyImpl(textView: TextView) {
        textView.apply {
            val textColor = ContextCompat.getColor(context, this@LMFeedTextStyle.textColor)

            // sets the text color
            this.setTextColor(textColor)

            this.textAlignment = textAlignment

            this.setTextSize(
                TypedValue.COMPLEX_UNIT_PX,
                resources.getDimension(this@LMFeedTextStyle.textSize)
            )

            // sets whether the text is all caps or not
            this.isAllCaps = textAllCaps

            if (this@LMFeedTextStyle.maxLines != null && this@LMFeedTextStyle.ellipsize != null) {
                this.maxLines = this@LMFeedTextStyle.maxLines
                this.ellipsize = this@LMFeedTextStyle.ellipsize
            }

            if (this@LMFeedTextStyle.maxHeight != null) {
                maxHeight = resources.getDimension(this@LMFeedTextStyle.maxHeight).roundToInt()
            }

            if (this@LMFeedTextStyle.minHeight != null) {
                minHeight = resources.getDimension(this@LMFeedTextStyle.minHeight).roundToInt()
            }

            // sets background color of the text
            if (this@LMFeedTextStyle.backgroundColor != null) {
                val backgroundColor =
                    ContextCompat.getColor(context, this@LMFeedTextStyle.backgroundColor)
                this.backgroundTintList = ColorStateList.valueOf(backgroundColor)
            }

            if (this@LMFeedTextStyle.elevation != null) {
                elevation = resources.getDimension(this@LMFeedTextStyle.elevation)
            }

            if (this@LMFeedTextStyle.textAlignment != null) {
                textAlignment = this@LMFeedTextStyle.textAlignment
            }

            //sets the text link color
            this.setLinkTextColor(ContextCompat.getColor(context, LMFeedAppearance.getTextLinkColor()))

            this@LMFeedTextStyle.hintTextColor?.let {
                setHintTextColor(
                    ContextCompat.getColor(
                        context,
                        this@LMFeedTextStyle.hintTextColor
                    )
                )
            }

            // sets drawable to the text view
            setCompoundDrawablesWithIntrinsicBounds(
                drawableLeftSrc ?: 0,
                drawableTopSrc ?: 0,
                drawableRightSrc ?: 0,
                drawableBottomSrc ?: 0
            )

            // sets drawable padding
            if (drawablePadding != null) {
                compoundDrawablePadding = resources.getDimensionPixelOffset(drawablePadding)
            }

            setFont(this)
        }
    }

    //sets font to the text view
    private fun setFont(textView: TextView) {
        textView.apply {
            val defaultFont = LMFeedAppearance.getFontResources()
            when {
                fontResource != null -> {
                    val font = ResourcesCompat.getFont(context, fontResource)
                    setTypeface(font, this@LMFeedTextStyle.typeface)
                }

                fontAssetsPath != null -> {
                    val font = Typeface.createFromAsset(context.assets, fontAssetsPath)
                    setTypeface(font, this@LMFeedTextStyle.typeface)
                }

                defaultFont.first != null -> {
                    val font = ResourcesCompat.getFont(context, (defaultFont.first ?: 0))
                    setTypeface(font, this@LMFeedTextStyle.typeface)
                }

                else -> {
                    val font = Typeface.createFromAsset(context.assets, defaultFont.second)
                    setTypeface(font, this@LMFeedTextStyle.typeface)
                }
            }
        }
    }

    override fun toString(): String {
        return """
            textSize: $textSize
            textAllCaps: $textAllCaps
            textColor: $textColor
            fontResource: $fontResource
        """.trimIndent()
    }
}

/**
 * Util function that helps to apply all the styling [LMFeedTextStyle] to [LMFeedTextView]
 **/
fun LMFeedTextView.setStyle(viewStyle: LMFeedTextStyle) {
    viewStyle.apply(this)
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/base/views/LMFeedButton.kt
================================================
package com.likeminds.feed.android.core.ui.base.views

import android.content.Context
import android.util.AttributeSet
import com.google.android.material.button.MaterialButton

/**
 * Represents a material button
 * To customize this view use [LMFeedButtonStyle]
 */
class LMFeedButton : MaterialButton {

    constructor(context: Context) : super(context)

    constructor(context: Context, attrs: AttributeSet?) : super(context, attrs)

    constructor(context: Context, attrs: AttributeSet?, defStyle: Int) : super(
        context,
        attrs,
        defStyle
    )
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/base/views/LMFeedChip.kt
================================================
package com.likeminds.feed.android.core.ui.base.views

import android.content.Context
import android.util.AttributeSet
import com.google.android.material.chip.Chip

class LMFeedChip @JvmOverloads constructor(
    context: Context,
    attrs: AttributeSet? = null,
    defStyleAttr: Int = 0
) : Chip(context, attrs, defStyleAttr)


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/base/views/LMFeedChipGroup.kt
================================================
package com.likeminds.feed.android.core.ui.base.views

import android.content.Context
import android.util.AttributeSet
import android.view.LayoutInflater
import com.google.android.material.chip.ChipGroup
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedChipBinding
import com.likeminds.feed.android.core.ui.base.styles.LMFeedChipStyle
import com.likeminds.feed.android.core.ui.base.styles.setStyle
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnClickListener

class LMFeedChipGroup @JvmOverloads constructor(
    context: Context,
    attrs: AttributeSet? = null,
    defStyleAttr: Int = 0
) : ChipGroup(context, attrs, defStyleAttr) {

    //removes all the chips from the chip group
    fun removeAllChips() {
        this.removeAllViews()
    }

    /**
    * Adds chip to this [LMFeedChipGroup]
    *
    * @param chipText - text to be set in the chip
    * @param chipStyle - style to be used for the chip to be added
    * */
    fun addChip(
        chipText: String? = null,
        chipStyle: LMFeedChipStyle,
        chipClickListener: LMFeedOnClickListener? = null
    ) {
        val chipBinding = LmFeedChipBinding.inflate(
            LayoutInflater.from(context),
            this,
            false
        )

        chipBinding.chip.apply {
            //text related
            if (chipText == null) {
                textStartPadding = resources.getDimension(R.dimen.lm_feed_zero_dp)
                textEndPadding = resources.getDimension(R.dimen.lm_feed_zero_dp)
            } else {
                text = chipText
            }
            setStyle(chipStyle)

            setOnClickListener {
                chipClickListener?.onClick()
            }
        }

        this.addView(chipBinding.chip)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/base/views/LMFeedEditText.kt
================================================
package com.likeminds.feed.android.core.ui.base.views

import android.content.Context
import android.util.AttributeSet
import android.view.inputmethod.InputMethodManager
import androidx.appcompat.widget.AppCompatEditText

/**
 * Represents a basic edit text
 * To customize this view use [LMFeedEditTextStyle]
 */
class LMFeedEditText : AppCompatEditText {
    constructor(context: Context) : super(context)

    constructor(context: Context, attrs: AttributeSet?) : super(context, attrs)

    constructor(context: Context, attrs: AttributeSet?, defStyle: Int) : super(
        context,
        attrs,
        defStyle
    )

    private var showKeyboardDelayed = false

    @Override
    override fun onWindowFocusChanged(hasWindowFocus: Boolean) {
        super.onWindowFocusChanged(hasWindowFocus)
        maybeShowKeyboard()
    }

    /**
     * Will request focus and try to show the keyboard.
     * It has into account if the containing window has focus or not yet.
     * And delays the call to show keyboard until it's gained.
     */
    fun focusAndShowKeyboard() {
        requestFocus()
        showKeyboardDelayed = true
        maybeShowKeyboard()
    }

    private fun maybeShowKeyboard() {
        if (hasWindowFocus() && showKeyboardDelayed) {
            if (isFocused) {
                post {
                    val imm =
                        context.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager
                    imm.showSoftInput(this@LMFeedEditText, InputMethodManager.SHOW_IMPLICIT)
                }
            }
            showKeyboardDelayed = false
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/base/views/LMFeedFAB.kt
================================================
package com.likeminds.feed.android.core.ui.base.views

import android.content.Context
import android.util.AttributeSet
import com.google.android.material.floatingactionbutton.ExtendedFloatingActionButton

/**
 * Represents a floating action button
 * To customize this view use [LMFeedFABStyle]
 */
class LMFeedFAB : ExtendedFloatingActionButton {

    constructor(context: Context) : super(context)

    constructor(context: Context, attrs: AttributeSet?) : super(context, attrs)

    constructor(context: Context, attrs: AttributeSet?, defStyle: Int) : super(
        context,
        attrs,
        defStyle
    )
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/base/views/LMFeedIcon.kt
================================================
package com.likeminds.feed.android.core.ui.base.views

import android.content.Context
import android.util.AttributeSet
import androidx.appcompat.widget.AppCompatImageView

/**
 * Represents a basic image view
 * To customize this view use [LMFeedIconStyle]
 */
class LMFeedIcon : AppCompatImageView {
    constructor(context: Context) : super(context)

    constructor(context: Context, attrs: AttributeSet?) : super(context, attrs)

    constructor(context: Context, attrs: AttributeSet?, defStyle: Int) : super(
        context,
        attrs,
        defStyle
    )
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/base/views/LMFeedImageView.kt
================================================
package com.likeminds.feed.android.core.ui.base.views

import android.content.Context
import android.util.AttributeSet
import androidx.appcompat.widget.AppCompatImageView
import com.likeminds.feed.android.core.ui.base.styles.LMFeedImageStyle
import com.likeminds.feed.android.core.utils.LMFeedImageBindingUtil

/**
 * Represents a basic image view
 * To customize this view use [LMFeedImageStyle]
 */
class LMFeedImageView : AppCompatImageView {

    constructor(context: Context) : super(context)

    constructor(context: Context, attrs: AttributeSet?) : super(context, attrs)

    constructor(context: Context, attrs: AttributeSet?, defStyle: Int) : super(
        context,
        attrs,
        defStyle
    )

    //updates the image view with the provided [imageSrc] and uses the provided [imageViewStyle] to customize it
    fun setImage(imageSrc: Any?, imageViewStyle: LMFeedImageStyle) {
        imageViewStyle.apply {
            LMFeedImageBindingUtil.loadImage(
                this@LMFeedImageView,
                imageSrc,
                placeholderSrc,
                isCircle,
                cornerRadius ?: 0,
                showGreyScale
            )
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/base/views/LMFeedProgressBar.kt
================================================
package com.likeminds.feed.android.core.ui.base.views

import android.content.Context
import android.util.AttributeSet
import android.widget.ProgressBar

/**
 * Represents a material circular progress bar
 * To customize this view use [LMFeedProgressBarStyle]
 */
class LMFeedProgressBar : ProgressBar {

    constructor(context: Context) : super(context)

    constructor(context: Context, attrs: AttributeSet?) : super(context, attrs)

    constructor(context: Context, attrs: AttributeSet?, defStyle: Int) : super(
        context,
        attrs,
        defStyle
    )
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/base/views/LMFeedSwitch.kt
================================================
package com.likeminds.feed.android.core.ui.base.views

import android.content.Context
import android.util.AttributeSet
import com.google.android.material.materialswitch.MaterialSwitch

/**
 * Represents a basic switch view
 *
 */
class LMFeedSwitch : MaterialSwitch {
    constructor(context: Context) : super(context) {
    }

    constructor(context: Context, attrs: AttributeSet?) : super(context, attrs) {
    }

    constructor(context: Context, attrs: AttributeSet?, defStyle: Int) : super(
        context,
        attrs,
        defStyle
    ) {
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/base/views/LMFeedTextView.kt
================================================
package com.likeminds.feed.android.core.ui.base.views

import android.content.Context
import android.util.AttributeSet
import androidx.appcompat.widget.AppCompatTextView

/**
 * Represents a basic text view
 * To customize this view use [LMFeedTextStyle]
 */
class LMFeedTextView : AppCompatTextView {
    constructor(context: Context) : super(context)

    constructor(context: Context, attrs: AttributeSet?) : super(context, attrs)

    constructor(context: Context, attrs: AttributeSet?, defStyle: Int) : super(
        context,
        attrs,
        defStyle
    )

    //clears drawables from the text view
    fun clearDrawables() {
        this.setCompoundDrawablesWithIntrinsicBounds(0, 0, 0, 0)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/base/views/LMFeedVideoView.kt
================================================
package com.likeminds.feed.android.core.ui.base.views

import android.content.Context
import android.net.Uri
import android.os.Looper
import android.util.AttributeSet
import com.google.android.exoplayer2.*
import com.google.android.exoplayer2.source.MediaSource
import com.google.android.exoplayer2.source.ProgressiveMediaSource
import com.google.android.exoplayer2.source.dash.DashMediaSource
import com.google.android.exoplayer2.source.hls.HlsMediaSource
import com.google.android.exoplayer2.source.smoothstreaming.SsMediaSource
import com.google.android.exoplayer2.ui.StyledPlayerView
import com.google.android.exoplayer2.upstream.DefaultAllocator
import com.google.android.exoplayer2.util.Util
import com.likeminds.feed.android.core.ui.widgets.post.postmedia.style.LMFeedPostVideoMediaViewStyle
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.video.LMFeedVideoCache
import com.likeminds.feed.android.core.utils.video.LMFeedVideoPlayerListener
import com.likeminds.feed.android.core.videofeed.model.LMFeedVideoFeedConfig

/**
 * Represents a video view
 * To customize this view use [LMFeedPostVideoMediaViewStyle]
 */
class LMFeedVideoView @JvmOverloads constructor(
    context: Context,
    attrs: AttributeSet? = null,
    defStyleAttr: Int = 0
) : StyledPlayerView(context, attrs, defStyleAttr) {

    companion object {
        private const val SCROLL_STATE_IDLE_THRESHOLD = 5000L
    }

    private lateinit var exoPlayer: ExoPlayer
    private var progressBar: LMFeedProgressBar? = null
    private var thumbnailView: LMFeedImageView? = null

    private var lastPos: Long = 0

    init {
        descendantFocusability = FOCUS_AFTER_DESCENDANTS
        init()
    }

    // initializes the exoplayer and sets player
    private fun init() {
        // used to configure ms of media to buffer before starting playback
        val defaultLoadControl = DefaultLoadControl.Builder()
            .setBufferDurationsMs(
                DefaultLoadControl.DEFAULT_MAX_BUFFER_MS,
                DefaultLoadControl.DEFAULT_MAX_BUFFER_MS,
                DefaultLoadControl.DEFAULT_BUFFER_FOR_PLAYBACK_MS,
                DefaultLoadControl.DEFAULT_BUFFER_FOR_PLAYBACK_AFTER_REBUFFER_MS
            )
            .setAllocator(DefaultAllocator(true, 16))
            .setPrioritizeTimeOverSizeThresholds(true)
            .build()

        exoPlayer = ExoPlayer.Builder(context)
            .setLoadControl(defaultLoadControl)
            .build()

        exoPlayer.repeatMode = Player.REPEAT_MODE_ONE
        exoPlayer.playWhenReady = false
        player = exoPlayer

        exoPlayer.addListener(object : Player.Listener {
            override fun onPlaybackStateChanged(playbackState: Int) {
                super.onPlaybackStateChanged(playbackState)
                when (playbackState) {
                    Player.STATE_READY -> {
                        thumbnailView?.hide()
                        progressBar?.hide()
                        show()
                    }

                    Player.STATE_BUFFERING -> {
                        progressBar?.show()
                    }

                    Player.STATE_IDLE -> {
                        progressBar?.hide()
                        thumbnailView?.hide()
                    }

                    Player.STATE_ENDED -> {
                        progressBar?.hide()
                        thumbnailView?.hide()
                    }
                }
            }
        })
    }

    /**
     * This will reuse the player and will play new URI (remote url) we have provided
     */
    fun startPlayingRemoteUri(
        videoUri: Uri,
        progressBar: LMFeedProgressBar,
        thumbnailView: LMFeedImageView,
        thumbnailSrc: Any? = null,
        config: LMFeedVideoFeedConfig? = null,
        videoPlayerListener: LMFeedVideoPlayerListener? = null
    ) {
        //progress style is null then we don't have to show the progressBar
        if (LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postVideoMediaStyle?.videoProgressStyle != null) {
            this.progressBar = progressBar
        }

        val thresholdValue = (config?.reelViewedAnalyticThreshold ?: 2) * 1000L

        setThumbnail(thumbnailView, thumbnailSrc)

        // create and send analytic for playing reel at threshold
        exoPlayer.createMessage { _, _ ->
            val currentTime = exoPlayer.currentPosition
            val totalDuration = exoPlayer.duration
            videoPlayerListener?.onDurationThresholdReached(currentTime, totalDuration)
        }.setPosition(thresholdValue)
            .setDeleteAfterDelivery(true)
            .setLooper(Looper.getMainLooper())
            .send()

        // create message on reaching swipe idle state
        exoPlayer.createMessage { _, _ ->
            videoPlayerListener?.onIdleSwipeReached()
        }.setPosition(SCROLL_STATE_IDLE_THRESHOLD)
            .setDeleteAfterDelivery(true)
            .setLooper(Looper.getMainLooper())
            .send()

        val mediaSource = createCachedMediaSource(context.applicationContext, videoUri)
        exoPlayer.setMediaSource(mediaSource)
        exoPlayer.seekTo(lastPos)
        exoPlayer.playWhenReady = true
        exoPlayer.prepare()
    }

    private fun createCachedMediaSource(context: Context, uri: Uri): MediaSource {
        val type = inferContentType(uri)
        return when (type) {
            C.CONTENT_TYPE_DASH ->
                DashMediaSource.Factory(LMFeedVideoCache.getCacheDataSourceFactory(context))
                    .createMediaSource(MediaItem.fromUri(uri))

            C.CONTENT_TYPE_SS ->
                SsMediaSource.Factory(LMFeedVideoCache.getCacheDataSourceFactory(context))
                    .createMediaSource(MediaItem.fromUri(uri))

            C.CONTENT_TYPE_HLS ->
                HlsMediaSource.Factory(LMFeedVideoCache.getCacheDataSourceFactory(context))
                    .createMediaSource(MediaItem.fromUri(uri))

            else -> {
                return ProgressiveMediaSource.Factory(
                    LMFeedVideoCache.getCacheDataSourceFactory(
                        context
                    )
                )
                    .createMediaSource(MediaItem.fromUri(uri))
            }
        }
    }

    private fun inferContentType(uri: Uri): Int {
        val fileName: String = (uri.toString())
        if (fileName.endsWith(".m3u8")) {
            return C.CONTENT_TYPE_HLS
        }
        return Util.inferContentType(uri)
    }

    /**
     * This will reuse the player and will play new URI (local uri) we have provided
     */
    fun startPlayingLocalUri(
        videoUri: Uri,
        progressBar: LMFeedProgressBar,
        thumbnailView: LMFeedImageView,
        thumbnailSrc: Any? = null
    ) {
        //progress style is null then we don't have to show the progressBar
        if (LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postVideoMediaStyle?.videoProgressStyle != null) {
            this.progressBar = progressBar
        }

        setThumbnail(thumbnailView, thumbnailSrc)

        val mediaSource = MediaItem.fromUri(videoUri)
        exoPlayer.setMediaItem(mediaSource)
        exoPlayer.seekTo(lastPos)
        exoPlayer.playWhenReady = true
        exoPlayer.prepare()
    }

    /**
     * This will stop the player, but stopping the player shows black screen
     * so to cover that we set alpha to 0 of player
     * and lastFrame of player using imageView over player to make it look like paused player
     *
     * If we will not stop the player, only pause it, then it can cause memory issue due to overload of player
     * and paused player can not be played with new URL, after stopping the player we can reuse that with new URL
     *
     */
    fun removePlayer(
        triggerSwipeOrScrollEvent: Boolean = false,
        videoPlayerListener: LMFeedVideoPlayerListener? = null
    ) {
        exoPlayer.playWhenReady = false
        lastPos = exoPlayer.currentPosition
        if (triggerSwipeOrScrollEvent) {
            videoPlayerListener?.onVideoSwipedOrScrolled(lastPos, exoPlayer.duration)
        }
        exoPlayer.stop()
    }

    //sets provided [postVideoMediaStyle] to the post video view
    fun setStyle(postVideoMediaStyle: LMFeedPostVideoMediaViewStyle) {
        keepScreenOn = postVideoMediaStyle.keepScreenOn
        useController = postVideoMediaStyle.showController
        controllerAutoShow = postVideoMediaStyle.controllerAutoShow
        controllerShowTimeoutMs = postVideoMediaStyle.controllerShowTimeoutMs
    }

    private fun setThumbnail(thumbnailView: LMFeedImageView, thumbnailSrc: Any?) {
        this.thumbnailView = thumbnailView

        val thumbnailStyle =
            LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postVideoMediaStyle?.videoThumbnailStyle
                ?: return

        val finalThumbnailSrc = thumbnailSrc ?: thumbnailStyle.imageSrc

        thumbnailView.show()
        thumbnailView.setImage(finalThumbnailSrc, thumbnailStyle)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/theme/LMFeedAppearance.kt
================================================
package com.likeminds.feed.android.core.ui.theme

import androidx.annotation.*
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.theme.model.LMFeedAppearanceRequest

object LMFeedAppearance {
    private const val DEFAULT_POST_CHARACTER_LIMIT = 500
    private const val DEFAULT_POST_HEADING_LIMIT = 200
    const val DEFAULT_POST_MAX_LINES = 3
    const val DEFAULT_VISIBLE_DOCUMENTS_LIMIT = 3

    //font related
    @FontRes
    private var fontResource: Int? = R.font.lm_feed_roboto
    private var fontAssetsPath: String? = null

    //text link color
    @ColorRes
    private var textLinkColor: Int = R.color.lm_feed_pure_blue

    //button color
    @ColorRes
    private var buttonColor: Int = R.color.lm_feed_majorelle_blue

    //post character limits
    private var postCharacterLimit: Int = DEFAULT_POST_CHARACTER_LIMIT

    //post heading limit
    private var postHeadingLimit: Int = DEFAULT_POST_HEADING_LIMIT

    //notification related
    @DrawableRes
    private var notificationIcon: Int? = null

    /**
     * @param lmFeedAppearanceRequest - Request to set base appearance
     * sets fonts, used throughout the app as base lmFeedAppearance
     * */
    fun setAppearance(lmFeedAppearanceRequest: LMFeedAppearanceRequest?) {
        if (lmFeedAppearanceRequest == null) {
            return
        }

        fontResource = lmFeedAppearanceRequest.fontResource

        lmFeedAppearanceRequest.fontAssetsPath?.let {
            fontAssetsPath = it
        }

        lmFeedAppearanceRequest.textLinkColor?.let {
            textLinkColor = it
        }

        lmFeedAppearanceRequest.buttonColor?.let {
            buttonColor = it
        }

        lmFeedAppearanceRequest.postCharacterLimit?.let {
            postCharacterLimit = it
        }

        lmFeedAppearanceRequest.postHeadingLimit?.let {
            postHeadingLimit = it
        }

        notificationIcon = lmFeedAppearanceRequest.notificationIcon
    }

    //returns the pair of appearance font resource and assets path
    fun getFontResources(): Pair<Int?, String?> {
        return Pair(fontResource, fontAssetsPath)
    }

    //returns the limit of characters in the post text view to see more
    fun getPostCharacterLimit(): Int {
        return postCharacterLimit
    }

    //returns the limit of characters in the post heading view
    fun getPostHeadingLimit(): Int {
        return postHeadingLimit
    }

    fun getNotificationIcon(): Int? {
        return notificationIcon
    }

    fun getTextLinkColor(): Int {
        return textLinkColor
    }

    fun getButtonColor(): Int {
        return buttonColor
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/theme/model/LMFeedAppearanceRequest.kt
================================================
package com.likeminds.feed.android.core.ui.theme.model

import androidx.annotation.*

class LMFeedAppearanceRequest private constructor(
    @FontRes
    val fontResource: Int?,
    val fontAssetsPath: String?,
    @ColorRes val textLinkColor: Int?,
    @ColorRes val buttonColor: Int?,
    val postCharacterLimit: Int?,
    val postHeadingLimit: Int?,
    @DrawableRes val notificationIcon: Int?,
) {
    class Builder {
        @FontRes
        private var fontResource: Int? = null

        private var fontAssetsPath: String? = null

        @ColorRes
        private var textLinkColor: Int? = null

        @ColorRes
        private var buttonColor: Int? = null

        private var postCharacterLimit: Int? = null

        private var postHeadingLimit: Int? = null

        @DrawableRes
        private var notificationIcon: Int? = null

        fun fontResource(@FontRes fontResource: Int?) = apply {
            this.fontResource = fontResource
        }

        fun fontAssetsPath(fontAssetsPath: String?) = apply {
            this.fontAssetsPath = fontAssetsPath
        }

        fun textLinkColor(@ColorRes textLinkColor: Int?) = apply {
            this.textLinkColor = textLinkColor
        }

        fun buttonColor(@ColorRes buttonColor: Int?) = apply {
            this.buttonColor = buttonColor
        }

        fun postCharacterLimit(postCharacterLimit: Int?) = apply {
            this.postCharacterLimit = postCharacterLimit
        }

        fun postHeadingLimit(postHeadingLimit: Int?) = apply {
            this.postHeadingLimit = postHeadingLimit
        }

        fun notificationIcon(@DrawableRes notificationIcon: Int?) = apply {
            this.notificationIcon = notificationIcon
        }

        fun build() = LMFeedAppearanceRequest(
            fontResource,
            fontAssetsPath,
            textLinkColor,
            buttonColor,
            postCharacterLimit,
            postHeadingLimit,
            notificationIcon
        )
    }

    fun toBuilder(): Builder {
        return Builder().fontResource(fontResource)
            .fontAssetsPath(fontAssetsPath)
            .textLinkColor(textLinkColor)
            .buttonColor(buttonColor)
            .postCharacterLimit(postCharacterLimit)
            .postHeadingLimit(postHeadingLimit)
            .notificationIcon(notificationIcon)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/acitivityfeed/style/LMFeedActivityViewStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.acitivityfeed.style

import android.text.TextUtils
import androidx.annotation.ColorRes
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.widgets.headerview.style.LMFeedHeaderViewStyle
import com.likeminds.feed.android.core.ui.widgets.noentitylayout.style.LMFeedNoEntityLayoutViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedActivityViewStyle] helps you to customize the post detail fragment [LMFeedActivityView]
 *
 * @property userImageViewStyle : [LMFeedHeaderViewStyle] this will help you to customize the user image view in the activity view
 * @property activityTextStyle : [LMFeedFABStyle] this will help you to customize the text content in the activity view
 * @property postTypeBadgeStyle: [LMFeedNoEntityLayoutViewStyle] this will help you to customize the post type badge in the activity view | set its value to [null] if you want to hide the badge of post type in the activity view
 * @property timestampTextStyle: [LMFeedTextStyle] this will help you to customize the timestamp text in the activity view | set its value to [null] if you want to hide the timestamp in the activity view
 * @property readActivityBackgroundColor: [Int] should be in format of [ColorRes] to add background color of the activity view when it is read
 * @property unreadActivityBackgroundColor:  [Int] should be in format of [ColorRes] to add background color of the activity view when it is unread
 * */
class LMFeedActivityViewStyle private constructor(
    //user image style
    val userImageViewStyle: LMFeedImageStyle,
    //activity text style
    val activityTextStyle: LMFeedTextStyle,
    //post type badge style
    val postTypeBadgeStyle: LMFeedImageStyle?,
    //timestamp text style
    val timestampTextStyle: LMFeedTextStyle?,
    //read activity background color
    @ColorRes val readActivityBackgroundColor: Int?,
    //unread activity background color
    @ColorRes val unreadActivityBackgroundColor: Int?,
) : LMFeedViewStyle {

    class Builder {
        private var userImageViewStyle: LMFeedImageStyle = LMFeedImageStyle.Builder()
            .isCircle(true)
            .build()

        private var activityTextStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .ellipsize(TextUtils.TruncateAt.END)
            .textColor(R.color.lm_feed_dark_grey)
            .textSize(R.dimen.lm_feed_text_medium)
            .build()

        private var postTypeBadgeStyle: LMFeedImageStyle? = null

        private var timestampTextStyle: LMFeedTextStyle? = null

        @ColorRes
        private var readActivityBackgroundColor: Int? = null

        @ColorRes
        private var unreadActivityBackgroundColor: Int? = null

        fun userImageViewStyle(userImageViewStyle: LMFeedImageStyle) = apply {
            this.userImageViewStyle = userImageViewStyle
        }

        fun activityTextStyle(activityTextStyle: LMFeedTextStyle) = apply {
            this.activityTextStyle = activityTextStyle
        }

        fun postTypeBadgeStyle(postTypeBadgeStyle: LMFeedImageStyle?) = apply {
            this.postTypeBadgeStyle = postTypeBadgeStyle
        }

        fun timestampTextStyle(timestampTextStyle: LMFeedTextStyle?) = apply {
            this.timestampTextStyle = timestampTextStyle
        }

        fun readActivityBackgroundColor(@ColorRes readActivityBackgroundColor: Int?) = apply {
            this.readActivityBackgroundColor = readActivityBackgroundColor
        }

        fun unreadActivityBackgroundColor(@ColorRes unreadActivityBackgroundColor: Int?) = apply {
            this.unreadActivityBackgroundColor = unreadActivityBackgroundColor
        }

        fun build() = LMFeedActivityViewStyle(
            userImageViewStyle,
            activityTextStyle,
            postTypeBadgeStyle,
            timestampTextStyle,
            readActivityBackgroundColor,
            unreadActivityBackgroundColor
        )
    }

    fun toBuilder(): Builder {
        return Builder().userImageViewStyle(userImageViewStyle)
            .activityTextStyle(activityTextStyle)
            .postTypeBadgeStyle(postTypeBadgeStyle)
            .timestampTextStyle(timestampTextStyle)
            .readActivityBackgroundColor(readActivityBackgroundColor)
            .unreadActivityBackgroundColor(unreadActivityBackgroundColor)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/acitivityfeed/view/LMFeedActivityView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.acitivityfeed.view

import android.content.Context
import android.graphics.Color
import android.text.SpannableStringBuilder
import android.text.TextUtils
import android.util.AttributeSet
import android.view.LayoutInflater
import androidx.constraintlayout.widget.ConstraintLayout
import androidx.core.content.ContextCompat
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedActivityViewBinding
import com.likeminds.feed.android.core.post.model.*
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.widgets.acitivityfeed.style.LMFeedActivityViewStyle
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedTimeUtil
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.getValidTextForLinkify
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.user.LMFeedUserImageUtil
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData
import com.likeminds.usertagging.util.UserTaggingDecoder

class LMFeedActivityView : ConstraintLayout {

    constructor(context: Context) : super(context)

    constructor(context: Context, attrs: AttributeSet?) : super(context, attrs)

    constructor(context: Context, attrs: AttributeSet?, defStyle: Int) : super(
        context,
        attrs,
        defStyle
    )

    companion object {
        private const val MAX_LINES = 3
    }

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding: LmFeedActivityViewBinding =
        LmFeedActivityViewBinding.inflate(inflater, this, true)

    //sets provided [LMFeedActivityViewStyle] to the activity view
    fun setStyle(activityViewStyle: LMFeedActivityViewStyle) {

        activityViewStyle.apply {
            //sets background color
            unreadActivityBackgroundColor?.let {
                setBackgroundColor(ContextCompat.getColor(context, unreadActivityBackgroundColor))
            }

            //configure activity view elements
            configureUserImage(userImageViewStyle)
            configureActivityText(activityTextStyle)
            configurePostTypeBadge(postTypeBadgeStyle)
            configureTimestampText(timestampTextStyle)
        }
    }

    private fun configureUserImage(userImageViewStyle: LMFeedImageStyle) {
        binding.ivUserImage.setStyle(userImageViewStyle)
    }

    private fun configureActivityText(activityTextStyle: LMFeedTextStyle) {
        binding.tvActivityContent.setStyle(activityTextStyle)
    }

    private fun configurePostTypeBadge(postTypeBadgeStyle: LMFeedImageStyle?) {
        binding.ivPostType.apply {
            if (postTypeBadgeStyle == null) {
                hide()
            } else {
                setStyle(postTypeBadgeStyle)
                show()
            }
        }
    }

    private fun configureTimestampText(timestampTextStyle: LMFeedTextStyle?) {
        binding.tvActivityDate.apply {
            if (timestampTextStyle == null) {
                hide()
            } else {
                setStyle(timestampTextStyle)
                show()
            }
        }
    }

    /**
     * Sets activity content in the activity context text view
     *
     * @param activityContent Text for the activity content.
     */
    fun setActivityContent(activityContent: String) {
        binding.tvActivityContent.apply {
            /**
             * Text is modified as Linkify doesn't accept texts with these specific unicode characters
             * @see #Linkify.containsUnsupportedCharacters(String)
             */
            val textForLinkify = activityContent.getValidTextForLinkify()

            // post is used here to get lines count in the text view
            post {
                UserTaggingDecoder.decodeRegexIntoSpannableText(
                    this,
                    textForLinkify.trim(),
                    enableClick = false,
                    highlightColor = Color.BLACK,
                    hasAtRateSymbol = false,
                    isBold = true
                )

                // get the short text as per max lines
                var shortText: String? = null
                if (lineCount >= MAX_LINES) {
                    val lineEndIndex: Int = layout.getLineEnd(MAX_LINES - 1)
                    shortText = text.subSequence(0, lineEndIndex).toString().trim()
                }

                val trimmedText =
                    editableText.subSequence(0, (shortText?.length) ?: editableText.length)

                val ellipsizeSpanBuilder = SpannableStringBuilder()
                if (!shortText.isNullOrEmpty()) {
                    ellipsizeSpanBuilder.append("...")
                }

                text = TextUtils.concat(
                    trimmedText,
                    ellipsizeSpanBuilder
                )
            }
        }
    }

    /**
     * Sets the time the post was created.
     *
     * @param createdAtTimeStamp - timestamp when the post was created.
     */
    fun setTimestamp(createdAtTimeStamp: Long) {
        binding.tvActivityDate.apply {
            text = LMFeedTimeUtil.getRelativeTime(context, createdAtTimeStamp)
        }
    }

    /**
     * Sets the activity as read or unread
     *
     * @param isRead - whether the activity is read or not
     */
    fun setActivityRead(isRead: Boolean) {
        binding.root.apply {
            val activityViewStyle =
                LMFeedStyleTransformer.activityFeedFragmentViewStyle.activityViewStyle
            if (isRead) {
                activityViewStyle.readActivityBackgroundColor?.let { readActivityBackgroundColor ->
                    setBackgroundColor(ContextCompat.getColor(context, readActivityBackgroundColor))
                }
            } else {
                activityViewStyle.unreadActivityBackgroundColor?.let { unreadActivityBackgroundColor ->
                    setBackgroundColor(
                        ContextCompat.getColor(
                            context,
                            unreadActivityBackgroundColor
                        )
                    )
                }
            }
        }
    }

    /**
     * Sets the user image view.
     *
     * @param user - data of the author.
     */
    fun setUserImage(user: LMFeedUserViewData) {
        var userImageViewStyle =
            LMFeedStyleTransformer.activityFeedFragmentViewStyle.activityViewStyle.userImageViewStyle

        if (userImageViewStyle.placeholderSrc == null) {
            userImageViewStyle = userImageViewStyle.toBuilder().placeholderSrc(
                LMFeedUserImageUtil.getNameDrawable(
                    user.sdkClientInfoViewData.uuid,
                    user.name,
                    userImageViewStyle.isCircle,
                ).first
            ).build()
        }
        binding.ivUserImage.setImage(user.imageUrl, userImageViewStyle)
    }

    /**
     * Sets the post type badge for the activity as per the attachment type in the activity's post entity
     *
     * @param attachmentType - attachment type in the activity's post entity
     */
    fun setPostTypeBadge(@LMFeedAttachmentType attachmentType: Int?) {
        binding.apply {
            val badgeStyle =
                LMFeedStyleTransformer.activityFeedFragmentViewStyle.activityViewStyle.postTypeBadgeStyle
            if (badgeStyle == null) {
                cvPostType.hide()
                return@apply
            } else {
                when (attachmentType) {
                    IMAGE -> {
                        cvPostType.show()
                        ivPostType.setImage(
                            R.drawable.lm_feed_ic_media_attachment,
                            badgeStyle
                        )
                    }

                    VIDEO -> {
                        cvPostType.show()
                        ivPostType.setImage(
                            R.drawable.lm_feed_ic_media_attachment,
                            badgeStyle
                        )
                    }

                    DOCUMENT -> {
                        cvPostType.show()
                        ivPostType.setImage(
                            R.drawable.lm_feed_ic_doc_attachment,
                            badgeStyle
                        )
                    }

                    else -> {
                        cvPostType.hide()
                    }
                }
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/alertdialog/style/LMFeedAlertDialogViewStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.alertdialog.style

import android.graphics.Typeface
import android.text.TextUtils
import androidx.annotation.ColorRes
import androidx.annotation.DimenRes
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedAlertDialogViewStyle] helps you to customize the alert dialog view [LMFeedAlertDialogView]
 *
 * @property alertTitleText : [LMFeedTextStyle] this will help you to customize the title text in the alert dialog view
 * @property alertSubtitleText : [LMFeedTextStyle] this will help you to customize the subtitle text in the alert dialog view | set its value to [null] if you want to hide the subtitle text in the alert dialog view
 * @property alertNegativeButtonStyle: [LMFeedTextStyle] this will help you to customize the negative button in the alert dialog view | set its value to [null] if you want to hide the negative button in the alert dialog view
 * @property alertPositiveButtonStyle: [LMFeedTextStyle] this will help you to customize the positive button in the alert dialog view | set its value to [null] if you want to hide the positive button in the alert dialog view
 * @property alertSelectorStyle: [LMFeedTextStyle] this will help you to customize the selector view in the alert dialog view | set its value to [null] if you want to hide the selector view in the alert dialog view
 * @property alertInputStyle: [LMFeedEditTextStyle] this will help you to customize the input box in the alert dialog view  | set its value to [null] if you want to hide the input box in the alert dialog view
 * @property alertActivePositiveButtonColor: [Int] should be in format of [ColorRes] this will help you to customize the color of the active positive button | Default value = [R.color.lm_feed_majorelle_blue]
 * @property alertBoxElevation: [Int] should be in format of [DimenRes] this will help you to customize the elevation of the alert dialog view | Default value = [null]
 * @property alertBoxCornerRadius: [Int] should be in format of [DimenRes] this will help you to customize the corner radius of the alert dialog view | Default value = [null]
 * @property backgroundColor: [Int] should be in format of [ColorRes] to add background color of the alert dialog view | Default value =  [null]
 * */
class LMFeedAlertDialogViewStyle private constructor(
    //alert title text style
    val alertTitleText: LMFeedTextStyle,
    //alert subtitle text style
    val alertSubtitleText: LMFeedTextStyle?,
    //alert negative button style
    val alertNegativeButtonStyle: LMFeedTextStyle?,
    //alert positive button style
    val alertPositiveButtonStyle: LMFeedTextStyle?,
    //alert selector box style
    val alertSelectorStyle: LMFeedTextStyle?,
    //alert input field style
    val alertInputStyle: LMFeedEditTextStyle?,
    //alert active positive button color
    @ColorRes val alertActivePositiveButtonColor: Int,
    //alert box elevation
    @DimenRes val alertBoxElevation: Int?,
    //alert box corner radius
    @DimenRes val alertBoxCornerRadius: Int?,
    //alert box background color
    @ColorRes val backgroundColor: Int?
) : LMFeedViewStyle {

    class Builder {
        private var alertTitleText: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .ellipsize(TextUtils.TruncateAt.END)
            .textSize(R.dimen.lm_feed_text_medium)
            .textColor(R.color.lm_feed_black_87)
            .fontResource(R.font.lm_feed_roboto_medium)
            .typeface(Typeface.NORMAL)
            .build()

        private var alertSubtitleText: LMFeedTextStyle? = null

        private var alertNegativeButtonStyle: LMFeedTextStyle? = null

        private var alertPositiveButtonStyle: LMFeedTextStyle? = null

        private var alertSelectorStyle: LMFeedTextStyle? = null

        private var alertInputStyle: LMFeedEditTextStyle? = null

        @ColorRes
        private var alertActivePositiveButtonColor: Int = LMFeedAppearance.getButtonColor()

        @DimenRes
        private var alertBoxElevation: Int? = null

        @DimenRes
        private var alertBoxCornerRadius: Int? = null

        @ColorRes
        private var backgroundColor: Int? = null

        fun alertTitleText(alertTitleText: LMFeedTextStyle) = apply {
            this.alertTitleText = alertTitleText
        }

        fun alertSubtitleText(alertSubtitleText: LMFeedTextStyle?) = apply {
            this.alertSubtitleText = alertSubtitleText
        }

        fun alertNegativeButtonStyle(alertNegativeButtonStyle: LMFeedTextStyle?) = apply {
            this.alertNegativeButtonStyle = alertNegativeButtonStyle
        }

        fun alertPositiveButtonStyle(alertPositiveButtonStyle: LMFeedTextStyle?) = apply {
            this.alertPositiveButtonStyle = alertPositiveButtonStyle
        }

        fun alertSelectorStyle(alertSelectorStyle: LMFeedTextStyle?) = apply {
            this.alertSelectorStyle = alertSelectorStyle
        }

        fun alertInputStyle(alertInputStyle: LMFeedEditTextStyle?) = apply {
            this.alertInputStyle = alertInputStyle
        }

        fun alertActivePositiveButtonColor(@ColorRes alertActivePositiveButtonColor: Int) =
            apply {
                this.alertActivePositiveButtonColor = alertActivePositiveButtonColor
            }

        fun alertBoxElevation(@DimenRes alertBoxElevation: Int?) = apply {
            this.alertBoxElevation = alertBoxElevation
        }

        fun alertBoxCornerRadius(@DimenRes alertBoxCornerRadius: Int?) = apply {
            this.alertBoxCornerRadius = alertBoxCornerRadius
        }

        fun backgroundColor(@ColorRes backgroundColor: Int?) = apply {
            this.backgroundColor = backgroundColor
        }

        fun build() = LMFeedAlertDialogViewStyle(
            alertTitleText,
            alertSubtitleText,
            alertNegativeButtonStyle,
            alertPositiveButtonStyle,
            alertSelectorStyle,
            alertInputStyle,
            alertActivePositiveButtonColor,
            alertBoxElevation,
            alertBoxCornerRadius,
            backgroundColor
        )
    }

    fun toBuilder(): Builder {
        return Builder().alertTitleText(alertTitleText)
            .alertSubtitleText(alertSubtitleText)
            .alertNegativeButtonStyle(alertNegativeButtonStyle)
            .alertPositiveButtonStyle(alertPositiveButtonStyle)
            .alertSelectorStyle(alertSelectorStyle)
            .alertInputStyle(alertInputStyle)
            .alertActivePositiveButtonColor(alertActivePositiveButtonColor)
            .alertBoxElevation(alertBoxElevation)
            .alertBoxCornerRadius(alertBoxCornerRadius)
            .alertBoxCornerRadius(alertBoxCornerRadius)
            .backgroundColor(backgroundColor)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/alertdialog/view/LMFeedAlertDialogView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.alertdialog.view

import android.content.Context
import android.util.AttributeSet
import android.view.LayoutInflater
import androidx.cardview.widget.CardView
import androidx.core.content.ContextCompat
import androidx.core.view.isVisible
import com.likeminds.feed.android.core.databinding.LmFeedAlertDialogViewBinding
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.base.views.LMFeedEditText
import com.likeminds.feed.android.core.ui.widgets.alertdialog.style.LMFeedAlertDialogViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnClickListener

class LMFeedAlertDialogView : CardView {

    constructor(context: Context) : super(context)

    constructor(context: Context, attributeSet: AttributeSet?) : super(context, attributeSet)

    constructor(context: Context, attributeSet: AttributeSet?, defStyle: Int) : super(
        context,
        attributeSet,
        defStyle
    )

    //returns the edit text to input the reason
    val etReason: LMFeedEditText
        get() = binding.etReason

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding = LmFeedAlertDialogViewBinding.inflate(inflater, this, true)

    private lateinit var style: LMFeedAlertDialogViewStyle

    //sets provided [alertDialogStyle] to the alert dialog view
    fun setStyle(alertDialogStyle: LMFeedAlertDialogViewStyle) {
        alertDialogStyle.apply {
            style = this

            //sets background color of the alert box
            backgroundColor?.let {
                setBackgroundColor(ContextCompat.getColor(context, backgroundColor))
            }

            //sets elevation to the alert box
            alertBoxElevation?.let {
                cardElevation = resources.getDimension(alertBoxElevation)
            }

            //sets card corner radius of the alert dialog
            alertBoxCornerRadius?.let {
                radius = resources.getDimension(alertBoxCornerRadius)
            }

            //customizes all the views inside the alert dialog box
            customizeAlertTitle(alertTitleText)
            customizeAlertSubtitle(alertSubtitleText)
            customizeAlertNegativeButton(alertNegativeButtonStyle)
            customizeAlertPositiveButton(alertPositiveButtonStyle)
            customizeAlertSelector(alertSelectorStyle)
            customizeAlertInput(alertInputStyle)
        }
    }

    private fun customizeAlertTitle(alertTitleText: LMFeedTextStyle) {
        binding.tvAlertSubtitle.setStyle(alertTitleText)
    }

    private fun customizeAlertSubtitle(alertSubtitleText: LMFeedTextStyle?) {
        binding.tvAlertSubtitle.apply {
            if (alertSubtitleText == null) {
                hide()
            } else {
                setStyle(alertSubtitleText)
                show()
            }
        }
    }

    private fun customizeAlertNegativeButton(alertNegativeButtonStyle: LMFeedTextStyle?) {
        binding.tvAlertCancel.apply {
            if (alertNegativeButtonStyle == null) {
                hide()
            } else {
                setStyle(alertNegativeButtonStyle)
                show()
            }
        }
    }

    private fun customizeAlertPositiveButton(alertPositiveButtonStyle: LMFeedTextStyle?) {
        binding.tvAlertConfirm.apply {
            if (alertPositiveButtonStyle == null) {
                hide()
            } else {
                setStyle(alertPositiveButtonStyle)
                show()
            }
        }
    }

    private fun customizeAlertSelector(alertSelectorStyle: LMFeedTextStyle?) {
        binding.apply {
            if (alertSelectorStyle == null) {
                cvAlertSelector.hide()
            } else {
                tvAlertSelector.setStyle(alertSelectorStyle)
                cvAlertSelector.show()
            }
        }
    }

    private fun customizeAlertInput(alertInputStyle: LMFeedEditTextStyle?) {
        binding.apply {
            if (alertInputStyle == null) {
                cvAlertInput.hide()
            } else {
                etReason.setStyle(alertInputStyle)
            }
        }
    }

    /**
     * Sets title text in the alert dialog.
     *
     * @param title Text for the title in the dialog.
     */
    fun setAlertTitle(title: String) {
        binding.tvAlertTitle.text = title
    }

    /**
     * Sets subtitle text in the alert dialog.
     *
     * @param subtitle Text for the subtitle in the dialog.
     */
    fun setAlertSubtitle(subtitle: String) {
        binding.tvAlertSubtitle.text = subtitle
    }

    /**
     * Sets selector text in the alert dialog.
     *
     * @param selector Text for the selector in the dialog.
     */
    fun setAlertSelectorText(selector: String) {
        binding.tvAlertSelector.text = selector
    }

    /**
     * Sets text for positive button for alert dialog
     *
     * @param positiveButtonText Text for the positive button in dialog
     */
    fun setAlertPositiveButtonText(positiveButtonText: String) {
        binding.tvAlertConfirm.text = positiveButtonText
    }

    /**
     * Sets text for negative button for alert dialog
     *
     * @param negativeButtonText Text for the negative button in dialog
     */
    fun setAlertNegativeButtonText(negativeButtonText: String) {
        binding.tvAlertCancel.text = negativeButtonText
    }

    /**
     * Sets alert input reason visibility
     *
     * @param isVisible whether to make the input reason visible or hide
     */
    fun setAlertInputReasonVisibility(isVisible: Boolean) {
        binding.cvAlertInput.isVisible = isVisible
    }

    /**
     * Sets hint to the alert input
     *
     * @param hint hint to be set for the alert input
     */
    fun setAlertInputHint(hint: String) {
        binding.etReason.hint = hint
    }

    /**
     * Sets click listener on the selector view
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setAlertSelectorClickListener(listener: LMFeedOnClickListener) {
        binding.cvAlertSelector.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the positive button of the alert dialog
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setPositiveButtonClickListener(listener: LMFeedOnClickListener) {
        binding.tvAlertConfirm.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the negative button of the alert dialog
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setNegativeButtonClickListener(listener: LMFeedOnClickListener) {
        binding.tvAlertCancel.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets the positive button style as per its configuration (disabled/enabled)
     *
     * @param isEnabled - whether to enable/disable the positive button
     */
    fun setPositiveButtonEnabled(isEnabled: Boolean) {
        binding.tvAlertConfirm.apply {
            this.isEnabled = isEnabled
            if (isEnabled) {
                setTextColor(
                    ContextCompat.getColor(
                        context,
                        style.alertActivePositiveButtonColor
                    )
                )
            } else {
                style.alertPositiveButtonStyle?.textColor?.let {
                    setTextColor(ContextCompat.getColor(context, it))
                }
            }
        }
    }

    //return the reason input in the alert input box
    fun getAlertInputReason(): String {
        return binding.etReason.text.toString()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/comment/commentcomposer/style/LMFeedCommentComposerViewStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.comment.commentcomposer.style

import android.graphics.Typeface
import android.text.TextUtils
import androidx.annotation.ColorRes
import androidx.annotation.DimenRes
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedCommentComposerViewStyle] helps you to customize the comment view [LMFeedCommentComposerView]
 *
 * @property commentInputStyle : [LMFeedEditTextStyle] this will help you to customize the comment input box (edit text)
 * @property commentSendStyle : [LMFeedIconStyle] this will help you to customize the comment submit button
 * @property commentRestrictedStyle: [LMFeedTextStyle] this will help you to customize the comment restricted view | set its value to [null] if you want to hide the comment restricted view
 * @property replyingToStyle: [LMFeedTextStyle] this will help you to customize the replying to text view | set its value to [null] if you want to hide the replying to text view
 * @property removeReplyingToStyle: [LMFeedIconStyle] this will help you to customize the remove replying to view icon | set its value to [null] if you want to hide the remove replying to view icon
 * @property elevation: [Int] should be in format of [DimenRes] to customize the elevation of the comment composer | Default value = [null]
 * @property backgroundColor: [Int] should be in format of [ColorRes] this will help you to customize the background color of the comment composer | Default value = [null]
 * */
class LMFeedCommentComposerViewStyle private constructor(
    //comment input style
    val commentInputStyle: LMFeedEditTextStyle,
    //comment send style
    val commentSendStyle: LMFeedIconStyle,
    //comment restricted style
    val commentRestrictedStyle: LMFeedTextStyle?,
    //replying to view style
    val replyingToStyle: LMFeedTextStyle?,
    //remove replying to view style
    val removeReplyingToStyle: LMFeedIconStyle?,
    //elevation of the composer
    @DimenRes val elevation: Int?,
    //background color of the composer
    @ColorRes val backgroundColor: Int?
) : LMFeedViewStyle {
    class Builder {
        private var commentInputStyle: LMFeedEditTextStyle = LMFeedEditTextStyle.Builder()
            .inputTextStyle(
                LMFeedTextStyle.Builder()
                    .ellipsize(TextUtils.TruncateAt.END)
                    .maxHeight(R.dimen.lm_feed_text_max_height)
                    .minHeight(R.dimen.lm_feed_text_min_height)
                    .textColor(R.color.lm_feed_dark_grey)
                    .textSize(R.dimen.lm_feed_text_large)
                    .typeface(Typeface.NORMAL)
                    .fontResource(R.font.lm_feed_roboto)
                    .backgroundColor(R.color.lm_feed_white)
                    .build()
            )
            .backgroundColor(R.color.lm_feed_white)
            .hintTextColor(R.color.lm_feed_maastricht_blue_40)
            .build()

        private var commentSendStyle: LMFeedIconStyle = LMFeedIconStyle.Builder()
            .activeSrc(R.drawable.lm_feed_ic_comment_send_enable)
            .inActiveSrc(R.drawable.lm_feed_ic_comment_send_disable)
            .backgroundColor(R.color.lm_feed_white)
            .iconTint(LMFeedAppearance.getButtonColor())
            .build()

        private var commentRestrictedStyle: LMFeedTextStyle? = null

        private var replyingToStyle: LMFeedTextStyle? = null

        private var removeReplyingToStyle: LMFeedIconStyle? = null

        @DimenRes
        private var elevation: Int? = null

        @ColorRes
        private var backgroundColor: Int? = null

        fun commentInputStyle(commentInputStyle: LMFeedEditTextStyle) = apply {
            this.commentInputStyle = commentInputStyle
        }

        fun commentSendStyle(commentSendStyle: LMFeedIconStyle) = apply {
            this.commentSendStyle = commentSendStyle
        }

        fun commentRestrictedStyle(commentRestrictedStyle: LMFeedTextStyle?) = apply {
            this.commentRestrictedStyle = commentRestrictedStyle
        }

        fun replyingToStyle(replyingToStyle: LMFeedTextStyle?) = apply {
            this.replyingToStyle = replyingToStyle
        }

        fun removeReplyingToStyle(removeReplyingToStyle: LMFeedIconStyle?) = apply {
            this.removeReplyingToStyle = removeReplyingToStyle
        }

        fun elevation(@DimenRes elevation: Int?) = apply {
            this.elevation = elevation
        }

        fun backgroundColor(@ColorRes backgroundColor: Int?) = apply {
            this.backgroundColor = backgroundColor
        }

        fun build() = LMFeedCommentComposerViewStyle(
            commentInputStyle,
            commentSendStyle,
            commentRestrictedStyle,
            replyingToStyle,
            removeReplyingToStyle,
            elevation,
            backgroundColor
        )
    }

    fun toBuilder(): Builder {
        return Builder().commentInputStyle(commentInputStyle)
            .commentSendStyle(commentSendStyle)
            .commentRestrictedStyle(commentRestrictedStyle)
            .replyingToStyle(replyingToStyle)
            .removeReplyingToStyle(removeReplyingToStyle)
            .elevation(elevation)
            .backgroundColor(backgroundColor)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/comment/commentcomposer/view/LMFeedCommentComposerView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.comment.commentcomposer.view

import android.content.Context
import android.util.AttributeSet
import android.view.LayoutInflater
import androidx.constraintlayout.widget.ConstraintLayout
import androidx.core.content.ContextCompat
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedCommentComposerViewBinding
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.base.views.LMFeedEditText
import com.likeminds.feed.android.core.ui.widgets.comment.commentcomposer.style.LMFeedCommentComposerViewStyle
import com.likeminds.feed.android.core.utils.LMFeedCommunityUtil
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.pluralizeOrCapitalize
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnClickListener
import com.likeminds.feed.android.core.utils.pluralize.model.LMFeedWordAction

class LMFeedCommentComposerView : ConstraintLayout {

    constructor(context: Context) : super(context)

    constructor(context: Context, attrs: AttributeSet?) : super(context, attrs)

    constructor(context: Context, attrs: AttributeSet?, defStyle: Int) : super(
        context,
        attrs,
        defStyle
    )

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding: LmFeedCommentComposerViewBinding =
        LmFeedCommentComposerViewBinding.inflate(inflater, this, true)

    val etComment: LMFeedEditText
        get() = binding.etComment

    //sets provided [LMFeedCommentComposerViewStyle] to the comment composer view
    fun setStyle(commentComposerStyle: LMFeedCommentComposerViewStyle) {

        commentComposerStyle.apply {
            //sets elevation to the comment composer view
            elevation?.let {
                this@LMFeedCommentComposerView.elevation = resources.getDimension(it)
            }

            //sets background color of the comment composer view
            backgroundColor?.let {
                this@LMFeedCommentComposerView.setBackgroundColor(
                    ContextCompat.getColor(
                        context,
                        it
                    )
                )
            }

            //configures each view inside comment composer view
            configureCommentInput(commentInputStyle)
            configureCommentSend(commentSendStyle)
            configureCommentRestricted(commentRestrictedStyle)
            configureReplyingTo(replyingToStyle)
            configureRemoveReplyingTo(removeReplyingToStyle)
        }
    }

    private fun configureCommentInput(commentInputStyle: LMFeedEditTextStyle) {
        binding.etComment.setStyle(commentInputStyle)
    }

    private fun configureCommentSend(commentSendStyle: LMFeedIconStyle) {
        binding.ivCommentSend.setStyle(commentSendStyle)
    }

    private fun configureCommentRestricted(commentRestrictedStyle: LMFeedTextStyle?) {
        binding.tvRestricted.apply {
            if (commentRestrictedStyle == null) {
                hide()
            } else {
                setStyle(commentRestrictedStyle)
            }
        }
    }

    private fun configureReplyingTo(replyingToStyle: LMFeedTextStyle?) {
        binding.tvReplyingTo.apply {
            if (replyingToStyle == null) {
                hide()
            } else {
                setStyle(replyingToStyle)
            }
        }
    }

    private fun configureRemoveReplyingTo(removeReplyingToStyle: LMFeedIconStyle?) {
        binding.ivRemoveReplyingTo.apply {
            if (removeReplyingToStyle == null) {
                hide()
            } else {
                setStyle(removeReplyingToStyle)
            }
        }
    }

    /**
     * Sets hint text to the comment input bon
     *
     * @param hint - hint text to be set as hint
     */
    fun setCommentInputBoxHint(hint: String) {
        binding.etComment.hint = hint
    }

    /**
     * Sets active/inactive comment send icon.
     *
     * @param isEnabled - whether the comment send is enabled or not.
     */
    fun setCommentSendButton(isEnabled: Boolean = false) {
        val commentComposerStyle =
            LMFeedStyleTransformer.postDetailFragmentViewStyle.commentComposerStyle
        val iconStyle = commentComposerStyle.commentSendStyle

        binding.ivCommentSend.apply {
            this.isEnabled = isEnabled

            val commentSendIcon = if (isEnabled) {
                iconStyle.activeSrc
            } else {
                iconStyle.inActiveSrc
            }

            if (commentSendIcon != null) {
                setImageDrawable(
                    ContextCompat.getDrawable(
                        context,
                        commentSendIcon
                    )
                )
            }
        }
    }

    /**
     * Sets click listener on the comment send icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setCommentSendClickListener(listener: LMFeedOnClickListener) {
        binding.ivCommentSend.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the remove reply view
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setRemoveReplyingToClickListener(listener: LMFeedOnClickListener) {
        binding.ivRemoveReplyingTo.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Shows the replying if user is replying to the comment
     *
     * @param replyingTo - name of the user to which current user is replying, if this is empty then we hide replyingTo view
     */
    fun setReplyingView(replyingTo: String) {
        binding.apply {
            if (replyingTo.isEmpty()) {
                tvReplyingTo.hide()
                ivRemoveReplyingTo.hide()
            } else {
                tvReplyingTo.show()
                ivRemoveReplyingTo.show()

                tvReplyingTo.text = replyingTo
            }
        }
    }

    /**
     * Restricts the user to comment if they don't have the rights
     *
     * @param hasCommentRights - whether the user has the rights to comment or not
     */
    fun setCommentRights(hasCommentRights: Boolean) {
        binding.apply {
            if (hasCommentRights) {
                etComment.show()
                ivCommentSend.show()
                tvRestricted.hide()
            } else {
                etComment.hide()
                ivCommentSend.hide()
                tvRestricted.show()
                tvRestricted.text =
                    context.getString(
                        R.string.lm_feed_you_do_not_have_permission_to_s_comment,
                        LMFeedCommunityUtil.getCommentVariable()
                            .pluralizeOrCapitalize(LMFeedWordAction.ALL_SMALL_SINGULAR)
                    )
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/comment/commentlayout/style/LMFeedCommentView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.comment.commentlayout.style

import android.content.Context
import android.text.*
import android.text.style.ClickableSpan
import android.text.style.ForegroundColorSpan
import android.text.util.Linkify
import android.util.AttributeSet
import android.view.LayoutInflater
import android.view.View
import androidx.constraintlayout.widget.ConstraintLayout
import androidx.core.content.ContextCompat
import androidx.core.text.util.LinkifyCompat
import androidx.core.view.isVisible
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedCommentViewBinding
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.widgets.comment.commentlayout.view.LMFeedCommentViewStyle
import com.likeminds.feed.android.core.utils.*
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.getValidTextForLinkify
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.link.LMFeedLinkMovementMethod
import com.likeminds.feed.android.core.utils.link.LMFeedOnLinkClickListener
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnClickListener
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnTaggedMemberClickListener
import com.likeminds.feed.android.core.utils.user.LMFeedUserImageUtil
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData
import com.likeminds.usertagging.util.UserTaggingDecoder

class LMFeedCommentView : ConstraintLayout {

    constructor(context: Context) : super(context)

    constructor(context: Context, attributeSet: AttributeSet?) : super(context, attributeSet)

    constructor(context: Context, attributeSet: AttributeSet?, defStyle: Int) : super(
        context,
        attributeSet,
        defStyle
    )

    //returns the comment menu icon
    val commentMenu: View get() = binding.ivCommentMenu

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding = LmFeedCommentViewBinding.inflate(inflater, this, true)

    //sets provided [LMFeedCommentViewStyle] to the comment view
    fun setStyle(commentViewStyle: LMFeedCommentViewStyle) {

        commentViewStyle.apply {
            //set background color
            backgroundColor?.let {
                setBackgroundColor(ContextCompat.getColor(context, backgroundColor))
            }

            configureCommenterImage(commenterImageViewStyle)
            configureCommenterName(commenterNameTextStyle)
            configureCommentContent(commentContentStyle)
            configureMenuIcon(menuIconStyle)
            configureLikeIcon(likeIconStyle)
            configureLikeText(likeTextStyle)
            configureReplyText(replyTextStyle)
            configureReplyCountText(replyCountTextStyle)
            configureTimestampText(timestampTextStyle)
            configureCommentEditedText(commentEditedTextStyle)
        }
    }

    private fun configureCommenterImage(commenterImageViewStyle: LMFeedImageStyle?) {
        binding.ivCommenterImage.apply {
            if (commenterImageViewStyle == null) {
                hide()
            } else {
                show()
                setStyle(commenterImageViewStyle)
            }
        }
    }

    private fun configureCommenterName(commenterNameTextStyle: LMFeedTextStyle) {
        binding.tvCommenterName.setStyle(commenterNameTextStyle)
    }

    private fun configureCommentContent(commentContentStyle: LMFeedTextStyle) {
        binding.tvCommentContent.setStyle(commentContentStyle)
    }

    private fun configureMenuIcon(menuIconStyle: LMFeedIconStyle?) {
        binding.ivCommentMenu.apply {
            if (menuIconStyle == null) {
                hide()
            } else {
                show()
                setStyle(menuIconStyle)
            }
        }
    }

    private fun configureLikeIcon(likeIconStyle: LMFeedIconStyle) {
        binding.ivLike.setStyle(likeIconStyle)
    }

    private fun configureLikeText(likeTextStyle: LMFeedTextStyle?) {
        binding.tvLikesCount.apply {
            if (likeTextStyle == null) {
                hide()
            } else {
                setStyle(likeTextStyle)
            }
        }
    }

    private fun configureReplyText(replyTextStyle: LMFeedTextStyle?) {
        binding.apply {
            if (replyTextStyle == null) {
                tvReply.hide()
                likesSeparator.hide()
            } else {
                tvReply.setStyle(replyTextStyle)
                tvReply.show()
                likesSeparator.show()
            }
        }
    }

    private fun configureReplyCountText(replyCountTextStyle: LMFeedTextStyle?) {
        binding.apply {
            if (replyCountTextStyle == null) {
                groupReplies.hide()
            } else {
                tvReplyCount.setStyle(replyCountTextStyle)
            }
        }
    }

    private fun configureTimestampText(timestampTextStyle: LMFeedTextStyle?) {
        binding.tvCommentTime.apply {
            if (timestampTextStyle == null) {
                hide()
            } else {
                setStyle(timestampTextStyle)
            }
        }
    }

    private fun configureCommentEditedText(commentEditedTextStyle: LMFeedTextStyle?) {
        binding.apply {
            if (commentEditedTextStyle == null) {
                tvEdited.hide()
                viewDotEdited.hide()
            } else {
                tvEdited.setStyle(commentEditedTextStyle)
            }
        }
    }

    /**
     * Sets comment creator image in the view.
     *
     * @param user - data of the commenter.
     */
    fun setCommentCreatorImage(user: LMFeedUserViewData) {
        val commentViewStyle = LMFeedStyleTransformer.postDetailFragmentViewStyle.commentViewStyle
        var commenterImageViewStyle = commentViewStyle.commenterImageViewStyle ?: return

        if (commenterImageViewStyle.placeholderSrc == null) {
            commenterImageViewStyle = commenterImageViewStyle.toBuilder().placeholderSrc(
                LMFeedUserImageUtil.getNameDrawable(
                    user.sdkClientInfoViewData.uuid,
                    user.name,
                    commenterImageViewStyle.isCircle,
                ).first
            ).build()
        }
        binding.ivCommenterImage.setImage(user.imageUrl, commenterImageViewStyle)
    }

    /**
     * Sets the name of the comment creator
     *
     * @param commenterName - string to be set for commenter's name.
     */
    fun setCommentCreatorName(commenterName: String) {
        binding.tvCommenterName.text = commenterName
    }

    /**
     * Sets the content of the comment
     *
     * @param commentText - string to be set for comment text.
     * @param alreadySeenFullContent - whether the comment content was seen completely or not.
     * @param onCommentSeeMoreClickListener [LMFeedOnClickListener] - interface to have click listener
     */
    fun setCommentContent(
        commentText: String,
        alreadySeenFullContent: Boolean?,
        onCommentSeeMoreClickListener: LMFeedOnClickListener,
        onMemberTagClickListener: LMFeedOnTaggedMemberClickListener
    ) {
        binding.tvCommentContent.apply {

            /**
             * Text is modified as Linkify doesn't accept texts with these specific unicode characters
             * @see #Linkify.containsUnsupportedCharacters(String)
             */
            val textForLinkify = commentText.getValidTextForLinkify()

            var alreadySeen = alreadySeenFullContent == true

            if (textForLinkify.isEmpty()) {
                hide()
                return
            } else {
                show()
            }

            // todo: take see more read more from styles
            // span for seeMore feature
            val seeMoreColor = ContextCompat.getColor(context, R.color.lm_feed_brown_grey)
            val seeMore = SpannableStringBuilder(context.getString(R.string.lm_feed_see_more))
            seeMore.setSpan(
                ForegroundColorSpan(seeMoreColor),
                0,
                seeMore.length,
                Spannable.SPAN_EXCLUSIVE_EXCLUSIVE
            )
            val seeMoreClickableSpan = object : ClickableSpan() {
                override fun onClick(view: View) {
                    alreadySeen = true
                    onCommentSeeMoreClickListener.onClick()
                }

                override fun updateDrawState(textPaint: TextPaint) {
                    textPaint.isUnderlineText = false
                }
            }

            // post is used here to get lines count in the text view
            post {
                // decodes tags in text and creates span around those tags
                UserTaggingDecoder.decodeRegexIntoSpannableText(
                    this,
                    textForLinkify,
                    enableClick = true,
                    highlightColor = ContextCompat.getColor(
                        context,
                        LMFeedAppearance.getTextLinkColor()
                    ),
                ) { route ->
                    val uuid = route.getQueryParameter("member_id")
                        ?: route.getQueryParameter("user_id")
                        ?: route.getQueryParameter("uuid")
                        ?: route.lastPathSegment
                        ?: return@decodeRegexIntoSpannableText

                    onMemberTagClickListener.onMemberTaggedClicked(uuid)
                }

                // gets short text to set with seeMore
                val shortText: String? = LMFeedSeeMoreUtil.getShortContent(
                    this,
                    3,
                    500
                )

                val trimmedText =
                    if (!alreadySeen && !shortText.isNullOrEmpty()) {
                        editableText.subSequence(0, shortText.length)
                    } else {
                        editableText
                    }

                val seeMoreSpannableStringBuilder = SpannableStringBuilder()
                if (!alreadySeen && !shortText.isNullOrEmpty()) {
                    seeMoreSpannableStringBuilder.append("...")
                    seeMoreSpannableStringBuilder.append(seeMore)
                    seeMoreSpannableStringBuilder.setSpan(
                        seeMoreClickableSpan,
                        3,
                        seeMore.length + 3,
                        Spanned.SPAN_EXCLUSIVE_EXCLUSIVE
                    )
                }

                // appends see more text at last
                text = TextUtils.concat(
                    trimmedText,
                    seeMoreSpannableStringBuilder
                )
            }
        }
    }

    /**
     * Sets the time the comment was created.
     *
     * @param createdAtTimeStamp - timestamp when the comment was created.
     */
    fun setTimestamp(createdAtTimeStamp: Long) {
        binding.tvCommentTime.text = LMFeedTimeUtil.getRelativeCreationTimeInString(createdAtTimeStamp)
    }

    /**
     * Shows the `Edited` text if the comment was edited.
     *
     * @param isEdited - whether the comment was edited or not.
     */
    fun setCommentEdited(isEdited: Boolean) {
        binding.viewDotEdited.isVisible = isEdited
        binding.tvEdited.isVisible = isEdited
    }

    /**
     * Sets active/inactive like icon based on whether the comment is liked or not.
     *
     * @param isLiked - whether the comment is liked or not.
     */
    fun setCommentLikesIcon(isLiked: Boolean = false) {
        val iconStyle =
            LMFeedStyleTransformer.postDetailFragmentViewStyle.commentViewStyle.likeIconStyle

        val likeIcon = if (isLiked) {
            iconStyle.activeSrc
        } else {
            iconStyle.inActiveSrc
        }

        if (likeIcon != null) {
            binding.ivLike.setImageDrawable(ContextCompat.getDrawable(context, likeIcon))
        }
    }

    /**
     * Sets likes count text to the likes text view.
     *
     * @param likesCount - string to be set for likes count.
     */
    fun setLikesCount(likesCount: String) {
        binding.tvLikesCount.apply {
            if (likesCount.isEmpty()) {
                hide()
            } else {
                show()
                text = likesCount
            }
        }
    }

    /**
     * Sets the reply text for the reply text view
     *
     * @param replyText - string to be set for reply text.
     */
    fun setReplyText(replyText: String) {
        binding.tvReply.apply {
            if (replyText.isEmpty()) {
                hide()
            } else {
                show()
                text = replyText
            }
        }
    }

    /**
     * Sets replies count text to the reply count text view.
     *
     * @param repliesCount - string to be set for replies count.
     */
    fun setRepliesCount(repliesCount: String) {
        binding.apply {
            if (repliesCount.isEmpty()) {
                groupReplies.hide()
            } else {
                groupReplies.show()
                tvReplyCount.text = repliesCount
            }
        }
    }

    /**
     * Sets click listener on the like icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setLikesCountClickListener(listener: LMFeedOnClickListener) {
        binding.tvLikesCount.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the like icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setLikeIconClickListener(listener: LMFeedOnClickListener) {
        binding.ivLike.setOnClickListener { view ->
            // bounce animation for like button
            LMFeedViewUtils.showBounceAnim(view.context, view)
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the reply text
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setReplyClickListener(listener: LMFeedOnClickListener) {
        binding.tvReply.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the reply count text
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setReplyCountClickListener(listener: LMFeedOnClickListener) {
        binding.tvReplyCount.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the menu icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setMenuIconClickListener(listener: LMFeedOnClickListener) {
        binding.ivCommentMenu.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the commenter header
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setCommenterHeaderClickListener(listener: LMFeedOnClickListener) {
        binding.ivCommenterImage.setOnClickListener {
            listener.onClick()
        }

        binding.tvCommenterName.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Linkify the comment content and returns a link click listener along with the clicked link url
     *
     * @param linkClickListener [LMFeedOnLinkClickListener] interface to have a  link click listener
     */
    fun linkifyCommentContent(linkClickListener: LMFeedOnLinkClickListener) {
        binding.apply {
            val linkifyLinks =
                (Linkify.WEB_URLS or Linkify.EMAIL_ADDRESSES or Linkify.PHONE_NUMBERS)

            LinkifyCompat.addLinks(tvCommentContent, linkifyLinks)
            tvCommentContent.movementMethod = LMFeedLinkMovementMethod { url ->
                tvCommentContent.setOnClickListener {
                    return@setOnClickListener
                }

                linkClickListener.onLinkClicked((url))
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/comment/commentlayout/view/LMFeedCommentViewStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.comment.commentlayout.view

import android.text.TextUtils
import androidx.annotation.ColorRes
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedCommentViewStyle] helps you to customize the comment view [LMFeedCommentView]
 *
 * @property commenterImageViewStyle : [LMFeedImageStyle] this will help you to customize the comment creator image in the comment view
 * @property commenterNameTextStyle : [LMFeedTextStyle] this will help you to customize the comment creator name in the comment view
 * @property commentContentStyle: [LMFeedTextStyle] this will help you to customize the comment content text in the comment view
 * @property menuIconStyle: [LMFeedIconStyle] this will help you to customize the menu icon in the comment view |  set its value to [null] if you want to hide the menu icon in the comment view
 * @property likeIconStyle: [LMFeedIconStyle] this will help you to customize the like icon in the comment view
 * @property likeTextStyle: [LMFeedTextStyle] this will help you to customize the like text in the comment view | set its value to [null] if you want to hide the like text in the comment view
 * @property replyTextStyle: [LMFeedTextStyle] this will help you to customize the reply text in the comment view | set its value to [null] if you want to hide the reply text in the comment view
 * @property replyCountTextStyle: [LMFeedTextStyle] this will help you to customize the reply count text in the comment view | set its value to [null] if you want to hide the reply count text in the comment view
 * @property timestampTextStyle: [LMFeedTextStyle] this will help you to customize the timestamp text in the comment view | set its value to [null] if you want to hide the timestamp text in the comment view
 * @property commentEditedTextStyle: [LMFeedTextStyle] this will help you to customize the edited text tag in an edited comment view |  set its value to [null] if you want to hide the edited tag in the comment view
 * @property backgroundColor:  [Int] should be in format of [ColorRes] to add background color of the comment view | Default value = [null]
 *
 * */
class LMFeedCommentViewStyle private constructor(
    //commenter image style
    val commenterImageViewStyle: LMFeedImageStyle?,
    //commenter name style
    val commenterNameTextStyle: LMFeedTextStyle,
    //comment content style
    val commentContentStyle: LMFeedTextStyle,
    //comment menu icon style
    val menuIconStyle: LMFeedIconStyle?,
    //comment like icon style
    val likeIconStyle: LMFeedIconStyle,
    //comment like count text style
    val likeTextStyle: LMFeedTextStyle?,
    //comment reply text style
    val replyTextStyle: LMFeedTextStyle?,
    //comment replies count text style
    val replyCountTextStyle: LMFeedTextStyle?,
    //comment timestamp text style
    val timestampTextStyle: LMFeedTextStyle?,
    //comment edited text style
    val commentEditedTextStyle: LMFeedTextStyle?,
    //comment view background color
    @ColorRes val backgroundColor: Int?
) : LMFeedViewStyle {

    class Builder {
        private var commenterImageViewStyle: LMFeedImageStyle? = null

        private var commenterNameTextStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .ellipsize(TextUtils.TruncateAt.END)
            .maxLines(1)
            .textColor(R.color.lm_feed_raisin_black)
            .textSize(R.dimen.lm_feed_text_medium)
            .fontResource(R.font.lm_feed_roboto_medium)
            .build()

        private var commentContentStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textColor(R.color.lm_feed_raisin_black)
            .textSize(R.dimen.lm_feed_text_medium)
            .build()

        private var menuIconStyle: LMFeedIconStyle? = null

        private var likeIconStyle: LMFeedIconStyle = LMFeedIconStyle.Builder()
            .activeSrc(R.drawable.lm_feed_ic_like_comment_filled)
            .inActiveSrc(R.drawable.lm_feed_ic_like_comment_unfilled)
            .build()

        private var likeTextStyle: LMFeedTextStyle? = null

        private var replyTextStyle: LMFeedTextStyle? = null

        private var replyCountTextStyle: LMFeedTextStyle? = null

        private var timestampTextStyle: LMFeedTextStyle? = null

        private var commentEditedTextStyle: LMFeedTextStyle? = null

        @ColorRes
        private var backgroundColor: Int? = null

        fun commenterImageViewStyle(commenterImageViewStyle: LMFeedImageStyle?) = apply {
            this.commenterImageViewStyle = commenterImageViewStyle
        }

        fun commenterNameTextStyle(commenterNameTextStyle: LMFeedTextStyle) = apply {
            this.commenterNameTextStyle = commenterNameTextStyle
        }

        fun commentContentStyle(commentContentStyle: LMFeedTextStyle) = apply {
            this.commentContentStyle = commentContentStyle
        }

        fun menuIconStyle(menuIconStyle: LMFeedIconStyle?) = apply {
            this.menuIconStyle = menuIconStyle
        }

        fun likeIconStyle(likeIconStyle: LMFeedIconStyle) = apply {
            this.likeIconStyle = likeIconStyle
        }

        fun likeTextStyle(likeTextStyle: LMFeedTextStyle?) = apply {
            this.likeTextStyle = likeTextStyle
        }

        fun replyTextStyle(replyTextStyle: LMFeedTextStyle?) = apply {
            this.replyTextStyle = replyTextStyle
        }

        fun replyCountTextStyle(replyCountTextStyle: LMFeedTextStyle?) = apply {
            this.replyCountTextStyle = replyCountTextStyle
        }

        fun timestampTextStyle(timestampTextStyle: LMFeedTextStyle?) = apply {
            this.timestampTextStyle = timestampTextStyle
        }

        fun commentEditedTextStyle(commentEditedTextStyle: LMFeedTextStyle?) = apply {
            this.commentEditedTextStyle = commentEditedTextStyle
        }

        fun backgroundColor(@ColorRes backgroundColor: Int?) = apply {
            this.backgroundColor = backgroundColor
        }

        fun build() = LMFeedCommentViewStyle(
            commenterImageViewStyle,
            commenterNameTextStyle,
            commentContentStyle,
            menuIconStyle,
            likeIconStyle,
            likeTextStyle,
            replyTextStyle,
            replyCountTextStyle,
            timestampTextStyle,
            commentEditedTextStyle,
            backgroundColor
        )
    }

    fun toBuilder(): Builder {
        return Builder().commenterImageViewStyle(commenterImageViewStyle)
            .commenterNameTextStyle(commenterNameTextStyle)
            .commentContentStyle(commentContentStyle)
            .menuIconStyle(menuIconStyle)
            .likeIconStyle(likeIconStyle)
            .likeTextStyle(likeTextStyle)
            .replyTextStyle(replyTextStyle)
            .replyCountTextStyle(replyCountTextStyle)
            .timestampTextStyle(timestampTextStyle)
            .commentEditedTextStyle(commentEditedTextStyle)
            .backgroundColor(backgroundColor)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/headerview/style/LMFeedHeaderViewStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.headerview.style

import android.graphics.Typeface
import androidx.annotation.ColorRes
import androidx.annotation.DimenRes
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedHeaderViewStyle] helps you to customize the header view [LMFeedHeaderView]
 *
 * @property titleTextStyle : [LMFeedTextStyle] this will help you to customize the title text of the header view
 * @property subtitleTextStyle : [LMFeedTextStyle] this will help you to customize the subtitle text of the header view | set its value to [null] if you want to hide the subtitle in the header
 * @property backgroundColor: [Int] should be in format of [ColorRes] to add background color of the header | Default value =  [R.color.lm_feed_white]
 * @property elevation: [Int] should be in format of [DimenRes] to add custom elevation to the header view | Default value =  [R.dimen.lm_feed_elevation_small]
 * @property submitTextStyle: [LMFeedTextStyle] this will help you to customize the submit text in the header view | set its value to [null] if you want to hide the submit text in the header view
 * @property activeSubmitColor: [Int] should be in format of [ColorRes] this will help you to customize the color of active submit text in the header view | Default value = [null]
 * @property navigationIconStyle: [LMFeedIconStyle] this will help you to customize the navigation icon in the header view | set its value to [null] if you want to hide the navigation icon in the header
 * @property searchIconStyle: [LMFeedIconStyle] this will help you to customize the search icon in the header view | set its value to [null] if you want to hide the search icon in the header
 * @property userProfileStyle: [LMFeedImageStyle] this will help you to customize the user profile view in the header view | set its value to [null] if you want to hide the user profile view in the header
 * @property notificationIconStyle: [LMFeedIconStyle] this will help you to customize the notification icon in the header view | set its value to [null] if you want to hide the notification icon in the header
 * @property notificationCountTextStyle: [LMFeedTextStyle] this will help you to customize the notification count text in the header view | set its value to [null] if you want to hide notification count text in the header
 * */
class LMFeedHeaderViewStyle private constructor(
    //title text style
    val titleTextStyle: LMFeedTextStyle,
    //subtitle text style
    val subtitleTextStyle: LMFeedTextStyle?,
    //background color for the view
    @ColorRes val backgroundColor: Int,
    //elevation for the view
    @DimenRes val elevation: Int,
    //submit text style
    val submitTextStyle: LMFeedTextStyle?,
    //submit button's active color
    @ColorRes val activeSubmitColor: Int?,
    //navigation icon style
    val navigationIconStyle: LMFeedIconStyle?,
    //search icon style
    val searchIconStyle: LMFeedIconStyle?,
    //profile image style in header
    val userProfileStyle: LMFeedImageStyle?,
    //notification icon style
    val notificationIconStyle: LMFeedIconStyle?,
    //notification count style
    val notificationCountTextStyle: LMFeedTextStyle?,
) : LMFeedViewStyle {

    class Builder {
        private var titleTextStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textColor(R.color.lm_feed_black)
            .typeface(Typeface.NORMAL)
            .build()

        private var subtitleTextStyle: LMFeedTextStyle? = null

        @ColorRes
        private var backgroundColor: Int = R.color.lm_feed_white

        @DimenRes
        private var elevation: Int = R.dimen.lm_feed_elevation_small

        private var submitTextStyle: LMFeedTextStyle? = null

        @ColorRes
        private var activeSubmitColor: Int? = null

        private var navigationIconStyle: LMFeedIconStyle? = null

        private var searchIconStyle: LMFeedIconStyle? = null

        private var userProfileStyle: LMFeedImageStyle? = null

        private var notificationIconStyle: LMFeedIconStyle? = null

        private var notificationCountTextStyle: LMFeedTextStyle? = null

        fun titleTextStyle(titleTextStyle: LMFeedTextStyle) = apply {
            this.titleTextStyle = titleTextStyle
        }

        fun subtitleTextStyle(subtitleTextStyle: LMFeedTextStyle?) = apply {
            this.subtitleTextStyle = subtitleTextStyle
        }

        fun backgroundColor(@ColorRes backgroundColor: Int) = apply {
            this.backgroundColor = backgroundColor
        }

        fun elevation(@DimenRes elevation: Int) = apply {
            this.elevation = elevation
        }

        fun submitTextStyle(submitTextStyle: LMFeedTextStyle?) = apply {
            this.submitTextStyle = submitTextStyle
        }

        fun activeSubmitColor(@ColorRes activeSubmitColor: Int?) = apply {
            this.activeSubmitColor = activeSubmitColor
        }

        fun navigationIconStyle(navigationIconStyle: LMFeedIconStyle?) = apply {
            this.navigationIconStyle = navigationIconStyle
        }

        fun searchIconStyle(searchIconStyle: LMFeedIconStyle?) = apply {
            this.searchIconStyle = searchIconStyle
        }

        fun userProfileStyle(userProfileStyle: LMFeedImageStyle?) = apply {
            this.userProfileStyle = userProfileStyle
        }

        fun notificationIconStyle(notificationIconStyle: LMFeedIconStyle?) = apply {
            this.notificationIconStyle = notificationIconStyle
        }

        fun notificationCountTextStyle(notificationCountTextStyle: LMFeedTextStyle?) = apply {
            this.notificationCountTextStyle = notificationCountTextStyle
        }

        fun build() = LMFeedHeaderViewStyle(
            titleTextStyle,
            subtitleTextStyle,
            backgroundColor,
            elevation,
            submitTextStyle,
            activeSubmitColor,
            navigationIconStyle,
            searchIconStyle,
            userProfileStyle,
            notificationIconStyle,
            notificationCountTextStyle
        )
    }

    fun toBuilder(): Builder {
        return Builder().titleTextStyle(titleTextStyle)
            .subtitleTextStyle(subtitleTextStyle)
            .backgroundColor(backgroundColor)
            .elevation(elevation)
            .submitTextStyle(submitTextStyle)
            .activeSubmitColor(activeSubmitColor)
            .navigationIconStyle(navigationIconStyle)
            .searchIconStyle(searchIconStyle)
            .userProfileStyle(userProfileStyle)
            .notificationIconStyle(notificationIconStyle)
            .notificationCountTextStyle(notificationCountTextStyle)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/headerview/view/LMFeedHeaderView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.headerview.view

import android.content.Context
import android.util.AttributeSet
import android.util.TypedValue
import android.view.LayoutInflater
import android.view.View
import androidx.constraintlayout.widget.ConstraintLayout
import androidx.core.content.ContextCompat
import androidx.core.view.isVisible
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedHeaderViewBinding
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.widgets.headerview.style.LMFeedHeaderViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnClickListener
import com.likeminds.feed.android.core.utils.user.LMFeedUserImageUtil
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData

class LMFeedHeaderView : ConstraintLayout {

    constructor(context: Context) : super(context)

    constructor(context: Context, attrs: AttributeSet?) : super(context, attrs)

    constructor(context: Context, attrs: AttributeSet?, defStyle: Int) : super(
        context,
        attrs,
        defStyle
    )

    private lateinit var style: LMFeedHeaderViewStyle

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding: LmFeedHeaderViewBinding =
        LmFeedHeaderViewBinding.inflate(inflater, this, true)

    /**
     * sets [LMFeedHeaderViewStyle] to [LMFeedHeaderView]
     */
    fun setStyle(headerViewStyle: LMFeedHeaderViewStyle) {

        headerViewStyle.apply {
            style = this

            //sets background color
            setBackgroundColor(ContextCompat.getColor(context, backgroundColor))

            //sets the elevation of the header view
            this@LMFeedHeaderView.elevation = resources.getDimension(elevation)

            //configure header view elements
            configureTitle(titleTextStyle)
            configureSubtitle(subtitleTextStyle)
            configureNavigationIcon(navigationIconStyle)
            configureSearchIcon(searchIconStyle)
            configureSubmitText(submitTextStyle)
            configureUserProfile(userProfileStyle)
            configureNotificationIcon(notificationIconStyle)
            configureNotificationCountText(notificationCountTextStyle)
        }
    }

    private fun configureTitle(titleTextStyle: LMFeedTextStyle) {
        binding.tvHeaderTitle.setStyle(titleTextStyle)
    }

    private fun configureSubtitle(subtitleTextStyle: LMFeedTextStyle?) {
        binding.tvHeaderSubtitle.apply {
            if (subtitleTextStyle == null) {
                hide()
            } else {
                setStyle(subtitleTextStyle)
            }
        }
    }

    private fun configureNavigationIcon(navigationIconStyle: LMFeedIconStyle?) {
        binding.ivHeaderNavigation.apply {
            if (navigationIconStyle == null) {
                hide()
            } else {
                setStyle(navigationIconStyle)
                show()
            }
        }
    }

    private fun configureSearchIcon(searchIconStyle: LMFeedIconStyle?) {
        binding.ivHeaderSearch.apply {
            if (searchIconStyle == null) {
                hide()
            } else {
                setStyle(searchIconStyle)
                show()
            }
        }
    }

    private fun configureSubmitText(submitTextStyle: LMFeedTextStyle?) {
        binding.tvHeaderSubmit.apply {
            if (submitTextStyle == null) {
                hide()
            } else {
                setStyle(submitTextStyle)
                show()
            }
        }
    }

    private fun configureUserProfile(userProfileStyle: LMFeedImageStyle?) {
        binding.ivUserProfile.apply {
            if (userProfileStyle == null) {
                hide()
            } else {
                setStyle(userProfileStyle)
            }
        }
    }

    private fun configureNotificationIcon(notificationIconStyle: LMFeedIconStyle?) {
        binding.ivHeaderNotification.apply {
            if (notificationIconStyle == null) {
                hide()
            } else {
                show()
                setStyle(notificationIconStyle)
            }
        }
    }

    private fun configureNotificationCountText(notificationCountTextStyle: LMFeedTextStyle?) {
        binding.tvHeaderNotificationCount.apply {
            if (notificationCountTextStyle == null) {
                hide()
            } else {
                setStyle(notificationCountTextStyle)
            }
        }
    }

    /**
     * Sets title text in the header view.
     *
     * @param title Text for the title in the header.
     */
    fun setTitleText(title: String) {
        binding.tvHeaderTitle.text = title
    }

    /**
     * Sets subtitle text in the header view.
     *
     * @param subtitle Text for the subtitle in the header.
     */
    fun setSubTitleText(subtitle: String) {
        binding.tvHeaderSubtitle.apply {
            binding.tvHeaderSubtitle.text = subtitle
            show()
        }
    }

    /**
     * Sets the navigation icon click listener
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setNavigationIconClickListener(listener: LMFeedOnClickListener) {
        binding.ivHeaderNavigation.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets submit text in the header view.
     *
     * @param submitText Text for the submit text in the header.
     */
    fun setSubmitText(submitText: String) {
        binding.tvHeaderSubmit.text = submitText
    }

    /**
     * Sets the submit button style as per its configuration (disabled/enabled)
     *
     * @param isEnabled - whether to enable/disable the submit button
     * @param showProgress - whether to show progress bar in plae of the submit button
     */
    fun setSubmitButtonEnabled(isEnabled: Boolean, showProgress: Boolean = false) {
        binding.apply {
            if (showProgress) {
                pbSubmit.show()
                tvHeaderSubmit.hide()
            } else {
                pbSubmit.hide()
                tvHeaderSubmit.show()
                if (isEnabled) {
                    tvHeaderSubmit.isEnabled = true
                    style.activeSubmitColor?.let {
                        tvHeaderSubmit.setTextColor(ContextCompat.getColor(context, it))
                    }
                } else {
                    tvHeaderSubmit.isEnabled = false
                    style.submitTextStyle?.textColor?.let {
                        tvHeaderSubmit.setTextColor(ContextCompat.getColor(context, it))
                    }
                }
            }
        }
    }

    /**
     * Sets the notification count on the notification icon in the header view
     *
     * @param count: count of notifications
     */
    fun setNotificationCountText(count: Int) {
        binding.apply {
            ivHeaderNotification.show()
            tvHeaderNotificationCount.show()
            when (count) {
                0 -> {
                    tvHeaderNotificationCount.hide()
                }

                in 1..99 -> {
                    configureNotificationBadge(count.toString())
                }

                else -> {
                    configureNotificationBadge(context.getString(R.string.lm_feed_nine_nine_plus))
                }
            }
        }
    }

    /**
     * Sets the visibility of the notification icon in the header view
     *
     * @param isVisible: whether to show the notification icon or not
     */
    fun setNotificationIconVisibility(isVisible: Boolean) {
        binding.ivHeaderNotification.isVisible = isVisible
        binding.tvHeaderNotificationCount.isVisible = isVisible
    }

    /**
     * Configure the notification badge based on the text length and visibility
     *
     * @param text: Text to show on the counter, eg - 99+, 8, etc
     */
    private fun configureNotificationBadge(text: String) {
        binding.tvHeaderNotificationCount.apply {
            if (text.length > 2) {
                setTextSize(TypedValue.COMPLEX_UNIT_SP, 7f)
            } else {
                setTextSize(TypedValue.COMPLEX_UNIT_SP, 10f)
            }
            this.text = text
            visibility = View.VISIBLE
        }
    }

    /**
     * Sets user profile in image view.
     *
     * @param user: data of the user.
     */
    fun setUserProfileImage(user: LMFeedUserViewData) {
        var userProfileViewStyle = style.userProfileStyle ?: return

        if (userProfileViewStyle.placeholderSrc == null) {
            userProfileViewStyle = userProfileViewStyle.toBuilder().placeholderSrc(
                LMFeedUserImageUtil.getNameDrawable(
                    user.sdkClientInfoViewData.uuid,
                    user.name,
                    userProfileViewStyle.isCircle,
                ).first
            ).build()
        }

        binding.ivUserProfile.apply {
            show()
            setImage(user.imageUrl, userProfileViewStyle)
        }
    }

    /**
     * Sets the search icon click listener
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setSearchIconClickListener(listener: LMFeedOnClickListener) {
        binding.ivHeaderSearch.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets the submit button click listener
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setSubmitButtonClickListener(listener: LMFeedOnClickListener) {
        binding.tvHeaderSubmit.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets the click listener on user profile view in the header view
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setUserProfileClickListener(listener: LMFeedOnClickListener) {
        binding.ivUserProfile.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets the click listener on the notification icon in the header view
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setNotificationIconClickListener(listener: LMFeedOnClickListener) {
        binding.ivHeaderNotification.setOnClickListener {
            listener.onClick()
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/labeliconcontainer/style/LMFeedLabelIconContainerViewStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.labeliconcontainer.style

import androidx.annotation.ColorRes
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.LMFeedIconStyle
import com.likeminds.feed.android.core.ui.base.styles.LMFeedTextStyle
import com.likeminds.feed.android.core.ui.widgets.labeliconcontainer.view.LMFeedLabelIconContainerView
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedLabelIconContainerViewStyle] helps you to customize the label icon container view [LMFeedLabelIconContainerView]
 *
 * @property containerIconStyle : [LMFeedIconStyle] this will help you to customize the icon in the label icon container view
 * @property containerLabelStyle : [LMFeedTextStyle] this will help you to customize the label text in the label icon container view
 * @property backgroundColor:  [Int] should be in format of [ColorRes] to add background color of the label icon container view | Default value = [null]
 * */
class LMFeedLabelIconContainerViewStyle private constructor(
    val containerIconStyle: LMFeedIconStyle,
    val containerLabelStyle: LMFeedTextStyle,
    @ColorRes val backgroundColor: Int?
) : LMFeedViewStyle {

    class Builder {
        private var containerIconStyle: LMFeedIconStyle = LMFeedIconStyle.Builder()
            .build()

        private var containerLabelStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textSize(R.dimen.lm_feed_text_large)
            .textColor(R.color.lm_feed_dark_grey)
            .fontResource(R.font.lm_feed_roboto)
            .build()

        @ColorRes
        private var backgroundColor: Int? = null

        fun containerIconStyle(containerIconStyle: LMFeedIconStyle) = apply {
            this.containerIconStyle = containerIconStyle
        }

        fun containerLabelStyle(containerLabelStyle: LMFeedTextStyle) = apply {
            this.containerLabelStyle = containerLabelStyle
        }

        fun backgroundColor(@ColorRes backgroundColor: Int?) = apply {
            this.backgroundColor = backgroundColor
        }

        fun build() =
            LMFeedLabelIconContainerViewStyle(
                containerIconStyle,
                containerLabelStyle,
                backgroundColor
            )
    }

    fun toBuilder(): Builder {
        return Builder().containerIconStyle(containerIconStyle)
            .containerLabelStyle(containerLabelStyle)
            .backgroundColor(backgroundColor)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/labeliconcontainer/view/LMFeedLabelIconContainerView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.labeliconcontainer.view

import android.content.Context
import android.util.AttributeSet
import android.view.LayoutInflater
import androidx.annotation.DrawableRes
import androidx.constraintlayout.widget.ConstraintLayout
import androidx.core.content.ContextCompat
import com.likeminds.feed.android.core.databinding.LmFeedLabelIconContainerViewBinding
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.widgets.labeliconcontainer.style.LMFeedLabelIconContainerViewStyle

class LMFeedLabelIconContainerView : ConstraintLayout {

    constructor(context: Context) : super(context)

    constructor(context: Context, attributeSet: AttributeSet?) : super(context, attributeSet)

    constructor(context: Context, attributeSet: AttributeSet?, defStyle: Int) : super(
        context,
        attributeSet,
        defStyle
    )

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding = LmFeedLabelIconContainerViewBinding.inflate(inflater, this, true)

    //sets provided [labelIconContainerViewStyle] to the label container view
    fun setStyle(labelIconContainerViewStyle: LMFeedLabelIconContainerViewStyle) {

        labelIconContainerViewStyle.apply {
            //set background color
            backgroundColor?.let {
                setBackgroundColor(ContextCompat.getColor(context, backgroundColor))
            }

            //configure each view in label icon container as per their styles
            configureContainerIcon(containerIconStyle)
            configureContainerLabel(containerLabelStyle)
        }
    }

    private fun configureContainerIcon(containerIconStyle: LMFeedIconStyle) {
        binding.ivContainerIcon.setStyle(containerIconStyle)
    }

    private fun configureContainerLabel(containerLabelStyle: LMFeedTextStyle) {
        binding.tvContainerLabel.setStyle(containerLabelStyle)
    }

    /**
     * Sets the provided icon to the icon of the label icon container view
     *
     * @param icon - drawable resource to be set as icon
     */
    fun setContainerIcon(@DrawableRes icon: Int) {
        binding.ivContainerIcon.setImageResource(icon)
    }

    /**
     * Sets the label of the label icon container view
     *
     * @param labelText - string to be set for label.
     */
    fun setContainerLabel(labelText: String) {
        binding.tvContainerLabel.text = labelText
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/labelimagecontainer/style/LMFeedLabelImageContainerViewStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.labelimagecontainer.style

import androidx.annotation.ColorRes
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedLabelImageContainerViewStyle] helps you to customize the label icon container view [LMFeedLabelImageContainerView]
 *
 * @property containerImageStyle : [LMFeedImageStyle] this will help you to customize the image in the label image container view
 * @property containerLabelStyle : [LMFeedTextStyle] this will help you to customize the label text in the label image container view
 * @property backgroundColor:  [Int] should be in format of [ColorRes] to add background color of the label image container view | Default value = [null]
 * */
class LMFeedLabelImageContainerViewStyle private constructor(
    val containerImageStyle: LMFeedImageStyle,
    val containerLabelStyle: LMFeedTextStyle,
    @ColorRes val backgroundColor: Int?
) : LMFeedViewStyle {

    class Builder {
        private var containerImageStyle: LMFeedImageStyle = LMFeedImageStyle.Builder()
            .isCircle(true)
            .build()

        private var containerLabelStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textSize(R.dimen.lm_feed_text_medium)
            .textColor(R.color.lm_feed_grey_brown_50)
            .fontResource(R.font.lm_feed_roboto)
            .build()

        @ColorRes
        private var backgroundColor: Int? = null

        fun containerImageStyle(containerImageStyle: LMFeedImageStyle) = apply {
            this.containerImageStyle = containerImageStyle
        }

        fun containerLabelStyle(containerLabelStyle: LMFeedTextStyle) = apply {
            this.containerLabelStyle = containerLabelStyle
        }

        fun backgroundColor(@ColorRes backgroundColor: Int?) = apply {
            this.backgroundColor = backgroundColor
        }

        fun build() =
            LMFeedLabelImageContainerViewStyle(
                containerImageStyle,
                containerLabelStyle,
                backgroundColor
            )
    }

    fun toBuilder(): Builder {
        return Builder().containerImageStyle(containerImageStyle)
            .containerLabelStyle(containerLabelStyle)
            .backgroundColor(backgroundColor)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/labelimagecontainer/view/LMFeedLabelImageContainerView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.labelimagecontainer.view

import android.content.Context
import android.util.AttributeSet
import android.view.LayoutInflater
import androidx.constraintlayout.widget.ConstraintLayout
import androidx.core.content.ContextCompat
import com.likeminds.feed.android.core.databinding.LmFeedLabelImageContainerViewBinding
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.widgets.labelimagecontainer.style.LMFeedLabelImageContainerViewStyle
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnClickListener

class LMFeedLabelImageContainerView : ConstraintLayout {

    constructor(context: Context) : super(context)

    constructor(context: Context, attributeSet: AttributeSet?) : super(context, attributeSet)

    constructor(context: Context, attributeSet: AttributeSet?, defStyle: Int) : super(
        context,
        attributeSet,
        defStyle
    )

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding = LmFeedLabelImageContainerViewBinding.inflate(inflater, this, true)

    private lateinit var labelImageContainerViewStyle: LMFeedLabelImageContainerViewStyle

    //sets provided [labelImageContainerViewStyle] to the label container view
    fun setStyle(labelImageContainerViewStyle: LMFeedLabelImageContainerViewStyle) {

        this.labelImageContainerViewStyle = labelImageContainerViewStyle
        labelImageContainerViewStyle.apply {
            //set background color
            backgroundColor?.let {
                setBackgroundColor(ContextCompat.getColor(context, backgroundColor))
            }

            //configure each view in label image container as per their styles
            configureContainerImage(containerImageStyle)
            configureContainerLabel(containerLabelStyle)
        }
    }

    private fun configureContainerImage(containerImageStyle: LMFeedImageStyle) {
        binding.ivContainer.setStyle(containerImageStyle)
    }

    private fun configureContainerLabel(containerLabelStyle: LMFeedTextStyle) {
        binding.tvContainerLabel.setStyle(containerLabelStyle)
    }

    /**
     * Sets author image view.
     *
     * @param imageSrc - source of the image
     */
    fun setContainerImage(imageSrc: Any) {
        binding.ivContainer.setImage(imageSrc, labelImageContainerViewStyle.containerImageStyle)
    }

    /**
     * Sets the label of the label image container view
     *
     * @param labelText - string to be set for label.
     */
    fun setContainerLabel(labelText: String) {
        binding.tvContainerLabel.text = labelText
    }

    /**
     * Sets click listener on the container view
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setContainerClickListener(listener: LMFeedOnClickListener) {
        binding.root.setOnClickListener {
            listener.onClick()
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/noentitylayout/style/LMFeedNoEntityLayoutViewStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.noentitylayout.style

import androidx.annotation.ColorRes
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.LMFeedFABStyle
import com.likeminds.feed.android.core.ui.base.styles.LMFeedImageStyle
import com.likeminds.feed.android.core.ui.base.styles.LMFeedTextStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedNoEntityLayoutViewStyle] helps to customize [LMFeedNoEntityLayoutView]
 * @property imageStyle: [LMFeedImageStyle] this will help to customize image of the no entity layout view| Set value to [null] to hide the image
 * @property titleStyle: [LMFeedTextStyle] this will help to customize title of the no entity layout view
 * @property subtitleStyle: [LMFeedTextStyle] this will help to customize subtitle of the no entity layout view | Set value to [null] to hide the subtitle
 * @property actionStyle: [LMFeedFABStyle] this will help to customize the action CTA of the no entity layout view | Set value to [null] to hide the action CTA
 * @property backgroundColor : [Int] should be format of [ColorRes], to add background color to the no entity layout view | Default value [R.color.lm_feed_cultured]
 */
class LMFeedNoEntityLayoutViewStyle private constructor(
    val imageStyle: LMFeedImageStyle?,
    val titleStyle: LMFeedTextStyle,
    val subtitleStyle: LMFeedTextStyle?,
    val actionStyle: LMFeedFABStyle?,
    @ColorRes val backgroundColor: Int,
) : LMFeedViewStyle {

    class Builder {
        private var imageStyle: LMFeedImageStyle? = null
        private var titleStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textColor(R.color.lm_feed_black)
            .textSize(R.dimen.lm_feed_text_extra_large)
            .fontResource(R.font.lm_feed_roboto_medium)
            .textAllCaps(false)
            .maxLines(1)
            .build()

        private var subtitleStyle: LMFeedTextStyle? = null
        private var actionStyle: LMFeedFABStyle? = null

        @ColorRes
        private var backgroundColor: Int = R.color.lm_feed_cultured

        fun imageStyle(imageStyle: LMFeedImageStyle?) = apply { this.imageStyle = imageStyle }
        fun titleStyle(titleStyle: LMFeedTextStyle) = apply { this.titleStyle = titleStyle }

        fun subtitleStyle(subtitleStyle: LMFeedTextStyle?) =
            apply { this.subtitleStyle = subtitleStyle }

        fun actionStyle(actionStyle: LMFeedFABStyle?) = apply { this.actionStyle = actionStyle }

        fun backgroundColor(@ColorRes backgroundColor: Int) =
            apply { this.backgroundColor = backgroundColor }

        fun build(): LMFeedNoEntityLayoutViewStyle {
            return LMFeedNoEntityLayoutViewStyle(
                imageStyle,
                titleStyle,
                subtitleStyle,
                actionStyle,
                backgroundColor
            )
        }
    }

    fun toBuilder(): Builder {
        return Builder().imageStyle(imageStyle)
            .titleStyle(titleStyle)
            .subtitleStyle(subtitleStyle)
            .actionStyle(actionStyle)
            .backgroundColor(backgroundColor)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/noentitylayout/view/LMFeedNoEntityLayoutView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.noentitylayout.view

import android.content.Context
import android.content.res.ColorStateList
import android.util.AttributeSet
import android.view.LayoutInflater
import androidx.annotation.ColorRes
import androidx.constraintlayout.widget.ConstraintLayout
import androidx.core.content.ContextCompat
import com.likeminds.feed.android.core.databinding.LmFeedNoEntityLayoutViewBinding
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.widgets.noentitylayout.style.LMFeedNoEntityLayoutViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnClickListener

class LMFeedNoEntityLayoutView : ConstraintLayout {

    constructor(context: Context) : super(context)

    constructor(context: Context, attributeSet: AttributeSet?) : super(context, attributeSet)

    constructor(context: Context, attributeSet: AttributeSet?, defStyle: Int) : super(
        context,
        attributeSet,
        defStyle
    )

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding = LmFeedNoEntityLayoutViewBinding.inflate(inflater, this, true)


    /**
     * Sets title text in the no entity layout view.
     *
     * @param title Text for the title in the header.
     */
    fun setTitleText(title: String) {
        binding.tvNoEntityTitle.text = title
    }

    /**
     * Sets subtitle text in the no entity layout view.
     *
     * @param subtitle Text for the subtitle in the header.
     */
    fun setSubtitleText(subtitle: String) {
        binding.tvNoEntitySubtitle.text = subtitle
    }

    /**
     * Sets the Action CTA text in the no entity layout view
     *
     * @param ctaAction: title of the CTA text
     */
    fun setActionCTAText(ctaAction: String) {
        binding.fabAction.text = ctaAction
    }

    /**
     * Sets the color of the action fab
     *
     * @param fabColor: color to be set to the action fab
     */
    fun setActionFABColor(@ColorRes fabColor: Int) {
        binding.fabAction.backgroundTintList =
            ColorStateList.valueOf(ContextCompat.getColor(context, fabColor))
    }

    /**
     * Sets click listener on the action FAB of the no entity layout view
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setActionFABClickListener(listener: LMFeedOnClickListener) {
        binding.fabAction.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * sets [LMFeedNoEntityLayoutViewStyle] to [LMFeedNoEntityLayoutView]
     */
    fun setStyle(noEntityLayoutViewStyle: LMFeedNoEntityLayoutViewStyle) {

        //set background color
        setBackgroundColor(ContextCompat.getColor(context, noEntityLayoutViewStyle.backgroundColor))

        //configures each view in the noEntityLayoutViewStyle with the provided styles
        configureTitle(noEntityLayoutViewStyle.titleStyle)
        configureSubtitle(noEntityLayoutViewStyle.subtitleStyle)
        configureImage(noEntityLayoutViewStyle.imageStyle)
        configureActionCTA(noEntityLayoutViewStyle.actionStyle)
    }

    private fun configureTitle(titleStyle: LMFeedTextStyle) {
        binding.tvNoEntityTitle.setStyle(titleStyle)
    }

    private fun configureSubtitle(subtitleStyle: LMFeedTextStyle?) {
        binding.tvNoEntitySubtitle.apply {
            if (subtitleStyle == null) {
                hide()
            } else {
                show()
                setStyle(subtitleStyle)
            }
        }
    }

    private fun configureImage(imageStyle: LMFeedImageStyle?) {
        binding.ivImage.apply {
            if (imageStyle == null) {
                hide()
            } else {
                show()
                setStyle(imageStyle)
            }
        }
    }

    private fun configureActionCTA(actionStyle: LMFeedFABStyle?) {
        binding.fabAction.apply {
            if (actionStyle == null) {
                hide()
            } else {
                show()
                setStyle(actionStyle)
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/overflowmenu/view/LMFeedOverflowMenu.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.overflowmenu.view

import android.content.Context
import android.view.Menu
import android.view.View
import android.widget.PopupMenu
import com.likeminds.feed.android.core.postmenu.model.LMFeedPostMenuItemViewData
import com.likeminds.feed.android.core.utils.listeners.LMFeedMenuItemClickListener

class LMFeedOverflowMenu(context: Context, view: View) : PopupMenu(context, view) {

    /**
     * Sets click listener on the menu icon
     *
     * @param listener [LMFeedMenuItemClickListener] interface to have click listener for menu item
     */
    fun setMenuItemClickListener(listener: LMFeedMenuItemClickListener) {
        setOnMenuItemClickListener {
            listener.onMenuItemClicked(it.itemId)
            true
        }
    }

    /**
     * Sets menu items to the popup menu
     *
     * @param menuItems list of [LMFeedPostMenuItemViewData]
     */
    fun addMenuItems(
        menuItems: List<LMFeedPostMenuItemViewData>
    ) {
        menuItems.forEach { menuItem ->
            menu.add(
                Menu.NONE,
                menuItem.id,
                Menu.NONE,
                menuItem.title
            )
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/poll/adapter/LMFeedPollOptionsAdapter.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.poll.adapter

import com.likeminds.feed.android.core.poll.result.model.LMFeedPollOptionViewData
import com.likeminds.feed.android.core.ui.widgets.poll.adapter.databinder.LMFeedItemPollOptionsViewDataBinder
import com.likeminds.feed.android.core.ui.widgets.poll.style.LMFeedPostPollOptionViewStyle
import com.likeminds.feed.android.core.utils.base.*

class LMFeedPollOptionsAdapter(
    private val pollPosition: Int,
    private val optionStyle: LMFeedPostPollOptionViewStyle?,
    private val pollOptionsAdapterListener: LMFeedPollOptionsAdapterListener?
) : LMFeedBaseRecyclerAdapter<LMFeedBaseViewType>() {

    init {
        initViewDataBinders()
    }

    override fun getSupportedViewDataBinder(): MutableList<LMFeedViewDataBinder<*, *>> {
        val viewDataBinders = ArrayList<LMFeedViewDataBinder<*, *>>(1)

        val itemPollOptionViewDataBinder =
            LMFeedItemPollOptionsViewDataBinder(
                pollPosition,
                optionStyle,
                pollOptionsAdapterListener
            )
        viewDataBinders.add(itemPollOptionViewDataBinder)

        return viewDataBinders
    }
}

interface LMFeedPollOptionsAdapterListener {

    fun onPollOptionClicked(
        pollPosition: Int,
        pollOptionPosition: Int,
        pollOptionViewData: LMFeedPollOptionViewData
    ) {
        //triggered when a poll option is clicked
    }

    fun onPollOptionVoteCountClicked(
        pollPosition: Int,
        pollOptionPosition: Int,
        pollOptionViewData: LMFeedPollOptionViewData
    ) {
        //triggered when a poll option vote count is clicked
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/poll/adapter/databinder/LMFeedItemPollOptionsViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.poll.adapter.databinder

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.feed.android.core.databinding.LmFeedItemPollOptionsBinding
import com.likeminds.feed.android.core.poll.result.model.LMFeedPollOptionViewData
import com.likeminds.feed.android.core.ui.widgets.poll.adapter.LMFeedPollOptionsAdapterListener
import com.likeminds.feed.android.core.ui.widgets.poll.style.LMFeedPostPollOptionViewStyle
import com.likeminds.feed.android.core.ui.widgets.poll.view.LMFeedPollOptionView
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_POST_POLL_OPTION

class LMFeedItemPollOptionsViewDataBinder(
    private val pollPosition: Int,
    private val optionStyle: LMFeedPostPollOptionViewStyle?,
    private val listener: LMFeedPollOptionsAdapterListener?
) : LMFeedViewDataBinder<LmFeedItemPollOptionsBinding, LMFeedPollOptionViewData>() {

    override val viewType: Int
        get() = ITEM_POST_POLL_OPTION

    override fun createBinder(parent: ViewGroup): LmFeedItemPollOptionsBinding {
        val binding = LmFeedItemPollOptionsBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        //set styles to the poll option view
        val postMediaStyle = LMFeedStyleTransformer.postViewStyle.postMediaViewStyle
        val pollOptionViewStyle =
            optionStyle ?: postMediaStyle.postPollMediaStyle?.pollOptionsViewStyle ?: return binding

        binding.pollOptionView.setStyle(pollOptionViewStyle)

        return binding
    }

    override fun bindData(
        binding: LmFeedItemPollOptionsBinding,
        data: LMFeedPollOptionViewData,
        position: Int
    ) {
        binding.pollOptionView.apply {
            setClickListeners(
                this,
                data,
                position
            )

            val postMediaStyle = LMFeedStyleTransformer.postViewStyle.postMediaViewStyle
            val pollOptionViewStyle =
                optionStyle ?: postMediaStyle.postPollMediaStyle?.pollOptionsViewStyle ?: return


            setPollOptionText(data.text)
            setPollOptionAddedByText(data, pollOptionViewStyle)
            setPollVotesCountText(data, pollOptionViewStyle)
            setPollOptionCheckedIconVisibility(data, pollOptionViewStyle)
            setPollOptionBackgroundAndProgress(
                data,
                pollOptionViewStyle
            )
        }
    }

    private fun setClickListeners(
        pollOptionView: LMFeedPollOptionView,
        pollOptionViewData: LMFeedPollOptionViewData,
        position: Int
    ) {
        pollOptionView.apply {
            setPollOptionClicked {
                listener?.onPollOptionClicked(
                    pollPosition,
                    position,
                    pollOptionViewData
                )
            }

            setPollOptionVotesCountClicked {
                listener?.onPollOptionVoteCountClicked(
                    pollPosition,
                    position,
                    pollOptionViewData
                )
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/poll/model/LMFeedAddPollOptionExtras.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.poll.model

import android.os.Parcelable
import kotlinx.parcelize.Parcelize

@Parcelize
class LMFeedAddPollOptionExtras private constructor(
    val postId: String,
    val pollId: String
) : Parcelable {

    class Builder {
        private var postId: String = ""
        private var pollId: String = ""

        fun postId(postId: String) = apply {
            this.postId = postId
        }

        fun pollId(pollId: String) = apply {
            this.pollId = pollId
        }

        fun build() = LMFeedAddPollOptionExtras(postId, pollId)
    }

    fun toBuilder(): Builder {
        return Builder().postId(postId)
            .pollId(pollId)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/poll/style/LMFeedAddPollOptionBottomSheetFragmentStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.poll.style

import android.text.TextUtils
import androidx.annotation.ColorRes
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.post.detail.style.LMFeedPostDetailFragmentViewStyle
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.widgets.comment.commentcomposer.style.LMFeedCommentComposerViewStyle
import com.likeminds.feed.android.core.ui.widgets.comment.commentlayout.view.LMFeedCommentViewStyle
import com.likeminds.feed.android.core.ui.widgets.headerview.style.LMFeedHeaderViewStyle
import com.likeminds.feed.android.core.ui.widgets.noentitylayout.style.LMFeedNoEntityLayoutViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle
import com.likeminds.feed.android.core.utils.model.LMFeedPadding

/**
 * [LMFeedAddPollOptionBottomSheetFragmentStyle] helps you to customize the post detail fragment [LMFeedAddPollOptionBottomSheetFragment]
 *
 * @property addOptionTitleTextStyle : [LMFeedTextStyle] this will help you to customize the title text in the add poll option bottom sheet
 * @property addOptionSubtitleTextStyle : [LMFeedTextStyle] this will help you to customize the subtitle text in the add poll option bottom sheet
 * @property addOptionInputBoxStyle: [LMFeedEditTextStyle] this will help you to customize the input box in the add poll option bottom sheet
 * @property addOptionSubmitButtonStyle: [LMFeedButtonStyle] this will help you to customize the submit button in the add poll option bottom sheet
 * @property addPollOptionCrossIconStyle: [LMFeedIconStyle] this will help you to the cross icon in the add poll option bottom sheet
 * @property backgroundColor: [Int] should be in format of [ColorRes] to customize the background color of the add option bottom sheet | Default value = null
 * */
class LMFeedAddPollOptionBottomSheetFragmentStyle private constructor(
    //add option title text style
    val addOptionTitleTextStyle: LMFeedTextStyle,
    //add option subtitle text style
    val addOptionSubtitleTextStyle: LMFeedTextStyle,
    //add option input box style
    val addOptionInputBoxStyle: LMFeedEditTextStyle,
    //submit option button style
    val addOptionSubmitButtonStyle: LMFeedButtonStyle,
    //cross add poll option sheet style
    val addPollOptionCrossIconStyle: LMFeedIconStyle,
    //background color of the bottom sheet
    @ColorRes val backgroundColor: Int?
) : LMFeedViewStyle {

    class Builder {
        private var addOptionTitleTextStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .fontResource(R.font.lm_feed_roboto_medium)
            .textSize(R.dimen.lm_feed_text_large)
            .textColor(R.color.lm_feed_black)
            .build()

        private var addOptionSubtitleTextStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .fontResource(R.font.lm_feed_roboto)
            .textSize(R.dimen.lm_feed_text_medium)
            .textColor(R.color.lm_feed_grey)
            .build()

        private var addOptionInputBoxStyle: LMFeedEditTextStyle = LMFeedEditTextStyle.Builder()
            .inputTextStyle(
                LMFeedTextStyle.Builder()
                    .textColor(R.color.lm_feed_dark_grey)
                    .textSize(R.dimen.lm_feed_poll_option_input_text_size)
                    .fontResource(R.font.lm_feed_roboto)
                    .ellipsize(TextUtils.TruncateAt.END)
                    .build()
            )
            .hintTextColor(R.color.lm_feed_dusty_grey)
            .build()

        private var addOptionSubmitButtonStyle: LMFeedButtonStyle = LMFeedButtonStyle.Builder()
            .textStyle(
                LMFeedTextStyle.Builder()
                    .textAllCaps(true)
                    .textSize(R.dimen.lm_feed_text_medium)
                    .fontResource(R.font.lm_feed_roboto_medium)
                    .textColor(R.color.lm_feed_white)
                    .build()
            )
            .cornerRadius(R.dimen.lm_feed_poll_option_submit_button_corner_radius)
            .disabledButtonColor(R.color.lm_feed_cloudy_blue)
            .build()

        private var addPollOptionCrossIconStyle: LMFeedIconStyle = LMFeedIconStyle.Builder()
            .inActiveSrc(R.drawable.lm_feed_ic_cross_black)
            .iconPadding(
                LMFeedPadding(
                    R.dimen.lm_feed_medium_padding,
                    R.dimen.lm_feed_medium_padding,
                    R.dimen.lm_feed_medium_padding,
                    R.dimen.lm_feed_medium_padding
                )
            )
            .build()

        @ColorRes
        private var backgroundColor: Int? = null

        fun addOptionTitleTextStyle(addOptionTitleTextStyle: LMFeedTextStyle) = apply {
            this.addOptionTitleTextStyle = addOptionTitleTextStyle
        }

        fun addOptionSubtitleTextStyle(addOptionSubtitleTextStyle: LMFeedTextStyle) = apply {
            this.addOptionSubtitleTextStyle = addOptionSubtitleTextStyle
        }

        fun addOptionInputBoxStyle(addOptionInputBoxStyle: LMFeedEditTextStyle) = apply {
            this.addOptionInputBoxStyle = addOptionInputBoxStyle
        }

        fun addOptionSubmitButtonStyle(addOptionSubmitButtonStyle: LMFeedButtonStyle) = apply {
            this.addOptionSubmitButtonStyle = addOptionSubmitButtonStyle
        }

        fun addPollOptionCrossIconStyle(addPollOptionCrossIconStyle: LMFeedIconStyle) = apply {
            this.addPollOptionCrossIconStyle = addPollOptionCrossIconStyle
        }

        fun backgroundColor(@ColorRes backgroundColor: Int?) = apply {
            this.backgroundColor = backgroundColor
        }

        fun build() = LMFeedAddPollOptionBottomSheetFragmentStyle(
            addOptionTitleTextStyle,
            addOptionSubtitleTextStyle,
            addOptionInputBoxStyle,
            addOptionSubmitButtonStyle,
            addPollOptionCrossIconStyle,
            backgroundColor
        )
    }

    fun toBuilder(): Builder {
        return Builder().addOptionTitleTextStyle(addOptionTitleTextStyle)
            .addOptionSubtitleTextStyle(addOptionSubtitleTextStyle)
            .addOptionInputBoxStyle(addOptionInputBoxStyle)
            .addOptionSubmitButtonStyle(addOptionSubmitButtonStyle)
            .addPollOptionCrossIconStyle(addPollOptionCrossIconStyle)
            .backgroundColor(backgroundColor)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/poll/style/LMFeedAnonymousPollDialogFragmentStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.poll.style

import android.graphics.Typeface
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.LMFeedTextStyle
import com.likeminds.feed.android.core.ui.widgets.alertdialog.style.LMFeedAlertDialogViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

class LMFeedAnonymousPollDialogFragmentStyle private constructor(
    //anonymous dialog style
    val anonymousPollDialogStyle: LMFeedAlertDialogViewStyle
) : LMFeedViewStyle {

    class Builder {
        private var anonymousPollDialogStyle: LMFeedAlertDialogViewStyle =
            LMFeedAlertDialogViewStyle.Builder()
                .alertSubtitleText(
                    LMFeedTextStyle.Builder()
                        .textColor(R.color.lm_feed_grey)
                        .textSize(R.dimen.lm_feed_text_medium)
                        .typeface(Typeface.NORMAL)
                        .build()
                )
                .alertPositiveButtonStyle(
                    LMFeedTextStyle.Builder()
                        .textAllCaps(true)
                        .textColor(R.color.lm_feed_black_20)
                        .textSize(R.dimen.lm_feed_text_small)
                        .typeface(Typeface.NORMAL)
                        .fontResource(R.font.lm_feed_roboto_medium)
                        .build()
                )
                .alertBoxElevation(R.dimen.lm_feed_elevation_small)
                .alertBoxCornerRadius(R.dimen.lm_feed_corner_radius_small)
                .build()

        fun anonymousPollDialogStyle(anonymousPollDialogStyle: LMFeedAlertDialogViewStyle) =
            apply {
                this.anonymousPollDialogStyle = anonymousPollDialogStyle
            }

        fun build() = LMFeedAnonymousPollDialogFragmentStyle(anonymousPollDialogStyle)
    }

    fun toBuilder(): Builder {
        return Builder().anonymousPollDialogStyle(anonymousPollDialogStyle)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/poll/style/LMFeedPostPollOptionViewStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.poll.style

import android.text.TextUtils
import androidx.annotation.ColorRes
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedPostPollOptionViewStyle] helps you to customize the post poll view [LMFeedPostPollView]
 *
 * @property pollOptionTextStyle : [LMFeedTextStyle] this will help you to customize the text of options on the post poll
 * @property pollSelectedOptionColor : [Int] should be in format of [ColorRes] this will help you to customize the color of selected options on the post poll
 * @property pollOtherOptionColor: [LMFeedTextStyle] this will help you to customize the color of unselected options on the post poll
 * @property pollOptionVotesCountTextStyle: [LMFeedTextStyle] this will help you to customize the votes count on post poll options
 * @property pollOptionAddedByTextStyle: [LMFeedButtonStyle] this will help you to customize the option added by text on post poll options
 * @property pollOptionCheckIconStyle: [LMFeedTextStyle] this will help you to customize the check icon on post poll options
 * */
class LMFeedPostPollOptionViewStyle private constructor(
    //poll option text style
    val pollOptionTextStyle: LMFeedTextStyle,
    //poll selected option color
    @ColorRes val pollSelectedOptionColor: Int,
    //poll other option color
    @ColorRes val pollOtherOptionColor: Int,
    //poll option votes count text color
    val pollOptionVotesCountTextStyle: LMFeedTextStyle?,
    //poll option added by text style
    val pollOptionAddedByTextStyle: LMFeedTextStyle?,
    //poll option check icon style
    val pollOptionCheckIconStyle: LMFeedIconStyle?
) : LMFeedViewStyle {

    class Builder {
        private var pollOptionTextStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textSize(R.dimen.lm_feed_text_large)
            .fontResource(R.font.lm_feed_roboto)
            .textColor(R.color.lm_feed_dark_grayish_blue)
            .ellipsize(TextUtils.TruncateAt.END)
            .maxLines(1)
            .build()

        @ColorRes
        private var pollSelectedOptionColor: Int = R.color.lm_feed_majorelle_blue

        @ColorRes
        private var pollOtherOptionColor: Int = R.color.lm_feed_dark_grayish_blue_20

        private var pollOptionVotesCountTextStyle: LMFeedTextStyle? = null

        private var pollOptionAddedByTextStyle: LMFeedTextStyle? = null

        private var pollOptionCheckIconStyle: LMFeedIconStyle? = null

        fun pollOptionTextStyle(pollOptionTextStyle: LMFeedTextStyle) = apply {
            this.pollOptionTextStyle = pollOptionTextStyle
        }

        fun pollSelectedOptionColor(@ColorRes pollSelectedOptionColor: Int) = apply {
            this.pollSelectedOptionColor = pollSelectedOptionColor
        }

        fun pollOtherOptionColor(@ColorRes pollOtherOptionColor: Int) = apply {
            this.pollOtherOptionColor = pollOtherOptionColor
        }

        fun pollOptionVotesCountTextStyle(pollOptionVotesCountTextStyle: LMFeedTextStyle?) = apply {
            this.pollOptionVotesCountTextStyle = pollOptionVotesCountTextStyle
        }

        fun pollOptionAddedByTextStyle(pollOptionAddedByTextStyle: LMFeedTextStyle?) = apply {
            this.pollOptionAddedByTextStyle = pollOptionAddedByTextStyle
        }

        fun pollOptionCheckIconStyle(pollOptionCheckIconStyle: LMFeedIconStyle?) = apply {
            this.pollOptionCheckIconStyle = pollOptionCheckIconStyle
        }

        fun build() = LMFeedPostPollOptionViewStyle(
            pollOptionTextStyle,
            pollSelectedOptionColor,
            pollOtherOptionColor,
            pollOptionVotesCountTextStyle,
            pollOptionAddedByTextStyle,
            pollOptionCheckIconStyle
        )
    }

    fun toBuilder(): Builder {
        return Builder().pollOptionTextStyle(pollOptionTextStyle)
            .pollSelectedOptionColor(pollSelectedOptionColor)
            .pollOtherOptionColor(pollOtherOptionColor)
            .pollOptionVotesCountTextStyle(pollOptionVotesCountTextStyle)
            .pollOptionAddedByTextStyle(pollOptionAddedByTextStyle)
            .pollOptionCheckIconStyle(pollOptionCheckIconStyle)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/poll/style/LMFeedPostPollViewStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.poll.style

import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedPostPollViewStyle] helps you to customize the post poll view [LMFeedPostPollView]
 *
 * @property pollTitleTextStyle : [LMFeedTextStyle] this will help you to customize the title text of the post poll
 * @property pollOptionsViewStyle : [LMFeedPostPollOptionViewStyle] this will help you to customize the options of the post poll
 * @property membersVotedCountTextStyle: [LMFeedTextStyle] this will help you to customize the members voted count text on the post poll
 * @property pollInfoTextStyle: [LMFeedTextStyle] this will help you to customize the info text on the post poll
 * @property submitPollVoteButtonStyle: [LMFeedButtonStyle] this will help you to customize the submit vote button on the post poll
 * @property pollExpiryTextStyle: [LMFeedTextStyle] this will help you to customize the expiry time text on the post poll
 * @property addPollOptionButtonStyle: [LMFeedButtonStyle] this will help you to customize the add option button on the post poll
 * @property editPollIconStyle: [LMFeedIconStyle] this will help you to customize the edit icon on the post poll
 * @property clearPollIconStyle: [LMFeedIconStyle] this will help you to customize the clear icon on the post poll
 * @property editPollVoteTextStyle: [LMFeedTextStyle] this will help you to customize the edit vote icon on the post poll
 * */
class LMFeedPostPollViewStyle private constructor(
    //poll question text style
    val pollTitleTextStyle: LMFeedTextStyle,
    //poll options view style
    val pollOptionsViewStyle: LMFeedPostPollOptionViewStyle,
    //members voted on poll count text style
    val membersVotedCountTextStyle: LMFeedTextStyle?,
    //poll info text style
    val pollInfoTextStyle: LMFeedTextStyle?,
    //submit poll button style
    val submitPollVoteButtonStyle: LMFeedButtonStyle?,
    //poll expiry text style
    val pollExpiryTextStyle: LMFeedTextStyle?,
    //add option on poll text style
    val addPollOptionButtonStyle: LMFeedButtonStyle?,
    //edit poll icon style
    val editPollIconStyle: LMFeedIconStyle?,
    //clear poll icon style
    val clearPollIconStyle: LMFeedIconStyle?,
    //edit vote on poll text style
    val editPollVoteTextStyle: LMFeedTextStyle?
) : LMFeedViewStyle {

    class Builder {
        private var pollTitleTextStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textSize(R.dimen.lm_feed_text_large)
            .textColor(R.color.lm_feed_dark_grey)
            .fontResource(R.font.lm_feed_roboto_medium)
            .build()

        private var pollOptionsViewStyle: LMFeedPostPollOptionViewStyle =
            LMFeedPostPollOptionViewStyle.Builder().build()

        private var membersVotedCountTextStyle: LMFeedTextStyle? = null

        private var pollInfoTextStyle: LMFeedTextStyle? = null

        private var submitPollVoteButtonStyle: LMFeedButtonStyle? = null

        private var pollExpiryTextStyle: LMFeedTextStyle? = null

        private var addPollOptionButtonStyle: LMFeedButtonStyle? = null

        private var editPollIconStyle: LMFeedIconStyle? = null

        private var clearPollIconStyle: LMFeedIconStyle? = null

        private var editPollVoteTextStyle: LMFeedTextStyle? = null

        fun pollTitleTextStyle(pollTitleTextStyle: LMFeedTextStyle) = apply {
            this.pollTitleTextStyle = pollTitleTextStyle
        }

        fun pollOptionsViewStyle(pollOptionsViewStyle: LMFeedPostPollOptionViewStyle) = apply {
            this.pollOptionsViewStyle = pollOptionsViewStyle
        }

        fun membersVotedCountTextStyle(membersVotedCountTextStyle: LMFeedTextStyle?) = apply {
            this.membersVotedCountTextStyle = membersVotedCountTextStyle
        }

        fun pollInfoTextStyle(pollInfoTextStyle: LMFeedTextStyle?) = apply {
            this.pollInfoTextStyle = pollInfoTextStyle
        }

        fun submitPollVoteButtonStyle(submitPollVoteButtonStyle: LMFeedButtonStyle?) = apply {
            this.submitPollVoteButtonStyle = submitPollVoteButtonStyle
        }

        fun pollExpiryTextStyle(pollExpiryTextStyle: LMFeedTextStyle?) = apply {
            this.pollExpiryTextStyle = pollExpiryTextStyle
        }

        fun addPollOptionButtonStyle(addPollOptionButtonStyle: LMFeedButtonStyle?) = apply {
            this.addPollOptionButtonStyle = addPollOptionButtonStyle
        }

        fun editPollIconStyle(editPollIconStyle: LMFeedIconStyle?) = apply {
            this.editPollIconStyle = editPollIconStyle
        }

        fun clearPollIconStyle(clearPollIconStyle: LMFeedIconStyle?) = apply {
            this.clearPollIconStyle = clearPollIconStyle
        }

        fun editPollVoteTextStyle(editPollVoteTextStyle: LMFeedTextStyle?) = apply {
            this.editPollVoteTextStyle = editPollVoteTextStyle
        }

        fun build() = LMFeedPostPollViewStyle(
            pollTitleTextStyle,
            pollOptionsViewStyle,
            membersVotedCountTextStyle,
            pollInfoTextStyle,
            submitPollVoteButtonStyle,
            pollExpiryTextStyle,
            addPollOptionButtonStyle,
            editPollIconStyle,
            clearPollIconStyle,
            editPollVoteTextStyle
        )
    }

    fun toBuilder(): Builder {
        return Builder().pollTitleTextStyle(pollTitleTextStyle)
            .pollOptionsViewStyle(pollOptionsViewStyle)
            .membersVotedCountTextStyle(membersVotedCountTextStyle)
            .pollInfoTextStyle(pollInfoTextStyle)
            .submitPollVoteButtonStyle(submitPollVoteButtonStyle)
            .pollExpiryTextStyle(pollExpiryTextStyle)
            .addPollOptionButtonStyle(addPollOptionButtonStyle)
            .editPollIconStyle(editPollIconStyle)
            .clearPollIconStyle(clearPollIconStyle)
            .editPollVoteTextStyle(editPollVoteTextStyle)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/poll/view/LMFeedAddPollOptionBottomSheetFragment.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.poll.view

import android.os.Bundle
import android.view.*
import androidx.core.content.ContextCompat
import androidx.core.widget.addTextChangedListener
import androidx.fragment.app.FragmentManager
import com.google.android.material.bottomsheet.BottomSheetDialogFragment
import com.likeminds.feed.android.core.databinding.LmFeedAddPollOptionBottomSheetFragmentBinding
import com.likeminds.feed.android.core.ui.base.styles.setStyle
import com.likeminds.feed.android.core.ui.base.views.*
import com.likeminds.feed.android.core.ui.widgets.poll.model.LMFeedAddPollOptionExtras
import com.likeminds.feed.android.core.utils.*

open class LMFeedAddPollOptionBottomSheetFragment : BottomSheetDialogFragment() {

    companion object {
        private const val TAG = "LMFeedAddPollOptionBottomSheetFragment"
        private const val LM_FEED_ADD_POLL_OPTION_EXTRAS = "LM_FEED_ADD_POLL_OPTION_EXTRAS"

        private lateinit var addPollOptionExtras: LMFeedAddPollOptionExtras

        @JvmStatic
        fun newInstance(
            fragmentManager: FragmentManager,
            addPollOptionExtras: LMFeedAddPollOptionExtras
        ) {
            LMFeedAddPollOptionBottomSheetFragment().apply {
                arguments = Bundle().apply {
                    putParcelable(LM_FEED_ADD_POLL_OPTION_EXTRAS, addPollOptionExtras)
                }
            }.show(fragmentManager, TAG)
        }
    }

    private lateinit var binding: LmFeedAddPollOptionBottomSheetFragmentBinding

    private var addPollOptionListener: LMFeedAddPollOptionBottomSheetListener? = null

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        receiveExtras()
    }

    private fun receiveExtras() {
        arguments?.let {
            addPollOptionExtras = LMFeedExtrasUtil.getParcelable(
                it,
                LM_FEED_ADD_POLL_OPTION_EXTRAS,
                LMFeedAddPollOptionExtras::class.java
            ) ?: throw emptyExtrasException(TAG)
        }
    }

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View {
        binding = LmFeedAddPollOptionBottomSheetFragmentBinding.inflate(layoutInflater)

        binding.apply {
            customizeAddPollOptionTitle(tvAddPollOptionTitle)
            customizeAddPollOptionSubTitle(tvAddPollOptionSubtitle)
            customizeAddPollOptionInputBox(etOption)
            customizeAddPollOptionSubmitButton(btnSubmitPollOption)
            customizeAddPollOptionCrossIcon(ivCancelAddPollOption)

            //set background color
            val backgroundColor =
                LMFeedStyleTransformer.addPollOptionBottomSheetFragmentStyle.backgroundColor

            backgroundColor?.let { color ->
                root.setBackgroundColor(
                    ContextCompat.getColor(
                        requireContext(),
                        color
                    )
                )
            }

            return root
        }
    }

    //customizes the add poll option title text view
    protected open fun customizeAddPollOptionTitle(tvAddPollOptionTitle: LMFeedTextView) {
        tvAddPollOptionTitle.setStyle(
            LMFeedStyleTransformer.addPollOptionBottomSheetFragmentStyle.addOptionTitleTextStyle
        )
    }

    //customizes the add poll option subtitle text view
    protected open fun customizeAddPollOptionSubTitle(tvAddPollOptionSubtitle: LMFeedTextView) {
        tvAddPollOptionSubtitle.setStyle(
            LMFeedStyleTransformer.addPollOptionBottomSheetFragmentStyle.addOptionSubtitleTextStyle
        )
    }

    //customizes the add poll option input box
    protected open fun customizeAddPollOptionInputBox(etOption: LMFeedEditText) {
        etOption.setStyle(
            LMFeedStyleTransformer.addPollOptionBottomSheetFragmentStyle.addOptionInputBoxStyle
        )
    }

    //customizes the add poll option submit button
    protected open fun customizeAddPollOptionSubmitButton(btnSubmitPollOption: LMFeedButton) {
        btnSubmitPollOption.apply {
            setStyle(
                LMFeedStyleTransformer.addPollOptionBottomSheetFragmentStyle.addOptionSubmitButtonStyle
            )
            setSubmitButtonEnabled(false)
        }
    }

    //customizes the add poll option cross icon
    protected open fun customizeAddPollOptionCrossIcon(ivCancelAddPollOption: LMFeedIcon) {
        ivCancelAddPollOption.setStyle(
            LMFeedStyleTransformer.addPollOptionBottomSheetFragmentStyle.addPollOptionCrossIconStyle
        )
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        initUI()
        initListeners()
    }

    private fun initUI() {
        try {
            addPollOptionListener = parentFragment as LMFeedAddPollOptionBottomSheetListener?
        } catch (e: Exception) {
            throw ClassCastException("Calling fragment must implement LMFeedReasonChooseBottomSheetListener interface")
        }
    }

    private fun initListeners() {
        binding.apply {
            etOption.addTextChangedListener {
                setSubmitButtonEnabled(it.toString().trim().isNotEmpty())
            }

            ivCancelAddPollOption.setOnClickListener {
                onAddPollOptionCancelled()
            }

            btnSubmitPollOption.setOnClickListener {
                onAddPollOptionSubmitted()
            }
        }
    }

    protected open fun onAddPollOptionCancelled() {
        dismiss()
    }

    protected open fun onAddPollOptionSubmitted() {
        addPollOptionListener?.onAddOptionSubmitted(
            addPollOptionExtras.postId,
            addPollOptionExtras.pollId,
            binding.etOption.text.toString().trim()
        )
        dismiss()
    }

    private fun setSubmitButtonEnabled(isEnabled: Boolean) {
        binding.btnSubmitPollOption.apply {
            this.isEnabled = isEnabled

            val submitButtonStyle =
                LMFeedStyleTransformer.addPollOptionBottomSheetFragmentStyle.addOptionSubmitButtonStyle
            if (isEnabled) {
                setBackgroundColor(
                    ContextCompat.getColor(
                        requireContext(),
                        submitButtonStyle.backgroundColor
                    )
                )
            } else {
                setBackgroundColor(
                    ContextCompat.getColor(
                        requireContext(),
                        submitButtonStyle.disabledButtonColor
                    )
                )
            }
        }
    }
}

interface LMFeedAddPollOptionBottomSheetListener {
    //callback when user clicks submit button on add poll option bottom sheet
    fun onAddOptionSubmitted(
        postId: String,
        pollId: String,
        option: String
    )
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/poll/view/LMFeedAnonymousPollDialogFragment.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.poll.view

import android.os.Bundle
import android.view.*
import androidx.fragment.app.DialogFragment
import androidx.fragment.app.FragmentManager
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedDialogFragmentAnonymousPollBinding
import com.likeminds.feed.android.core.ui.widgets.alertdialog.view.LMFeedAlertDialogView
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer

open class LMFeedAnonymousPollDialogFragment : DialogFragment() {

    companion object {
        private const val TAG = "LMFeedAnonymousPollDialogFragment"

        @JvmStatic
        fun showDialog(supportFragmentManager: FragmentManager) {
            LMFeedAnonymousPollDialogFragment().show(supportFragmentManager, TAG)
        }
    }

    private lateinit var binding: LmFeedDialogFragmentAnonymousPollBinding

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View {
        binding = LmFeedDialogFragmentAnonymousPollBinding.inflate(layoutInflater)

        customizeAnonymousPollDialog(binding.alertDialogAnonymousPoll)
        return binding.root
    }

    //customize anonymous poll dialog
    protected open fun customizeAnonymousPollDialog(alertDialogAnonymousPoll: LMFeedAlertDialogView) {
        alertDialogAnonymousPoll.setStyle(
            LMFeedStyleTransformer.alertDialogAnonymousPoll.anonymousPollDialogStyle
        )
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        initUI()
    }

    private fun initUI() {
        binding.alertDialogAnonymousPoll.apply {
            setAlertTitle(getString(R.string.lm_feed_anonymous_poll))
            setAlertSubtitle(getString(R.string.lm_feed_this_being_an_lm_feed_anonymous_poll_the_names_of_the_voters_cannot_be_disclosed))
            setAlertPositiveButtonText(getString(R.string.lm_feed_okay))
            setPositiveButtonEnabled(true)
            setPositiveButtonClickListener {
                onAnonymousPollPositiveButtonClick()
            }
        }
    }

    //processes the anonymous poll dialog positive button click
    protected open fun onAnonymousPollPositiveButtonClick() {
        dismiss()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/poll/view/LMFeedPollOptionView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.poll.view

import android.content.Context
import android.graphics.drawable.*
import android.util.AttributeSet
import android.view.LayoutInflater
import androidx.constraintlayout.widget.ConstraintLayout
import androidx.core.content.ContextCompat
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedPollOptionViewBinding
import com.likeminds.feed.android.core.poll.result.model.LMFeedPollOptionViewData
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.widgets.poll.style.LMFeedPostPollOptionViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewUtils
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnClickListener
import com.likeminds.feed.android.core.utils.user.LMFeedUserPreferences
import kotlin.math.roundToInt

/**
 * Represents a poll option view
 * To customize this view use [LMFeedPostPollOptionViewStyle]
 */
class LMFeedPollOptionView : ConstraintLayout {

    constructor(context: Context) : super(context)

    constructor(context: Context, attributeSet: AttributeSet?) : super(context, attributeSet)

    constructor(context: Context, attributeSet: AttributeSet?, defStyle: Int) : super(
        context,
        attributeSet,
        defStyle
    )

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding = LmFeedPollOptionViewBinding.inflate(inflater, this, true)

    //sets provided [postPollOptionViewStyle] to the post poll option view
    fun setStyle(postPollOptionViewStyle: LMFeedPostPollOptionViewStyle) {
        postPollOptionViewStyle.apply {
            configurePollOptionText(pollOptionTextStyle)
            configurePollOptionAddedByText(pollOptionAddedByTextStyle)
            configurePollOptionCheckedIcon(pollOptionCheckIconStyle)
            configurePollOptionVotesCountText(pollOptionVotesCountTextStyle)
        }
    }

    private fun configurePollOptionText(pollOptionTextStyle: LMFeedTextStyle) {
        binding.tvPollOption.setStyle(pollOptionTextStyle)
    }

    private fun configurePollOptionAddedByText(pollOptionAddedByTextStyle: LMFeedTextStyle?) {
        binding.tvAddedBy.apply {
            if (pollOptionAddedByTextStyle == null) {
                hide()
            } else {
                setStyle(pollOptionAddedByTextStyle)
            }
        }
    }

    private fun configurePollOptionCheckedIcon(pollOptionCheckIconStyle: LMFeedIconStyle?) {
        binding.ivChecked.apply {
            if (pollOptionCheckIconStyle == null) {
                hide()
            } else {
                setStyle(pollOptionCheckIconStyle)
            }
        }
    }

    private fun configurePollOptionVotesCountText(pollOptionVotesCountTextStyle: LMFeedTextStyle?) {
        binding.tvNoVotes.apply {
            if (pollOptionVotesCountTextStyle == null) {
                hide()
            } else {
                setStyle(pollOptionVotesCountTextStyle)
            }
        }
    }

    /**
     * Sets the text to the poll option
     *
     * @param pollOptionText - string to be set to the poll option.
     */
    fun setPollOptionText(pollOptionText: String) {
        binding.tvPollOption.text = pollOptionText
    }

    /**
     * Sets the text of the user who added the poll option
     *
     * @param pollOptionViewData - data of the poll option.
     */
    fun setPollOptionAddedByText(
        pollOptionViewData: LMFeedPollOptionViewData,
        pollOptionViewStyle: LMFeedPostPollOptionViewStyle
    ) {
        pollOptionViewStyle.pollOptionAddedByTextStyle ?: return

        binding.tvAddedBy.apply {
            if (pollOptionViewData.allowAddOption) {
                val addedByUser = pollOptionViewData.addedByUser

                val userPreferences = LMFeedUserPreferences(context)
                val loggedInUUID = userPreferences.getUUID()

                text = if (addedByUser.sdkClientInfoViewData.uuid == loggedInUUID) {
                    context.getString(R.string.lm_feed_added_by_you)
                } else {
                    context.getString(R.string.lm_feed_added_by_s, addedByUser.name)
                }
                show()
            } else {
                hide()
            }
        }
    }

    /**
     * Sets the visibility of the checked icon of the poll option
     *
     * @param pollOptionViewData - data of the poll option.
     */
    fun setPollOptionCheckedIconVisibility(
        pollOptionViewData: LMFeedPollOptionViewData,
        pollOptionViewStyle: LMFeedPostPollOptionViewStyle
    ) {
        pollOptionViewStyle.pollOptionCheckIconStyle ?: return

        binding.ivChecked.apply {
            if ((pollOptionViewData.isMultiChoicePoll || !pollOptionViewData.isInstantPoll)
                && pollOptionViewData.isSelected
            ) {
                show()
            } else {
                hide()
            }
        }
    }

    /**
     * Sets the text for the votes count on the poll option
     *
     * @param pollOptionViewData - data of the poll option.
     */
    fun setPollVotesCountText(
        pollOptionViewData: LMFeedPollOptionViewData,
        pollOptionViewStyle: LMFeedPostPollOptionViewStyle
    ) {
        pollOptionViewStyle.pollOptionVotesCountTextStyle ?: return

        binding.tvNoVotes.apply {
            if (pollOptionViewData.toShowResults) {
                text = context.resources.getQuantityString(
                    R.plurals.lm_feed_votes_count,
                    pollOptionViewData.voteCount,
                    pollOptionViewData.voteCount
                )
                show()
            } else {
                hide()
            }
        }
    }

    /**
     * Sets poll option background and its progress as per the percentage of votes on the option
     *
     * @param pollOptionViewData [LMFeedPollOptionViewData] data for the poll option
     * @param pollOptionViewStyle [LMFeedPostPollOptionViewStyle] view style for the poll option
     */
    fun setPollOptionBackgroundAndProgress(
        pollOptionViewData: LMFeedPollOptionViewData,
        pollOptionViewStyle: LMFeedPostPollOptionViewStyle
    ) {
        binding.apply {
            val progressDrawable = pbPollBackground.progressDrawable as LayerDrawable
            val progressClip =
                progressDrawable.findDrawableByLayerId(R.id.lm_feed_poll_progress_clip) as ClipDrawable
            val optionBackgroundDrawable = clPollOption.background as GradientDrawable
            optionBackgroundDrawable.mutate()
            val strokeWidth = LMFeedViewUtils.dpToPx(1)
            progressClip.mutate()

            if (pollOptionViewData.toShowResults) {
                //set progress as per the percentage of votes
                pbPollBackground.max = 100
                pbPollBackground.progress = if (pollOptionViewData.percentage.roundToInt() == 0) {
                    pbPollBackground.hide()
                    0
                } else {
                    pbPollBackground.show()
                    pollOptionViewData.percentage.roundToInt()
                }
            } else {
                //set progress to 0 if results are not to be shown
                pbPollBackground.progress = 0
            }



            if (pollOptionViewData.isSelected) {
                //set progress clip color to selected option color
                progressClip.setTint(
                    ContextCompat.getColor(
                        root.context,
                        pollOptionViewStyle.pollSelectedOptionColor
                    )
                )

                //set option stroke color to selected option color
                optionBackgroundDrawable.setStroke(
                    strokeWidth,
                    ContextCompat.getColor(
                        root.context,
                        pollOptionViewStyle.pollSelectedOptionColor
                    )
                )
            } else {
                //set progress clip color to other option color
                progressClip.setTint(
                    ContextCompat.getColor(
                        root.context,
                        pollOptionViewStyle.pollOtherOptionColor
                    )
                )

                //set option stroke color to other option color
                optionBackgroundDrawable.setStroke(
                    strokeWidth,
                    ContextCompat.getColor(
                        root.context,
                        pollOptionViewStyle.pollOtherOptionColor
                    )
                )
            }
        }
    }

    /**
     * Sets click listener on the poll option
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setPollOptionClicked(listener: LMFeedOnClickListener) {
        binding.clPollOption.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the poll option votes count text
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setPollOptionVotesCountClicked(listener: LMFeedOnClickListener) {
        binding.tvNoVotes.setOnClickListener {
            listener.onClick()
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/poll/view/LMFeedPollOptionsListView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.poll.view

import android.content.Context
import android.util.AttributeSet
import androidx.recyclerview.widget.*
import com.likeminds.feed.android.core.poll.result.model.LMFeedPollOptionViewData
import com.likeminds.feed.android.core.ui.widgets.poll.adapter.LMFeedPollOptionsAdapter
import com.likeminds.feed.android.core.ui.widgets.poll.adapter.LMFeedPollOptionsAdapterListener
import com.likeminds.feed.android.core.ui.widgets.poll.style.LMFeedPostPollOptionViewStyle

/**
 * Represents a recycler view with list of options in the poll
 */
class LMFeedPollOptionsListView @JvmOverloads constructor(
    context: Context,
    attrs: AttributeSet? = null,
    defStyleAttr: Int = 0
) : RecyclerView(context, attrs, defStyleAttr) {

    val linearLayoutManager: LinearLayoutManager

    private lateinit var pollOptionsAdapter: LMFeedPollOptionsAdapter

    init {
        setHasFixedSize(true)
        linearLayoutManager = LinearLayoutManager(context)
        layoutManager = linearLayoutManager

        if (itemAnimator is SimpleItemAnimator) {
            (itemAnimator as SimpleItemAnimator).supportsChangeAnimations = false
        }
    }

    //sets the adapter with the provided [listener] to the poll options recycler view
    fun setAdapter(
        pollPosition: Int,
        optionStyle: LMFeedPostPollOptionViewStyle?,
        listener: LMFeedPollOptionsAdapterListener?
    ) {
        //setting adapter
        pollOptionsAdapter = LMFeedPollOptionsAdapter(pollPosition, optionStyle, listener)
        adapter = pollOptionsAdapter
    }

    //replaces the [pollOptions] in the poll options adapter with the provided poll options
    fun replacePollOptions(pollOptions: List<LMFeedPollOptionViewData>) {
        pollOptionsAdapter.replace(pollOptions)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/poll/view/LMFeedPostPollView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.poll.view

import android.content.Context
import android.util.AttributeSet
import android.view.LayoutInflater
import androidx.constraintlayout.widget.ConstraintLayout
import com.likeminds.feed.android.core.databinding.LmFeedPostPollViewBinding
import com.likeminds.feed.android.core.poll.result.model.LMFeedPollOptionViewData
import com.likeminds.feed.android.core.poll.result.model.LMFeedPollViewData
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.widgets.poll.adapter.LMFeedPollOptionsAdapterListener
import com.likeminds.feed.android.core.ui.widgets.poll.style.LMFeedPostPollOptionViewStyle
import com.likeminds.feed.android.core.ui.widgets.poll.style.LMFeedPostPollViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnClickListener

/**
 * Represents a poll view
 * To customize this view use [LMFeedPostPollViewStyle]
 */
class LMFeedPostPollView : ConstraintLayout {

    constructor(context: Context) : super(context)

    constructor(context: Context, attributeSet: AttributeSet?) : super(context, attributeSet)

    constructor(context: Context, attributeSet: AttributeSet?, defStyle: Int) : super(
        context,
        attributeSet,
        defStyle
    )

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding = LmFeedPostPollViewBinding.inflate(inflater, this, true)

    //sets provided [postPollViewStyle] to the post poll view
    fun setStyle(postPollViewStyle: LMFeedPostPollViewStyle) {
        postPollViewStyle.apply {

            //configures each view in the post poll view with the provided style
            configurePollTitleText(pollTitleTextStyle)
            configurePollInfoText(pollInfoTextStyle)
            configureMemberVotedCountText(membersVotedCountTextStyle)
            configureSubmitPollVoteButton(submitPollVoteButtonStyle)
            configurePollExpiryText(pollExpiryTextStyle)
            configureAddPollOptionButton(addPollOptionButtonStyle)
            configureEditPollVoteText(editPollVoteTextStyle)
            configureClearPollIcon(clearPollIconStyle)
            configureEditPollIcon(editPollIconStyle)
        }
    }

    private fun configurePollTitleText(pollTitleTextStyle: LMFeedTextStyle) {
        binding.tvPollTitle.setStyle(pollTitleTextStyle)
    }

    private fun configurePollInfoText(pollInfoTextStyle: LMFeedTextStyle?) {
        binding.tvPollInfo.apply {
            if (pollInfoTextStyle == null) {
                hide()
            } else {
                setStyle(pollInfoTextStyle)
                show()
            }
        }
    }

    private fun configureMemberVotedCountText(membersVotedCountTextStyle: LMFeedTextStyle?) {
        binding.tvMemberVotedCount.apply {
            if (membersVotedCountTextStyle == null) {
                binding.viewDotTimeLeft.hide()
                hide()
            } else {
                binding.viewDotTimeLeft.show()
                setStyle(membersVotedCountTextStyle)
            }
        }
    }

    private fun configureSubmitPollVoteButton(submitPollButtonStyle: LMFeedButtonStyle?) {
        binding.btnSubmitVote.apply {
            if (submitPollButtonStyle == null) {
                hide()
            } else {
                show()
                setStyle(submitPollButtonStyle)
            }
        }
    }

    private fun configurePollExpiryText(pollExpiryTextStyle: LMFeedTextStyle?) {
        binding.tvPollTimeLeft.apply {
            if (pollExpiryTextStyle == null) {
                hide()
            } else {
                setStyle(pollExpiryTextStyle)
                show()
            }
        }
    }

    private fun configureAddPollOptionButton(addPollOptionButtonStyle: LMFeedButtonStyle?) {
        binding.btnAddOption.apply {
            if (addPollOptionButtonStyle == null) {
                hide()
            } else {
                show()
                setStyle(addPollOptionButtonStyle)
            }
        }

    }

    private fun configureEditPollVoteText(editPollVoteTextStyle: LMFeedTextStyle?) {
        binding.apply {
            if (editPollVoteTextStyle == null) {
                viewDotEditVote.hide()
                tvPollEditVote.hide()
            } else {
                tvPollEditVote.setStyle(editPollVoteTextStyle)
                viewDotEditVote.show()
                tvPollEditVote.show()
            }
        }
    }

    private fun configureClearPollIcon(clearPollIconStyle: LMFeedIconStyle?) {
        binding.ivClearPoll.apply {
            if (clearPollIconStyle == null) {
                hide()
            } else {
                setStyle(clearPollIconStyle)
                show()
            }
        }
    }

    private fun configureEditPollIcon(editPollIconStyle: LMFeedIconStyle?) {
        binding.ivEditPoll.apply {
            if (editPollIconStyle == null) {
                hide()
            } else {
                setStyle(editPollIconStyle)
                show()
            }
        }
    }

    /**
     * Sets the title of the poll media in the post
     *
     * @param pollTitle - string to be set for title of the poll.
     */
    fun setPollTitle(pollTitle: String) {
        binding.tvPollTitle.text = pollTitle
    }

    /**
     * Sets the info of the poll media in the post
     *
     * @param pollInfo - string to be set for info of the poll.
     */
    fun setPollInfo(pollInfo: String?) {
        binding.tvPollInfo.apply {
            if (pollInfo.isNullOrEmpty()) {
                hide()
            } else {
                text = pollInfo
                show()
            }
        }
    }

    /**
     * Sets the member voted count of the poll media in the post
     *
     * @param pollAnswerText - string to be set for member voted count of the poll.
     */
    fun setMemberVotedCount(pollAnswerText: String) {
        binding.apply {
            tvMemberVotedCount.text = pollAnswerText
            viewDotTimeLeft.show()
        }
    }

    /**
     * Sets the time left in expiry of the poll media in the post
     *
     * @param timeLeft - string to be set for time left in expiry of the poll.
     */
    fun setTimeLeft(timeLeft: String) {
        binding.tvPollTimeLeft.text = timeLeft
    }

    /**
     * Sets the poll options in the poll media in the post
     *
     * @param pollPosition - position of the poll media post in the list.
     * @param options - list of the options in the poll.
     * @param listener - click listeners for the poll options.
     */
    fun setPollOptions(
        pollPosition: Int,
        options: List<LMFeedPollOptionViewData>,
        optionStyle: LMFeedPostPollOptionViewStyle?,
        listener: LMFeedPollOptionsAdapterListener?
    ) {
        binding.rvPollOptions.apply {
            setAdapter(pollPosition, optionStyle, listener)
            replacePollOptions(options)
        }
    }

    /**
     * Sets the visibility of the submit button of the poll media in the post
     *
     * @param pollViewData - data of the poll media.
     */
    fun setSubmitButtonVisibility(pollViewData: LMFeedPollViewData) {
        binding.btnSubmitVote.apply {
            //hide submit button if poll is instant and already submitted or poll is deferred with single item selection
            if (pollViewData.isPollSubmitted || pollViewData.hasPollEnded()) {
                hide()
            } else {
                if (pollViewData.isMultiChoicePoll()) {
                    show()
                } else {
                    hide()
                }
            }
        }
    }

    /**
     * Sets the visibility of the add poll option button of the poll media in the post
     *
     * @param pollViewData - data of the poll media.
     */
    fun setAddPollOptionButtonVisibility(pollViewData: LMFeedPollViewData) {
        binding.btnAddOption.apply {
            if (!pollViewData.hasPollEnded()
                && pollViewData.options.size < 10
                && (pollViewData.isAddOptionAllowedForInstantPoll()
                        || pollViewData.isAddOptionAllowedForDeferredPoll())
            ) {
                show()
            } else {
                hide()
            }
        }
    }

    /**
     * Sets the visibility of the edit poll vote button of the poll media in the post
     *
     * @param pollViewData - data of the poll media.
     */
    fun setEditPollVoteVisibility(pollViewData: LMFeedPollViewData) {
        binding.apply {
            if (pollViewData.isDeferredPoll() && pollViewData.isPollSubmitted
                && !pollViewData.hasPollEnded()
            ) {
                viewDotEditVote.show()
                tvPollEditVote.show()
            } else {
                viewDotEditVote.hide()
                tvPollEditVote.hide()
            }
        }
    }

    /**
     * Sets click listener on the poll title
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setPollTitleClicked(listener: LMFeedOnClickListener) {
        binding.tvPollTitle.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the edit poll icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setEditPollClicked(listener: LMFeedOnClickListener) {
        binding.ivEditPoll.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the clear poll icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setClearPollClicked(listener: LMFeedOnClickListener) {
        binding.ivClearPoll.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the add poll option button
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setAddPollOptionClicked(listener: LMFeedOnClickListener) {
        binding.btnAddOption.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the submit vote button
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setSubmitPollVoteClicked(listener: LMFeedOnClickListener) {
        binding.btnSubmitVote.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the member voted count text
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setMemberVotedCountClicked(listener: LMFeedOnClickListener) {
        binding.tvMemberVotedCount.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the edit poll vote text
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setEditPollVoteClicked(listener: LMFeedOnClickListener) {
        binding.tvPollEditVote.setOnClickListener {
            listener.onClick()
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/post/postactionview/style/LMFeedPostActionViewStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.post.postactionview.style

import android.view.View
import androidx.annotation.ColorRes
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedPostActionViewStyle] helps you to customize the post action view
 *
 * @property likeIconStyle : [LMFeedIconStyle] this will help you to customize the like icon in the post action view
 * @property likeTextStyle : [LMFeedTextStyle] this will help you to customize the like text in the post action view | set its value to [null] if you want to hide the like text in the post action
 * @property commentTextStyle: [LMFeedTextStyle] this will help you to customize the comment text in the post action view
 * @property saveIconStyle: [LMFeedIconStyle] this will help you to customize the save icon in the post action view | set its value to [null] if you want to hide the save icon in the post action
 * @property shareIconStyle: [LMFeedIconStyle] this will help you to customize the share icon in the post action view | set its value to [null] if you want to hide the share icon in the post action
 * @property shareIconStyle: [LMFeedIconStyle] this will help you to customize the menu icon in the post action view | set its value to [null] if you want to hide the menu icon in the post action
 * @property backgroundColor: [Int] should be in format of [ColorRes] to add background color of the action view | Default value =  [null]
 * */
class LMFeedPostActionViewStyle private constructor(
    //likes icon style
    val likeIconStyle: LMFeedIconStyle,
    //likes text style
    val likeTextStyle: LMFeedTextStyle?,
    //comment text style
    val commentTextStyle: LMFeedTextStyle?,
    //save icon style
    val saveIconStyle: LMFeedIconStyle?,
    //share icon style
    val shareIconStyle: LMFeedIconStyle?,
    //menu icon style
    val menuIconStyle: LMFeedIconStyle?,
    //background color of the action view
    @ColorRes val backgroundColor: Int?,
) : LMFeedViewStyle {

    class Builder {
        private var likeTextStyle: LMFeedTextStyle? = null

        private var likeIconStyle: LMFeedIconStyle = LMFeedIconStyle.Builder()
            .activeSrc(R.drawable.lm_feed_ic_like_filled)
            .inActiveSrc(R.drawable.lm_feed_ic_like_unfilled)
            .build()

        private var commentTextStyle: LMFeedTextStyle? = null

        private var saveIconStyle: LMFeedIconStyle? = null

        private var shareIconStyle: LMFeedIconStyle? = null

        private var menuIconStyle: LMFeedIconStyle? = null

        @ColorRes
        private var backgroundColor: Int? = null

        fun likeTextStyle(likeTextStyle: LMFeedTextStyle?) = apply {
            this.likeTextStyle = likeTextStyle
        }

        fun likeIconStyle(likeIconStyle: LMFeedIconStyle) = apply {
            this.likeIconStyle = likeIconStyle
        }

        fun commentTextStyle(commentTextStyle: LMFeedTextStyle?) = apply {
            this.commentTextStyle = commentTextStyle
        }

        fun saveIconStyle(saveIconStyle: LMFeedIconStyle?) = apply {
            this.saveIconStyle = saveIconStyle
        }

        fun shareIconStyle(shareIconStyle: LMFeedIconStyle?) = apply {
            this.shareIconStyle = shareIconStyle
        }

        fun menuIconStyle(menuIconStyle: LMFeedIconStyle?) = apply {
            this.menuIconStyle = menuIconStyle
        }

        fun backgroundColor(@ColorRes backgroundColor: Int?) =
            apply { this.backgroundColor = backgroundColor }

        fun build() = LMFeedPostActionViewStyle(
            likeIconStyle,
            likeTextStyle,
            commentTextStyle,
            saveIconStyle,
            shareIconStyle,
            menuIconStyle,
            backgroundColor
        )
    }

    fun toBuilder(): Builder {
        return Builder().likeTextStyle(likeTextStyle)
            .likeIconStyle(likeIconStyle)
            .commentTextStyle(commentTextStyle)
            .saveIconStyle(saveIconStyle)
            .shareIconStyle(shareIconStyle)
            .menuIconStyle(menuIconStyle)
            .backgroundColor(backgroundColor)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/post/postactionview/view/LMFeedPostActionHorizontalView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.post.postactionview.view

import android.content.Context
import android.util.AttributeSet
import android.util.Log
import android.view.LayoutInflater
import androidx.constraintlayout.widget.ConstraintLayout
import androidx.core.content.ContextCompat
import com.likeminds.feed.android.core.LMFeedCoreApplication
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedPostActionHorizontalViewBinding
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.widgets.post.postactionview.style.LMFeedPostActionViewStyle
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedViewUtils
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnClickListener
import com.likeminds.feed.android.core.utils.user.LMFeedUserMetaData

class LMFeedPostActionHorizontalView : ConstraintLayout {

    constructor(context: Context) : super(context)

    constructor(context: Context, attributeSet: AttributeSet?) : super(context, attributeSet)

    constructor(context: Context, attributeSet: AttributeSet?, defStyle: Int) : super(
        context,
        attributeSet,
        defStyle
    )

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding = LmFeedPostActionHorizontalViewBinding.inflate(inflater, this, true)

    //sets provided [postActionViewStyle] to the post action view
    fun setStyle(postActionViewStyle: LMFeedPostActionViewStyle) {

        postActionViewStyle.apply {
            //set background color
            backgroundColor?.let {
                setBackgroundColor(ContextCompat.getColor(context, backgroundColor))
            }

            //configures each view in the post action view with the provided style
            configureLikeText(likeTextStyle)
            configureLikesIcon(likeIconStyle)
            configureCommentsText(commentTextStyle)
            configureSaveIcon(saveIconStyle)
            configureShareIcon(shareIconStyle)
        }
    }

    private fun configureLikeText(likeTextStyle: LMFeedTextStyle?) {
        binding.tvLikesCount.apply {
            if (likeTextStyle == null) {
                hide()
            } else {
                setStyle(likeTextStyle)
            }
        }
    }

    private fun configureLikesIcon(likeIconStyle: LMFeedIconStyle) {
        binding.ivLike.setStyle(likeIconStyle)
    }

    private fun configureCommentsText(commentTextStyle: LMFeedTextStyle?) {
        binding.tvCommentsCount.apply {
            if (commentTextStyle == null) {
                hide()
            } else {
                setStyle(commentTextStyle)
            }
        }
    }

    private fun configureSaveIcon(saveIconStyle: LMFeedIconStyle?) {
        if (saveIconStyle != null) {
            binding.ivSave.setStyle(saveIconStyle)
        }
    }

    private fun configureShareIcon(shareIconStyle: LMFeedIconStyle?) {
        // if the client has not set the domain then hide the share icon and log a warning
        val userMeta = LMFeedUserMetaData.getInstance()
        if (userMeta.domain == null) {
            binding.ivShare.hide()

            Log.w(
                LMFeedCoreApplication.LOG_TAG,
                context.getString(R.string.lm_feed_please_set_domain)
            )
            return
        }

        if (shareIconStyle != null) {
            binding.ivShare.setStyle(shareIconStyle)
        }
    }

    /**
     * Sets likes count text to the likes text view.
     *
     * @param likesCount - string to be set for likes count.
     */
    fun setLikesCount(likesCount: String) {
        binding.tvLikesCount.text = likesCount
    }

    /**
     * Sets comments count text to the comments text view.
     *
     * @param commentsCount - string to be set for comments count.
     */
    fun setCommentsCount(commentsCount: String) {
        binding.tvCommentsCount.text = commentsCount
    }

    /**
     * Sets active/inactive like icon.
     *
     * @param isLiked - whether the post is liked or not.
     */
    fun setLikesIcon(isLiked: Boolean = false) {
        val iconStyle = LMFeedStyleTransformer.postViewStyle.postActionViewStyle.likeIconStyle

        val likeIcon = if (isLiked) {
            iconStyle.activeSrc
        } else {
            iconStyle.inActiveSrc
        }

        if (likeIcon != null) {
            binding.ivLike.setImageDrawable(ContextCompat.getDrawable(context, likeIcon))
        }
    }

    /**
     * Sets click listener on the like icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setLikeIconClickListener(listener: LMFeedOnClickListener) {
        binding.ivLike.setOnClickListener { view ->
            // bounce animation for like button
            LMFeedViewUtils.showBounceAnim(view.context, view)
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the like icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setLikesCountClickListener(listener: LMFeedOnClickListener) {
        binding.tvLikesCount.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the like icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setCommentsCountClickListener(listener: LMFeedOnClickListener) {
        binding.tvCommentsCount.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets active/inactive save icon.
     *
     * @param isSaved - whether the post is saved or not.
     */
    fun setSaveIcon(isSaved: Boolean = false) {
        binding.ivSave.apply {
            val iconStyle = LMFeedStyleTransformer.postViewStyle.postActionViewStyle.saveIconStyle

            if (iconStyle == null) {
                hide()
                return
            }

            val saveIcon = if (isSaved) {
                iconStyle.activeSrc
            } else {
                iconStyle.inActiveSrc
            }

            if (saveIcon != null) {
                setImageDrawable(ContextCompat.getDrawable(context, saveIcon))
            }
        }
    }

    /**
     * Sets click listener on the save icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setSaveIconListener(listener: LMFeedOnClickListener) {
        binding.ivSave.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the share icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setShareIconListener(listener: LMFeedOnClickListener) {
        binding.ivShare.setOnClickListener {
            listener.onClick()
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/post/postactionview/view/LMFeedPostActionVerticalView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.post.postactionview.view

import android.content.Context
import android.util.AttributeSet
import android.util.Log
import android.view.LayoutInflater
import androidx.constraintlayout.widget.ConstraintLayout
import androidx.core.content.ContextCompat
import com.likeminds.customgallery.utils.ViewUtils.show
import com.likeminds.feed.android.core.LMFeedCoreApplication
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedPostActionVerticalViewBinding
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.widgets.post.postactionview.style.LMFeedPostActionViewStyle
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedViewUtils
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnClickListener
import com.likeminds.feed.android.core.utils.user.LMFeedUserMetaData

class LMFeedPostActionVerticalView : ConstraintLayout {

    constructor(context: Context) : super(context)

    constructor(context: Context, attributeSet: AttributeSet?) : super(context, attributeSet)

    constructor(context: Context, attributeSet: AttributeSet?, defStyle: Int) : super(
        context,
        attributeSet,
        defStyle
    )

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding = LmFeedPostActionVerticalViewBinding.inflate(inflater, this, true)

    //sets provided [postActionViewStyle] to the post action view
    fun setStyle(postActionViewStyle: LMFeedPostActionViewStyle) {

        postActionViewStyle.apply {
            //set background color
            backgroundColor?.let {
                setBackgroundColor(ContextCompat.getColor(context, backgroundColor))
            }

            //configures each view in the post action view with the provided style
            configureLikeText(likeTextStyle)
            configureLikesIcon(likeIconStyle)
            configureCommentsText(commentTextStyle)
            configureShareIcon(shareIconStyle)
            configureMenuIcon(menuIconStyle)
        }
    }

    private fun configureLikeText(likeTextStyle: LMFeedTextStyle?) {
        binding.tvLikesCount.apply {
            if (likeTextStyle == null) {
                hide()
            } else {
                setStyle(likeTextStyle)
            }
        }
    }

    private fun configureLikesIcon(likeIconStyle: LMFeedIconStyle) {
        binding.ivLike.setStyle(likeIconStyle)
    }

    private fun configureCommentsText(commentTextStyle: LMFeedTextStyle?) {
        binding.tvCommentsCount.apply {
            if (commentTextStyle == null) {
                hide()
            } else {
                setStyle(commentTextStyle)
            }
        }
    }

    private fun configureShareIcon(shareIconStyle: LMFeedIconStyle?) {
        // if the client has not set the domain then hide the share icon and log a warning
        val userMeta = LMFeedUserMetaData.getInstance()
        if (userMeta.domain == null) {
            binding.ivShare.hide()

            Log.w(
                LMFeedCoreApplication.LOG_TAG,
                context.getString(R.string.lm_feed_please_set_domain)
            )
            return
        }

        if (shareIconStyle != null) {
            binding.ivShare.setStyle(shareIconStyle)
            show()
        }
    }

    private fun configureMenuIcon(menuIconStyle: LMFeedIconStyle?) {
        binding.ivPostMenu.apply {
            if (menuIconStyle == null) {
                hide()
            } else {
                setStyle(menuIconStyle)
                show()
            }
        }
    }

    /**
     * Sets likes count text to the likes text view.
     *
     * @param likesCount - string to be set for likes count.
     */
    fun setLikesCount(likesCount: String) {
        binding.tvLikesCount.text = likesCount
    }

    /**
     * Sets comments count text to the comments text view.
     *
     * @param commentsCount - string to be set for comments count.
     */
    fun setCommentsCount(commentsCount: String) {
        binding.tvCommentsCount.text = commentsCount
    }

    /**
     * Sets active/inactive like icon.
     *
     * @param isLiked - whether the post is liked or not.
     */
    fun setLikesIcon(isLiked: Boolean = false) {
        val iconStyle = LMFeedStyleTransformer.postViewStyle.postActionViewStyle.likeIconStyle

        val likeIcon = if (isLiked) {
            iconStyle.activeSrc
        } else {
            iconStyle.inActiveSrc
        }

        if (likeIcon != null) {
            binding.ivLike.setImageDrawable(ContextCompat.getDrawable(context, likeIcon))
        }
    }

    /**
     * Sets click listener on the like icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setLikeIconClickListener(listener: LMFeedOnClickListener) {
        binding.ivLike.setOnClickListener { view ->
            // bounce animation for like button
            LMFeedViewUtils.showBounceAnim(view.context, view)
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the like icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setLikesCountClickListener(listener: LMFeedOnClickListener) {
        binding.tvLikesCount.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the like icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setCommentsCountClickListener(listener: LMFeedOnClickListener) {
        binding.tvCommentsCount.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the share icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setShareIconListener(listener: LMFeedOnClickListener) {
        binding.ivShare.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the menu icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setMenuIconListener(listener: LMFeedOnClickListener) {
        binding.ivPostMenu.setOnClickListener {
            listener.onClick()
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/post/postactionview/view/LMFeedPostQnAActionHorizontalView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.post.postactionview.view

import android.content.Context
import android.util.AttributeSet
import android.util.Log
import android.view.LayoutInflater
import androidx.constraintlayout.widget.ConstraintLayout
import androidx.core.content.ContextCompat
import com.likeminds.feed.android.core.LMFeedCoreApplication
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedQnaActionHorizontalViewBinding
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.widgets.post.postactionview.style.LMFeedPostActionViewStyle
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnClickListener
import com.likeminds.feed.android.core.utils.user.LMFeedUserMetaData

class LMFeedPostQnAActionHorizontalView : ConstraintLayout {

    constructor(context: Context) : super(context)

    constructor(context: Context, attributeSet: AttributeSet?) : super(context, attributeSet)

    constructor(context: Context, attributeSet: AttributeSet?, defStyle: Int) : super(
        context,
        attributeSet,
        defStyle
    )

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding = LmFeedQnaActionHorizontalViewBinding.inflate(inflater, this, true)

    //sets provided [postActionViewStyle] to the post action view
    fun setStyle(postActionViewStyle: LMFeedPostActionViewStyle) {
        postActionViewStyle.apply {
            //set background color
            backgroundColor?.let {
                setBackgroundColor(ContextCompat.getColor(context, backgroundColor))
            }

            //configures each view in the post action view with the provided style
            configureUpvoteText(likeTextStyle)
            configureUpvoteIcon(likeIconStyle)
            configureCommentsText(commentTextStyle)
            configureSaveIcon(saveIconStyle)
            configureShareIcon(shareIconStyle)
        }
    }

    private fun configureUpvoteText(upvoteTextStyle: LMFeedTextStyle?) {
        binding.apply {
            if (upvoteTextStyle == null) {
                tvUpvote.hide()
                viewDotUpvotesCount.hide()
                tvUpvotesCount.hide()
            } else {
                tvUpvote.show()
                tvUpvote.setStyle(upvoteTextStyle)
                tvUpvotesCount.setStyle(upvoteTextStyle)
            }
        }
    }

    private fun configureUpvoteIcon(upvoteIconStyle: LMFeedIconStyle) {
        binding.ivUpvote.setStyle(upvoteIconStyle)
    }

    private fun configureCommentsText(commentTextStyle: LMFeedTextStyle?) {
        binding.tvCommentsCount.apply {
            if (commentTextStyle == null) {
                hide()
            } else {
                setStyle(commentTextStyle)
            }
        }
    }

    private fun configureSaveIcon(saveIconStyle: LMFeedIconStyle?) {
        if (saveIconStyle != null) {
            binding.ivSave.setStyle(saveIconStyle)
        }
    }

    private fun configureShareIcon(shareIconStyle: LMFeedIconStyle?) {
        // if the client has not set the domain then hide the share icon and log a warning
        val userMeta = LMFeedUserMetaData.getInstance()
        binding.ivShare.apply {
            if (userMeta.domain == null) {
                hide()

                Log.w(
                    LMFeedCoreApplication.LOG_TAG,
                    context.getString(R.string.lm_feed_please_set_domain)
                )
                return
            }

            if (shareIconStyle != null) {
                setStyle(shareIconStyle)
            }
        }
    }

    /**
     * Sets upvote text to the upvote text view.
     *
     * @param upvoteText - string to be set for upvote.
     */
    fun setUpvoteText(upvoteText: String) {
        binding.tvUpvote.text = upvoteText
    }

    /**
     * Sets upvote count text to the upvote count text view.
     *
     * @param upvoteCount - string to be set for upvote count.
     */
    fun setUpvoteCount(upvoteCount: String) {
        binding.apply {
            if (upvoteCount.isEmpty()) {
                tvUpvotesCount.hide()
                viewDotUpvotesCount.hide()
            } else {
                tvUpvotesCount.show()
                viewDotUpvotesCount.show()
                tvUpvotesCount.text = upvoteCount
            }
        }
    }

    /**
     * Sets comments count text to the comments text view.
     *
     * @param commentsCount - string to be set for comments count.
     */
    fun setCommentsCount(commentsCount: String) {
        binding.tvCommentsCount.text = commentsCount
    }

    /**
     * Sets active/inactive upvote icon.
     *
     * @param isUpvoted - whether the post is upvoted or not.
     */
    fun setUpvoteIcon(isUpvoted: Boolean = false) {
        val iconStyle = LMFeedStyleTransformer.postViewStyle.postActionViewStyle.likeIconStyle

        val upvoteIcon = if (isUpvoted) {
            iconStyle.activeSrc
        } else {
            iconStyle.inActiveSrc
        }

        if (upvoteIcon != null) {
            binding.ivUpvote.setImageDrawable(ContextCompat.getDrawable(context, upvoteIcon))
        }
    }

    /**
     * Sets active/inactive save icon.
     *
     * @param isSaved - whether the post is saved or not.
     */
    fun setSaveIcon(isSaved: Boolean = false) {
        binding.ivSave.apply {
            val iconStyle = LMFeedStyleTransformer.postViewStyle.postActionViewStyle.saveIconStyle

            if (iconStyle == null) {
                hide()
                return
            }

            val saveIcon = if (isSaved) {
                iconStyle.activeSrc
            } else {
                iconStyle.inActiveSrc
            }

            if (saveIcon != null) {
                setImageDrawable(ContextCompat.getDrawable(context, saveIcon))
            }
        }
    }

    /**
     * Sets click listener on the upvote icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setUpvoteIconClickListener(listener: LMFeedOnClickListener) {
        binding.ivUpvote.setOnClickListener {
            listener.onClick()
        }

        binding.tvUpvote.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the upvote icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setUpvoteCountClickListener(listener: LMFeedOnClickListener) {
        binding.tvUpvotesCount.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the like icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setCommentsCountClickListener(listener: LMFeedOnClickListener) {
        binding.tvCommentsCount.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the save icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setSaveIconListener(listener: LMFeedOnClickListener) {
        binding.ivSave.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the share icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setShareIconListener(listener: LMFeedOnClickListener) {
        binding.ivShare.setOnClickListener {
            listener.onClick()
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/post/postcontent/style/LMFeedPostContentViewStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.post.postcontent.style

import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.search.view.LMFeedSearchFragment
import com.likeminds.feed.android.core.ui.base.styles.LMFeedTextStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedPostContentViewStyle] helps you to customize the content of the post in the search feed fragment [LMFeedSearchFragment]
 *
 * @property textContentViewStyle : [LMFeedTextStyle] this will help you to customize the content of the post
 * @property searchHighlightedTextViewStyle : [LMFeedTextStyle] this will help you to customize the text of highlighted keyword in the post | Default value = [null]
 * @property headingContentViewStyle : [LMFeedTextStyle] this will help you to customize the heading content of the post
 * @property searchHighlightedHeadingViewStyle : [LMFeedTextStyle] this will help you to customize the text of highlighted keyword in the post heading | Default value = [null]
 *
 * */
class LMFeedPostContentViewStyle private constructor(
    // content text view style
    val textContentViewStyle: LMFeedTextStyle,
    // highlighted search text style
    val searchHighlightedTextViewStyle: LMFeedTextStyle?,
    // heading content view style
    val headingContentViewStyle: LMFeedTextStyle?,
    // highlighted search heading style
    val searchHighlightedHeadingViewStyle: LMFeedTextStyle?,
) : LMFeedViewStyle {

    class Builder {
        private var postTextViewStyle: LMFeedTextStyle =
            LMFeedTextStyle.Builder()
                .textColor(R.color.lm_feed_grey)
                .textSize(R.dimen.lm_feed_text_large)
                .fontResource(R.font.lm_feed_roboto)
                .build()

        private var searchHighlightedTextViewStyle: LMFeedTextStyle? = null

        private var headingContentViewStyle: LMFeedTextStyle? = null

        private var searchHighlightedHeadingViewStyle: LMFeedTextStyle? = null

        fun postTextViewStyle(postTextViewStyle: LMFeedTextStyle) = apply {
            this.postTextViewStyle = postTextViewStyle
        }

        fun searchHighlightedTextViewStyle(searchHighlightedViewStyle: LMFeedTextStyle?) = apply {
            this.searchHighlightedTextViewStyle = searchHighlightedViewStyle
        }

        fun headingContentViewStyle(headingContentViewStyle: LMFeedTextStyle?) = apply {
            this.headingContentViewStyle = headingContentViewStyle
        }

        fun searchHighlightedHeadingViewStyle(searchHighlightedHeadingViewStyle: LMFeedTextStyle?) = apply {
            this.searchHighlightedHeadingViewStyle = searchHighlightedHeadingViewStyle
        }

        fun build() = LMFeedPostContentViewStyle(
            postTextViewStyle,
            searchHighlightedTextViewStyle,
            headingContentViewStyle,
            searchHighlightedHeadingViewStyle
        )
    }

    fun toBuilder(): Builder {
        return Builder().postTextViewStyle(textContentViewStyle)
            .searchHighlightedTextViewStyle(searchHighlightedTextViewStyle)
            .headingContentViewStyle(headingContentViewStyle)
            .searchHighlightedHeadingViewStyle(searchHighlightedHeadingViewStyle)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/post/postheaderview/style/LMFeedPostHeaderViewStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.post.postheaderview.style

import android.text.TextUtils
import androidx.annotation.ColorRes
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedPostHeaderViewStyle] helps you to customize the post header view [LMFeedPostHeaderView]
 *
 * @property authorImageViewStyle : [LMFeedImageStyle] this will help you to customize the author image in the post header
 * @property authorNameViewStyle : [LMFeedTextStyle] this will help you to customize the author name in the post header
 * @property timestampTextStyle: [LMFeedTextStyle] this will help you to customize the timestamp text in the post header | set its value to [null] if you want to hide the timestamp in the post header
 * @property postEditedTextStyle: [LMFeedTextStyle] this will help you to customize the edited text tag in an edited post header |  set its value to [null] if you want to hide the edited tag in the post header
 * @property authorCustomTitleTextStyle: [LMFeedTextStyle] this will help you to customize the custom title of the author in the post header | set its value to [null] if you want to hide the custom title of the author in the post header
 * @property pinIconStyle: [LMFeedIconStyle] this will help you to customize the pin icon of the post | set its value to [null] if you want to hide the pin icon in the post header
 * @property menuIconStyle: [LMFeedIconStyle] this will help you to customize the menu icon of the post | set its value to [null] if you want to hide the menu icon in the post header
 * @property backgroundColor:  [Int] should be in format of [ColorRes] to add background color of the post header | Default value = [null]
 *
 * */
class LMFeedPostHeaderViewStyle private constructor(
    val authorImageViewStyle: LMFeedImageStyle,
    val authorNameViewStyle: LMFeedTextStyle,
    val timestampTextStyle: LMFeedTextStyle?,
    val postEditedTextStyle: LMFeedTextStyle?,
    val authorCustomTitleTextStyle: LMFeedTextStyle?,
    val pinIconStyle: LMFeedIconStyle?,
    val menuIconStyle: LMFeedIconStyle?,
    @ColorRes val backgroundColor: Int?
) : LMFeedViewStyle {

    class Builder {
        private var authorImageViewStyle: LMFeedImageStyle = LMFeedImageStyle.Builder()
            .isCircle(true)
            .showGreyScale(false)
            .build()

        private var authorNameViewStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textSize(R.dimen.lm_feed_text_large)
            .textColor(R.color.lm_feed_raisin_black)
            .maxLines(1)
            .ellipsize(TextUtils.TruncateAt.END)
            .fontResource(R.font.lm_feed_roboto_medium)
            .build()

        private var timestampTextStyle: LMFeedTextStyle? = null

        private var postEditedTextStyle: LMFeedTextStyle? = null

        private var authorCustomTitleTextStyle: LMFeedTextStyle? = null

        private var pinIconStyle: LMFeedIconStyle? = null

        private var menuIconStyle: LMFeedIconStyle? = null

        @ColorRes
        private var backgroundColor: Int? = null

        fun authorImageViewStyle(authorImageViewStyle: LMFeedImageStyle) = apply {
            this.authorImageViewStyle = authorImageViewStyle
        }

        fun authorNameViewStyle(authorNameViewStyle: LMFeedTextStyle) = apply {
            this.authorNameViewStyle = authorNameViewStyle
        }

        fun timestampTextStyle(timestampTextStyle: LMFeedTextStyle?) = apply {
            this.timestampTextStyle = timestampTextStyle
        }

        fun postEditedTextStyle(postEditedTextStyle: LMFeedTextStyle?) = apply {
            this.postEditedTextStyle = postEditedTextStyle
        }

        fun authorCustomTitleTextStyle(authorCustomTitleTextStyle: LMFeedTextStyle?) = apply {
            this.authorCustomTitleTextStyle = authorCustomTitleTextStyle
        }

        fun pinIconStyle(pinIconStyle: LMFeedIconStyle?) = apply {
            this.pinIconStyle = pinIconStyle
        }

        fun menuIconStyle(menuIconStyle: LMFeedIconStyle?) = apply {
            this.menuIconStyle = menuIconStyle
        }

        fun backgroundColor(@ColorRes backgroundColor: Int?) =
            apply { this.backgroundColor = backgroundColor }

        fun build() = LMFeedPostHeaderViewStyle(
            authorImageViewStyle,
            authorNameViewStyle,
            timestampTextStyle,
            postEditedTextStyle,
            authorCustomTitleTextStyle,
            pinIconStyle,
            menuIconStyle,
            backgroundColor
        )
    }

    fun toBuilder(): Builder {
        return Builder().authorImageViewStyle(authorImageViewStyle)
            .authorNameViewStyle(authorNameViewStyle)
            .timestampTextStyle(timestampTextStyle)
            .postEditedTextStyle(postEditedTextStyle)
            .authorCustomTitleTextStyle(authorCustomTitleTextStyle)
            .pinIconStyle(pinIconStyle)
            .menuIconStyle(menuIconStyle)
            .backgroundColor(backgroundColor)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/post/postheaderview/view/LMFeedPostHeaderView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.post.postheaderview.view

import android.content.Context
import android.util.AttributeSet
import android.view.LayoutInflater
import android.view.View
import androidx.constraintlayout.widget.ConstraintLayout
import androidx.core.content.ContextCompat
import androidx.core.view.isVisible
import com.likeminds.feed.android.core.databinding.LmFeedPostHeaderViewBinding
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.widgets.post.postheaderview.style.LMFeedPostHeaderViewStyle
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedTimeUtil
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnClickListener
import com.likeminds.feed.android.core.utils.user.LMFeedUserImageUtil
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData


class LMFeedPostHeaderView : ConstraintLayout {

    constructor(context: Context) : super(context)

    constructor(context: Context, attributeSet: AttributeSet?) : super(context, attributeSet)

    constructor(context: Context, attributeSet: AttributeSet?, defStyle: Int) : super(
        context,
        attributeSet,
        defStyle
    )

    val headerMenu: View get() = binding.ivPostMenu

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding = LmFeedPostHeaderViewBinding.inflate(inflater, this, true)

    //sets provided [postHeaderViewStyle] to the post header view
    fun setStyle(postHeaderViewStyle: LMFeedPostHeaderViewStyle) {

        postHeaderViewStyle.apply {
            //set background color
            backgroundColor?.let {
                setBackgroundColor(ContextCompat.getColor(context, backgroundColor))
            }

            //configure each view in post header view as per their styles
            configureAuthorImage(authorImageViewStyle)
            configureAuthorName(authorNameViewStyle)
            configureTimestamp(timestampTextStyle)
            configureEditedTag(postEditedTextStyle)
            configureAuthorCustomTitle(authorCustomTitleTextStyle)
            configurePinIcon(pinIconStyle)
            configureMenuIcon(menuIconStyle)
        }
    }

    private fun configureMenuIcon(menuIconStyle: LMFeedIconStyle?) {
        binding.ivPostMenu.apply {
            if (menuIconStyle == null) {
                hide()
            } else {
                show()
                setStyle(menuIconStyle)
            }
        }
    }

    private fun configurePinIcon(pinIconStyle: LMFeedIconStyle?) {
        binding.ivPin.apply {
            if (pinIconStyle == null) {
                hide()
            } else {
                show()
                setStyle(pinIconStyle)
            }
        }
    }

    private fun configureAuthorCustomTitle(authorCustomTitleTextStyle: LMFeedTextStyle?) {
        binding.tvCustomTitle.apply {
            if (authorCustomTitleTextStyle == null) {
                hide()
            } else {
                show()
                setStyle(authorCustomTitleTextStyle)
            }
        }
    }

    private fun configureEditedTag(postEditedTextStyle: LMFeedTextStyle?) {
        binding.apply {
            if (postEditedTextStyle == null) {
                tvEdited.hide()
                viewDotEdited.hide()
            } else {
                tvEdited.setStyle(postEditedTextStyle)
            }
        }
    }

    private fun configureTimestamp(timestampTextStyle: LMFeedTextStyle?) {
        binding.tvTime.apply {
            if (timestampTextStyle == null) {
                hide()
            } else {
                show()
                setStyle(timestampTextStyle)
            }
        }
    }

    private fun configureAuthorName(authorNameViewStyle: LMFeedTextStyle) {
        binding.tvAuthorName.setStyle(authorNameViewStyle)
    }

    private fun configureAuthorImage(authorImageViewStyle: LMFeedImageStyle) {
        binding.ivAuthorImage.setStyle(authorImageViewStyle)
    }

    /**
     * Sets author image view.
     *
     * @param user - data of the author.
     */
    fun setAuthorImage(user: LMFeedUserViewData) {
        var authorImageViewStyle =
            LMFeedStyleTransformer.postViewStyle.postHeaderViewStyle.authorImageViewStyle

        if (authorImageViewStyle.placeholderSrc == null) {
            authorImageViewStyle = authorImageViewStyle.toBuilder().placeholderSrc(
                LMFeedUserImageUtil.getNameDrawable(
                    user.sdkClientInfoViewData.uuid,
                    user.name,
                    authorImageViewStyle.isCircle,
                ).first
            ).build()
        }
        binding.ivAuthorImage.setImage(user.imageUrl, authorImageViewStyle)
    }

    /**
     * Sets the name of the post author
     *
     * @param authorName - string to be set for author name.
     */
    fun setAuthorName(authorName: String) {
        binding.tvAuthorName.text = authorName
    }

    /**
     * Sets the time the post was created.
     *
     * @param createdAtTimeStamp - timestamp when the post was created.
     */
    fun setTimestamp(createdAtTimeStamp: Long) {
        binding.tvTime.text = LMFeedTimeUtil.getRelativeCreationTimeInString(createdAtTimeStamp)
    }

    /**
     * Shows the `Edited` text if the post was edited.
     *
     * @param isEdited - whether the post was edited or not.
     */
    fun setPostEdited(isEdited: Boolean) {
        binding.viewDotEdited.isVisible = isEdited
        binding.tvEdited.isVisible = isEdited
    }

    /**
     * Shows the pinned icon if the post is pinned.
     *
     * @param isPinned - whether the post is pinned or not.
     */
    fun setPinIcon(isPinned: Boolean) {
        binding.ivPin.apply {
            if (isPinned) {
                show()
            } else {
                hide()
            }
        }
    }

    /**
     * Sets the custom title of the post author
     *
     * @param customTitle - string to be set for author custom title.
     */
    fun setAuthorCustomTitle(customTitle: String?) {
        binding.tvCustomTitle.apply {
            if (customTitle.isNullOrEmpty()) {
                hide()
            } else {
                show()
                text = customTitle
            }
        }
    }

    /**
     * Sets click listener on the author frame
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setAuthorFrameClickListener(listener: LMFeedOnClickListener) {

        binding.apply {
            tvAuthorName.setOnClickListener {
                listener.onClick()
            }

            ivAuthorImage.setOnClickListener {
                listener.onClick()
            }
        }
    }

    /**
     * Sets click listener on the menu icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setMenuIconClickListener(listener: LMFeedOnClickListener) {
        binding.ivPostMenu.setOnClickListener {
            listener.onClick()
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/post/postmedia/style/LMFeedPostDocumentsMediaViewStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.post.postmedia.style

import android.text.TextUtils
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.LMFeedIconStyle
import com.likeminds.feed.android.core.ui.base.styles.LMFeedTextStyle
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance.DEFAULT_VISIBLE_DOCUMENTS_LIMIT
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

class LMFeedPostDocumentsMediaViewStyle private constructor(
    val documentNameStyle: LMFeedTextStyle,
    val documentIconStyle: LMFeedIconStyle?,
    val documentPageCountStyle: LMFeedTextStyle?,
    val documentSizeStyle: LMFeedTextStyle?,
    val documentTypeStyle: LMFeedTextStyle?,
    val documentShowMoreStyle: LMFeedTextStyle?,
    val visibleDocumentsLimit: Int,
    val removeIconStyle: LMFeedIconStyle?
) : LMFeedViewStyle {

    class Builder {
        private var documentNameStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .maxLines(1)
            .textColor(R.color.lm_feed_grey)
            .textSize(R.dimen.lm_feed_text_large)
            .fontResource(R.font.lm_feed_roboto_medium)
            .ellipsize(TextUtils.TruncateAt.END)
            .build()

        private var documentIconStyle: LMFeedIconStyle? = null
        private var documentPageCountStyle: LMFeedTextStyle? = null
        private var documentSizeStyle: LMFeedTextStyle? = null
        private var documentTypeStyle: LMFeedTextStyle? = null
        private var documentShowMoreStyle: LMFeedTextStyle? = null
        private var removeIconStyle: LMFeedIconStyle? = null

        private var visibleDocumentsLimit: Int = DEFAULT_VISIBLE_DOCUMENTS_LIMIT

        fun documentNameStyle(documentNameStyle: LMFeedTextStyle) = apply {
            this.documentNameStyle = documentNameStyle
        }

        fun documentIconStyle(documentIconStyle: LMFeedIconStyle?) = apply {
            this.documentIconStyle = documentIconStyle
        }

        fun documentPageCountStyle(documentPageCountStyle: LMFeedTextStyle?) = apply {
            this.documentPageCountStyle = documentPageCountStyle
        }

        fun documentSizeStyle(documentSizeStyle: LMFeedTextStyle?) = apply {
            this.documentSizeStyle = documentSizeStyle
        }

        fun documentTypeStyle(documentTypeStyle: LMFeedTextStyle?) = apply {
            this.documentTypeStyle = documentTypeStyle
        }

        fun documentShowMoreStyle(documentShowMoreStyle: LMFeedTextStyle?) = apply {
            this.documentShowMoreStyle = documentShowMoreStyle
        }

        fun visibleDocumentsLimit(visibleDocumentsLimit: Int) = apply {
            this.visibleDocumentsLimit = visibleDocumentsLimit
        }

        fun removeIconStyle(removeIconStyle: LMFeedIconStyle?) = apply {
            this.removeIconStyle = removeIconStyle
        }

        fun build() = LMFeedPostDocumentsMediaViewStyle(
            documentNameStyle,
            documentIconStyle,
            documentPageCountStyle,
            documentSizeStyle,
            documentTypeStyle,
            documentShowMoreStyle,
            visibleDocumentsLimit,
            removeIconStyle
        )
    }

    fun toBuilder(): Builder {
        return Builder().documentNameStyle(documentNameStyle)
            .documentIconStyle(documentIconStyle)
            .documentPageCountStyle(documentPageCountStyle)
            .documentSizeStyle(documentSizeStyle)
            .documentTypeStyle(documentTypeStyle)
            .documentShowMoreStyle(documentShowMoreStyle)
            .visibleDocumentsLimit(visibleDocumentsLimit)
            .removeIconStyle(removeIconStyle)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/post/postmedia/style/LMFeedPostImageMediaViewStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.post.postmedia.style

import android.widget.ImageView
import com.likeminds.feed.android.core.ui.base.styles.LMFeedIconStyle
import com.likeminds.feed.android.core.ui.base.styles.LMFeedImageStyle
import com.likeminds.feed.android.core.utils.LMFeedViewUtils

/**
 * [LMFeedPostImageMediaViewStyle] helps you to customize a [LMFeedPostImageMediaView] in the following way
 * @property imageStyle: [LMFeedImageStyle] this will help you to customize the image attachment in the post
 * @property removeIconStyle: [LMFeedIconStyle] this help you to customize the remove icon to be used while creating or editing a post | Set to [null] if you want to hide the view
 **/
class LMFeedPostImageMediaViewStyle private constructor(
    val imageStyle: LMFeedImageStyle,
    val removeIconStyle: LMFeedIconStyle?
) {
    class Builder {
        private var imageStyle: LMFeedImageStyle = LMFeedImageStyle.Builder()
            .placeholderSrc(LMFeedViewUtils.getShimmer())
            .scaleType(ImageView.ScaleType.CENTER_CROP)
            .build()

        private var removeIconStyle: LMFeedIconStyle? = null

        fun imageStyle(imageStyle: LMFeedImageStyle) = apply {
            this.imageStyle = imageStyle
        }

        fun removeIconStyle(removeIconStyle: LMFeedIconStyle?) =
            apply { this.removeIconStyle = removeIconStyle }

        fun build() = LMFeedPostImageMediaViewStyle(
            imageStyle,
            removeIconStyle
        )
    }

    fun toBuilder(): Builder {
        return Builder().imageStyle(imageStyle)
            .removeIconStyle(removeIconStyle)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/post/postmedia/style/LMFeedPostLinkMediaViewStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.post.postmedia.style

import android.text.TextUtils
import android.widget.ImageView
import androidx.annotation.ColorRes
import androidx.annotation.DimenRes
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedPostLinkMediaViewStyle] helps you to customize the post link media view [LMFeedPostLinkMediaView]
 *
 * @property linkTitleStyle : [LMFeedTextStyle] this will help you to customize the title text in the link media view
 * @property linkDescriptionStyle : [LMFeedTextStyle] this will help you to customize the description text in the link media view
 * @property linkUrlStyle: [LMFeedTextStyle] this will help you to customize the link url text in the link media view | set its value to [null] if you want to hide the url text in the link media view
 * @property linkImageStyle: [LMFeedImageStyle] this will help you to customize the link image in the link media view
 * @property linkRemoveIconStyle: [LMFeedIconStyle] this will help you to customize the remove link icon in the link media view | set its value to [null] if you want to hide the remove link icon in the link media view
 * @property linkBoxCornerRadius: [Int] should be in format of [DimenRes] this will help you to customize the corner radius of the link media view | Default value = [null]
 * @property linkBoxElevation: [Int] should be in format of [DimenRes] this will help you to customize the elevation of the link media view | Default value = [null]
 * @property linkBoxStrokeColor: [Int] should be in format of [ColorRes] this will help you to customize the stroke color of the link media view | Default value = [null]
 * @property linkBoxStrokeWidth: [Int] should be in format of [DimenRes] this will help you to customize the stroke width of the link media view | Default value = [null]
 * @property backgroundColor: [Int] should be in format of [ColorRes] this will help you to customize the background color of the link media view | Default value = [null]
 * */
class LMFeedPostLinkMediaViewStyle private constructor(
    //link title style
    val linkTitleStyle: LMFeedTextStyle,
    //link description style
    val linkDescriptionStyle: LMFeedTextStyle?,
    //link url style
    val linkUrlStyle: LMFeedTextStyle?,
    //link image style
    val linkImageStyle: LMFeedImageStyle,
    //link remove icon style
    val linkRemoveIconStyle: LMFeedIconStyle?,
    //link box corner radius style
    @DimenRes val linkBoxCornerRadius: Int?,
    //link box elevation style
    @DimenRes val linkBoxElevation: Int?,
    //link box stroke color
    @ColorRes val linkBoxStrokeColor: Int?,
    //link box stroke width
    @DimenRes val linkBoxStrokeWidth: Int?,
    //link box background color
    @ColorRes val backgroundColor: Int?
) : LMFeedViewStyle {

    class Builder {
        private var linkTitleStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .ellipsize(TextUtils.TruncateAt.END)
            .textSize(R.dimen.lm_feed_text_large)
            .maxLines(2)
            .fontResource(R.font.lm_feed_roboto_medium)
            .textColor(R.color.lm_feed_grey)
            .build()

        private var linkDescriptionStyle: LMFeedTextStyle? = null

        private var linkUrlStyle: LMFeedTextStyle? = null

        private var linkImageStyle: LMFeedImageStyle = LMFeedImageStyle.Builder()
            .placeholderSrc(R.drawable.lm_feed_ic_link)
            .scaleType(ImageView.ScaleType.CENTER)
            .isCircle(false)
            .build()

        private var linkRemoveIconStyle: LMFeedIconStyle? = null

        @DimenRes
        private var linkBoxCornerRadius: Int? = null

        @DimenRes
        private var linkBoxElevation: Int? = null

        @ColorRes
        private var linkBoxStrokeColor: Int? = null

        @DimenRes
        private var linkBoxStrokeWidth: Int? = null

        @ColorRes
        private var backgroundColor: Int? = null

        fun linkTitleStyle(linkTitleStyle: LMFeedTextStyle) = apply {
            this.linkTitleStyle = linkTitleStyle
        }

        fun linkDescriptionStyle(linkDescriptionStyle: LMFeedTextStyle?) = apply {
            this.linkDescriptionStyle = linkDescriptionStyle
        }

        fun linkUrlStyle(linkUrlStyle: LMFeedTextStyle?) = apply {
            this.linkUrlStyle = linkUrlStyle
        }

        fun linkImageStyle(linkImageStyle: LMFeedImageStyle) = apply {
            this.linkImageStyle = linkImageStyle
        }

        fun linkRemoveIconStyle(linkRemoveIconStyle: LMFeedIconStyle?) = apply {
            this.linkRemoveIconStyle = linkRemoveIconStyle
        }

        fun linkBoxCornerRadius(@DimenRes linkBoxCornerRadius: Int?) = apply {
            this.linkBoxCornerRadius = linkBoxCornerRadius
        }

        fun linkBoxElevation(@DimenRes linkBoxElevation: Int?) = apply {
            this.linkBoxElevation = linkBoxElevation
        }

        fun linkBoxStrokeColor(@ColorRes linkBoxStrokeColor: Int?) = apply {
            this.linkBoxStrokeColor = linkBoxStrokeColor
        }

        fun linkBoxStrokeWidth(@DimenRes linkBoxStrokeWidth: Int?) = apply {
            this.linkBoxStrokeWidth = linkBoxStrokeWidth
        }

        fun backgroundColor(@ColorRes backgroundColor: Int?) = apply {
            this.backgroundColor = backgroundColor
        }

        fun build() = LMFeedPostLinkMediaViewStyle(
            linkTitleStyle,
            linkDescriptionStyle,
            linkUrlStyle,
            linkImageStyle,
            linkRemoveIconStyle,
            linkBoxCornerRadius,
            linkBoxElevation,
            linkBoxStrokeColor,
            linkBoxStrokeWidth,
            backgroundColor
        )
    }

    fun toBuilder(): Builder {
        return Builder().linkTitleStyle(linkTitleStyle)
            .linkDescriptionStyle(linkDescriptionStyle)
            .linkUrlStyle(linkUrlStyle)
            .linkImageStyle(linkImageStyle)
            .linkRemoveIconStyle(linkRemoveIconStyle)
            .linkBoxStrokeColor(linkBoxStrokeColor)
            .linkBoxStrokeWidth(linkBoxStrokeWidth)
            .backgroundColor(backgroundColor)
            .linkBoxCornerRadius(linkBoxCornerRadius)
            .linkBoxElevation(linkBoxElevation)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/post/postmedia/style/LMFeedPostMediaViewStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.post.postmedia.style

import com.likeminds.feed.android.core.ui.base.styles.LMFeedImageStyle
import com.likeminds.feed.android.core.ui.widgets.poll.style.LMFeedPostPollViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedPostMediaViewStyle] helps you to customize the media attached in the post
 *
 * @property postImageMediaStyle : [LMFeedImageStyle] this will help you to customize the image attachment in the post
 * @property postVideoMediaStyle : [LMFeedPostVideoMediaViewStyle] this will help you to customize the video attachment in the post
 * @property postLinkViewStyle: [LMFeedPostLinkMediaViewStyle] this will help you to customize the  link type post
 * @property postDocumentsMediaStyle: [LMFeedPostDocumentsMediaViewStyle] this will help you to customize the document type post
 * @property postMultipleMediaStyle: [LMFeedPostMultipleMediaViewStyle] this will help you to customize the multiple media (images/videos) type post
 * */
class LMFeedPostMediaViewStyle private constructor(
    //style for image media in a post
    val postImageMediaStyle: LMFeedPostImageMediaViewStyle?,
    //style for video media in a post
    val postVideoMediaStyle: LMFeedPostVideoMediaViewStyle?,
    //style for link media in a post
    val postLinkViewStyle: LMFeedPostLinkMediaViewStyle?,
    //style for documents media in a post
    val postDocumentsMediaStyle: LMFeedPostDocumentsMediaViewStyle?,
    //style for multiple media carousel in a post
    val postMultipleMediaStyle: LMFeedPostMultipleMediaViewStyle?,
    //style for poll media in a post
    val postPollMediaStyle: LMFeedPostPollViewStyle?,
    //style for vertical video media in a post
    val postVerticalVideoMediaStyle: LMFeedPostVideoMediaViewStyle?
) : LMFeedViewStyle {

    class Builder {
        private var postImageMediaStyle: LMFeedPostImageMediaViewStyle? = null

        private var postVideoMediaStyle: LMFeedPostVideoMediaViewStyle? = null

        private var postLinkStyle: LMFeedPostLinkMediaViewStyle? = null

        private var postDocumentsMediaStyle: LMFeedPostDocumentsMediaViewStyle? = null

        private var postMultipleMediaStyle: LMFeedPostMultipleMediaViewStyle? = null

        private var postPollMediaStyle: LMFeedPostPollViewStyle? = null

        private var postVerticalVideoMediaStyle: LMFeedPostVideoMediaViewStyle? = null

        fun postImageMediaStyle(postImageMediaStyle: LMFeedPostImageMediaViewStyle?) = apply {
            this.postImageMediaStyle = postImageMediaStyle
        }

        fun postVideoMediaStyle(postVideoMediaStyle: LMFeedPostVideoMediaViewStyle?) = apply {
            this.postVideoMediaStyle = postVideoMediaStyle
        }

        fun postLinkStyle(postLinkStyle: LMFeedPostLinkMediaViewStyle?) = apply {
            this.postLinkStyle = postLinkStyle
        }

        fun postDocumentsMediaStyle(postDocumentsMediaStyle: LMFeedPostDocumentsMediaViewStyle?) =
            apply {
                this.postDocumentsMediaStyle = postDocumentsMediaStyle
            }

        fun postMultipleMediaStyle(postMultipleMediaStyle: LMFeedPostMultipleMediaViewStyle?) =
            apply {
                this.postMultipleMediaStyle = postMultipleMediaStyle
            }

        fun postPollMediaStyle(postPollMediaStyle: LMFeedPostPollViewStyle?) = apply {
            this.postPollMediaStyle = postPollMediaStyle
        }

        fun postVerticalVideoMediaStyle(postVerticalVideoMediaStyle: LMFeedPostVideoMediaViewStyle?) =
            apply {
                this.postVerticalVideoMediaStyle = postVerticalVideoMediaStyle
            }

        fun build() = LMFeedPostMediaViewStyle(
            postImageMediaStyle,
            postVideoMediaStyle,
            postLinkStyle,
            postDocumentsMediaStyle,
            postMultipleMediaStyle,
            postPollMediaStyle,
            postVerticalVideoMediaStyle
        )
    }

    fun toBuilder(): Builder {
        return Builder().postImageMediaStyle(postImageMediaStyle)
            .postVideoMediaStyle(postVideoMediaStyle)
            .postLinkStyle(postLinkViewStyle)
            .postDocumentsMediaStyle(postDocumentsMediaStyle)
            .postMultipleMediaStyle(postMultipleMediaStyle)
            .postPollMediaStyle(postPollMediaStyle)
            .postVerticalVideoMediaStyle(postVerticalVideoMediaStyle)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/post/postmedia/style/LMFeedPostMultipleMediaViewStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.post.postmedia.style

import androidx.annotation.*
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostMultipleMediaView
import com.likeminds.feed.android.core.utils.LMFeedViewStyle
import com.zhpan.indicator.annotation.AIndicatorSlideMode
import com.zhpan.indicator.annotation.AIndicatorStyle
import com.zhpan.indicator.enums.IndicatorStyle

/**
 * [LMFeedPostMultipleMediaViewStyle] helps you customize a [LMFeedPostMultipleMediaView] in the following way
 * @property indicatorActiveColor : [Int] should be in format of [ColorRes] to customize the color of the active indicator | Default value =  [R.color.majorelle_blue]
 * @property indicatorInActiveColor : [Int] this will help to customize the color of the inactive indicator | Default value =  [R.color.lm_feed_cloudy_blue]
 *
 * @property indicatorActiveWidth: [Int] should be in format of [DimenRes] to customize the width of the active indicator | Default value =  [10dp]
 * @property indicatorStyle: [Int] should be in format of [AIndicatorStyle] to customize the style of the inactive indicator | Default value = [IndicatorStyle.CIRCLE]
 * @property indicatorInactiveWidth: [Int] should be in format of [DimenRes] to customize width of the button | Default value = [null]
 * @property indicatorHeight: [Int] should be in format of [DimenRes] to customize the height of the height of the indicator. Works for indicator style = [IndicatorStyle.DASH] & [IndicatorStyle.ROUND_RECT] | Default value = [null]
 * @property indicatorSpacing: [Int] should be in format of [DimenRes] to customize the spacing between the indicators | Default value = [null]
 * @property indicatorSlideMode:[Int] should be in format of [AIndicatorSlideMode] to customize the slide mode of the indicator | Default value = [null]
 **/
class LMFeedPostMultipleMediaViewStyle private constructor(
    @ColorRes val indicatorActiveColor: Int,
    @ColorRes val indicatorInActiveColor: Int,
    @DimenRes val indicatorActiveWidth: Int,
    @AIndicatorStyle val indicatorStyle: Int?,
    @DimenRes val indicatorInactiveWidth: Int?,
    @DimenRes val indicatorHeight: Int?,
    @DimenRes val indicatorSpacing: Int?,
    @AIndicatorSlideMode val indicatorSlideMode: Int?
) : LMFeedViewStyle {

    class Builder {
        @ColorRes
        private var indicatorActiveColor: Int = LMFeedAppearance.getButtonColor()

        @ColorRes
        private var indicatorInActiveColor: Int = R.color.lm_feed_cloudy_blue

        @DimenRes
        private var indicatorActiveWidth: Int = R.dimen.lm_feed_indicator_dot_size

        @AIndicatorStyle
        private var indicatorStyle: Int? = null

        @DimenRes
        private var indicatorInactiveWidth: Int? = null

        @DimenRes
        private var indicatorHeight: Int? = null

        @DimenRes
        private var indicatorSpacing: Int? = null

        @AIndicatorSlideMode
        private var indicatorSlideMode: Int? = null

        fun indicatorActiveColor(@ColorRes indicatorActiveColor: Int) =
            apply { this.indicatorActiveColor = indicatorActiveColor }

        fun indicatorInActiveColor(@ColorRes indicatorInActiveColor: Int) =
            apply { this.indicatorInActiveColor = indicatorInActiveColor }

        fun indicatorActiveWidth(@DimenRes indicatorActiveWidth: Int) =
            apply { this.indicatorActiveWidth = indicatorActiveWidth }

        fun indicatorInactiveWidth(@DimenRes indicatorInactiveWidth: Int?) =
            apply { this.indicatorInactiveWidth = indicatorInactiveWidth }

        fun indicatorStyle(@AIndicatorStyle indicatorStyle: Int?) =
            apply { this.indicatorStyle = indicatorStyle }

        fun indicatorHeight(@DimenRes indicatorHeight: Int?) =
            apply { this.indicatorHeight = indicatorHeight }

        fun indicatorSpacing(@DimenRes indicatorSpacing: Int?) =
            apply { this.indicatorSpacing = indicatorSpacing }

        fun indicatorSlideMode(@AIndicatorSlideMode indicatorSlideMode: Int?) =
            apply { this.indicatorSlideMode = indicatorSlideMode }

        fun build() = LMFeedPostMultipleMediaViewStyle(
            indicatorActiveColor,
            indicatorInActiveColor,
            indicatorActiveWidth,
            indicatorInactiveWidth,
            indicatorStyle,
            indicatorHeight,
            indicatorSpacing,
            indicatorSlideMode
        )
    }

    fun toBuilder(): Builder {
        return Builder().indicatorActiveColor(indicatorActiveColor)
            .indicatorInActiveColor(indicatorInActiveColor)
            .indicatorActiveWidth(indicatorActiveWidth)
            .indicatorInactiveWidth(indicatorInactiveWidth)
            .indicatorStyle(indicatorStyle)
            .indicatorHeight(indicatorHeight)
            .indicatorSpacing(indicatorSpacing)
            .indicatorSlideMode(indicatorSlideMode)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/post/postmedia/style/LMFeedPostVideoMediaViewStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.post.postmedia.style

import androidx.annotation.ColorRes
import com.likeminds.feed.android.core.ui.base.styles.LMFeedIconStyle
import com.likeminds.feed.android.core.ui.base.styles.LMFeedImageStyle
import com.likeminds.feed.android.core.ui.base.styles.LMFeedProgressBarStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

class LMFeedPostVideoMediaViewStyle private constructor(
    val videoThumbnailStyle: LMFeedImageStyle?,
    val videoProgressStyle: LMFeedProgressBarStyle?,
    val videoPlayPauseButton: LMFeedIconStyle?,
    val videoMuteUnmuteButton: LMFeedIconStyle?,
    val showController: Boolean,
    val keepScreenOn: Boolean,
    val controllerAutoShow: Boolean,
    val controllerShowTimeoutMs: Int,
    @ColorRes val backgroundColor: Int?,
    val removeIconStyle: LMFeedIconStyle?
) : LMFeedViewStyle {

    class Builder {
        private var videoThumbnailStyle: LMFeedImageStyle? = null
        private var videoProgressStyle: LMFeedProgressBarStyle? = null
        private var videoPlayPauseButton: LMFeedIconStyle? = null
        private var videoMuteUnmuteButton: LMFeedIconStyle? = null
        private var showController: Boolean = false
        private var keepScreenOn: Boolean = true
        private var controllerAutoShow: Boolean = false
        private var controllerShowTimeoutMs: Int = 0
        private var removeIconStyle: LMFeedIconStyle? = null

        @ColorRes
        private var backgroundColor: Int? = null

        fun videoThumbnailStyle(videoThumbnailStyle: LMFeedImageStyle?) =
            apply { this.videoThumbnailStyle = videoThumbnailStyle }

        fun videoProgressStyle(videoProgressStyle: LMFeedProgressBarStyle?) =
            apply { this.videoProgressStyle = videoProgressStyle }

        fun videoPlayPauseButton(videoPlayPauseButton: LMFeedIconStyle?) =
            apply { this.videoPlayPauseButton = videoPlayPauseButton }

        fun videoMuteUnmuteButton(videoMuteUnmuteButton: LMFeedIconStyle?) =
            apply { this.videoMuteUnmuteButton = videoMuteUnmuteButton }

        fun showController(showController: Boolean) = apply { this.showController = showController }
        fun keepScreenOn(keepScreenOn: Boolean) = apply { this.keepScreenOn = keepScreenOn }
        fun controllerAutoShow(controllerAutoShow: Boolean) =
            apply { this.controllerAutoShow = controllerAutoShow }

        fun controllerShowTimeoutMs(controllerShowTimeoutMs: Int) =
            apply { this.controllerShowTimeoutMs = controllerShowTimeoutMs }

        fun backgroundColor(@ColorRes backgroundColor: Int?) =
            apply { this.backgroundColor = backgroundColor }

        fun removeIconStyle(removeIconStyle: LMFeedIconStyle?) =
            apply { this.removeIconStyle = removeIconStyle }

        fun build() = LMFeedPostVideoMediaViewStyle(
            videoThumbnailStyle,
            videoProgressStyle,
            videoPlayPauseButton,
            videoMuteUnmuteButton,
            showController,
            keepScreenOn,
            controllerAutoShow,
            controllerShowTimeoutMs,
            backgroundColor,
            removeIconStyle
        )
    }

    fun toBuilder(): Builder {
        return Builder().videoThumbnailStyle(videoThumbnailStyle)
            .videoProgressStyle(videoProgressStyle)
            .videoPlayPauseButton(videoPlayPauseButton)
            .videoMuteUnmuteButton(videoMuteUnmuteButton)
            .showController(showController)
            .keepScreenOn(keepScreenOn)
            .controllerAutoShow(controllerAutoShow)
            .controllerShowTimeoutMs(controllerShowTimeoutMs)
            .backgroundColor(backgroundColor)
            .removeIconStyle(removeIconStyle)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/post/postmedia/view/LMFeedPostDocumentView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.post.postmedia.view

import android.content.Context
import android.util.AttributeSet
import android.view.LayoutInflater
import androidx.constraintlayout.widget.ConstraintLayout
import androidx.core.view.isVisible
import com.likeminds.customgallery.media.util.MediaUtils
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedPostDocumentViewBinding
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.widgets.post.postmedia.style.LMFeedPostDocumentsMediaViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnClickListener

class LMFeedPostDocumentView : ConstraintLayout {

    constructor(context: Context) : super(context)

    constructor(context: Context, attributeSet: AttributeSet?) : super(context, attributeSet)

    constructor(context: Context, attributeSet: AttributeSet?, defStyle: Int) : super(
        context,
        attributeSet,
        defStyle
    )

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding = LmFeedPostDocumentViewBinding.inflate(inflater, this, true)

    //sets provided [postDocumentMediaViewStyle] to the document media of the post
    fun setStyle(postDocumentMediaViewStyle: LMFeedPostDocumentsMediaViewStyle) {
        //configures each view of the document media
        configureDocumentName(postDocumentMediaViewStyle.documentNameStyle)
        configureDocumentIcon(postDocumentMediaViewStyle.documentIconStyle)
        configureDocumentPageCount(postDocumentMediaViewStyle.documentPageCountStyle)
        configureDocumentSize(postDocumentMediaViewStyle.documentSizeStyle)
        configureDocumentType(postDocumentMediaViewStyle.documentTypeStyle)
        configureRemoveIcon(postDocumentMediaViewStyle.removeIconStyle)
    }

    private fun configureDocumentName(documentNameStyle: LMFeedTextStyle) {
        binding.tvDocumentName.setStyle(documentNameStyle)
    }

    private fun configureDocumentIcon(documentIconStyle: LMFeedIconStyle?) {
        binding.ivDocumentIcon.apply {
            if (documentIconStyle == null) {
                hide()
            } else {
                show()
                setStyle(documentIconStyle)
            }
        }
    }

    private fun configureDocumentPageCount(documentPageCountStyle: LMFeedTextStyle?) {
        binding.apply {
            if (documentPageCountStyle == null) {
                tvDocumentPages.hide()
                viewMetaDot1.hide()
            } else {
                tvDocumentPages.setStyle(documentPageCountStyle)
            }
        }
    }

    private fun configureDocumentSize(documentSizeStyle: LMFeedTextStyle?) {
        binding.apply {
            if (documentSizeStyle == null) {
                tvDocumentSize.hide()
                viewMetaDot1.hide()
            } else {
                tvDocumentSize.setStyle(documentSizeStyle)
            }
        }
    }

    private fun configureDocumentType(documentTypeStyle: LMFeedTextStyle?) {
        binding.apply {
            if (documentTypeStyle == null) {
                tvDocumentType.hide()
                viewMetaDot2.hide()
            } else {
                tvDocumentType.setStyle(documentTypeStyle)
            }
        }
    }

    private fun configureRemoveIcon(removeIconStyle: LMFeedIconStyle?) {
        binding.ivCrossDoc.apply {
            if (removeIconStyle == null) {
                hide()
            } else {
                show()
                setStyle(removeIconStyle)
            }
        }
    }

    /**
     * Sets the name of the document media in the post
     *
     * @param documentName - string to be set for name of the document.
     */
    fun setDocumentName(documentName: String?) {
        binding.tvDocumentName.text = documentName ?: context.getString(R.string.lm_feed_documents)
    }

    /**
     * Sets the number of pages in document media in the post
     *
     * @param documentPages - number of pages in the document.
     */
    fun setDocumentPages(documentPages: Int?) {
        binding.apply {
            val noOfPage = documentPages ?: 0

            if (noOfPage > 0) {
                tvDocumentPages.show()
                viewMetaDot1.show()
                tvDocumentPages.text = context.resources.getQuantityString(
                    R.plurals.lm_feed_placeholder_pages,
                    noOfPage,
                    noOfPage
                )
            } else {
                tvDocumentPages.hide()
                viewMetaDot1.hide()
            }
        }
    }

    /**
     * Sets the size of document media in the post
     *
     * @param documentSize - size of documents in long.
     */
    fun setDocumentSize(documentSize: Long?) {
        binding.apply {
            if (documentSize != null) {
                tvDocumentSize.show()
                tvDocumentSize.text = MediaUtils.getFileSizeText(documentSize)
                if (tvDocumentPages.isVisible) {
                    viewMetaDot1.show()
                } else {
                    viewMetaDot1.hide()
                }
            } else {
                tvDocumentSize.hide()
                viewMetaDot1.hide()
            }
        }
    }

    /**
     * Sets the type of document media in the post
     *
     * @param documentType - string to be set for the type of the document.
     */
    fun setDocumentType(documentType: String?) {
        binding.apply {
            if (!documentType.isNullOrEmpty() && (tvDocumentName.isVisible || tvDocumentSize.isVisible)) {
                tvDocumentType.show()
                tvDocumentType.text = documentType
                viewMetaDot2.show()
            } else {
                tvDocumentType.hide()
                viewMetaDot2.hide()
            }
        }
    }

    /**
     * Sets click listener on the document
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setDocumentClickListener(listener: LMFeedOnClickListener) {
        binding.root.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the remove document icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setRemoveIconClickListener(listener: LMFeedOnClickListener) {
        binding.ivCrossDoc.setOnClickListener {
            listener.onClick()
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/post/postmedia/view/LMFeedPostDocumentsMediaView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.post.postmedia.view

import android.content.Context
import android.util.AttributeSet
import android.view.LayoutInflater
import androidx.constraintlayout.widget.ConstraintLayout
import com.likeminds.feed.android.core.databinding.LmFeedPostDocumentsMediaViewBinding
import com.likeminds.feed.android.core.ui.base.styles.LMFeedTextStyle
import com.likeminds.feed.android.core.ui.base.styles.setStyle
import com.likeminds.feed.android.core.ui.widgets.post.postmedia.style.LMFeedPostDocumentsMediaViewStyle
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.model.LMFeedMediaViewData
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnClickListener

class LMFeedPostDocumentsMediaView : ConstraintLayout {

    constructor(context: Context) : super(context)

    constructor(context: Context, attributeSet: AttributeSet?) : super(context, attributeSet)

    constructor(context: Context, attributeSet: AttributeSet?, defStyle: Int) : super(
        context,
        attributeSet,
        defStyle
    )

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding = LmFeedPostDocumentsMediaViewBinding.inflate(inflater, this, true)

    //sets provided [postDocumentsMediaViewStyle] to the document type post
    fun setStyle(postDocumentsMediaViewStyle: LMFeedPostDocumentsMediaViewStyle) {

        //configures the show more text in the document type post
        configureShowMore(postDocumentsMediaViewStyle.documentShowMoreStyle)
    }

    private fun configureShowMore(documentShowMoreStyle: LMFeedTextStyle?) {
        binding.tvShowMore.apply {
            documentShowMoreStyle?.let {
                setStyle(documentShowMoreStyle)
                show()
            }
        }
    }

    fun setAdapter(
        parentPosition: Int,
        mediaData: LMFeedMediaViewData,
        listener: LMFeedPostAdapterListener,
        isMediaRemovable: Boolean = false
    ) {
        binding.apply {
            rvDocuments.setAdapter(
                parentPosition,
                mediaData,
                tvShowMore,
                listener,
                isMediaRemovable
            )
        }
    }

    /**
     * Removes the document at the provided index
     * @param position: index from which the media is to be removed
     */
    fun removeDocument(position: Int) {
        binding.rvDocuments.removeDocument(position)
    }

    fun setShowMoreTextClickListener(listener: LMFeedOnClickListener) {
        binding.tvShowMore.setOnClickListener {
            listener.onClick()
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/post/postmedia/view/LMFeedPostImageMediaView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.post.postmedia.view

import android.content.Context
import android.util.AttributeSet
import android.view.LayoutInflater
import androidx.constraintlayout.widget.ConstraintLayout
import com.likeminds.feed.android.core.databinding.LmFeedPostImageMediaViewBinding
import com.likeminds.feed.android.core.ui.base.styles.LMFeedIconStyle
import com.likeminds.feed.android.core.ui.base.styles.LMFeedImageStyle
import com.likeminds.feed.android.core.ui.base.styles.setStyle
import com.likeminds.feed.android.core.ui.widgets.post.postmedia.style.LMFeedPostImageMediaViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnClickListener

class LMFeedPostImageMediaView : ConstraintLayout {

    constructor(context: Context) : super(context)

    constructor(context: Context, attributeSet: AttributeSet?) : super(context, attributeSet)

    constructor(context: Context, attributeSet: AttributeSet?, defStyle: Int) : super(
        context,
        attributeSet,
        defStyle
    )

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding = LmFeedPostImageMediaViewBinding.inflate(inflater, this, true)

    //sets provided [lmFeedPostImageMediaViewStyle] to the image view in the post
    fun setStyle(lmFeedPostImageMediaViewStyle: LMFeedPostImageMediaViewStyle) {
        lmFeedPostImageMediaViewStyle.apply {
            configureImageView(imageStyle)
            configureRemoveIconView(removeIconStyle)
        }
    }

    private fun configureImageView(imageStyle: LMFeedImageStyle) {
        binding.imageView.setStyle(imageStyle)
    }

    private fun configureRemoveIconView(removeIconStyle: LMFeedIconStyle?) {
        binding.ivCross.apply {
            if (removeIconStyle == null) {
                hide()
            } else {
                show()
                setStyle(removeIconStyle)
            }
        }
    }

    /**
     * Sets the image to the image media of the post
     *
     * @param imageSrc - source to be set for the image media view of the post.
     * @param postImageMediaViewStyle - view style for the image media of the post.
     */
    fun setImage(imageSrc: Any, postImageMediaViewStyle: LMFeedPostImageMediaViewStyle) {
        binding.imageView.setImage(imageSrc, postImageMediaViewStyle.imageStyle)
    }

    /**
     * Sets click listener on the remove icon on the image media of the post
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener.
     */
    fun setRemoveIconClickListener(listener: LMFeedOnClickListener) {
        binding.ivCross.setOnClickListener {
            listener.onClick()
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/post/postmedia/view/LMFeedPostLinkMediaView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.post.postmedia.view

import android.content.Context
import android.util.AttributeSet
import android.view.LayoutInflater
import androidx.constraintlayout.widget.ConstraintLayout
import androidx.constraintlayout.widget.ConstraintSet
import androidx.core.content.ContextCompat
import com.google.android.material.card.MaterialCardView
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedPostLinkMediaViewBinding
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.widgets.post.postmedia.style.LMFeedPostLinkMediaViewStyle
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.isImageValid
import com.likeminds.feed.android.core.utils.LMFeedViewUtils
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnClickListener
import java.util.Locale
import kotlin.math.roundToInt

class LMFeedPostLinkMediaView : MaterialCardView {

    constructor(context: Context) : super(context)

    constructor(context: Context, attrs: AttributeSet?) : super(context, attrs)

    constructor(context: Context, attrs: AttributeSet?, defStyle: Int) : super(
        context,
        attrs,
        defStyle
    )

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding = LmFeedPostLinkMediaViewBinding.inflate(inflater, this, true)

    //sets provided [postLinkViewStyle] to the link type post
    fun setStyle(postLinkViewStyle: LMFeedPostLinkMediaViewStyle) {
        postLinkViewStyle.apply {
            //set background color of the link box
            if (backgroundColor != null) {
                setBackgroundColor(ContextCompat.getColor(context, backgroundColor))
            }

            //set corner radius of the link box
            if (linkBoxCornerRadius != null) {
                radius = resources.getDimension(linkBoxCornerRadius)
            }

            //set elevation of the link box
            if (linkBoxElevation != null) {
                elevation = resources.getDimension(linkBoxElevation)
            }

            //set stroke color of the link box
            if (linkBoxStrokeColor != null) {
                strokeColor = ContextCompat.getColor(context, linkBoxStrokeColor)
            }

            //set stroke color of the link box
            if (linkBoxStrokeWidth != null) {
                strokeWidth =
                    resources.getDimension(linkBoxStrokeWidth).roundToInt()
            }

            //configures each view of the link type post with the provided styles
            configureLinkTitle(linkTitleStyle)
            configureLinkDescription(linkDescriptionStyle)
            configureLinkUrl(linkUrlStyle)
            configureLinkImage(linkImageStyle)
            configureLinkRemoveIcon(linkRemoveIconStyle)
        }
    }

    private fun configureLinkTitle(linkTitleStyle: LMFeedTextStyle) {
        binding.tvLinkTitle.setStyle(linkTitleStyle)
    }

    private fun configureLinkDescription(linkDescriptionStyle: LMFeedTextStyle?) {
        binding.tvLinkDescription.apply {
            if (linkDescriptionStyle == null) {
                hide()
            } else {
                show()
                setStyle(linkDescriptionStyle)
            }
        }
    }

    private fun configureLinkUrl(linkUrlStyle: LMFeedTextStyle?) {
        binding.tvLinkUrl.apply {
            if (linkUrlStyle == null) {
                hide()
            } else {
                show()
                setStyle(linkUrlStyle)
            }
        }
    }

    private fun configureLinkImage(linkImageStyle: LMFeedImageStyle) {
        binding.ivLink.setStyle(linkImageStyle)
    }

    private fun configureLinkRemoveIcon(linkRemoveIconStyle: LMFeedIconStyle?) {
        binding.ivCrossLink.apply {
            if (linkRemoveIconStyle == null) {
                hide()
            } else {
                setStyle(linkRemoveIconStyle)
                show()
            }
        }
    }

    /**
     * Sets the title for the link
     *
     * @param linkTitle - string to be set for title of the link.
     */
    fun setLinkTitle(linkTitle: String?) {
        val linkText = if (linkTitle.isNullOrBlank()) {
            context.getString(R.string.lm_feed_link)
        } else {
            linkTitle
        }

        binding.tvLinkTitle.text = linkText
    }

    /**
     * Sets the description for the link
     *
     * @param linkDescription - string to be set for description of the link.
     */
    fun setLinkDescription(linkDescription: String?) {
        binding.tvLinkDescription.apply {
            LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postLinkViewStyle?.linkDescriptionStyle
                ?: return@apply

            if (linkDescription.isNullOrBlank()) {
                hide()
            } else {
                show()
                text = linkDescription
            }
        }
    }

    /**
     * Sets the url for the link
     *
     * @param linkUrl - string to be set for url of the link.
     */
    fun setLinkUrl(linkUrl: String?) {
        binding.tvLinkUrl.apply {
            val linkUrlText = linkUrl?.lowercase(Locale.getDefault()) ?: ""

            if (linkUrlText.isBlank()) {
                hide()
            } else {
                show()
                text = linkUrlText
            }
        }
    }

    /**
     * Sets image of the link.
     *
     * @param imageSrc - image source to be set as image of the link.
     */
    fun setLinkImage(imageSrc: String?) {
        val linkImageViewStyle =
            LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postLinkViewStyle?.linkImageStyle
                ?: return

        binding.ivLink.apply {
            val isValid = imageSrc.isImageValid()
            if (isValid) {
                show()
                binding.ivLink.setImage(imageSrc, linkImageViewStyle)
            } else {
                hide()
            }
            handleLinkPreviewConstraints(isValid)
        }
    }

    /**
     * Sets click listener on the link view
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setLinkClickListener(listener: LMFeedOnClickListener) {
        binding.root.setOnClickListener {
            listener.onClick()
        }
    }

    /**
     * Sets click listener on the link remove icon
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setLinkRemoveClickListener(listener: LMFeedOnClickListener) {
        binding.ivCrossLink.setOnClickListener {
            listener.onClick()
        }
    }

    // if image url is invalid/empty then handle link preview constraints
    private fun handleLinkPreviewConstraints(
        isImageValid: Boolean
    ) {
        binding.apply {
            val constraintLayout: ConstraintLayout = clLink
            val constraintSet = ConstraintSet()
            constraintSet.clone(constraintLayout)
            if (isImageValid) {
                // if image is valid then we show link image and set title constraints
                setValidLinkImageConstraints(constraintSet)
            } else {
                // if image is not valid then we don't show image and set title constraints
                setInvalidLinkImageConstraints(constraintSet)
            }
            constraintSet.applyTo(constraintLayout)
        }
    }

    // sets constraints of link preview when image is invalid
    private fun setInvalidLinkImageConstraints(
        constraintSet: ConstraintSet
    ) {
        binding.apply {
            val margin16 = LMFeedViewUtils.dpToPx(16)
            val margin4 = LMFeedViewUtils.dpToPx(4)
            constraintSet.connect(
                tvLinkTitle.id,
                ConstraintSet.TOP,
                ConstraintSet.PARENT_ID,
                ConstraintSet.TOP,
                margin16
            )
            constraintSet.connect(
                tvLinkTitle.id,
                ConstraintSet.START,
                ConstraintSet.PARENT_ID,
                ConstraintSet.START,
                margin16
            )
            constraintSet.connect(
                tvLinkTitle.id,
                ConstraintSet.END,
                ivCrossLink.id,
                ConstraintSet.START,
                margin4
            )
        }
    }

    // sets constraints of link preview when image is valid
    private fun setValidLinkImageConstraints(
        constraintSet: ConstraintSet
    ) {
        binding.apply {
            val margin = LMFeedViewUtils.dpToPx(16)
            constraintSet.connect(
                tvLinkTitle.id,
                ConstraintSet.END,
                ConstraintSet.PARENT_ID,
                ConstraintSet.END,
                margin
            )
            constraintSet.connect(
                tvLinkTitle.id,
                ConstraintSet.START,
                ConstraintSet.PARENT_ID,
                ConstraintSet.START,
                margin
            )
            constraintSet.connect(
                tvLinkTitle.id,
                ConstraintSet.TOP,
                ivLink.id,
                ConstraintSet.BOTTOM,
                margin
            )
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/post/postmedia/view/LMFeedPostMultipleMediaView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.post.postmedia.view

import android.content.Context
import android.util.AttributeSet
import android.view.LayoutInflater
import androidx.constraintlayout.widget.ConstraintLayout
import androidx.viewpager2.widget.ViewPager2.OnPageChangeCallback
import com.likeminds.feed.android.core.databinding.LmFeedPostMultipleMediaViewBinding
import com.likeminds.feed.android.core.post.model.*
import com.likeminds.feed.android.core.ui.widgets.post.postmedia.style.LMFeedPostMultipleMediaViewStyle
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedMultipleMediaPostAdapter
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.utils.base.model.ITEM_MULTIPLE_MEDIA_IMAGE
import com.likeminds.feed.android.core.utils.base.model.ITEM_MULTIPLE_MEDIA_VIDEO

class LMFeedPostMultipleMediaView : ConstraintLayout {

    constructor(context: Context) : super(context)

    constructor(context: Context, attributeSet: AttributeSet?) : super(context, attributeSet)

    constructor(context: Context, attributeSet: AttributeSet?, defStyle: Int) : super(
        context,
        attributeSet,
        defStyle
    )

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding = LmFeedPostMultipleMediaViewBinding.inflate(inflater, this, true)

    val viewpagerMultipleMedia = binding.viewpagerMultipleMedia

    private lateinit var multipleMediaAdapter: LMFeedMultipleMediaPostAdapter

    //sets provided [postMultipleMediaStyle] to the multiple media type post
    fun setStyle(postMultipleMediaStyle: LMFeedPostMultipleMediaViewStyle) {

        //configures multiple media post indicator
        configureIndicator(postMultipleMediaStyle)
    }

    private fun configureIndicator(postMultipleMediaStyle: LMFeedPostMultipleMediaViewStyle) {
        binding.dotsIndicator.apply {
            //sets slide mode for the indicator
            postMultipleMediaStyle.indicatorSlideMode?.let { slideMode ->
                setSlideMode(slideMode)
            }

            //sets active/inactive color for indicator
            setSliderColor(
                context.getColor(postMultipleMediaStyle.indicatorInActiveColor),
                context.getColor(postMultipleMediaStyle.indicatorActiveColor)
            )

            //sets the active/inactive width for the indicator
            setSliderWidth(
                resources.getDimension(
                    postMultipleMediaStyle.indicatorInactiveWidth
                        ?: postMultipleMediaStyle.indicatorActiveWidth
                ),
                resources.getDimension(postMultipleMediaStyle.indicatorActiveWidth)
            )

            //sets the style of the indicator
            postMultipleMediaStyle.indicatorStyle?.let { indicatorStyle ->
                setIndicatorStyle(indicatorStyle)
            }

            //sets spacing between the indicators
            postMultipleMediaStyle.indicatorSpacing?.let { spacing ->
                setIndicatorGap(resources.getDimension(spacing))
            }

            //sets the height of the indicator (works for indicator style = [DASH or ROUND_RECT])
            postMultipleMediaStyle.indicatorHeight?.let { indicatorHeight ->
                setSliderHeight(resources.getDimension(indicatorHeight))
            }
        }
    }

    //sets the view pager to the multiple media type post with the provided listeners and attachments
    fun setViewPager(
        parentPosition: Int,
        listener: LMFeedPostAdapterListener,
        attachments: List<LMFeedAttachmentViewData>,
        isMediaRemovable: Boolean = false
    ) {
        binding.apply {
            viewpagerMultipleMedia.isSaveEnabled = false

            //set adapter to the view pager
            multipleMediaAdapter = LMFeedMultipleMediaPostAdapter(
                parentPosition,
                listener,
                isMediaRemovable
            )
            viewpagerMultipleMedia.adapter = multipleMediaAdapter

            val multipleMediaOnPageChangeCallback = object : OnPageChangeCallback() {
                override fun onPageSelected(position: Int) {
                    super.onPageSelected(position)

                    listener.onPostMultipleMediaPageChangeCallback(position, parentPosition)
                }
            }

            //registers page change callback
            viewpagerMultipleMedia.registerOnPageChangeCallback(multipleMediaOnPageChangeCallback)

            val updatedAttachments = getUpdatedAttachmentsForMultipleMedia(attachments)

            //replaces all the items in the multiple media post adapter
            multipleMediaAdapter.replace(updatedAttachments)

            //setups the indicator with the view pager
            dotsIndicator.setupWithViewPager(viewpagerMultipleMedia)
        }
    }

    /**
     * Removes the media at the provided index
     * @param position: index from which the media is to be removed
     */
    fun removeMedia(position: Int) {
        multipleMediaAdapter.removeIndex(position)
    }

    //returns the updated attachments list for multiple media view
    private fun getUpdatedAttachmentsForMultipleMedia(attachments: List<LMFeedAttachmentViewData>): List<LMFeedAttachmentViewData> {
        return attachments
            .filter {
                it.attachmentType == IMAGE || it.attachmentType == VIDEO
            }
            .map {
                when (it.attachmentType) {
                    IMAGE -> {
                        it.toBuilder().dynamicViewType(ITEM_MULTIPLE_MEDIA_IMAGE).build()
                    }

                    VIDEO -> {
                        it.toBuilder().dynamicViewType(ITEM_MULTIPLE_MEDIA_VIDEO).build()
                    }

                    else -> {
                        it
                    }
                }
            }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/post/postmedia/view/LMFeedPostVerticalVideoMediaView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.post.postmedia.view

import android.content.Context
import android.net.Uri
import android.util.AttributeSet
import android.view.LayoutInflater
import androidx.constraintlayout.widget.ConstraintLayout
import androidx.core.content.ContextCompat
import com.likeminds.feed.android.core.databinding.LmFeedPostVerticalVideoMediaViewBinding
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.widgets.post.postmedia.style.LMFeedPostVideoMediaViewStyle
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnClickListener
import com.likeminds.feed.android.core.utils.video.LMFeedVideoPlayerListener
import com.likeminds.feed.android.core.videofeed.model.LMFeedVideoFeedConfig

class LMFeedPostVerticalVideoMediaView : ConstraintLayout {

    constructor(context: Context) : super(context)

    constructor(context: Context, attributeSet: AttributeSet?) : super(context, attributeSet)

    constructor(context: Context, attributeSet: AttributeSet?, defStyle: Int) : super(
        context,
        attributeSet,
        defStyle
    )

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding = LmFeedPostVerticalVideoMediaViewBinding.inflate(inflater, this, true)

    val videoView = binding.videoView

    //sets provided [postVideoMediaViewStyle] to the video view in the post
    fun setStyle(postVideoMediaViewStyle: LMFeedPostVideoMediaViewStyle) {

        postVideoMediaViewStyle.apply {
            //set background color
            backgroundColor?.let {
                binding.root.setBackgroundColor(
                    ContextCompat.getColor(
                        context,
                        backgroundColor
                    )
                )

                binding.videoView.setBackgroundColor(
                    ContextCompat.getColor(
                        context,
                        backgroundColor
                    )
                )
            }

            //configure each view of the video view
            configureVideoView(postVideoMediaViewStyle)
            configureProgressBar(videoProgressStyle)
            configureVideoThumbnail(videoThumbnailStyle)
            configurePlayIcon(videoPlayPauseButton, showController)
            configureMuteIcon(videoMuteUnmuteButton)
            configureRemoveIcon(removeIconStyle)
        }
    }

    private fun configureVideoView(postVideoMediaViewStyle: LMFeedPostVideoMediaViewStyle) {
        binding.videoView.apply {
            setStyle(postVideoMediaViewStyle)
        }
    }

    private fun configureProgressBar(videoProgressStyle: LMFeedProgressBarStyle?) {
        binding.pbVideoLoader.apply {
            if (videoProgressStyle != null) {
                setStyle(videoProgressStyle)
                show()
            } else {
                hide()
            }
        }
    }

    private fun configureVideoThumbnail(videoThumbnailStyle: LMFeedImageStyle?) {
        binding.ivVideoThumbnail.apply {
            if (videoThumbnailStyle != null) {
                setStyle(videoThumbnailStyle)
                show()
            } else {
                hide()
            }
        }
    }

    private fun configurePlayIcon(videoPlayPauseButton: LMFeedIconStyle?, showController: Boolean) {
        binding.apply {
            if (showController || videoPlayPauseButton == null) {
                ivPlayPauseVideo.hide()
            } else {
                ivPlayPauseVideo.setStyle(videoPlayPauseButton)
                ivPlayPauseVideo.show()
            }
        }
    }

    private fun configureMuteIcon(videoMuteUnmuteButton: LMFeedIconStyle?) {
        binding.ivMuteUnmuteVideo.apply {
            if (videoMuteUnmuteButton == null) {
                hide()
            } else {
                setStyle(videoMuteUnmuteButton)
                show()
            }
        }
    }

    private fun configureRemoveIcon(removeIconStyle: LMFeedIconStyle?) {
        binding.ivCross.apply {
            if (removeIconStyle == null) {
                hide()
            } else {
                show()
                setStyle(removeIconStyle)
            }
        }
    }

    /**
     * Sets play/pause icon.
     *
     * @param isPlaying - whether the video is playing or not
     */
    fun setPlayPauseIcon(isPlaying: Boolean = false) {
        val iconStyle =
            LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postVideoMediaStyle?.videoPlayPauseButton
                ?: return

        val playPauseIcon = if (isPlaying) {
            iconStyle.activeSrc
        } else {
            iconStyle.inActiveSrc
        }

        if (playPauseIcon != null) {
            binding.ivPlayPauseVideo.setImageDrawable(
                ContextCompat.getDrawable(
                    context,
                    playPauseIcon
                )
            )
        }
    }

    /**
     * Sets mute/unmute icon.
     *
     * @param isMute - whether the video playing is mute or not
     */
    fun setMuteUnmuteIcon(isMute: Boolean = false) {
        val iconStyle =
            LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postVideoMediaStyle?.videoMuteUnmuteButton
                ?: return

        val muteUnmuteIcon = if (isMute) {
            iconStyle.activeSrc
        } else {
            iconStyle.inActiveSrc
        }

        if (muteUnmuteIcon != null) {
            binding.ivMuteUnmuteVideo.setImageDrawable(
                ContextCompat.getDrawable(
                    context,
                    muteUnmuteIcon
                )
            )
        }
    }

    /**
     * This will play new URI we have provided
     * @param uri - uri to play the video
     * @param isVideoLocal - whether the played video is local or not
     * @param isVideoLocal - whether the played video is local or not
     */
    fun playVideo(
        uri: Uri,
        isVideoLocal: Boolean,
        thumbnailSrc: Any? = null,
        config: LMFeedVideoFeedConfig,
        videoPlayerListener: LMFeedVideoPlayerListener
    ) {
        binding.apply {
            if (isVideoLocal) {
                videoView.startPlayingLocalUri(
                    uri,
                    pbVideoLoader,
                    ivVideoThumbnail,
                    thumbnailSrc
                )
            } else {
                videoView.startPlayingRemoteUri(
                    uri,
                    pbVideoLoader,
                    ivVideoThumbnail,
                    thumbnailSrc,
                    config,
                    videoPlayerListener
                )
            }
        }
    }

    /**
     * Sets click listener on the cross button of the video view
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setRemoveIconClickListener(listener: LMFeedOnClickListener) {
        binding.ivCross.setOnClickListener {
            listener.onClick()
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/post/postmedia/view/LMFeedPostVideoMediaView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.post.postmedia.view

import android.content.Context
import android.net.Uri
import android.util.AttributeSet
import android.view.LayoutInflater
import androidx.constraintlayout.widget.ConstraintLayout
import androidx.core.content.ContextCompat
import com.likeminds.feed.android.core.databinding.LmFeedPostVideoMediaViewBinding
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.widgets.post.postmedia.style.LMFeedPostVideoMediaViewStyle
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnClickListener

class LMFeedPostVideoMediaView : ConstraintLayout {

    constructor(context: Context) : super(context)

    constructor(context: Context, attributeSet: AttributeSet?) : super(context, attributeSet)

    constructor(context: Context, attributeSet: AttributeSet?, defStyle: Int) : super(
        context,
        attributeSet,
        defStyle
    )

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding = LmFeedPostVideoMediaViewBinding.inflate(inflater, this, true)

    val videoView = binding.videoView

    //sets provided [postVideoMediaViewStyle] to the video view in the post
    fun setStyle(postVideoMediaViewStyle: LMFeedPostVideoMediaViewStyle) {

        postVideoMediaViewStyle.apply {
            //set background color
            backgroundColor?.let {
                binding.root.setBackgroundColor(
                    ContextCompat.getColor(
                        context,
                        backgroundColor
                    )
                )

                binding.videoView.setBackgroundColor(
                    ContextCompat.getColor(
                        context,
                        backgroundColor
                    )
                )
            }

            //configure each view of the video view
            configureVideoView(postVideoMediaViewStyle)
            configureProgressBar(videoProgressStyle)
            configureVideoThumbnail(videoThumbnailStyle)
            configurePlayIcon(videoPlayPauseButton, showController)
            configureMuteIcon(videoMuteUnmuteButton)
            configureRemoveIcon(removeIconStyle)
        }
    }

    private fun configureVideoView(postVideoMediaViewStyle: LMFeedPostVideoMediaViewStyle) {
        binding.videoView.apply {
            setStyle(postVideoMediaViewStyle)
        }
    }

    private fun configureProgressBar(videoProgressStyle: LMFeedProgressBarStyle?) {
        binding.pbVideoLoader.apply {
            if (videoProgressStyle != null) {
                setStyle(videoProgressStyle)
                show()
            } else {
                hide()
            }
        }
    }

    private fun configureVideoThumbnail(videoThumbnailStyle: LMFeedImageStyle?) {
        binding.ivVideoThumbnail.apply {
            if (videoThumbnailStyle != null) {
                setStyle(videoThumbnailStyle)
                show()
            } else {
                hide()
            }
        }
    }

    private fun configurePlayIcon(videoPlayPauseButton: LMFeedIconStyle?, showController: Boolean) {
        binding.apply {
            if (showController || videoPlayPauseButton == null) {
                ivPlayPauseVideo.hide()
            } else {
                ivPlayPauseVideo.setStyle(videoPlayPauseButton)
                ivPlayPauseVideo.show()
            }
        }
    }

    private fun configureMuteIcon(videoMuteUnmuteButton: LMFeedIconStyle?) {
        binding.ivMuteUnmuteVideo.apply {
            if (videoMuteUnmuteButton == null) {
                hide()
            } else {
                setStyle(videoMuteUnmuteButton)
                show()
            }
        }
    }

    private fun configureRemoveIcon(removeIconStyle: LMFeedIconStyle?) {
        binding.ivCross.apply {
            if (removeIconStyle == null) {
                hide()
            } else {
                show()
                setStyle(removeIconStyle)
            }
        }
    }

    /**
     * Sets play/pause icon.
     *
     * @param isPlaying - whether the video is playing or not
     */
    fun setPlayPauseIcon(isPlaying: Boolean = false) {
        val iconStyle =
            LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postVideoMediaStyle?.videoPlayPauseButton
                ?: return

        val playPauseIcon = if (isPlaying) {
            iconStyle.activeSrc
        } else {
            iconStyle.inActiveSrc
        }

        if (playPauseIcon != null) {
            binding.ivPlayPauseVideo.setImageDrawable(
                ContextCompat.getDrawable(
                    context,
                    playPauseIcon
                )
            )
        }
    }

    /**
     * Sets mute/unmute icon.
     *
     * @param isMute - whether the video playing is mute or not
     */
    fun setMuteUnmuteIcon(isMute: Boolean = false) {
        val iconStyle =
            LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postVideoMediaStyle?.videoMuteUnmuteButton
                ?: return

        val muteUnmuteIcon = if (isMute) {
            iconStyle.activeSrc
        } else {
            iconStyle.inActiveSrc
        }

        if (muteUnmuteIcon != null) {
            binding.ivMuteUnmuteVideo.setImageDrawable(
                ContextCompat.getDrawable(
                    context,
                    muteUnmuteIcon
                )
            )
        }
    }

    /**
     * This will play new URI we have provided
     * @param uri - uri to play the video
     * @param isVideoLocal - whether the played video is local or not
     * @param isVideoLocal - whether the played video is local or not
     */
    fun playVideo(
        uri: Uri,
        isVideoLocal: Boolean,
        thumbnailSrc: Any? = null
    ) {
        binding.apply {
            if (isVideoLocal) {
                videoView.startPlayingLocalUri(
                    uri,
                    pbVideoLoader,
                    ivVideoThumbnail,
                    thumbnailSrc
                )
            } else {
                videoView.startPlayingRemoteUri(
                    uri,
                    pbVideoLoader,
                    ivVideoThumbnail,
                    thumbnailSrc
                )
            }
        }
    }

    /**
     * Sets click listener on the cross button of the video view
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setRemoveIconClickListener(listener: LMFeedOnClickListener) {
        binding.ivCross.setOnClickListener {
            listener.onClick()
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/post/posttopresponse/style/LMFeedPostTopResponseViewStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.post.posttopresponse.style

import android.text.TextUtils
import androidx.annotation.ColorRes
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedPostTopResponseViewStyle] helps you to customize the post top response view [LMFeedPostTopResponseView]
 *
 * @property titleTextStyle : [LMFeedTextStyle] this will help you to customize the title text in the post top response view
 * @property authorImageViewStyle : [LMFeedImageStyle] this will help you to customize the author image in the post top response view | set its value to [null] if you want to hide the author image in the post top response
 * @property authorNameTextStyle : [LMFeedTextStyle] this will help you to customize the author name in the post top response view | set its value to [null] if you want to hide the author name in the post top response
 * @property timestampTextStyle: [LMFeedTextStyle] this will help you to customize the timestamp text in the post top response view | set its value to [null] if you want to hide the timestamp in the post top response
 * @property contentTextStyle: [LMFeedTextStyle] this will help you to customize the content text in the post top response view
 * @property backgroundColor:  [Int] should be in format of [ColorRes] to add background color of the post top response | Default value = [null]
 *
 * */
class LMFeedPostTopResponseViewStyle private constructor(
    // top response title style
    val titleTextStyle: LMFeedTextStyle,
    // top response author image style
    val authorImageViewStyle: LMFeedImageStyle?,
    // top response author name style
    val authorNameTextStyle: LMFeedTextStyle?,
    // top response timestamp style
    val timestampTextStyle: LMFeedTextStyle?,
    // top response content style
    val contentTextStyle: LMFeedTextStyle,
    // top response view background color
    @ColorRes val backgroundColor: Int?
) : LMFeedViewStyle {

    class Builder {
        private var titleTextStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textSize(R.dimen.lm_feed_text_medium)
            .textColor(R.color.lm_feed_dark_grey)
            .maxLines(1)
            .ellipsize(TextUtils.TruncateAt.END)
            .fontResource(R.font.lm_feed_roboto_medium)
            .build()

        private var authorImageViewStyle: LMFeedImageStyle? = null

        private var authorNameTextStyle: LMFeedTextStyle? = null

        private var timestampTextStyle: LMFeedTextStyle? = null

        private var contentTextStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textSize(R.dimen.lm_feed_text_medium)
            .textColor(R.color.lm_feed_dark_grayish_blue)
            .fontResource(R.font.lm_feed_roboto)
            .build()

        @ColorRes
        private var backgroundColor: Int? = null

        fun titleTextStyle(titleTextStyle: LMFeedTextStyle) = apply {
            this.titleTextStyle = titleTextStyle
        }

        fun authorImageViewStyle(authorImageViewStyle: LMFeedImageStyle?) = apply {
            this.authorImageViewStyle = authorImageViewStyle
        }

        fun authorNameTextStyle(authorNameTextStyle: LMFeedTextStyle?) = apply {
            this.authorNameTextStyle = authorNameTextStyle
        }

        fun timestampTextStyle(timestampTextStyle: LMFeedTextStyle?) = apply {
            this.timestampTextStyle = timestampTextStyle
        }

        fun contentTextStyle(contentTextStyle: LMFeedTextStyle) = apply {
            this.contentTextStyle = contentTextStyle
        }

        fun backgroundColor(@ColorRes backgroundColor: Int?) = apply {
            this.backgroundColor = backgroundColor
        }

        fun build() = LMFeedPostTopResponseViewStyle(
            titleTextStyle,
            authorImageViewStyle,
            authorNameTextStyle,
            timestampTextStyle,
            contentTextStyle,
            backgroundColor
        )
    }

    fun toBuilder(): Builder {
        return Builder().titleTextStyle(titleTextStyle)
            .authorImageViewStyle(authorImageViewStyle)
            .authorNameTextStyle(authorNameTextStyle)
            .timestampTextStyle(timestampTextStyle)
            .contentTextStyle(contentTextStyle)
            .backgroundColor(backgroundColor)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/post/posttopresponse/view/LMFeedPostTopResponseView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.post.posttopresponse.view

import android.content.Context
import android.text.*
import android.text.style.ClickableSpan
import android.text.style.ForegroundColorSpan
import android.text.util.Linkify
import android.util.AttributeSet
import android.view.LayoutInflater
import android.view.View
import androidx.constraintlayout.widget.ConstraintLayout
import androidx.core.content.ContextCompat
import androidx.core.text.util.LinkifyCompat
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedPostTopResponseViewBinding
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.widgets.post.posttopresponse.style.LMFeedPostTopResponseViewStyle
import com.likeminds.feed.android.core.utils.*
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.getValidTextForLinkify
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.link.LMFeedLinkMovementMethod
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnClickListener
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnTaggedMemberClickListener
import com.likeminds.feed.android.core.utils.user.LMFeedUserImageUtil
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData
import com.likeminds.usertagging.util.UserTaggingDecoder

class LMFeedPostTopResponseView : ConstraintLayout {

    constructor(context: Context) : super(context)

    constructor(context: Context, attrs: AttributeSet?) : super(context, attrs)

    constructor(context: Context, attrs: AttributeSet?, defStyle: Int) : super(
        context,
        attrs,
        defStyle
    )

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding = LmFeedPostTopResponseViewBinding.inflate(inflater, this, true)

    //sets provide [postTopResponseViewStyle] to the post top response view
    fun setStyle(postTopResponseViewStyle: LMFeedPostTopResponseViewStyle) {
        postTopResponseViewStyle.apply {
            //set background color of the card view
            backgroundColor?.let {
                binding.cvTopResponse.setCardBackgroundColor(
                    ContextCompat.getColor(
                        context,
                        backgroundColor
                    )
                )
            }

            //configure each view in post top response view as per their styles
            configureTitle(titleTextStyle)
            configureAuthorImage(authorImageViewStyle)
            configureAuthorName(authorNameTextStyle)
            configureTimestamp(timestampTextStyle)
            configureContent(contentTextStyle)
        }
    }

    private fun configureTitle(titleTextStyle: LMFeedTextStyle) {
        binding.tvTopResponseTitle.setStyle(titleTextStyle)
    }

    private fun configureAuthorImage(authorImageViewStyle: LMFeedImageStyle?) {
        binding.ivTopResponseAuthorImage.apply {
            if (authorImageViewStyle == null) {
                hide()
            } else {
                show()
                setStyle(authorImageViewStyle)
            }
        }
    }

    private fun configureAuthorName(authorNameTextStyle: LMFeedTextStyle?) {
        binding.tvTopResponseAuthorName.apply {
            if (authorNameTextStyle == null) {
                hide()
            } else {
                show()
                setStyle(authorNameTextStyle)
            }
        }
    }

    private fun configureTimestamp(timestampTextStyle: LMFeedTextStyle?) {
        binding.tvTopResponseTime.apply {
            if (timestampTextStyle == null) {
                hide()
            } else {
                show()
                setStyle(timestampTextStyle)
            }
        }
    }

    private fun configureContent(contentTextStyle: LMFeedTextStyle) {
        binding.tvTopResponseContent.setStyle(contentTextStyle)
    }

    /**
     * Sets title of the top response view
     *
     * @param title - string to be set as the title
     */
    fun setTopResponseTitle(title: String) {
        binding.tvTopResponseTitle.text = title
    }

    /**
     * Sets author image view.
     *
     * @param user - data of the author.
     */
    fun setAuthorImage(user: LMFeedUserViewData) {
        var authorImageViewStyle =
            LMFeedStyleTransformer.postViewStyle.postTopResponseViewStyle?.authorImageViewStyle
                ?: return

        if (authorImageViewStyle.placeholderSrc == null) {
            authorImageViewStyle = authorImageViewStyle.toBuilder().placeholderSrc(
                LMFeedUserImageUtil.getNameDrawable(
                    user.sdkClientInfoViewData.uuid,
                    user.name,
                    authorImageViewStyle.isCircle,
                ).first
            ).build()
        }
        binding.ivTopResponseAuthorImage.setImage(user.imageUrl, authorImageViewStyle)
    }

    /**
     * Sets the name of the top response author
     *
     * @param authorName - string to be set for author name.
     */
    fun setAuthorName(authorName: String) {
        binding.tvTopResponseAuthorName.text = authorName
    }

    /**
     * Sets the content of the top response
     *
     * @param topResponseText - string to be set for comment text.
     * @param alreadySeenFullContent - whether the comment content was seen completely or not.
     * @param onTopResponseSeeMoreClickListener [LMFeedOnClickListener] - interface to have click listener
     */
    fun setTopResponseContent(
        topResponseText: String,
        alreadySeenFullContent: Boolean?,
        onTopResponseContentClicked: LMFeedOnClickListener,
        onTopResponseSeeMoreClickListener: LMFeedOnClickListener,
        onMemberTagClickListener: LMFeedOnTaggedMemberClickListener
    ) {
        binding.tvTopResponseContent.apply {

            /**
             * Text is modified as Linkify doesn't accept texts with these specific unicode characters
             * @see #Linkify.containsUnsupportedCharacters(String)
             */
            val textForLinkify = topResponseText.getValidTextForLinkify()

            var alreadySeen = alreadySeenFullContent == true

            if (textForLinkify.isEmpty()) {
                hide()
                return
            } else {
                show()
            }

            // post is used here to get lines count in the text view
            post {
                setOnClickListener {
                    onTopResponseContentClicked.onClick()
                }

                // decodes tags in text and creates span around those tags
                UserTaggingDecoder.decodeRegexIntoSpannableText(
                    this,
                    textForLinkify.trim(),
                    enableClick = true,
                    highlightColor = ContextCompat.getColor(
                        context,
                        LMFeedAppearance.getTextLinkColor()
                    ),
                    hasAtRateSymbol = true
                ) { route ->
                    val uuid = route.getQueryParameter("member_id")
                        ?: route.getQueryParameter("user_id")
                        ?: route.getQueryParameter("uuid")
                        ?: route.lastPathSegment
                        ?: return@decodeRegexIntoSpannableText

                    onMemberTagClickListener.onMemberTaggedClicked(uuid)
                }

                // gets short text to set with seeMore
                val shortText: String? = LMFeedSeeMoreUtil.getShortContent(
                    this,
                    3,
                    500
                )

                val trimmedText =
                    if (!alreadySeen && !shortText.isNullOrEmpty()) {
                        editableText.subSequence(0, shortText.length)
                    } else {
                        editableText
                    }

                //creating see more spannable text for expanding top response content.
                val seeMoreSpannableStringBuilder = SpannableStringBuilder()

                if (!alreadySeen && !shortText.isNullOrEmpty()) {
                    val expandSpannable = SpannableStringBuilder("... See More")
                    expandSpannable.setSpan(
                        ForegroundColorSpan(
                            ContextCompat.getColor(
                                context,
                                R.color.lm_feed_brown_grey
                            )
                        ),
                        0,
                        expandSpannable.length,
                        Spanned.SPAN_EXCLUSIVE_EXCLUSIVE
                    )

                    //handling click of spannable text
                    val seeMoreClickableSpan = object : ClickableSpan() {
                        override fun onClick(view: View) {
                            setOnClickListener {
                                return@setOnClickListener
                            }
                            alreadySeen = true
                            onTopResponseSeeMoreClickListener.onClick()
                        }

                        override fun updateDrawState(textPaint: TextPaint) {
                            textPaint.isUnderlineText = false
                        }
                    }

                    seeMoreSpannableStringBuilder.append(expandSpannable)
                    seeMoreSpannableStringBuilder.setSpan(
                        seeMoreClickableSpan,
                        0,
                        expandSpannable.length,
                        Spanned.SPAN_EXCLUSIVE_EXCLUSIVE
                    )
                }

                // appends see more text at last
                text = TextUtils.concat(
                    trimmedText,
                    seeMoreSpannableStringBuilder
                )

                //handling click of web links or email addresses or phone numbers in post content
                val linkifyLinks =
                    (Linkify.WEB_URLS or Linkify.EMAIL_ADDRESSES or Linkify.PHONE_NUMBERS)
                LinkifyCompat.addLinks(this, linkifyLinks)
                movementMethod = LMFeedLinkMovementMethod {
                    setOnClickListener {
                        return@setOnClickListener
                    }

                    true
                }
            }
        }
    }

    /**
     * Sets the time the top response was created.
     *
     * @param createdAtTimeStamp - timestamp when the top response was created.
     */
    fun setTimestamp(createdAtTimeStamp: Long) {
        val context = binding.root.context
        binding.tvTopResponseTime.text =
            LMFeedTimeUtil.getRelativeTime(context, createdAtTimeStamp)
    }

    /**
     * Sets click listener on the author frame
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setAuthorFrameClickListener(listener: LMFeedOnClickListener) {

        binding.apply {
            tvTopResponseAuthorName.setOnClickListener {
                listener.onClick()
            }

            ivTopResponseAuthorImage.setOnClickListener {
                listener.onClick()
            }
        }
    }

    /**
     * Sets click listener on the top response content
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setTopResponseClickListener(listener: LMFeedOnClickListener) {
        binding.layoutTopResponse.setOnClickListener {
            listener.onClick()
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/searchbar/style/LMFeedSearchBarViewStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.searchbar.style

import android.graphics.Typeface
import androidx.annotation.ColorRes
import androidx.annotation.DimenRes
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedSearchBarViewStyle] helps you to customize the likes fragment [LMFeedSearchBarView]
 *
 * @property searchInputStyle : [LMFeedEditTextStyle] this will help you to customize the search input field in the search bar view
 * @property searchBackIconStyle : [LMFeedIconStyle] this will help you to customize the back icon in the search bar view | set its value to [null] if you want to hide the back icon in the search bar view
 * @property searchCloseIconStyle : [LMFeedIconStyle] this will help you to customize the close icon in the search bar view | set its value to [null] if you want to hide the close icon in the search bar view
 * @property backgroundColor: [Int] should be in format of [ColorRes] this will help you to customize the background color of the search bar view | Default value = [null]
 * @property elevation : [Int] should be in format of [DimenRes] this will help you to customize the elevation of the search bar view | Default value = [null]
 * */
class LMFeedSearchBarViewStyle private constructor(
    //search input edit text style
    val searchInputStyle: LMFeedEditTextStyle,
    //search back icon style
    val searchBackIconStyle: LMFeedIconStyle?,
    //search close icon style
    val searchCloseIconStyle: LMFeedIconStyle?,
    //search bar background color
    @ColorRes val backgroundColor: Int?,
    //search bar elevation
    @DimenRes val elevation: Int?,
) : LMFeedViewStyle {

    class Builder {
        private var searchInputStyle: LMFeedEditTextStyle = LMFeedEditTextStyle.Builder()
            .inputTextStyle(
                LMFeedTextStyle.Builder()
                    .textSize(R.dimen.lm_feed_text_medium)
                    .textColor(R.color.lm_feed_black)
                    .typeface(Typeface.NORMAL)
                    .maxLines(1)
                    .build()
            )
            .hintTextColor(R.color.lm_feed_black_38)
            .backgroundColor(R.color.lm_feed_transparent)
            .build()

        private var searchBackIconStyle: LMFeedIconStyle? = null

        private var searchCloseIconStyle: LMFeedIconStyle? = null

        @ColorRes
        private var backgroundColor: Int? = null

        @DimenRes
        private var elevation: Int? = null

        fun searchInputStyle(searchInputStyle: LMFeedEditTextStyle) = apply {
            this.searchInputStyle = searchInputStyle
        }

        fun searchBackIconStyle(searchBackIconStyle: LMFeedIconStyle?) = apply {
            this.searchBackIconStyle = searchBackIconStyle
        }

        fun searchCloseIconStyle(searchCloseIconStyle: LMFeedIconStyle?) = apply {
            this.searchCloseIconStyle = searchCloseIconStyle
        }

        fun backgroundColor(@ColorRes backgroundColor: Int?) = apply {
            this.backgroundColor = backgroundColor
        }

        fun elevation(@DimenRes elevation: Int?) = apply {
            this.elevation = elevation
        }

        fun build() = LMFeedSearchBarViewStyle(
            searchInputStyle,
            searchBackIconStyle,
            searchCloseIconStyle,
            backgroundColor,
            elevation
        )
    }

    fun toBuilder(): Builder {
        return Builder()
            .searchInputStyle(searchInputStyle)
            .searchBackIconStyle(searchBackIconStyle)
            .searchCloseIconStyle(searchCloseIconStyle)
            .backgroundColor(backgroundColor)
            .elevation(elevation)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/searchbar/view/LMFeedSearchBarView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.searchbar.view

import android.animation.Animator
import android.animation.AnimatorListenerAdapter
import android.content.Context
import android.content.res.Configuration
import android.text.*
import android.util.AttributeSet
import android.view.LayoutInflater
import android.view.View
import android.view.View.OnFocusChangeListener
import android.view.inputmethod.EditorInfo
import android.view.inputmethod.InputMethodManager
import android.widget.EditText
import android.widget.TextView
import androidx.annotation.CheckResult
import androidx.constraintlayout.widget.ConstraintLayout
import androidx.core.content.ContextCompat
import androidx.lifecycle.LifecycleCoroutineScope
import com.likeminds.feed.android.core.databinding.LmFeedSearchBarBinding
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.widgets.searchbar.style.LMFeedSearchBarViewStyle
import com.likeminds.feed.android.core.utils.LMFeedAnimationUtils.circleHideView
import com.likeminds.feed.android.core.utils.LMFeedAnimationUtils.circleRevealView
import com.likeminds.feed.android.core.utils.LMFeedViewUtils
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import kotlinx.coroutines.ExperimentalCoroutinesApi
import kotlinx.coroutines.FlowPreview
import kotlinx.coroutines.channels.ProducerScope
import kotlinx.coroutines.channels.awaitClose
import kotlinx.coroutines.flow.*

class LMFeedSearchBarView @JvmOverloads constructor(
    mContext: Context,
    attributeSet: AttributeSet? = null
) : ConstraintLayout(mContext, attributeSet) {

    private val isHardKeyboardAvailable: Boolean
        get() = this.resources.configuration.keyboard != Configuration.KEYBOARD_NOKEYS

    /**
     * The previous query text.
     */
    private var mOldQuery: CharSequence = ""

    /**
     * The current query text.
     */
    private var mCurrentQuery = ""

    /**
     * Listener for when the search view opens and closes.
     */
    private var mSearchViewListener: LMFeedSearchBarListener? = null

    /**
     * Determines if the search view is opened or closed.
     * @return True if the search view is open, false if it is closed.
     */
    /**
     * Whether or not the search view is open right now.
     */
    var isOpen = false
        private set

    private val binding =
        LmFeedSearchBarBinding.inflate(LayoutInflater.from(context), this, true)

    private lateinit var lifecycleScope: LifecycleCoroutineScope

    private fun displayClearButton(display: Boolean) {
        binding.ivClose.visibility = if (display) View.VISIBLE else View.GONE
    }

    companion object {
        private const val TAG = "LMFeedCustomSearchBarView"
    }

    init {
        binding.apply {
            ivClose.setOnClickListener {
                etSearch.setText("")
                mSearchViewListener?.onSearchCrossed()
            }

            ivBack.setOnClickListener {
                closeSearch()
            }
            initSearchView()
        }
    }

    fun initialize(lifecycleScope: LifecycleCoroutineScope) {
        this.lifecycleScope = lifecycleScope
    }

    private fun initSearchView() {
        binding.apply {
            etSearch.setOnEditorActionListener(TextView.OnEditorActionListener { _, actionId, _ ->
                if (actionId == EditorInfo.IME_ACTION_SEARCH) {
                    onSubmitQuery()
                    return@OnEditorActionListener true
                }
                false
            })
            etSearch.onFocusChangeListener = OnFocusChangeListener { view, hasFocus ->
                // If we gain focus, show keyboard and show suggestions.
                if (hasFocus) {
                    showKeyboard(view)
                }
            }
        }
    }

    private fun showKeyboard(view: View?) {
        view?.requestFocus()
        if (isHardKeyboardAvailable.not()) {
            val inputMethodManager =
                view?.context?.getSystemService(Context.INPUT_METHOD_SERVICE) as? InputMethodManager
            inputMethodManager?.showSoftInput(view, 0)
        }
    }

    fun setSearchViewListener(mSearchViewListener: LMFeedSearchBarListener?) {
        this.mSearchViewListener = mSearchViewListener
    }

    private fun clearFocusInHere() {
        LMFeedViewUtils.hideKeyboard(this)
        binding.etSearch.clearFocus()
    }

    /**
     * Adds TextWatcher to edit text with Flow operators
     * **/
    @ExperimentalCoroutinesApi
    @CheckResult
    fun EditText.textChanges(): Flow<CharSequence?> {
        return callbackFlow {
            val listener = object : TextWatcher {
                override fun afterTextChanged(s: Editable?) {

                }

                override fun beforeTextChanged(
                    s: CharSequence?,
                    start: Int,
                    count: Int,
                    after: Int
                ) {

                }

                override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {
                    if (isOpen) {
                        onTextChanged(s.toString(), this@callbackFlow)
                    }
                }
            }
            addTextChangedListener(listener)
            awaitClose { removeTextChangedListener(listener) }
        }.onStart { emit(text) }
    }

    /**
     * Filters and updates the buttons when text is changed.
     * @param newText The new text.
     */
    private fun onTextChanged(newText: CharSequence, producerScope: ProducerScope<CharSequence?>) {
        // Get current query
        mCurrentQuery = binding.etSearch.text.toString()

        // If the text is not empty, show the empty button and hide the voice button
        if (!TextUtils.isEmpty(mCurrentQuery)) {
            displayClearButton(true)
        } else {
            displayClearButton(false)
        }

        // If we have a query listener and the text has changed, call it.
        if ((!TextUtils.isEmpty(mCurrentQuery) || !TextUtils.isEmpty(mOldQuery))
        ) {
            producerScope.trySend(newText.toString())
        }

        mOldQuery = mCurrentQuery
    }

    /**
     * Closes the search view if necessary.
     */
    fun closeSearch() {
        if (!isOpen) {
            return
        }
        isOpen = false
        // Clear text, values, and focus.
        binding.etSearch.setText("")
        clearFocusInHere()
        val listenerAdapter: AnimatorListenerAdapter = object : AnimatorListenerAdapter() {
            override fun onAnimationEnd(animation: Animator) {
                super.onAnimationEnd(animation)
                // After the animation is done. Hide the root view.
                binding.searchToolbar.visibility = View.GONE
            }
        }
        circleHideView(binding.searchToolbar, listenerAdapter)
        mSearchViewListener?.onSearchViewClosed()
    }

    /**
     * Called when a query is submitted. This will close the search view.
     */
    private fun onSubmitQuery() {
        // Get the query.
        val query: CharSequence? = binding.etSearch.text
        // If the query is not null and it has some text, submit it.
        if (query != null && TextUtils.getTrimmedLength(query) > 0) {
            clearFocusInHere()
        }
    }

    //sets the provided [searchBarViewStyle] to the search bar
    fun setStyle(searchBarViewStyle: LMFeedSearchBarViewStyle) {
        searchBarViewStyle.apply {

            //sets background color of the search bar
            backgroundColor?.let {
                setBackgroundColor(ContextCompat.getColor(context, it))
            }

            //sets elevation of the search bar
            elevation?.let {
                setElevation(resources.getDimension(it))
            }

            //configures each view in the search bar
            configureSearchInputStyle(searchInputStyle)
            configureSearchBackIcon(searchBackIconStyle)
            configureSearchCloseIcon(searchCloseIconStyle)
        }
    }

    private fun configureSearchInputStyle(searchInputStyle: LMFeedEditTextStyle) {
        binding.etSearch.setStyle(searchInputStyle)
    }

    private fun configureSearchBackIcon(searchBackIconStyle: LMFeedIconStyle?) {
        binding.ivBack.apply {
            if (searchBackIconStyle == null) {
                hide()
            } else {
                setStyle(searchBackIconStyle)
                show()
            }
        }
    }

    private fun configureSearchCloseIcon(searchCloseIconStyle: LMFeedIconStyle?) {
        binding.ivClose.apply {
            if (searchCloseIconStyle == null) {
                hide()
            } else {
                setStyle(searchCloseIconStyle)
                show()
            }
        }
    }

    //opens the search bar view
    fun openSearch() {
        // If search is already open, just return.
        if (isOpen) {
            return
        }
        // Get focus
        binding.etSearch.setText("")
        binding.etSearch.requestFocus()
        circleRevealView(binding.searchToolbar)
        elevation = 20F
        isOpen = true
        mSearchViewListener?.onSearchViewOpened()
    }

    /**
     * Sets an observer on the search input field with a debounce (if enabled)
     *
     * @param debounce: whether to enable the debounce or not
     * */
    @OptIn(ExperimentalCoroutinesApi::class, FlowPreview::class)
    fun observeSearchView(debounce: Boolean = true) {
        if (debounce) {
            binding.etSearch.textChanges()
                .debounce(500)
                .distinctUntilChanged()
                .onEach { keyword ->
                    if (keyword != null) {
                        if (keyword.isNotEmpty()) {
                            mSearchViewListener?.onKeywordEntered(keyword.toString())
                        } else {
                            mSearchViewListener?.onEmptyKeywordEntered()
                        }
                    }
                }
                .launchIn(lifecycleScope)
        } else {
            binding.etSearch.textChanges()
                .distinctUntilChanged()
                .onEach { keyword ->
                    if (!keyword.isNullOrEmpty()) {
                        mSearchViewListener?.onKeywordEntered(keyword.toString())
                    }
                }
                .launchIn(lifecycleScope)
        }
    }
}

/**
 * Interface that handles the opening and closing of the SearchView.
 */
interface LMFeedSearchBarListener {
    fun onSearchViewOpened() {
        //triggered when a user clicks on search icon and search view is opened
    }

    fun onSearchViewClosed() {
        //triggered when the search view is closed
    }

    fun onSearchCrossed() {
        //triggered when the user crosses the search view
    }

    fun onKeywordEntered(keyword: String) {
        //triggered when a user enters a text to search
    }

    fun onEmptyKeywordEntered() {
        //triggered when a back-presses till last of the text
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/snackbar/view/LMFeedSnackbar.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.snackbar.view

import android.view.*
import androidx.core.content.ContextCompat
import com.google.android.material.snackbar.BaseTransientBottomBar
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.findSuitableParent

class LMFeedSnackbar(
    parent: ViewGroup,
    content: LMFeedSnackbarView
) : BaseTransientBottomBar<LMFeedSnackbar>(parent, content, content) {

    init {
        getView().setBackgroundColor(
            ContextCompat.getColor(
                view.context,
                android.R.color.transparent
            )
        )
        getView().setPadding(0, 0, 0, 0)
    }

    companion object {

        fun make(view: View, text: String): LMFeedSnackbar {
            // First we find a suitable parent for our custom view
            val parent = view.findSuitableParent() ?: throw IllegalArgumentException(
                "No suitable parent found from the given view. Please provide a valid view."
            )

            val customView = LayoutInflater.from(view.context).inflate(
                R.layout.lm_feed_snackbar,
                parent,
                false
            ) as LMFeedSnackbarView

            customView.textView.text = text

            return LMFeedSnackbar(
                parent,
                customView
            )
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/snackbar/view/LMFeedSnackbarView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.snackbar.view

import android.animation.AnimatorSet
import android.animation.ObjectAnimator
import android.content.Context
import android.util.AttributeSet
import android.view.View
import android.view.animation.OvershootInterpolator
import androidx.constraintlayout.widget.ConstraintLayout
import com.google.android.material.snackbar.ContentViewCallback
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.views.LMFeedTextView

class LMFeedSnackbarView @JvmOverloads constructor(
    context: Context,
    attrs: AttributeSet? = null,
    defStyleAttr: Int = 0
) : ConstraintLayout(context, attrs, defStyleAttr), ContentViewCallback {

    var textView: LMFeedTextView

    init {
        View.inflate(context, R.layout.lm_feed_snackbar_view, this)
        clipToPadding = false
        this.textView = findViewById(R.id.tv_message)
    }

    override fun animateContentIn(delay: Int, duration: Int) {
        val scaleX = ObjectAnimator.ofFloat(textView, View.SCALE_X, 0f, 1f)
        val scaleY = ObjectAnimator.ofFloat(textView, View.SCALE_Y, 0f, 1f)
        val animatorSet = AnimatorSet().apply {
            interpolator = OvershootInterpolator()
            setDuration(500)
            playTogether(scaleX, scaleY)
        }
        animatorSet.start()
    }

    override fun animateContentOut(delay: Int, duration: Int) {
        //necessary function to implement
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/user/style/LMFeedUserViewStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.user.style

import android.text.TextUtils
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.LMFeedImageStyle
import com.likeminds.feed.android.core.ui.base.styles.LMFeedTextStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedUserViewStyle] helps you to customize the likes fragment [LMFeedUserView]
 *
 * @property userImageViewStyle : [LMFeedImageStyle] this will help you to customize the user image in the user view
 * @property userNameViewStyle : [LMFeedTextStyle] this will help you to customize the user name text in the user view
 * @property userTitleViewStyle: [LMFeedTextStyle] this will help you to customize the user title text in the user view | set its value to [null] to hide the user title text
 * */
class LMFeedUserViewStyle private constructor(
    val userImageViewStyle: LMFeedImageStyle,
    val userNameViewStyle: LMFeedTextStyle,
    val userTitleViewStyle: LMFeedTextStyle?
) : LMFeedViewStyle {

    class Builder {
        private var userImageViewStyle: LMFeedImageStyle = LMFeedImageStyle.Builder()
            .isCircle(true)
            .build()

        private var userNameViewStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .ellipsize(TextUtils.TruncateAt.END)
            .maxLines(1)
            .textColor(R.color.lm_feed_dark_grey)
            .textSize(R.dimen.lm_feed_text_large)
            .fontResource(R.font.lm_feed_roboto_medium)
            .build()

        private var userTitleViewStyle: LMFeedTextStyle? = null

        fun userImageViewStyle(userImageViewStyle: LMFeedImageStyle) = apply {
            this.userImageViewStyle = userImageViewStyle
        }

        fun userNameViewStyle(userNameViewStyle: LMFeedTextStyle) = apply {
            this.userNameViewStyle = userNameViewStyle
        }

        fun userTitleViewStyle(userTitleViewStyle: LMFeedTextStyle?) = apply {
            this.userTitleViewStyle = userTitleViewStyle
        }

        fun build() = LMFeedUserViewStyle(
            userImageViewStyle,
            userNameViewStyle,
            userTitleViewStyle
        )
    }

    fun toBuilder(): Builder {
        return Builder().userImageViewStyle(userImageViewStyle)
            .userNameViewStyle(userNameViewStyle)
            .userTitleViewStyle(userTitleViewStyle)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/user/view/LMFeedUserView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.user.view

import android.content.Context
import android.util.AttributeSet
import android.view.LayoutInflater
import androidx.constraintlayout.widget.ConstraintLayout
import com.likeminds.feed.android.core.databinding.LmFeedUserViewBinding
import com.likeminds.feed.android.core.ui.base.styles.*
import com.likeminds.feed.android.core.ui.widgets.user.style.LMFeedUserViewStyle
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.user.LMFeedUserImageUtil
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData

class LMFeedUserView : ConstraintLayout {

    constructor(context: Context) : super(context)

    constructor(context: Context, attributeSet: AttributeSet?) : super(context, attributeSet)

    constructor(context: Context, attributeSet: AttributeSet?, defStyle: Int) : super(
        context,
        attributeSet,
        defStyle
    )

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding: LmFeedUserViewBinding = LmFeedUserViewBinding.inflate(inflater, this, true)

    //sets provided [userViewStyle] to the user view
    fun setStyle(userViewStyle: LMFeedUserViewStyle) {

        userViewStyle.apply {
            customizeUserImage(userImageViewStyle)
            customizeUserName(userNameViewStyle)
            customizeCustomTitle(userTitleViewStyle)
        }
    }

    private fun customizeUserImage(userImageViewStyle: LMFeedImageStyle) {
        binding.ivUserImage.setStyle(userImageViewStyle)
    }

    private fun customizeUserName(userNameViewStyle: LMFeedTextStyle) {
        binding.tvUserName.setStyle(userNameViewStyle)
    }

    private fun customizeCustomTitle(userTitleViewStyle: LMFeedTextStyle?) {
        binding.apply {
            if (userTitleViewStyle == null) {
                viewDot.hide()
                tvUserTitle.hide()
            } else {
                tvUserTitle.setStyle(userTitleViewStyle)
            }
        }
    }

    /**
     * Sets user image view.
     *
     * @param user - data of the author.
     */
    fun setUserImage(user: LMFeedUserViewData) {
        var userImageViewStyle =
            LMFeedStyleTransformer.postViewStyle.postHeaderViewStyle.authorImageViewStyle

        if (userImageViewStyle.placeholderSrc == null) {
            userImageViewStyle = userImageViewStyle.toBuilder().placeholderSrc(
                LMFeedUserImageUtil.getNameDrawable(
                    user.sdkClientInfoViewData.uuid,
                    user.name,
                    userImageViewStyle.isCircle,
                ).first
            ).build()
        }
        binding.ivUserImage.setImage(user.imageUrl, userImageViewStyle)
    }

    /**
     * Sets the name of the user
     *
     * @param userName - string to be set for name of user.
     */
    fun setUserName(userName: String) {
        binding.tvUserName.text = userName
    }

    /**
     * Sets the title of the user
     *
     * @param userTitle - string to be set for title of user.
     */
    fun setUserTitle(userTitle: String?) {
        binding.apply {
            if (userTitle.isNullOrEmpty()) {
                tvUserTitle.hide()
                viewDot.hide()
            } else {
                tvUserTitle.show()
                viewDot.show()
                tvUserTitle.text = userTitle
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/viewmore/style/LMFeedViewMoreViewStyle.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.viewmore.style

import androidx.annotation.*
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.LMFeedTextStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedViewMoreStyle] helps you to customize the [LMFeedViewMoreView] with the following properties
 * @property viewMoreTextStyle : [LMFeedTextStyle] to customize the view more text in the view
 * @property visibleCountTextStyle: [LMFeedTextStyle] to customize the view that shows the visible count of the entity | set its value to [null] if you want to hide the visible count of the entity
 * @property backgroundColor: [Int] should be in format of [ColorRes] to customize the background color of the view | Default value = [null]
 **/
class LMFeedViewMoreViewStyle private constructor(
    //view more text style
    val viewMoreTextStyle: LMFeedTextStyle,
    //visible count text style
    val visibleCountTextStyle: LMFeedTextStyle?,
    //background color of view more view
    @ColorRes val backgroundColor: Int?
) : LMFeedViewStyle {

    class Builder {
        private var viewMoreTextStyle: LMFeedTextStyle = LMFeedTextStyle.Builder()
            .textColor(R.color.lm_feed_dark_grayish_blue)
            .textSize(R.dimen.lm_feed_text_medium)
            .fontResource(R.font.lm_feed_roboto_medium)
            .build()

        private var visibleCountTextStyle: LMFeedTextStyle? = null

        @ColorRes
        private var backgroundColor: Int? = null

        fun viewMoreTextStyle(viewMoreTextStyle: LMFeedTextStyle) = apply {
            this.viewMoreTextStyle = viewMoreTextStyle
        }

        fun visibleCountTextStyle(visibleCountTextStyle: LMFeedTextStyle?) = apply {
            this.visibleCountTextStyle = visibleCountTextStyle
        }

        fun backgroundColor(@ColorRes backgroundColor: Int?) = apply {
            this.backgroundColor = backgroundColor
        }

        fun build() = LMFeedViewMoreViewStyle(
            viewMoreTextStyle,
            visibleCountTextStyle,
            backgroundColor
        )
    }

    fun toBuilder(): Builder {
        return Builder().viewMoreTextStyle(viewMoreTextStyle)
            .visibleCountTextStyle(visibleCountTextStyle)
            .backgroundColor(backgroundColor)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/ui/widgets/viewmore/view/LMFeedViewMoreView.kt
================================================
package com.likeminds.feed.android.core.ui.widgets.viewmore.view

import android.content.Context
import android.util.AttributeSet
import android.view.LayoutInflater
import androidx.constraintlayout.widget.ConstraintLayout
import androidx.core.content.ContextCompat
import com.likeminds.feed.android.core.databinding.LmFeedViewMoreViewBinding
import com.likeminds.feed.android.core.ui.base.styles.LMFeedTextStyle
import com.likeminds.feed.android.core.ui.base.styles.setStyle
import com.likeminds.feed.android.core.ui.widgets.viewmore.style.LMFeedViewMoreViewStyle
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.show
import com.likeminds.feed.android.core.utils.listeners.LMFeedOnClickListener

class LMFeedViewMoreView : ConstraintLayout {

    constructor(context: Context) : super(context)

    constructor(context: Context, attributeSet: AttributeSet?) : super(context, attributeSet)

    constructor(context: Context, attributeSet: AttributeSet?, defStyle: Int) : super(
        context,
        attributeSet,
        defStyle
    )

    private val inflater =
        (context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)

    private val binding = LmFeedViewMoreViewBinding.inflate(inflater, this, true)

    //sets provided [viewMoreStyle] to the view more view
    fun setStyle(viewMoreStyle: LMFeedViewMoreViewStyle) {

        viewMoreStyle.apply {
            //set background color
            backgroundColor?.let {
                setBackgroundColor(ContextCompat.getColor(context, backgroundColor))
            }

            configureViewMoreText(viewMoreTextStyle)
            configureVisibleCountText(visibleCountTextStyle)
        }
    }

    private fun configureViewMoreText(viewMoreTextStyle: LMFeedTextStyle) {
        binding.tvViewMore.setStyle(viewMoreTextStyle)
    }

    private fun configureVisibleCountText(visibleCountTextStyle: LMFeedTextStyle?) {
        binding.tvVisibleCount.apply {
            if (visibleCountTextStyle == null) {
                hide()
            } else {
                setStyle(visibleCountTextStyle)
                show()
            }
        }
    }

    /**
     * Sets view more text to the view more text view.
     *
     * @param viewMoreText - string to be set for view more text.
     */
    fun setViewMoreText(viewMoreText: String) {
        binding.tvViewMore.text = viewMoreText
    }

    /**
     * Sets visible count text to the visible count text view.
     *
     * @param visibleCountText - string to be set for visible count text.
     */
    fun setVisibleCount(visibleCountText: String) {
        binding.tvVisibleCount.text = visibleCountText
    }

    /**
     * Sets click listener on the view more view
     *
     * @param listener [LMFeedOnClickListener] interface to have click listener
     */
    fun setViewMoreClickListener(listener: LMFeedOnClickListener) {
        binding.tvViewMore.setOnClickListener {
            listener.onClick()
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/LMFeedAndroidUtils.kt
================================================
package com.likeminds.feed.android.core.utils

import android.content.Context
import android.content.Intent
import android.net.Uri
import com.likeminds.feed.android.core.R

object LMFeedAndroidUtils {

    /**
     * Shows document for the provided uri
     */
    fun startDocumentViewer(context: Context, uri: Uri) {
        val pdfIntent = Intent(Intent.ACTION_VIEW, uri)
        pdfIntent.flags = Intent.FLAG_ACTIVITY_NO_HISTORY or Intent.FLAG_GRANT_READ_URI_PERMISSION
        try {
            context.startActivity(pdfIntent)
        } catch (e: Exception) {
            e.printStackTrace()
            LMFeedViewUtils.showShortToast(
                context,
                context.getString(R.string.lm_feed_no_application_found_to_open_this_document)
            )
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/LMFeedAnimationUtils.kt
================================================
package com.likeminds.feed.android.core.utils

import android.animation.AnimatorListenerAdapter
import android.view.*
import android.view.animation.Animation
import android.view.animation.Transformation
import kotlin.math.hypot

object LMFeedAnimationUtils {

    @JvmStatic
    private val ANIMATION_DURATION_SHORT = 250

    @JvmStatic
    @JvmOverloads
    fun circleRevealView(view: View, duration: Int = ANIMATION_DURATION_SHORT) {
        // get the center for the clipping circle
        val cx = view.width
        val cy = view.height / 2

        // get the final radius for the clipping circle
        val finalRadius = hypot(cx.toDouble(), cy.toDouble()).toFloat()

        // create the animator for this view (the start radius is zero)
        val anim = ViewAnimationUtils.createCircularReveal(view, cx, cy, 0f, finalRadius)

        anim.duration = if (duration > 0) duration.toLong() else ANIMATION_DURATION_SHORT.toLong()

        // make the view visible and start the animation
        view.visibility = View.VISIBLE
        anim.start()
    }

    @JvmStatic
    fun circleHideView(view: View, listenerAdapter: AnimatorListenerAdapter) {
        circleHideView(view, ANIMATION_DURATION_SHORT, listenerAdapter)
    }

    @JvmStatic
    fun circleHideView(view: View, duration: Int, listenerAdapter: AnimatorListenerAdapter) {
        // get the center for the clipping circle
        val cx = view.width
        val cy = view.height / 2

        // get the initial radius for the clipping circle
        val initialRadius = hypot(cx.toDouble(), cy.toDouble()).toFloat()

        // create the animation (the final radius is zero)
        val anim = ViewAnimationUtils.createCircularReveal(view, cx, cy, initialRadius, 0f)

        // make the view invisible when the animation is done
        anim.addListener(listenerAdapter)

        anim.duration = if (duration > 0) duration.toLong() else ANIMATION_DURATION_SHORT.toLong()

        // start the animation
        anim.start()
    }

    //expand view with a reveal animatiom
    @JvmStatic
    fun expandView(view: View){
        //calculate the starting height of the view
        val matchParentMeasureSpec =
            View.MeasureSpec.makeMeasureSpec((view.parent as View).width, View.MeasureSpec.EXACTLY)
        val wrapContentMeasureSpec =
            View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED)
        view.measure(matchParentMeasureSpec, wrapContentMeasureSpec)
        val targetHeight = view.measuredHeight

        //set the height
        view.layoutParams.height = 1

        view.visibility = View.VISIBLE
        //create a new animation object
        val a: Animation = object : Animation() {
            override fun applyTransformation(interpolatedTime: Float, t: Transformation?) {
                view.layoutParams.height =
                    if (interpolatedTime == 1f) ViewGroup.LayoutParams.WRAP_CONTENT else (targetHeight * interpolatedTime).toInt()
                view.requestLayout()
            }

            override fun willChangeBounds(): Boolean {
                return true
            }
        }
        a.duration = ((targetHeight / view.context.resources.displayMetrics.density).toLong())
        view.startAnimation(a)
    }


    //collapse view with a reveal animation
    @JvmStatic
    fun collapseView(view: View){
        //calculate the starting height of the view
        val initialHeight = view.measuredHeight
        //create a new animation object
        val a: Animation = object : Animation() {
            override fun applyTransformation(interpolatedTime: Float, t: Transformation?) {
                if (interpolatedTime == 1f) {
                    view.visibility = View.GONE
                } else {
                    view.layoutParams.height =
                        initialHeight - (initialHeight * interpolatedTime).toInt()
                    view.requestLayout()
                }
            }

            override fun willChangeBounds(): Boolean {
                return true
            }
        }

        // Collapse speed of 1dp/ms
        a.duration = ((initialHeight / view.context.resources.displayMetrics.density).toLong())
        view.startAnimation(a)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/LMFeedBounceInterpolator.kt
================================================
package com.likeminds.feed.android.core.utils

import android.view.animation.Interpolator
import kotlin.math.cos
import kotlin.math.pow

class LMFeedBounceInterpolator(
    amplitude: Double,
    frequency: Double
) : Interpolator {

    private var mAmplitude = 1.0
    private var mFrequency = 10.0

    override fun getInterpolation(time: Float): Float {
        return (-1 * Math.E.pow(-time / mAmplitude) * cos(mFrequency * time) + 1).toFloat()
    }

    init {
        mAmplitude = amplitude
        mFrequency = frequency
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/LMFeedCommunityUtil.kt
================================================
package com.likeminds.feed.android.core.utils

import com.likeminds.feed.android.core.*

object LMFeedCommunityUtil {

    private var postVariable: String = when (LMFeedCoreApplication.selectedTheme) {
        LMFeedTheme.SOCIAL_FEED -> "post"
        LMFeedTheme.VIDEO_FEED -> "reel"
        LMFeedTheme.QNA_FEED -> "question"
    }

    private var likeVariable: String = when (LMFeedCoreApplication.selectedTheme) {
        LMFeedTheme.SOCIAL_FEED, LMFeedTheme.VIDEO_FEED -> "like"
        LMFeedTheme.QNA_FEED -> "upvote"
    }

    private var likePastTenseVariable: String = "liked"

    private var commentVariable: String = when (LMFeedCoreApplication.selectedTheme) {
        LMFeedTheme.SOCIAL_FEED, LMFeedTheme.VIDEO_FEED -> "comment"
        LMFeedTheme.QNA_FEED -> "answer"
    }

    fun getPostVariable(): String {
        return postVariable
    }

    fun setPostVariable(postVariable: String) {
        this.postVariable = postVariable
    }

    fun getLikeVariable(): String {
        return likeVariable
    }

    fun setLikeVariable(likeVariable: String) {
        this.likeVariable = likeVariable
    }

    fun getLikePastTenseVariable(): String {
        return likePastTenseVariable
    }

    fun setLikePastTenseVariable(likePastTenseVariable: String) {
        this.likePastTenseVariable = likePastTenseVariable
    }

    fun getCommentVariable(): String {
        return commentVariable
    }

    fun setCommentVariable(commentVariable: String) {
        this.commentVariable = commentVariable
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/LMFeedEndlessRecyclerViewScrollListener.kt
================================================
package com.likeminds.feed.android.core.utils

import androidx.recyclerview.widget.LinearLayoutManager
import androidx.recyclerview.widget.RecyclerView

abstract class LMFeedEndlessRecyclerViewScrollListener(private val mLinearLayoutManager: LinearLayoutManager) :
    RecyclerView.OnScrollListener() {

    var overallXScroll = 0

    // The first item to be visible on top of current state
    private var firstVisibleItem: Int = 0

    // All the items visible in current state
    private var visibleItemCount: Int = 0

    // Total number of items present in the data set
    private var totalItemCount: Int = 0

    // Total number of items in the data set after the last load
    private var previousTotal = 0

    // True if we are still waiting for the last set of data to load.
    private var loading = true

    // The minimum amount of items to have below your current scroll position before loading more.
    private val visibleThreshold = 5

    // Specify the page on which the user is
    private var currentPage = 1

    companion object {
        const val DEFAULT_PAGE = 1
    }

    //Reset variables
    fun resetData() {
        this.previousTotal = 0
        this.loading = true
        this.currentPage = DEFAULT_PAGE
    }

    override fun onScrolled(recyclerView: RecyclerView, dx: Int, dy: Int) {
        super.onScrolled(recyclerView, dx, dy)
        overallXScroll += dx
        val reverseLayout = mLinearLayoutManager.reverseLayout
        if (!reverseLayout && dy >= 0 || reverseLayout && dy <= 0) {
            visibleItemCount = recyclerView.childCount
            totalItemCount = mLinearLayoutManager.itemCount
            firstVisibleItem = mLinearLayoutManager.findFirstVisibleItemPosition()
            if (loading) {
                val diff = totalItemCount - visibleThreshold - visibleItemCount
                if (firstVisibleItem > diff) {
                    //User has scrolled and passed the visible threshold
                    previousTotal = totalItemCount
                    loading = false
                    currentPage++
                    onLoadMore(currentPage)
                }
            } else {
                if (totalItemCount > previousTotal) {
                    //Data fetched
                    loading = true
                } else if (mLinearLayoutManager.findLastVisibleItemPosition() == mLinearLayoutManager.itemCount - 1) {
                    //End of the list
                    onLoadMore(-100)
                }
            }
        }
    }

    abstract fun onLoadMore(currentPage: Int)

}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/LMFeedErrorUtil.kt
================================================
package com.likeminds.feed.android.core.utils

internal fun emptyExtrasException(className: String) =
    IllegalStateException("$className cannot be called without passing a valid bundle")

internal const val UNKNOWN_ERROR = "Some unknown error occurred"


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/LMFeedExtrasUtil.kt
================================================
package com.likeminds.feed.android.core.utils

import android.os.Build
import android.os.Bundle

object LMFeedExtrasUtil {

    //returns the extras passed with if-else check
    @Suppress("DEPRECATION")
    fun <T> getParcelable(argument: Bundle?, argumentName: String, clazz: Class<T>): T? {
        return if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.TIRAMISU) {
            argument?.getParcelable(argumentName, clazz)
        } else {
            argument?.getParcelable(argumentName)
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/LMFeedImageBindingUtil.kt
================================================
package com.likeminds.feed.android.core.utils

import android.app.Activity
import android.content.Context
import android.graphics.*
import android.graphics.drawable.Drawable
import android.net.Uri
import android.view.View
import android.widget.ImageView
import com.bumptech.glide.Glide
import com.bumptech.glide.load.resource.bitmap.CenterCrop
import com.bumptech.glide.load.resource.bitmap.RoundedCorners

object LMFeedImageBindingUtil {

    /**
     * Use it to load images programmatically
     * @param view ImageView
     * @param file Supported types -> String, Uri, Drawable, Int resource, Bitmap
     * @param placeholder Placeholder and Error for this request | Supported types -> Drawable, Int resource
     * @param isCircle Is circle crop needed
     * @param cornerRadius Corner radius in dp.
     * @param showGreyScale Is greyscale image needed
     */
    @JvmStatic
    fun loadImage(
        view: ImageView,
        file: Any?,
        placeholder: Any? = null,
        isCircle: Boolean = false,
        cornerRadius: Int = 0,
        showGreyScale: Boolean = false,
    ) {
        if ((file == null && placeholder == null)
            || (file != null && file !is String &&
                    file !is Uri && file !is Drawable &&
                    file !is Int && file !is Bitmap)
        ) {
            return
        }
        if (isValidContextForGlide(view.context)) {
            var builder = Glide.with(view).load(file)

            //Set the placeholder
            if (placeholder != null && placeholder is Int) {
                builder = builder.placeholder(placeholder).error(placeholder)
            } else if (placeholder != null && placeholder is Drawable) {
                builder = builder.placeholder(placeholder).error(placeholder)
            }
            if (isCircle) {
                builder = builder.circleCrop()
            }

            if (cornerRadius > 0) {
                builder = builder.transform(
                    CenterCrop(),
                    RoundedCorners(
                        LMFeedViewUtils.dpToPx(
                            cornerRadius
                        )
                    )
                )
            }

            builder.into(view)
            if (showGreyScale) {
                createImageFilter(view)
            } else {
                view.clearColorFilter()
            }
        }
    }

    private fun isValidContextForGlide(context: Context?): Boolean {
        if (context == null) {
            return false
        }
        return !(context is Activity && isActivityDestroyedOrFinishing(context))
    }

    private fun isActivityDestroyedOrFinishing(activity: Activity): Boolean {
        return activity.isDestroyed || activity.isFinishing
    }

    private fun createImageFilter(view: View) {
        val colorFilter = ColorMatrixColorFilter(ColorMatrix().apply {
            setSaturation(0f)
        })
        if (view is ImageView) {
            view.colorFilter = colorFilter
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/LMFeedProgressBarHelper.kt
================================================
package com.likeminds.feed.android.core.utils

import android.view.View
import androidx.core.content.ContextCompat
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedLayoutProgressBarBinding

object LMFeedProgressBarHelper {
    fun showProgress(
        progressBarBinding: LmFeedLayoutProgressBarBinding,
        enableBackground: Boolean = false
    ) {
        progressBarBinding.root.apply {
            if (enableBackground) {
                setBackgroundColor(
                    ContextCompat.getColor(
                        progressBarBinding.root.context,
                        R.color.lm_feed_background
                    )
                )
            } else {
                background = null
            }
            visibility = View.VISIBLE
            setOnClickListener { }
        }
    }

    fun isVisible(progressBarBinding: LmFeedLayoutProgressBarBinding): Boolean {
        return progressBarBinding.root.visibility == View.VISIBLE
    }

    fun hideProgress(progressBarBinding: LmFeedLayoutProgressBarBinding) {
        progressBarBinding.root.visibility = View.GONE
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/LMFeedRecyclerViewScrollStateListener.kt
================================================
package com.likeminds.feed.android.core.utils

import android.graphics.Rect
import android.os.Handler
import android.os.Looper
import android.view.View
import androidx.recyclerview.widget.LinearLayoutManager
import androidx.recyclerview.widget.RecyclerView

abstract class LMFeedRecyclerViewScrollStateListener(private val mLinearLayoutManager: LinearLayoutManager) :
    RecyclerView.OnScrollListener() {

    private var scrollHandler: Handler? = null
    private var scrollRunnable: Runnable? = null

    companion object {
        private const val SCROLL_DEBOUNCE = 5000L
        private const val ITEM_VISIBILITY_PERCENTAGE = 40
    }

    init {
        scrollHandler = Handler(Looper.getMainLooper())
    }

    override fun onScrolled(recyclerView: RecyclerView, dx: Int, dy: Int) {
        super.onScrolled(recyclerView, dx, dy)

        // Loop through visible items
        val firstVisibleItem = mLinearLayoutManager.findFirstVisibleItemPosition()
        val lastVisibleItem = mLinearLayoutManager.findLastVisibleItemPosition()

        for (i in firstVisibleItem..lastVisibleItem) {
            // Get the view for the current item
            val view = mLinearLayoutManager.findViewByPosition(i) ?: continue

            // Calculate visibility percentage
            val itemHeight = view.height
            val visibleHeight = getVisibleHeight(view)

            val visibilityPercentage = (visibleHeight.toFloat() / itemHeight.toFloat()) * 100

            // Check if the item is at least 40% visible
            if (visibilityPercentage >= ITEM_VISIBILITY_PERCENTAGE) {
                // Perform action for 40% visible items
                onItemVisibleMoreThan40Percent(i)
            }
        }
    }

    override fun onScrollStateChanged(recyclerView: RecyclerView, newState: Int) {
        super.onScrollStateChanged(recyclerView, newState)

        if (newState == RecyclerView.SCROLL_STATE_IDLE) {
            scrollRunnable?.let {
                scrollHandler?.removeCallbacks(it)
            }

            scrollRunnable = Runnable {
                onScrollStateIdleReached()
            }
            scrollHandler?.postDelayed(scrollRunnable!!, SCROLL_DEBOUNCE)
        }
    }

    // resets the listener
    fun resetListener() {
        scrollHandler = null
        scrollRunnable = null
    }

    // Helper function to calculate visible height of an item
    private fun getVisibleHeight(view: View): Int {
        val rect = Rect()
        view.getGlobalVisibleRect(rect)

        val visibleHeight = rect.bottom - rect.top
        return visibleHeight.coerceAtLeast(0)
    }

    abstract fun onItemVisibleMoreThan40Percent(position: Int)
    abstract fun onScrollStateIdleReached()
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/LMFeedRoute.kt
================================================
package com.likeminds.feed.android.core.utils

import android.content.Context
import android.content.Intent
import android.net.Uri
import androidx.core.net.toUri
import com.likeminds.feed.android.core.post.create.model.LMFeedCreatePostExtras
import com.likeminds.feed.android.core.post.create.view.LMFeedCreatePostActivity
import com.likeminds.feed.android.core.post.detail.model.LMFeedPostDetailExtras
import com.likeminds.feed.android.core.post.detail.view.LMFeedPostDetailActivity
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics

object LMFeedRoute {

    private const val ROUTE_POST_DETAIL = "post_detail"
    private const val ROUTE_FEED = "feed"
    private const val ROUTE_CREATE_POST = "create_post"
    private const val PARAM_POST_ID = "post_id"
    private const val ROUTE_BROWSER = "browser"
    private const val PARAM_COMMENT_ID = "comment_id"

    private const val DEEP_LINK_POST = "post"

    private const val HTTPS_SCHEME = "https"
    private const val HTTP_SCHEME = "http"
    private const val ROUTE_SCHEME = "route"

    fun getRouteIntent(
        context: Context,
        routeString: String,
        flags: Int = 0,
        source: String? = null
    ): Intent? {
        val route = Uri.parse(routeString)
        var intent: Intent? = null
        when (route.host) {
            ROUTE_POST_DETAIL -> {
                intent = getRouteToPostDetail(
                    context,
                    route,
                    source
                )
            }

            ROUTE_FEED -> {
                // navigation to feed
            }

            ROUTE_CREATE_POST -> {
                intent = getRouteToCreatePost(context, source)
            }

            ROUTE_BROWSER -> {
                intent = getRouteToBrowser(route)
            }
        }
        if (intent != null) {
            intent.flags = flags
        }
        return intent
    }

    // route://post_detail?post_id=<post_id>&comment_id=<comment_id of new comment>
    private fun getRouteToPostDetail(
        context: Context,
        route: Uri,
        source: String?
    ): Intent {
        val postId = route.getQueryParameter(PARAM_POST_ID)
        val commentId = route.getQueryParameter(PARAM_COMMENT_ID)

        val builder = LMFeedPostDetailExtras.Builder()
            .postId(postId.toString())
            .isEditTextFocused(false)
            .commentId(commentId)
            .source(source)
            .build()

        return LMFeedPostDetailActivity.getIntent(context, builder)
    }

    // route://create_post
    private fun getRouteToCreatePost(
        context: Context,
        source: String?
    ): Intent {
        val extras = LMFeedCreatePostExtras.Builder()
            .source(source)
            .build()

        return LMFeedCreatePostActivity.getIntent(context, extras)
    }

    private fun getRouteToBrowser(route: Uri): Intent {
        return Intent(Intent.ACTION_VIEW, route.getQueryParameter("link")?.toUri())
    }

    // creates route for url and returns corresponding intent
    fun handleDeepLink(context: Context, url: String?): Intent? {
        val data = url?.toUri()?.normalizeScheme() ?: return null
        val firstPath = getRouteFromDeepLink(data) ?: return null
        return getRouteIntent(
            context,
            firstPath,
            0,
            source = LMFeedAnalytics.LMFeedSource.DEEP_LINK
        )
    }

    /**
     * Get [postId] from url from query params, if url is off type "<domain>/post?post_id=<post_id>"
     */
    fun getPostIdFromUrl(url: String?): String? {
        val data = url?.toUri()?.normalizeScheme() ?: return null
        return data.getQueryParameter(PARAM_POST_ID)
    }

    //create route string as per uri
    private fun getRouteFromDeepLink(data: Uri?): String? {
        if (data == null) {
            return null
        }
        return when (data.pathSegments.firstOrNull()) {
            DEEP_LINK_POST -> {
                createPostDetailRoute(data)
            }

            else -> {
                createWebsiteRoute(data)
            }
        }
    }

    // https://<domain>/post/post_id=<post_id>
    private fun createPostDetailRoute(data: Uri): String? {
        val postId = data.getQueryParameter(PARAM_POST_ID) ?: return null
        return Uri.Builder()
            .scheme(ROUTE_SCHEME)
            .authority(ROUTE_POST_DETAIL)
            .appendQueryParameter(PARAM_POST_ID, postId)
            .build()
            .toString()
    }

    // creates a website route for the provided url
    private fun createWebsiteRoute(data: Uri): String? {
        if (data.scheme == HTTPS_SCHEME || data.scheme == HTTP_SCHEME) {
            return Uri.Builder()
                .scheme(ROUTE_SCHEME)
                .authority(ROUTE_BROWSER)
                .appendQueryParameter("link", data.toString())
                .build()
                .toString()
        }
        return null
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/LMFeedSeeMoreUtil.kt
================================================
package com.likeminds.feed.android.core.utils

import android.widget.TextView
import com.likeminds.feed.android.core.ui.base.views.LMFeedTextView

object LMFeedSeeMoreUtil {

    /**
     * This function is for getting short text content for the see more feature
     */
    fun getShortContent(
        textView: LMFeedTextView,
        maxLines: Int,
        seeMoreCountLimit: Int
    ): String? {
        val textContent = textView.editableText ?: return null

        // variable to hold text limit as per max number of lines
        var shortTextLine: String? = null

        //variable to hold text limit as per max character limit
        val shortLimitText: String? =
            if (textContent.length > seeMoreCountLimit) textContent.substring(
                0,
                seeMoreCountLimit
            ) else null

        //calculation of text limit as per max number of lines
        if (textView.lineCount >= maxLines) {
            val lineEndIndex: Int = textView.layout.getLineEnd(maxLines - 1)
            shortTextLine = textView.text.subSequence(0, lineEndIndex).toString()
        }

        // returns null or minimum of shortTextLine & shortLimitText
        if (shortTextLine != null && shortTextLine.length != textContent.length) {
            if (shortLimitText != null && shortLimitText.length < shortTextLine.length) {
                return shortLimitText
            }
            return shortTextLine
        }
        return shortLimitText
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/LMFeedShareUtils.kt
================================================
package com.likeminds.feed.android.core.utils

import android.content.Context
import android.content.Intent
import com.likeminds.feed.android.core.R

object LMFeedShareUtils {

    /**
     * Share post with url using default sharing in Android OS
     * @param context - context
     * @param postId - id of the shared post
     * @param domain - domain required to create share link
     */
    fun sharePost(
        context: Context,
        postId: String,
        domain: String,
        postAsVariable: String
    ) {
        val shareLink = "$domain/post?post_id=$postId"
        val shareTitle = context.getString(R.string.lm_feed_share_s, postAsVariable)
        shareLink(context, shareLink, shareTitle)
    }

    //create intent and open sharing options without link as text
    private fun shareLink(context: Context, shareLink: String, shareTitle: String) {
        val sendIntent: Intent = Intent().apply {
            action = Intent.ACTION_SEND
            putExtra(Intent.EXTRA_TEXT, shareLink)
            type = "text/plain"
            putExtra(Intent.EXTRA_TITLE, shareTitle)
        }
        val shareIntent = Intent.createChooser(sendIntent, null)
        context.startActivity(shareIntent)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/LMFeedStyleTransformer.kt
================================================
package com.likeminds.feed.android.core.utils

import com.likeminds.feed.android.core.activityfeed.style.LMFeedActivityFeedFragmentViewStyle
import com.likeminds.feed.android.core.delete.style.LMFeedAdminDeleteDialogFragmentStyle
import com.likeminds.feed.android.core.delete.style.LMFeedSelfDeleteDialogFragmentStyle
import com.likeminds.feed.android.core.likes.style.LMFeedLikesFragmentViewStyle
import com.likeminds.feed.android.core.poll.create.style.LMFeedCreatePollFragmentViewStyle
import com.likeminds.feed.android.core.poll.result.style.LMFeedPollResultsFragmentViewStyle
import com.likeminds.feed.android.core.post.create.viewstyle.LMFeedCreatePostFragmentViewStyle
import com.likeminds.feed.android.core.post.detail.style.LMFeedPostDetailFragmentViewStyle
import com.likeminds.feed.android.core.post.edit.style.LMFeedEditPostFragmentViewStyle
import com.likeminds.feed.android.core.post.style.LMFeedPostViewStyle
import com.likeminds.feed.android.core.postmenu.style.LMFeedPostMenuViewStyle
import com.likeminds.feed.android.core.qnafeed.style.LMFeedQnAFeedFragmentViewStyle
import com.likeminds.feed.android.core.report.style.LMFeedReportFragmentViewStyle
import com.likeminds.feed.android.core.search.style.LMFeedSearchFragmentViewStyle
import com.likeminds.feed.android.core.socialfeed.style.LMFeedSocialFeedFragmentViewStyle
import com.likeminds.feed.android.core.topicselection.style.LMFeedTopicSelectionFragmentViewStyle
import com.likeminds.feed.android.core.ui.widgets.poll.style.LMFeedAddPollOptionBottomSheetFragmentStyle
import com.likeminds.feed.android.core.ui.widgets.poll.style.LMFeedAnonymousPollDialogFragmentStyle
import com.likeminds.feed.android.core.videofeed.viewstyle.LMFeedVideoFeedFragmentViewStyle

object LMFeedStyleTransformer {

    @JvmStatic
    var socialFeedFragmentViewStyle: LMFeedSocialFeedFragmentViewStyle =
        LMFeedSocialFeedFragmentViewStyle.Builder().build()

    @JvmStatic
    var searchFeedFragmentViewStyle: LMFeedSearchFragmentViewStyle =
        LMFeedSearchFragmentViewStyle.Builder().build()

    @JvmStatic
    var postViewStyle: LMFeedPostViewStyle = LMFeedPostViewStyle.Builder().build()

    @JvmStatic
    var postDetailFragmentViewStyle: LMFeedPostDetailFragmentViewStyle =
        LMFeedPostDetailFragmentViewStyle.Builder().build()

    @JvmStatic
    var createPostFragmentViewStyle: LMFeedCreatePostFragmentViewStyle =
        LMFeedCreatePostFragmentViewStyle.Builder().build()

    @JvmStatic
    var editPostFragmentViewStyle: LMFeedEditPostFragmentViewStyle =
        LMFeedEditPostFragmentViewStyle.Builder().build()

    @JvmStatic
    var activityFeedFragmentViewStyle: LMFeedActivityFeedFragmentViewStyle =
        LMFeedActivityFeedFragmentViewStyle.Builder().build()

    @JvmStatic
    var likesFragmentViewStyle: LMFeedLikesFragmentViewStyle =
        LMFeedLikesFragmentViewStyle.Builder().build()

    @JvmStatic
    var topicSelectionFragmentViewStyle: LMFeedTopicSelectionFragmentViewStyle =
        LMFeedTopicSelectionFragmentViewStyle.Builder().build()

    @JvmStatic
    var reportFragmentViewStyle: LMFeedReportFragmentViewStyle =
        LMFeedReportFragmentViewStyle.Builder().build()

    @JvmStatic
    var adminDeleteDialogFragmentStyle: LMFeedAdminDeleteDialogFragmentStyle =
        LMFeedAdminDeleteDialogFragmentStyle.Builder().build()

    @JvmStatic
    var selfDeleteDialogFragmentStyle: LMFeedSelfDeleteDialogFragmentStyle =
        LMFeedSelfDeleteDialogFragmentStyle.Builder().build()

    @JvmStatic
    var pollResultsFragmentViewStyle: LMFeedPollResultsFragmentViewStyle =
        LMFeedPollResultsFragmentViewStyle.Builder().build()

    @JvmStatic
    var addPollOptionBottomSheetFragmentStyle: LMFeedAddPollOptionBottomSheetFragmentStyle =
        LMFeedAddPollOptionBottomSheetFragmentStyle.Builder().build()

    @JvmStatic
    var alertDialogAnonymousPoll: LMFeedAnonymousPollDialogFragmentStyle =
        LMFeedAnonymousPollDialogFragmentStyle.Builder().build()

    @JvmStatic
    var createPollFragmentViewStyle: LMFeedCreatePollFragmentViewStyle =
        LMFeedCreatePollFragmentViewStyle.Builder().build()

    @JvmStatic
    var videoFeedFragmentViewStyle: LMFeedVideoFeedFragmentViewStyle =
        LMFeedVideoFeedFragmentViewStyle.Builder().build()

    @JvmStatic
    var postMenuViewStyle: LMFeedPostMenuViewStyle = LMFeedPostMenuViewStyle.Builder().build()

    @JvmStatic
    var qnaFeedFragmentViewStyle: LMFeedQnAFeedFragmentViewStyle =
        LMFeedQnAFeedFragmentViewStyle.Builder().build()
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/LMFeedTimeUtil.kt
================================================
package com.likeminds.feed.android.core.utils

import android.content.Context
import android.text.format.DateUtils
import com.likeminds.feed.android.core.R
import java.text.SimpleDateFormat
import java.util.Date
import java.util.Locale

object LMFeedTimeUtil {

    private const val DAY_IN_MILLIS = 24 * 60 * 60 * 1000
    private const val HOUR_IN_MILLIS = 60 * 60 * 1000
    private const val MINUTE_IN_MILLIS = 60 * 1000


    //to get the relative time for post/comment/reply
    fun getRelativeCreationTimeInString(createdTime: Long): String {
        val timeDifference = System.currentTimeMillis() - createdTime
        return getDaysHoursOrMinutes(timeDifference)
    }

    //to get the relative time for expiry
    fun getRelativeExpiryTimeInString(expiryTime: Long): String {
        val timeDifference = expiryTime - System.currentTimeMillis()
        return getDaysHoursOrMinutes(timeDifference)
    }

    // Sets the time of the post as
    // x min (if days & hours are 0 and min > 0)
    // x h (if days are 0)
    // x d (if days are greater than 1)
    // Just Now (otherwise)
    private fun getDaysHoursOrMinutes(timestamp: Long): String {
        val days = (timestamp / DAY_IN_MILLIS).toInt()
        val hours = ((timestamp - (days * DAY_IN_MILLIS)) / HOUR_IN_MILLIS).toInt()
        val minutes =
            ((timestamp - (days * DAY_IN_MILLIS) - (hours * HOUR_IN_MILLIS)) / MINUTE_IN_MILLIS).toInt()
        return when {
            days == 0 && hours == 0 && minutes > 0 -> "$minutes min"
            days == 0 && hours == 1 -> "${hours}h"
            days == 0 && hours > 1 -> "${hours}h"
            days == 1 && hours == 0 -> "${days}d"
            days >= 1 -> "${days}d"
            else -> "Just Now"
        }
    }

    /**
     * @param timestamp epoch time in milliseconds
     * @return time in " time ago" format
     * */
    fun getRelativeTime(context: Context, timestamp: Long): String {
        val relativeTime = DateUtils.getRelativeTimeSpanString(
            timestamp,
            System.currentTimeMillis(),
            DateUtils.MINUTE_IN_MILLIS
        ).toString()
        return if (relativeTime == "0 minutes ago") {
            context.getString(R.string.lm_feed_just_now)
        } else {
            relativeTime
        }
    }

    /**
     * @param timestamp epoch time in milliseconds
     * @return time in "dd MMM yyyy hh:mm aaa" format
     */
    fun getDateFormat(timestamp: Long): String{
        val sdf = SimpleDateFormat(
            "dd MMM yyyy hh:mm aaa",
            Locale.getDefault()
        )
        return sdf.format(Date(timestamp))
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/LMFeedValueUtils.kt
================================================
package com.likeminds.feed.android.core.utils

import android.util.Patterns
import android.webkit.URLUtil
import com.likeminds.feed.android.core.utils.pluralize.LMFeedPluralize.pluralize
import com.likeminds.feed.android.core.utils.pluralize.LMFeedPluralize.singularize
import com.likeminds.feed.android.core.utils.pluralize.model.LMFeedWordAction
import org.json.JSONObject
import kotlin.math.abs

object LMFeedValueUtils {

    fun String.getValidTextForLinkify(): String {
        return this.replace("\u202C", "")
            .replace("\u202D", "")
            .replace("\u202E", "")
    }

    fun String?.isImageValid(): Boolean {
        return this?.isValidUrl() ?: false
    }

    fun <T> List<T>.getItemInList(position: Int): T? {
        if (position < 0 || position >= this.size) {
            return null
        }
        return this[position]
    }

    //returns the url from the provided string if present
    fun String.getUrlIfExist(): String? {
        return try {
            val links: MutableList<String> = ArrayList()
            val matcher = Patterns.WEB_URL.matcher(this)
            while (matcher.find()) {
                val link = matcher.group()
                if (URLUtil.isValidUrl(link)) {
                    links.add(link)
                } else {
                    val newHttpsLink = "https://$link"
                    if (URLUtil.isValidUrl(newHttpsLink)) {
                        links.add(newHttpsLink)
                    }
                }
            }
            if (links.isNotEmpty()) {
                links.first()
            } else null
        } catch (e: Exception) {
            return null
        }
    }

    private fun String.isValidUrl(): Boolean {
        if (this.isEmpty()) {
            return false
        }
        return Patterns.WEB_URL.matcher(this).matches()
    }

    fun String.pluralizeOrCapitalize(action: LMFeedWordAction): String {
        return when (action) {
            LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR -> {
                val singular = this.singularize()
                singular.replaceFirstChar {
                    it.uppercase()
                }
            }

            LMFeedWordAction.ALL_CAPITAL_SINGULAR -> {
                val singular = this.singularize()
                singular.uppercase()
            }

            LMFeedWordAction.ALL_SMALL_SINGULAR -> {
                val singular = this.singularize()
                singular.lowercase()
            }

            LMFeedWordAction.FIRST_LETTER_CAPITAL_PLURAL -> {
                val plural = this.pluralize()
                plural.replaceFirstChar {
                    it.uppercase()
                }
            }

            LMFeedWordAction.ALL_CAPITAL_PLURAL -> {
                val plural = this.pluralize()
                plural.uppercase()
            }

            LMFeedWordAction.ALL_SMALL_PLURAL -> {
                val plural = this.pluralize()
                plural.lowercase()
            }
        }
    }

    //to check if the index is valid
    fun Int.isValidIndex(items: List<*>? = null): Boolean {
        return if (items != null) {
            this > -1 && this < items.size
        } else {
            this > -1
        }
    }

    //to get formatted number (1000 -> 1k)
    fun Long.getFormatedNumber(): String {
        return if (abs(this / 1000000) > 1) {
            (this / 1000000).toString() + "M"
        } else if (abs(this / 1000) > 1) {
            (this / 1000).toString() + "K"
        } else {
            this.toString()
        }
    }

    //to extract String values from JSONObject
    fun JSONObject.findStringOrDefault(key: String, defaultValue: String): String {
        return this.optString(key, defaultValue)
    }

    //to extract Int values from JSONObject
    fun JSONObject.findIntOrDefault(key: String, defaultValue: Int): Int {
        return this.optInt(key, defaultValue)
    }

    //to extract Double values from JSONObject
    fun JSONObject.findLongOrDefault(key: String, defaultValue: Long): Long {
        return this.optLong(key, defaultValue)
    }

    //to extract Boolean values from JSONObject
    fun JSONObject.findBooleanOrDefault(key: String, defaultValue: Boolean): Boolean {
        return this.optBoolean(key, defaultValue)
    }

    fun JSONObject.findJSONObjectOrNull(key: String): JSONObject? {
        return this.optJSONObject(key)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/LMFeedViewDataConvertor.kt
================================================
package com.likeminds.feed.android.core.utils

import android.util.Base64
import com.likeminds.customgallery.media.model.SingleUriData
import com.likeminds.feed.android.core.activityfeed.model.LMFeedActivityEntityViewData
import com.likeminds.feed.android.core.activityfeed.model.LMFeedActivityViewData
import com.likeminds.feed.android.core.delete.model.LMFeedReasonChooseViewData
import com.likeminds.feed.android.core.likes.model.LMFeedLikeViewData
import com.likeminds.feed.android.core.poll.result.model.*
import com.likeminds.feed.android.core.post.create.model.LMFeedFileUploadViewData
import com.likeminds.feed.android.core.post.detail.model.LMFeedCommentViewData
import com.likeminds.feed.android.core.post.detail.model.LMFeedCommentsCountViewData
import com.likeminds.feed.android.core.post.model.*
import com.likeminds.feed.android.core.postmenu.model.LMFeedPostMenuItemViewData
import com.likeminds.feed.android.core.report.model.LMFeedReportTagViewData
import com.likeminds.feed.android.core.search.util.LMFeedSearchUtil
import com.likeminds.feed.android.core.socialfeed.model.*
import com.likeminds.feed.android.core.topics.model.LMFeedTopicViewData
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.findBooleanOrDefault
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.findIntOrDefault
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.findLongOrDefault
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.findStringOrDefault
import com.likeminds.feed.android.core.utils.base.model.*
import com.likeminds.feed.android.core.utils.mediauploader.utils.LMFeedAWSKeys
import com.likeminds.feed.android.core.utils.user.LMFeedUserViewData
import com.likeminds.feed.android.core.widget.model.LMFeedWidgetViewData
import com.likeminds.likemindsfeed.comment.model.Comment
import com.likeminds.likemindsfeed.moderation.model.ReportTag
import com.likeminds.likemindsfeed.notificationfeed.model.Activity
import com.likeminds.likemindsfeed.notificationfeed.model.ActivityEntityData
import com.likeminds.likemindsfeed.poll.model.PollVote
import com.likeminds.likemindsfeed.poll.util.PollUtil.getPollMultiSelectState
import com.likeminds.likemindsfeed.poll.util.PollUtil.getPollType
import com.likeminds.likemindsfeed.post.model.*
import com.likeminds.likemindsfeed.post.util.AttachmentUtil.getAttachmentType
import com.likeminds.likemindsfeed.post.util.AttachmentUtil.getAttachmentValue
import com.likeminds.likemindsfeed.sdk.model.SDKClientInfo
import com.likeminds.likemindsfeed.sdk.model.User
import com.likeminds.likemindsfeed.search.model.SearchType
import com.likeminds.likemindsfeed.topic.model.Topic
import com.likeminds.likemindsfeed.widgets.model.Widget
import org.json.JSONObject

object LMFeedViewDataConvertor {

    private const val POLL_ALLOW_ADD_OPTION_KEY = "allow_add_option"
    private const val POLL_TYPE_KEY = "poll_type"
    private const val POLL_MULTIPLE_SELECT_STATE_KEY = "multiple_select_state"
    private const val POLL_MULTIPLE_SELECT_NUMBER_KEY = "multiple_select_number"
    private const val POLL_TITLE_KEY = "title"
    private const val POLL_EXPIRY_TIME_KEY = "expiry_time"
    private const val POLL_IS_ANONYMOUS_KEY = "is_anonymous"

    /**--------------------------------
     * Media Model -> View Data Model
    --------------------------------*/

    // Converts the list of SingleUriData (contains the data of media) to the list of [LMFeedAttachmentViewData]
    fun convertSingleDataUri(singleUris: List<SingleUriData>): List<LMFeedAttachmentViewData> {
        return singleUris.map {
            convertSingleDataUri(it)
        }
    }

    // Converts the SingleUriData (contains the data of media) to [LMFeedAttachmentViewData]
    private fun convertSingleDataUri(singleUriData: SingleUriData): LMFeedAttachmentViewData {
        val attachmentType: Int?
        val viewType = when (singleUriData.fileType) {
            com.likeminds.customgallery.media.model.IMAGE -> {
                attachmentType = IMAGE
                ITEM_MULTIPLE_MEDIA_IMAGE
            }

            com.likeminds.customgallery.media.model.VIDEO -> {
                attachmentType = VIDEO
                ITEM_MULTIPLE_MEDIA_VIDEO
            }

            else -> {
                attachmentType = DOCUMENT
                ITEM_POST_DOCUMENTS_ITEM
            }
        }
        return LMFeedAttachmentViewData.Builder()
            .dynamicViewType(viewType)
            .attachmentType(attachmentType)
            .attachmentMeta(
                LMFeedAttachmentMetaViewData.Builder()
                    .name(singleUriData.mediaName)
                    .duration(singleUriData.duration)
                    .pageCount(singleUriData.pdfPageCount)
                    .width(singleUriData.width)
                    .height(singleUriData.height)
                    .size(singleUriData.size)
                    .uri(singleUriData.uri)
                    .thumbnail(singleUriData.thumbnailUri.toString())
                    .build()
            )
            .build()
    }

    /**--------------------------------
     * Network Model -> View Data Model
    --------------------------------*/

    /**
     * converts [Post] to [LMFeedPostViewData] while creating a post
     * @param post: [Post] instance
     * @param topics: list of [Topic]
     *
     * @return [LMFeedPostViewData]
     */
    fun convertPost(
        post: Post,
        topics: List<Topic>
    ): LMFeedPostViewData {

        //post content view data
        val postContentViewData = LMFeedPostContentViewData.Builder()
            .text(post.text)
            .heading(post.heading)
            .build()

        //post media view data
        val postMediaViewData = LMFeedMediaViewData.Builder()
            .attachments(
                convertAttachments(
                    post.id,
                    post.attachments
                )
            )
            .workerUUID(post.workerUUID ?: "")
            .temporaryId(post.tempId?.toLong())
            .build()

        return LMFeedPostViewData.Builder()
            .contentViewData(postContentViewData)
            .mediaViewData(postMediaViewData)
            .topicsViewData(convertTopics(topics))
            .isPosted(post.isPosted)
            .build()
    }

    // converts list of [Attachment] to list of [LMFeedAttachmentViewData]
    private fun convertAttachments(
        postId: String,
        attachments: List<Attachment>?
    ): List<LMFeedAttachmentViewData> {
        if (attachments.isNullOrEmpty()) return emptyList()
        return attachments.map { attachment ->
            LMFeedAttachmentViewData.Builder()
                .postId(postId)
                .attachmentType(attachment.attachmentType.getAttachmentValue())
                .attachmentMeta(convertAttachments(attachment.attachmentMeta))
                .build()
        }
    }

    // converts [AttachmentMeta] to [LMFeedAttachmentMetaViewData]
    private fun convertAttachments(attachmentMeta: AttachmentMeta): LMFeedAttachmentMetaViewData {
        return LMFeedAttachmentMetaViewData.Builder()
            .name(attachmentMeta.name)
            .url(attachmentMeta.url)
            .format(attachmentMeta.format)
            .size(attachmentMeta.size)
            .duration(attachmentMeta.duration)
            .pageCount(attachmentMeta.pageCount)
            .thumbnail(attachmentMeta.thumbnailUrl)
            .height(attachmentMeta.height)
            .width(attachmentMeta.width)
            .widgetViewData(convertWidgetViewData(attachmentMeta.meta))
            .build()
    }

    // converts [Widget] to [LMFeedWidgetViewData]
    private fun convertWidgetViewData(meta: JSONObject?): LMFeedWidgetViewData? {
        if (meta == null) return null
        return LMFeedWidgetViewData.Builder()
            .metadata(meta)
            .build()
    }

    // converts response of the get feed post to list of LMFeedPostViewData
    fun convertGetFeedPosts(
        posts: List<Post>,
        usersMap: Map<String, User>,
        topicsMap: Map<String, Topic>,
        widgetsMap: Map<String, Widget>,
        filteredCommentsMap: Map<String, Comment>?,
    ): List<LMFeedPostViewData> {
        return posts.map { post ->
            convertPost(
                post,
                usersMap,
                topicsMap,
                widgetsMap,
                filteredCommentsMap
            )
        }
    }

    /**
     * converts [Post] which is network model to [LMFeedPostViewData] which is view data model
     * @param post: [Post] instance
     * @param usersMap: Map of [String, User]
     * @param topicsMap: Map of [String, Topic]
     */
    fun convertPost(
        post: Post,
        usersMap: Map<String, User>,
        topicsMap: Map<String, Topic>,
        widgetsMap: Map<String, Widget>,
        filteredCommentsMap: Map<String, Comment>? = null,
        searchString: String? = null,
        searchType: SearchType? = null
    ): LMFeedPostViewData {
        val postCreatorUUID = post.uuid
        val postCreator = usersMap[postCreatorUUID]
        val postId = post.id
        val replies = post.replies?.toMutableList()
        val topicsIds = post.topicIds ?: emptyList()
        val commentIds = post.commentIds ?: emptyList()

        //get user view data
        val userViewData = if (postCreator == null) {
            createDeletedUser()
        } else {
            convertUser(postCreator)
        }

        // get topics view data
        val topicsViewData = topicsIds.mapNotNull { topicId ->
            topicsMap[topicId]
        }.map { topic ->
            convertTopic(topic)
        }

        //post header view data
        val postHeaderViewData = LMFeedPostHeaderViewData.Builder()
            .isEdited(post.isEdited)
            .isPinned(post.isPinned)
            .user(userViewData)
            .userId(postCreatorUUID)
            .createdAt(post.createdAt)
            .updatedAt(post.updatedAt)
            .menuItems(convertOverflowMenuItems(post.menuItems))
            .build()

        //post content view data
        val postContentViewDataBuilder = LMFeedPostContentViewData.Builder()
            .text(post.text)
            .heading(post.heading)

        // add searched keywords in post content
        val postContentViewData = when (searchType) {
            SearchType.TEXT -> {
                // update matched keywords in post text
                postContentViewDataBuilder
                    .keywordMatchedInPostText(
                        LMFeedSearchUtil.findMatchedKeyword(
                            searchString,
                            post.text
                        )
                    )
                    .build()
            }

            SearchType.HEADING -> {
                postContentViewDataBuilder
                    // update matched keywords in post heading
                    .keywordMatchedInPostHeading(
                        LMFeedSearchUtil.findMatchedKeyword(
                            searchString,
                            post.heading
                        )
                    )
                    .build()
            }

            else -> {
                postContentViewDataBuilder.build()
            }
        }

        //post media view data
        val postMediaViewData = LMFeedMediaViewData.Builder()
            .attachments(
                convertAttachments(
                    post.attachments,
                    postId,
                    usersMap,
                    widgetsMap
                )
            )
            .build()

        //post action view data
        val postActionViewData = LMFeedPostActionViewData.Builder()
            .likesCount(post.likesCount)
            .commentsCount(post.commentsCount)
            .isSaved(post.isSaved)
            .isLiked(post.isLiked)
            .replies(
                convertComments(
                    replies,
                    usersMap,
                    postId
                )
            )
            .build()

        // get top responses
        val topResponses = if (filteredCommentsMap == null) {
            emptyList()
        } else {
            commentIds.mapNotNull { commentId ->
                filteredCommentsMap[commentId]
            }.map { comment ->
                convertComment(
                    comment,
                    usersMap,
                    postId
                )
            }
        }

        //creating a final instance
        return LMFeedPostViewData.Builder()
            .id(postId)
            .headerViewData(postHeaderViewData)
            .contentViewData(postContentViewData)
            .mediaViewData(postMediaViewData)
            .actionViewData(postActionViewData)
            .topicsViewData(topicsViewData)
            .topResponses(topResponses)
            .build()
    }

    /**
     * Converts [User] which is a network model to [LMFeedUserViewData] which is view data model
     * @param user: instance of [User] | nullable
     */
    fun convertUser(
        user: User?
    ): LMFeedUserViewData {
        if (user == null) return LMFeedUserViewData.Builder().build()
        return LMFeedUserViewData.Builder()
            .id(user.id)
            .name(user.name)
            .imageUrl(user.imageUrl)
            .userUniqueId(user.userUniqueId)
            .customTitle(user.customTitle)
            .isGuest(user.isGuest)
            .isDeleted(user.isDeleted)
            .uuid(user.uuid)
            .sdkClientInfoViewData(convertSDKClientInfo(user.sdkClientInfo))
            .build()
    }

    /**
     * Converts [SDKClientInfo] which is a network model to [LMFeedSDKClientInfoViewData] which is view data model
     */
    private fun convertSDKClientInfo(sdkClientInfo: SDKClientInfo): LMFeedSDKClientInfoViewData {
        return LMFeedSDKClientInfoViewData.Builder()
            .user(sdkClientInfo.user)
            .uuid(sdkClientInfo.uuid)
            .userUniqueId(sdkClientInfo.userUniqueId)
            .community(sdkClientInfo.community)
            .build()
    }

    //created a deleted user object
    private fun createDeletedUser(): LMFeedUserViewData {
        val tempUserId = (System.currentTimeMillis() / 1000).toInt()
        return LMFeedUserViewData.Builder()
            .id(tempUserId)
            .name("Deleted User")
            .imageUrl("")
            .userUniqueId("$tempUserId")
            .customTitle(null)
            .isGuest(false)
            .isDeleted(true)
            .build()
    }

    /**
     * convert list of [MenuItem] to [LMFeedPostMenuItemViewData]
     * @param menuItems: list of [MenuItem]
     * */
    private fun convertOverflowMenuItems(
        menuItems: List<MenuItem>
    ): List<LMFeedPostMenuItemViewData> {
        return menuItems.map { menuItem ->
            LMFeedPostMenuItemViewData.Builder()
                .id(menuItem.id)
                .title(menuItem.title)
                .build()
        }
    }

    /**
     * converts list of [Attachment] to list of [LMFeedAttachmentViewData]
     * @param attachments: list of [Attachment]
     * @param postId: id of the post
     */
    private fun convertAttachments(
        attachments: List<Attachment>?,
        postId: String,
        usersMap: Map<String, User>,
        widgetsMap: Map<String, Widget>
    ): List<LMFeedAttachmentViewData> {
        if (attachments == null) return emptyList()
        return attachments.map { attachment ->
            LMFeedAttachmentViewData.Builder()
                .attachmentType(attachment.attachmentType.getAttachmentValue())
                .attachmentMeta(
                    convertAttachmentMeta(
                        attachment.attachmentMeta,
                        usersMap,
                        widgetsMap
                    )
                )
                .postId(postId)
                .build()
        }
    }

    /**
     * converts object of [AttachmentMeta] to object of [LMFeedAttachmentMetaViewData]
     * @param attachmentMeta: instance of [AttachmentMeta]
     * @param usersMap: Map of [String, User]
     * @param widgetsMap: Map of [String, Widget]
     *
     * @return [LMFeedAttachmentMetaViewData]
     */
    private fun convertAttachmentMeta(
        attachmentMeta: AttachmentMeta?,
        usersMap: Map<String, User>,
        widgetsMap: Map<String, Widget>
    ): LMFeedAttachmentMetaViewData {
        if (attachmentMeta == null) {
            return LMFeedAttachmentMetaViewData.Builder().build()
        }

        return LMFeedAttachmentMetaViewData.Builder()
            .name(attachmentMeta.name)
            .url(attachmentMeta.url)
            .format(attachmentMeta.format)
            .size(attachmentMeta.size)
            .duration(attachmentMeta.duration)
            .pageCount(attachmentMeta.pageCount)
            .ogTags(convertLinkOGTags(attachmentMeta.ogTags))
            .thumbnail(attachmentMeta.thumbnailUrl)
            .height(attachmentMeta.height)
            .width(attachmentMeta.width)
            .widgetViewData(convertWidget(attachmentMeta.entityId, widgetsMap))
            .poll(
                convertPoll(
                    attachmentMeta.entityId ?: "",
                    usersMap,
                    widgetsMap
                )
            )
            .build()
    }

    /**
     * convert [LinkOGTags] to [LMFeedLinkOGTagsViewData]
     * @param linkOGTags: object of [LinkOGTags]
     **/
    fun convertLinkOGTags(linkOGTags: LinkOGTags?): LMFeedLinkOGTagsViewData? {
        if (linkOGTags == null) {
            return null
        }

        return LMFeedLinkOGTagsViewData.Builder()
            .url(linkOGTags.url)
            .description(linkOGTags.description)
            .title(linkOGTags.title)
            .image(linkOGTags.image)
            .build()
    }

    /**
     * extracts poll from the [widgetsMap] and converts it to [LMFeedPollViewData]
     * */
    private fun convertPoll(
        pollId: String,
        usersMap: Map<String, User>,
        widgetsMap: Map<String, Widget>
    ): LMFeedPollViewData? {
        if (widgetsMap.isEmpty()) {
            return null
        }

        val pollWidget = widgetsMap[pollId] ?: return null
        val pollLMMeta = pollWidget.lmMeta ?: return null
        val pollMetaData = pollWidget.metadata

        val toShowResults = pollLMMeta.toShowResults ?: false

        val allowAddOption = pollMetaData.findBooleanOrDefault(
            POLL_ALLOW_ADD_OPTION_KEY, false
        )

        val pollType = pollMetaData.findStringOrDefault(
            POLL_TYPE_KEY,
            ""
        ).getPollType()

        val multipleSelectState = pollMetaData.findStringOrDefault(
            POLL_MULTIPLE_SELECT_STATE_KEY,
            ""
        ).getPollMultiSelectState()

        val multipleSelectNumber = pollMetaData.findIntOrDefault(
            POLL_MULTIPLE_SELECT_NUMBER_KEY,
            0
        )

        var poll = LMFeedPollViewData.Builder()
            .id(pollId)
            .title(pollMetaData.findStringOrDefault(POLL_TITLE_KEY, ""))
            .pollAnswerText(pollLMMeta.pollAnswerText ?: "")
            .toShowResults(toShowResults)
            .expiryTime(pollMetaData.findLongOrDefault(POLL_EXPIRY_TIME_KEY, 0))
            .isAnonymous(pollMetaData.findBooleanOrDefault(POLL_IS_ANONYMOUS_KEY, false))
            .allowAddOption(allowAddOption)
            .multipleSelectState(multipleSelectState)
            .multipleSelectNumber(multipleSelectNumber)
            .pollType(pollType)
            .isPollSubmitted(checkIsPollSubmitted(pollLMMeta.options ?: emptyList()))
            .build()

        poll = poll.toBuilder()
            .options(
                convertPollOptions(
                    pollLMMeta.options ?: emptyList(),
                    poll,
                    usersMap
                )
            )
            .build()

        return poll
    }

    // checks whether the poll is submitted or not
    private fun checkIsPollSubmitted(pollOptions: List<PollOption>): Boolean {
        pollOptions.forEach {
            if (it.isSelected) {
                return true
            }
        }

        return false
    }

    /**
     * converts list of [PollOption] which is a network model to [LMFeedPollOptionViewData] which is view data model
     * */
    private fun convertPollOptions(
        options: List<PollOption>,
        poll: LMFeedPollViewData,
        usersMap: Map<String, User>
    ): List<LMFeedPollOptionViewData> {
        return options.map { option ->
            val addedByUser = usersMap[option.uuid]
            LMFeedPollOptionViewData.Builder()
                .id(option.id)
                .isSelected(option.isSelected)
                .percentage(option.percentage)
                .addedByUser(convertUser(addedByUser))
                .voteCount(option.voteCount)
                .text(option.text)
                .toShowResults(poll.toShowResults)
                .allowAddOption(poll.allowAddOption)
                .isInstantPoll(poll.isInstantPoll())
                .isMultiChoicePoll(poll.isMultiChoicePoll())
                .build()
        }
    }

    /**
     * convert [Topic] which is a network model to [LMFeedTopicViewData] which is view data model
     * */
    fun convertTopic(topic: Topic): LMFeedTopicViewData {
        return LMFeedTopicViewData.Builder()
            .id(topic.id)
            .name(topic.name)
            .isEnabled(topic.isEnabled)
            .isSelected(false)
            .build()
    }

    /**
     * convert list of [Comment] and usersMap [Map] of String to User
     * to list of [LMFeedCommentViewData]
     *
     * @param comments: list of [Comment]
     * @param usersMap: [Map] of String to User
     * @param postId: postId of post
     * */
    private fun convertComments(
        comments: MutableList<Comment>?,
        usersMap: Map<String, User>,
        postId: String,
        parentCommentId: String? = null
    ): MutableList<LMFeedCommentViewData> {
        if (comments == null) return mutableListOf()
        return comments.map { comment ->
            convertComment(
                comment,
                usersMap,
                postId,
                parentCommentId
            )
        }.toMutableList()
    }

    /**
     * converts [Comment] which is network model to [LMFeedCommentViewData]
     * @param postId: id of the post
     * @param usersMap: Map of [String, User]
     * @param parentCommentId: Id of the comment to which the user has replied
     */
    fun convertComment(
        comment: Comment,
        usersMap: Map<String, User>,
        postId: String,
        parentCommentId: String? = null
    ): LMFeedCommentViewData {
        val commentCreator = comment.uuid
        val user = usersMap[commentCreator]
        val replies = comment.replies?.toMutableList()
        val parentId = parentCommentId ?: comment.parentComment?.id

        val userViewData = if (user == null) {
            createDeletedUser()
        } else {
            convertUser(user)
        }

        return LMFeedCommentViewData.Builder()
            .id(comment.id)
            .postId(postId)
            .isLiked(comment.isLiked)
            .isEdited(comment.isEdited)
            .userId(commentCreator)
            .text(comment.text)
            .level(comment.level)
            .likesCount(comment.likesCount)
            .repliesCount(comment.commentsCount)
            .user(userViewData)
            .createdAt(comment.createdAt)
            .updatedAt(comment.updatedAt)
            .menuItems(convertOverflowMenuItems(comment.menuItems))
            .replies(
                convertComments(
                    replies,
                    usersMap,
                    postId,
                    comment.id
                )
            )
            .parentId(parentId)
            .parentComment(
                comment.parentComment?.let {
                    convertComment(
                        it,
                        usersMap,
                        postId
                    )
                }
            )
            .uuid(commentCreator)
            .tempId(comment.tempId)
            .build()
    }

    /**
     * convert list of [Activity] and usersMap [Map] of String to User
     * to list of [LMFeedActivityViewData]
     *
     * @param activities: list of [Activity]
     * @param usersMap: [Map] of String to User
     * */
    fun convertActivities(
        activities: List<Activity>,
        usersMap: Map<String, User>,
        widgetsMap: Map<String, Widget>
    ): List<LMFeedActivityViewData> {
        return activities.map {
            convertActivity(
                it,
                usersMap,
                widgetsMap
            )
        }
    }

    /**
     * converts [Activity] and usersMap [Map] of String to User
     * to [LMFeedActivityViewData]
     *
     * @param activity: an activity [LMFeedActivityViewData]
     * @param usersMap: [Map] of String to User
     * */
    private fun convertActivity(
        activity: Activity,
        usersMap: Map<String, User>,
        widgetsMap: Map<String, Widget>
    ): LMFeedActivityViewData {
        val activityByUser = if (activity.actionBy.isNotEmpty()) {
            convertUser(usersMap[activity.actionBy.last()])
        } else {
            LMFeedUserViewData.Builder().build()
        }

        return LMFeedActivityViewData.Builder()
            .id(activity.id)
            .isRead(activity.isRead)
            .actionOn(activity.actionOn)
            .actionBy(activity.actionBy)
            .entityType(activity.entityType)
            .entityId(activity.entityId)
            .entityOwnerId(activity.entityOwnerId)
            .action(activity.action)
            .cta(activity.cta)
            .activityText(activity.activityText)
            .activityEntityData(
                convertActivityEntityData(
                    activity.activityEntityData,
                    usersMap,
                    widgetsMap
                )
            )
            .activityByUser(activityByUser)
            .createdAt(activity.createdAt)
            .updatedAt(activity.updatedAt)
            .uuid(activity.uuid)
            .build()
    }

    private fun convertActivityEntityData(
        activityEntityData: ActivityEntityData?,
        usersMap: Map<String, User>,
        widgetsMap: Map<String, Widget>
    ): LMFeedActivityEntityViewData? {

        if (activityEntityData == null) {
            return null
        }
        val entityCreator = activityEntityData.uuid
        val user = usersMap[entityCreator]
        val replies = activityEntityData.replies?.toMutableList()

        val userViewData = if (user == null) {
            createDeletedUser()
        } else {
            convertUser(user)
        }

        return LMFeedActivityEntityViewData.Builder()
            .id(activityEntityData.id)
            .text(activityEntityData.text)
            .deleteReason(activityEntityData.deleteReason)
            .deletedBy(activityEntityData.deletedBy)
            .heading(activityEntityData.heading)
            .attachments(
                convertAttachments(
                    activityEntityData.attachments,
                    activityEntityData.id,
                    usersMap,
                    widgetsMap
                )
            )
            .communityId(activityEntityData.communityId)
            .isEdited(activityEntityData.isEdited)
            .isPinned(activityEntityData.isPinned)
            .userId(activityEntityData.userId)
            .user(userViewData)
            .replies(
                convertComments(
                    replies,
                    usersMap,
                    activityEntityData.postId ?: activityEntityData.id
                )
            )
            .level(activityEntityData.level)
            .createdAt(activityEntityData.createdAt)
            .updatedAt(activityEntityData.updatedAt)
            .uuid(activityEntityData.uuid)
            .deletedByUUID(activityEntityData.deletedByUUID)
            .build()
    }

    /**
     * convert list of [Like] to list of [LMFeedLikeViewData]
     * @param likes: list of [Like]
     * @param users: [Map] of String to User
     * */
    fun convertLikes(
        likes: List<Like>,
        users: Map<String, User>
    ): List<LMFeedLikeViewData> {
        return likes.map { like ->
            //get user id
            val likedById = like.uuid

            //get user
            val likedBy = users[likedById]

            //convert view data
            val likedByViewData = if (likedBy == null) {
                createDeletedUser()
            } else {
                convertUser(likedBy)
            }

            //create like view data
            LMFeedLikeViewData.Builder()
                .id(like.id)
                .userId(like.userId)
                .createdAt(like.createdAt)
                .updatedAt(like.updatedAt)
                .user(likedByViewData)
                .build()
        }
    }

    /**
     * convert list of [ReportTag] to list of [LMFeedReportTagViewData]
     * @param tags: list of [ReportTag]
     * */
    fun convertReportTag(
        tags: List<ReportTag>
    ): List<LMFeedReportTagViewData> {
        return tags.map { tag ->
            LMFeedReportTagViewData.Builder()
                .id(tag.id)
                .name(tag.name)
                .isSelected(false)
                .build()
        }
    }

    /**
     * convert list of [ReportTag] to list of [LMFeedReasonChooseViewData]
     * @param tags: list of [ReportTag]
     * */
    fun convertDeleteTag(
        tags: List<ReportTag>
    ): MutableList<LMFeedReasonChooseViewData> {
        return tags.map { tag ->
            LMFeedReasonChooseViewData.Builder()
                .value(tag.name)
                .build()
        }.toMutableList()
    }

    /**
     * convert [SingleUriData] to [LMFeedFileUploadViewData]
     * @param singleUriData: [SingleUriData]
     * */
    fun convertFileUploadViewData(
        singleUriData: SingleUriData
    ): LMFeedFileUploadViewData {
        return LMFeedFileUploadViewData.Builder()
            .uri(singleUriData.uri)
            .fileType(singleUriData.fileType)
            .width(singleUriData.width)
            .height(singleUriData.height)
            .thumbnailUri(singleUriData.thumbnailUri)
            .size(singleUriData.size)
            .mediaName(singleUriData.mediaName)
            .pdfPageCount(singleUriData.pdfPageCount)
            .duration(singleUriData.duration)
            .build()
    }

    /**
     * convert list of [Topic] to list of [LMFeedTopicViewData]
     * @param topics: list of [Topic]
     * */
    private fun convertTopics(topics: List<Topic>): List<LMFeedTopicViewData> {
        return topics.map {
            convertTopic(it)
        }
    }

    /**
     * convert list of [PollVote] to [LMFeedPollVoteViewData]
     * @param votes: list of [PollVote]
     * @param usersMap: [Map] of String to [User]
     * */
    fun convertPollVotes(
        votes: List<PollVote>,
        usersMap: Map<String, User>
    ): LMFeedPollVoteViewData {
        val vote = votes.firstOrNull() ?: return LMFeedPollVoteViewData.Builder().build()
        val usersVoted = vote.userIds

        // get object of users who have voted on the option
        val userVotedViewData = usersVoted.map { userVoted ->
            convertUser(usersMap[userVoted])
        }

        return LMFeedPollVoteViewData.Builder()
            .id(vote.id)
            .usersVoted(userVotedViewData)
            .build()
    }

    /**
     * convert [Widget] to [LMFeedWidgetViewData]
     * @param entityId: [String]
     * @param widgetsMap: [Map] of String to [Widget]
     * @return [LMFeedWidgetViewData]
     * */
    private fun convertWidget(
        entityId: String?,
        widgetsMap: Map<String, Widget>
    ): LMFeedWidgetViewData? {
        if (entityId.isNullOrEmpty()) return null
        val widget = widgetsMap[entityId] ?: return null

        return LMFeedWidgetViewData.Builder()
            .id(widget.id)
            .createdAt(widget.createdAt)
            .metadata(widget.metadata)
            .parentEntityId(widget.parentEntityId)
            .parentEntityType(widget.parentEntityType)
            .updatedAt(widget.updatedAt)
            .build()
    }

    /**
     * convert list of [Post] to [LMFeedPostViewData]
     * @param searchString: [String]
     * @param searchType: [SearchType]
     * @param posts: List of [Post]
     * @param usersMap: [Map] of String to [User]
     * @param topicsMap: [Map] of String to [Topic]
     * @param widgetsMap: [Map] of String to [Widget]
     * @return [LMFeedPostViewData]
     * */
    fun convertSearchedPosts(
        searchString: String,
        searchType: SearchType,
        posts: List<Post>,
        usersMap: Map<String, User>,
        topicsMap: Map<String, Topic>,
        widgetsMap: Map<String, Widget>
    ): List<LMFeedPostViewData> {
        return posts.map { post ->
            convertPost(
                post,
                usersMap,
                topicsMap,
                widgetsMap,
                null,
                searchString,
                searchType
            )
        }
    }

    /**--------------------------------
     * View Data Model -> Network Model
    --------------------------------*/

    fun convertPost(
        temporaryId: String,
        workerUUID: String,
        text: String?,
        heading: String?,
        fileUris: List<LMFeedFileUploadViewData>,
        metadata: JSONObject?,
    ): Post {
        return Post.Builder()
            .tempId(temporaryId)
            .id(temporaryId)
            .workerUUID(workerUUID)
            .text(text ?: "")
            .heading(heading)
            .attachments(convertAttachments(fileUris, Pair(null, metadata)))
            .build()
    }

    //creates a list of network model of attachments from the provided list of attachment view data
    fun createAttachments(
        attachments: List<LMFeedAttachmentViewData>
    ): List<Attachment> {
        return attachments.map {
            convertAttachment(it)
        }
    }

    //creates a network model of attachment from the provided attachment view data
    private fun convertAttachment(
        attachment: LMFeedAttachmentViewData
    ): Attachment {
        return Attachment.Builder()
            .attachmentType(attachment.attachmentType.getAttachmentType())
            .attachmentMeta(convertAttachmentMeta(attachment.attachmentMeta))
            .build()
    }

    private fun convertAttachmentMeta(
        attachmentMeta: LMFeedAttachmentMetaViewData
    ): AttachmentMeta {
        return AttachmentMeta.Builder()
            .name(attachmentMeta.name)
            .ogTags(convertOGTags(attachmentMeta.ogTags))
            .url(attachmentMeta.url)
            .size(attachmentMeta.size)
            .duration(attachmentMeta.duration)
            .pageCount(attachmentMeta.pageCount)
            .format(attachmentMeta.format)
            .height(attachmentMeta.height)
            .width(attachmentMeta.width)
            .meta(attachmentMeta.widgetViewData?.metadata)
            .build()
    }

    // creates attachment list of Network Model for link attachment
    fun convertAttachments(
        linkOGTagsViewData: LMFeedLinkOGTagsViewData,
        widgetData: Pair<String?, JSONObject?>?
    ): List<Attachment> {
        val attachments = ArrayList<Attachment>()

        //add link attachment
        attachments.add(
            Attachment.Builder()
                .attachmentType(AttachmentType.LINK)
                .attachmentMeta(convertAttachmentMeta(linkOGTagsViewData))
                .build()
        )

        //add custom widget
        widgetData?.second?.let {
            attachments.add(convertCustomWidget(widgetData.first, it))
        }
        return attachments
    }

    // creates AttachmentMeta Network Model for link attachment meta
    private fun convertAttachmentMeta(
        linkOGTagsViewData: LMFeedLinkOGTagsViewData
    ): AttachmentMeta {
        return AttachmentMeta.Builder()
            .ogTags(convertOGTags(linkOGTagsViewData))
            .build()
    }

    // converts LinkOGTags view data model to network model
    private fun convertOGTags(
        linkOGTagsViewData: LMFeedLinkOGTagsViewData?
    ): LinkOGTags? {
        if (linkOGTagsViewData == null) return null
        return LinkOGTags.Builder()
            .title(linkOGTagsViewData.title)
            .image(linkOGTagsViewData.image)
            .description(linkOGTagsViewData.description)
            .url(linkOGTagsViewData.url)
            .build()
    }

    // converts list of [LMFeedFileUploadViewData] to list of network [Attachment] model
    private fun convertAttachments(
        fileUris: List<LMFeedFileUploadViewData>,
        widgetData: Pair<String?, JSONObject?>?
    ): List<Attachment> {
        val attachments = ArrayList<Attachment>()

        //add media files
        attachments.addAll(
            fileUris.map {
                convertAttachment(it)
            }
        )

        //add meta
        widgetData?.second?.let {
            attachments.add(
                convertCustomWidget(widgetData.first, it)
            )
        }

        return attachments
    }

    // converts [LMFeedFileUploadViewData] to network [Attachment] model
    private fun convertAttachment(fileUri: LMFeedFileUploadViewData): Attachment {
        val attachmentType = when (fileUri.fileType) {
            com.likeminds.customgallery.media.model.IMAGE -> {
                AttachmentType.IMAGE
            }

            com.likeminds.customgallery.media.model.VIDEO -> {
                AttachmentType.VIDEO
            }

            else -> {
                AttachmentType.DOCUMENT
            }
        }

        return Attachment.Builder()
            .attachmentType(attachmentType)
            .attachmentMeta(convertAttachmentMeta(fileUri))
            .build()
    }

    //converts [LMFeedFileUploadViewData] to network [AttachmentMeta] model
    private fun convertAttachmentMeta(fileUri: LMFeedFileUploadViewData): AttachmentMeta {
        val url = String(
            Base64.decode(
                LMFeedAWSKeys.getBucketBaseUrl(),
                Base64.DEFAULT
            )
        ) + fileUri.awsFolderPath
        return AttachmentMeta.Builder()
            .url(url)
            .awsFolderPath(fileUri.awsFolderPath)
            .format(fileUri.format)
            .localFilePath(fileUri.localFilePath)
            .localUri(fileUri.uri)
            .name(fileUri.mediaName)
            .pageCount(fileUri.pdfPageCount)
            .size(fileUri.size)
            .awsFolderPath(fileUri.awsFolderPath)
            .thumbnailUrl(fileUri.thumbnailUri.toString())
            .duration(fileUri.duration)
            .height(fileUri.height)
            .width(fileUri.width)
            .build()
    }

    // converts list of Topic view data model to list of network model
    fun convertTopicsViewData(topics: List<LMFeedTopicViewData>?): List<Topic> {
        if (topics == null) {
            return emptyList()
        }

        return topics.map {
            convertTopic(it)
        }
    }

    // converts Topic view data model to network model
    private fun convertTopic(topic: LMFeedTopicViewData): Topic {
        return Topic.Builder()
            .id(topic.id)
            .isEnabled(topic.isEnabled)
            .name(topic.name)
            .build()
    }

    // converts comments count to [LMFeedCommentsCountViewData]
    fun convertCommentsCount(commentsCount: Int): LMFeedCommentsCountViewData {
        return LMFeedCommentsCountViewData.Builder()
            .commentsCount(commentsCount)
            .build()
    }

    // converts [LMFeedPollViewData] to [Attachment]
    fun convertPoll(
        poll: LMFeedPollViewData,
        widgetData: Pair<String?, JSONObject?>?
    ): List<Attachment> {
        val attachments = ArrayList<Attachment>()

        attachments.add(
            Attachment.Builder()
                .attachmentType(AttachmentType.POLL)
                .attachmentMeta(convertPollAttachmentMeta(poll))
                .build()
        )

        widgetData?.second?.let {
            attachments.add(
                convertCustomWidget(widgetData.first, it)
            )
        }

        return attachments
    }

    // converts [LMFeedPollViewData] to [AttachmentMeta]
    private fun convertPollAttachmentMeta(poll: LMFeedPollViewData): AttachmentMeta {
        return AttachmentMeta.Builder()
            .entityId(poll.id)
            .title(poll.title)
            .expiryTime(poll.expiryTime)
            .pollOptions(poll.options.map { it.text })
            .multiSelectState(poll.multipleSelectState)
            .pollType(poll.pollType)
            .multiSelectNumber(poll.multipleSelectNumber)
            .isAnonymous(poll.isAnonymous)
            .allowAddOption(poll.allowAddOption)
            .build()
    }

    // converts [LMFeedWidgetViewData] to [Attachment]
    fun convertCustomWidget(entityId: String?, metadata: JSONObject): Attachment {
        return Attachment.Builder()
            .attachmentType(AttachmentType.CUSTOM_WIDGET)
            .attachmentMeta(convertCustomWidgetAttachmentMeta(entityId, metadata))
            .build()
    }

    // converts [LMFeedWidgetViewData] to [AttachmentMeta]
    private fun convertCustomWidgetAttachmentMeta(
        entityId: String?,
        metadata: JSONObject
    ): AttachmentMeta {
        return AttachmentMeta.Builder()
            .entityId(entityId)
            .meta(metadata)
            .build()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/LMFeedViewStyle.kt
================================================
package com.likeminds.feed.android.core.utils

interface LMFeedViewStyle


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/LMFeedViewUtils.kt
================================================
package com.likeminds.feed.android.core.utils

import android.app.Activity
import android.content.Context
import android.content.res.ColorStateList
import android.content.res.Resources
import android.graphics.Color
import android.os.Build
import android.text.Spannable
import android.text.SpannableString
import android.text.style.ForegroundColorSpan
import android.util.DisplayMetrics
import android.view.*
import android.view.animation.Animation
import android.view.animation.AnimationUtils
import android.view.inputmethod.InputMethodManager
import android.widget.*
import androidx.annotation.ColorRes
import androidx.coordinatorlayout.widget.CoordinatorLayout
import androidx.core.content.ContextCompat
import androidx.core.widget.ImageViewCompat
import com.facebook.shimmer.Shimmer
import com.facebook.shimmer.ShimmerDrawable
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.widgets.snackbar.view.LMFeedSnackbar
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics
import com.likeminds.feed.android.core.utils.base.model.*

//view related utils class
object LMFeedViewUtils {
    fun dpToPx(dp: Int): Int {
        return (dp * Resources.getSystem().displayMetrics.density).toInt()
    }

    fun ImageView.setTint(@ColorRes tint: Int) {
        ImageViewCompat.setImageTintList(
            this,
            ColorStateList.valueOf(ContextCompat.getColor(context, tint))
        )
    }

    fun View.hide() {
        visibility = View.GONE
    }

    fun View.show() {
        visibility = View.VISIBLE
    }

    // returns shimmer drawable
    fun getShimmer(): ShimmerDrawable {
        val shimmer =
            Shimmer.AlphaHighlightBuilder() // The attributes for a ShimmerDrawable is set by this builder
                .setDuration(1800) // how long the shimmering animation takes to do one full sweep
                .setBaseAlpha(0.85f) //the alpha of the underlying children
                .setHighlightAlpha(0.7f) // the shimmer alpha amount
                .setDirection(Shimmer.Direction.LEFT_TO_RIGHT)
                .setAutoStart(true)
                .build()

        // This is the placeholder for the imageView
        val shimmerDrawable = ShimmerDrawable().apply {
            setShimmer(shimmer)
        }
        return shimmerDrawable
    }

    fun showShortToast(context: Context?, text: String?) {
        if (context == null || text.isNullOrEmpty()) return
        Toast.makeText(context, text, Toast.LENGTH_SHORT).show()
    }

    // shows short length snackbar
    fun showShortSnack(view: View, text: String?, anchorView: View? = null) {
        if (text.isNullOrEmpty()) {
            return
        }
        val snackBar = LMFeedSnackbar.make(view, text)
        anchorView?.let {
            snackBar.setAnchorView(anchorView)
        }
        snackBar.show()
    }

    // shows short toast with "Something went wrong!" message
    fun showSomethingWentWrongToast(context: Context) {
        showShortToast(context, context.getString(R.string.lm_feed_something_went_wrong))
    }

    // shows short toast with error message
    fun showErrorMessageToast(context: Context, errorMessage: String?) {
        showShortToast(
            context,
            errorMessage ?: context.getString(R.string.lm_feed_something_went_wrong)
        )
    }

    // shoes bounce animation on the provided view
    fun showBounceAnim(context: Context, view: View) {
        // bounce animation for save button
        val saveBounceAnim: Animation by lazy {
            AnimationUtils.loadAnimation(
                context,
                R.anim.lm_feed_bounce
            )
        }

        saveBounceAnim.interpolator = LMFeedBounceInterpolator(0.2, 20.0)
        view.startAnimation(saveBounceAnim)
    }

    // returns type of post for analytics from the viewType of post
    fun getPostTypeFromViewType(postViewType: Int?): String {
        return when (postViewType) {
            ITEM_POST_TEXT_ONLY -> {
                LMFeedAnalytics.LMFeedKeys.POST_TYPE_TEXT
            }

            ITEM_POST_SINGLE_IMAGE -> {
                LMFeedAnalytics.LMFeedKeys.POST_TYPE_IMAGE
            }

            ITEM_POST_SINGLE_VIDEO -> {
                LMFeedAnalytics.LMFeedKeys.POST_TYPE_VIDEO
            }

            ITEM_POST_DOCUMENTS -> {
                LMFeedAnalytics.LMFeedKeys.POST_TYPE_DOCUMENT
            }

            ITEM_POST_MULTIPLE_MEDIA -> {
                LMFeedAnalytics.LMFeedKeys.POST_TYPE_IMAGE_VIDEO
            }

            ITEM_POST_LINK -> {
                LMFeedAnalytics.LMFeedKeys.POST_TYPE_LINK
            }

            else -> {
                LMFeedAnalytics.LMFeedKeys.POST_TYPE_TEXT
            }
        }
    }

    //closes the keyboard if it is open
    fun hideKeyboard(view: View) {
        val imm =
            view.context.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager
        imm.hideSoftInputFromWindow(view.windowToken, 0)
    }

    // opens the keyboard if it is closed
    fun showKeyboard(view: View) {
        val imm = view.context.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager
        view.requestFocus()
        imm.showSoftInput(view, InputMethodManager.SHOW_IMPLICIT)
    }

    //find parent for a particular view
    fun View?.findSuitableParent(): ViewGroup? {
        var view = this
        var fallback: ViewGroup? = null
        do {
            if (view is CoordinatorLayout) {
                // We've found a CoordinatorLayout, use it
                return view
            } else if (view is FrameLayout) {
                if (view.id == android.R.id.content) {
                    // If we've hit the decor content view, then we didn't find a CoL in the
                    // hierarchy, so use it.
                    return view
                } else {
                    // It's not the content view but we'll use it as our fallback
                    fallback = view
                }
            }

            if (view != null) {
                // Else, we will loop and crawl up the view hierarchy and try to find a parent
                val parent = view.parent
                view = if (parent is View) parent else null
            }
        } while (view != null)

        // If we reach here then we didn't find a CoL or a suitable content view so we'll fallback
        return fallback
    }

    //returns the width and height of the device
    fun getDeviceDimension(context: Context): Pair<Int, Int> {
        val activity = (context as Activity)
        val width: Int
        val height: Int
        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.R) {
            val windowMetrics = activity.windowManager.currentWindowMetrics
            val insets =
                windowMetrics.windowInsets.getInsetsIgnoringVisibility(WindowInsets.Type.systemBars())
            width = windowMetrics.bounds.width()
            height = windowMetrics.bounds.height() - insets.top - insets.bottom
        } else {
            val displayMetrics = DisplayMetrics()
            activity.windowManager.defaultDisplay.getMetrics(displayMetrics)
            width = displayMetrics.widthPixels
            height = displayMetrics.heightPixels
        }
        return Pair(width, height)
    }

    // adds an asterisk for mandatory fields in the hint
    fun getMandatoryAsterisk(
        hint: String,
        editText: EditText
    ) {
        val mandatoryAsteriskHint = SpannableString("$hint *")
        mandatoryAsteriskHint.setSpan(
            ForegroundColorSpan(
                Color.RED
            ),
            hint.length,
            hint.length + 2,
            Spannable.SPAN_EXCLUSIVE_EXCLUSIVE
        )
        editText.hint = mandatoryAsteriskHint
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/analytics/LMFeedAnalytics.kt
================================================
package com.likeminds.feed.android.core.utils.analytics

import com.likeminds.feed.android.core.LMFeedCoreApplication
import com.likeminds.feed.android.core.post.detail.model.LMFeedCommentViewData
import com.likeminds.feed.android.core.post.model.IMAGE
import com.likeminds.feed.android.core.post.model.VIDEO
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.utils.LMFeedViewUtils
import com.likeminds.feed.android.core.utils.base.model.*
import com.likeminds.usertagging.util.UserTaggingDecoder

object LMFeedAnalytics {

    /*
    * Event names variables
    * */
    object LMFeedEvents {
        const val POST_CREATION_STARTED = "post_creation_started"
        const val CLICKED_ON_ATTACHMENT = "clicked_on_attachment"
        const val ADD_MORE_ATTACHMENT = "add_more_attachment_clicked"
        const val USER_TAGGED_IN_POST = "user_tagged_in_a_post"
        const val LINK_ATTACHED_IN_POST = "link_attached_in_the_post"
        const val IMAGE_ATTACHED_TO_POST = "image_attached_to_post"
        const val VIDEO_ATTACHED_TO_POST = "video_attached_to_post"
        const val DOCUMENT_ATTACHED_TO_POST = "document_attached_in_post"
        const val POST_CREATION_COMPLETED = "post_creation_completed"
        const val POST_CREATION_ERROR = "post_creation_error"
        const val POST_PINNED = "post_pinned"
        const val POST_UNPINNED = "post_unpinned"
        const val POST_REPORTED = "post_reported"
        const val POST_DELETED = "post_deleted"
        const val FEED_OPENED = "feed_opened"
        const val LIKE_LIST_OPEN = "like_list_open"
        const val COMMENT_LIST_OPEN = "comment_list_open"
        const val COMMENT_DELETED = "comment_deleted"
        const val COMMENT_REPORTED = "comment_reported"
        const val COMMENT_POSTED = "comment_posted"
        const val REPLY_POSTED = "reply_posted"
        const val REPLY_DELETED = "reply_deleted"
        const val REPLY_REPORTED = "reply_reported"
        const val POST_EDITED = "post_edited"
        const val POST_SHARED = "post_shared"
        const val POST_LIKED = "post_liked"
        const val POST_UNLIKED = "post_unliked"
        const val POST_SAVED = "post_saved"
        const val POST_UNSAVED = "post_unsaved"
        const val COMMENT_LIKED = "comment_liked"
        const val COMMENT_UNLIKED = "comment_unliked"
        const val COMMENT_EDITED = "comment_edited"

        const val NOTIFICATION_RECEIVED = "notification_received"
        const val NOTIFICATION_CLICKED = "notification_clicked"

        const val NOTIFICATION_PAGE_OPENED = "notification_page_opened"

        //Video Feed Analytics
        const val EXPLORE_REELS_OPENED = "explore_reels_opened"
        const val REEL_VIEWED = "reel_viewed"
        const val REEL_LIKED = "reel_liked"
        const val REEL_UNLIKED = "reel_unliked"
        const val NO_MORE_REELS_SHOWN = "no_more_reels_shown"
        const val REEL_REPORTED = "reel_reported"
        const val REEL_SWIPED = "reel_swiped"
        const val REEL_SHARED = "reel_shared"
    }

    /*
    * Event keys variables
    * */
    object LMFeedKeys {
        const val POST_ID = "post_id"
        const val UUID = "uuid"
        const val COMMENT_ID = "comment_id"
        const val COMMENT_REPLY_ID = "comment_reply_id"
        const val POST_TYPE_TEXT = "text"
        const val POST_TYPE_IMAGE = "image"
        const val POST_TYPE_VIDEO = "video"
        const val POST_TYPE_IMAGE_VIDEO = "image,video"
        const val POST_TYPE_DOCUMENT = "document"
        const val POST_TYPE_LINK = "link"
        const val SCREEN_NAME = "screen_name"
        const val POST_CREATED_BY_UUID = "post_created_by_uuid"
        const val POST_TOPICS = "post_topics"
        const val POST_TYPE = "post_type"
    }

    /**
     * Source keys variables
     **/
    object LMFeedSource {
        const val DEEP_LINK = "deep_link"
        const val NOTIFICATION = "notification"
        const val SOCIAL_FEED = "social_feed"
        const val QNA_FEED = "qna_feed"
        const val POST_DETAIL = "post_detail"
    }

    object LMFeedScreenNames {
        const val UNIVERSAL_FEED = "universalFeed"
        const val FEEDROOM = "feedroom"
        const val POST_DETAIL = "postDetailScreen"
        const val USER_FEED = "userFeed"
        const val ACTIVITY_FEED = "activityScreen"
        const val CREATE_POST = "createPostScreen"
        const val EDIT_POST = "editPostScreen"
        const val TOPIC_SELECTION = "topicSelectScreen"
        const val LIKES_SCREEN = "likesScreen"
        const val MEDIA_PREVIEW = "mediaPreviewScreen"
        const val REPORT_SCREEN = "reportScreen"
        const val SEARCH_SCREEN = "searchScreen"
        const val SAVED_POST = "savedPostScreen"
        const val USER_CREATED_COMMENTS = "userCreatedCommentScreen"
        const val USER_PROFILE = "userProfileScreen"
        const val TOPIC_DETAIL = "topicDetailScreen"
        const val OTHER = "other"
    }

    /**
     * called to trigger events
     * @param eventName - name of the event to trigger
     * @param eventProperties - {key: value} pair for properties related to event
     * */
    fun track(eventName: String, eventProperties: Map<String, String?> = mapOf()) {
        val coreCallback = LMFeedCoreApplication.getLMFeedCoreCallback()
        coreCallback?.trackEvent(eventName, eventProperties)
    }

    /*
    * Analytics events
    */

    /**
     * Triggers when the user opens feed fragment
     **/
    fun sendFeedOpenedEvent() {
        track(
            LMFeedEvents.FEED_OPENED,
            mapOf(
                "feed_type" to "social_feed"
            )
        )
    }

    /**
     * Triggers when the user clicks on New Post button
     **/
    fun sendPostCreationStartedEvent(screenName: String) {
        track(
            LMFeedEvents.POST_CREATION_STARTED, mapOf(
                LMFeedKeys.SCREEN_NAME to screenName
            )
        )
    }

    /**
     * Triggers when the current user likes/unlikes a post
     */
    fun sendPostLikedEvent(
        uuid: String,
        postId: String,
        postLiked: Boolean
    ) {
        val event = if (postLiked) {
            LMFeedEvents.POST_LIKED
        } else {
            LMFeedEvents.POST_UNLIKED
        }

        track(
            event,
            mapOf(
                LMFeedKeys.UUID to uuid,
                LMFeedKeys.POST_ID to postId
            )
        )
    }

    /**
     * Triggers when the current user saves/unsaves a post
     */
    fun sendPostSavedEvent(
        uuid: String,
        postId: String,
        postSaved: Boolean
    ) {
        val event = if (postSaved) {
            LMFeedEvents.POST_SAVED
        } else {
            LMFeedEvents.POST_UNSAVED
        }

        track(
            event,
            mapOf(
                LMFeedKeys.UUID to uuid,
                LMFeedKeys.POST_ID to postId
            )
        )
    }

    /**
     * Triggers when the current user pins/unpins a post
     */
    fun sendPostPinnedEvent(post: LMFeedPostViewData, screenName: String) {
        val headerViewData = post.headerViewData
        val event = if (headerViewData.isPinned) {
            LMFeedEvents.POST_PINNED
        } else {
            LMFeedEvents.POST_UNPINNED
        }

        val topicNames = post.topicsViewData.joinToString(",")

        track(
            event,
            mapOf(
                LMFeedKeys.POST_CREATED_BY_UUID to headerViewData.user.sdkClientInfoViewData.uuid,
                LMFeedKeys.POST_ID to post.id,
                LMFeedKeys.POST_TYPE to LMFeedViewUtils.getPostTypeFromViewType(post.viewType),
                LMFeedKeys.POST_TOPICS to topicNames,
                LMFeedKeys.SCREEN_NAME to screenName
            )
        )
    }

    /**
     * Triggers when the user opens post detail screen
     **/
    fun sendCommentListOpenEvent() {
        track(LMFeedEvents.COMMENT_LIST_OPEN)
    }

    /**
     * Triggers when the current user shares a post
     */
    fun sendPostShared(post: LMFeedPostViewData) {
        val postType = LMFeedViewUtils.getPostTypeFromViewType(post.viewType)

        val postCreatorUUID = post.headerViewData.user.sdkClientInfoViewData.uuid
        track(
            LMFeedEvents.POST_SHARED,
            mapOf(
                "created_by_uuid" to postCreatorUUID,
                LMFeedKeys.POST_ID to post.id,
                LMFeedKeys.POST_TYPE to postType,
            )
        )
    }

    /**
     * Triggers when the user edits a post
     **/
    fun sendPostEditedEvent(post: LMFeedPostViewData) {
        val map = getPostMetaAnalytics(post)
        map["created_by_uuid"] = post.headerViewData.user.sdkClientInfoViewData.uuid

        track(
            LMFeedEvents.POST_EDITED,
            map
        )
    }

    /**
     * Triggers when the user attaches link
     * @param link - url of the link
     **/
    fun sendLinkAttachedEvent(link: String, screenName: String) {
        track(
            LMFeedEvents.LINK_ATTACHED_IN_POST,
            mapOf(
                "link" to link,
                LMFeedKeys.SCREEN_NAME to screenName
            )
        )
    }

    /**
     * Triggers when a post is deleted
     **/
    fun sendPostDeletedEvent(post: LMFeedPostViewData, reason: String? = null) {
        /**
         * if [reason] is [null], then it is a self delete
         */
        val userStateString = if (reason == null) {
            "Member"
        } else {
            "Community Manager"
        }

        //uuid of the post creator
        val postCreatorUUID = post.headerViewData.user.sdkClientInfoViewData.uuid
        val map = mapOf(
            "user_state" to userStateString,
            LMFeedKeys.UUID to postCreatorUUID,
            LMFeedKeys.POST_ID to post.id,
            LMFeedKeys.POST_TYPE to LMFeedViewUtils.getPostTypeFromViewType(post.viewType),
        )
        track(
            LMFeedEvents.POST_DELETED,
            map
        )
    }

    /**
     * Triggers when a comment/reply is deleted
     **/
    fun sendCommentReplyDeletedEvent(
        postId: String,
        commentId: String,
        parentCommentId: String?
    ) {
        if (parentCommentId == null) {
            //comment deleted event
            track(
                LMFeedEvents.COMMENT_DELETED,
                mapOf(
                    LMFeedKeys.POST_ID to postId,
                    LMFeedKeys.COMMENT_ID to commentId
                )
            )
        } else {
            //reply deleted event
            track(
                LMFeedEvents.REPLY_DELETED,
                mapOf(
                    LMFeedKeys.POST_ID to postId,
                    LMFeedKeys.COMMENT_ID to parentCommentId,
                    LMFeedKeys.COMMENT_REPLY_ID to commentId,
                )
            )
        }
    }

    /**
     * Triggers when the reply is posted on a comment
     **/
    fun sendReplyPostedEvent(
        parentCommentCreatorUUID: String,
        postId: String,
        parentCommentId: String,
        commentId: String,
    ) {
        track(
            LMFeedEvents.REPLY_POSTED,
            mapOf(
                LMFeedKeys.UUID to parentCommentCreatorUUID,
                LMFeedKeys.POST_ID to postId,
                LMFeedKeys.COMMENT_ID to parentCommentId,
                LMFeedKeys.COMMENT_REPLY_ID to commentId
            )
        )
    }

    /**
     * Triggers when a comment is posted on a post
     **/
    fun sendCommentPostedEvent(postId: String, commentId: String) {
        track(
            LMFeedEvents.COMMENT_POSTED,
            mapOf(
                LMFeedKeys.POST_ID to postId,
                LMFeedKeys.COMMENT_ID to commentId
            )
        )
    }

    /**
     * Triggers when the current user likes/unlikes a comment
     */
    fun sendCommentLikedEvent(
        postId: String,
        commentId: String,
        commentLiked: Boolean,
        loggedInUUID: String,
    ) {
        val event = if (commentLiked) {
            LMFeedEvents.COMMENT_LIKED
        } else {
            LMFeedEvents.COMMENT_UNLIKED
        }

        track(
            event,
            mapOf(
                LMFeedKeys.UUID to loggedInUUID,
                LMFeedKeys.POST_ID to postId,
                LMFeedKeys.COMMENT_ID to commentId,
            )
        )
    }

    /**
     * Triggers when the user edits a comment
     **/
    fun sendCommentEditedEvent(comment: LMFeedCommentViewData) {
        track(
            LMFeedEvents.COMMENT_EDITED,
            mapOf(
                "created_by_uuid" to comment.user.sdkClientInfoViewData.uuid,
                LMFeedKeys.COMMENT_ID to comment.id,
                "level" to comment.level.toString()
            )
        )
    }

    /**
     * Triggers when the user reports a post
     **/
    fun sendPostReportedEvent(
        postId: String,
        uuid: String,
        postType: String,
        reason: String
    ) {
        track(
            LMFeedEvents.POST_REPORTED,
            mapOf(
                LMFeedKeys.POST_CREATED_BY_UUID to uuid,
                LMFeedKeys.POST_ID to postId,
                "report_reason" to reason,
                LMFeedKeys.POST_TYPE to postType,
            )
        )
    }

    /**
     * Triggers when the user reports a comment
     **/
    fun sendCommentReportedEvent(
        postId: String,
        uuid: String,
        commentId: String,
        reason: String
    ) {
        track(
            LMFeedEvents.COMMENT_REPORTED,
            mapOf(
                LMFeedKeys.POST_ID to postId,
                LMFeedKeys.UUID to uuid,
                LMFeedKeys.COMMENT_ID to commentId,
                "reason" to reason,
            )
        )
    }

    /**
     * Triggers when the user reports a reply
     **/
    fun sendReplyReportedEvent(
        postId: String,
        uuid: String,
        parentCommentId: String?,
        replyId: String,
        reason: String
    ) {
        val updatedParentId = parentCommentId ?: ""
        track(
            LMFeedEvents.REPLY_REPORTED,
            mapOf(
                LMFeedKeys.POST_ID to postId,
                LMFeedKeys.COMMENT_ID to updatedParentId,
                LMFeedKeys.COMMENT_REPLY_ID to replyId,
                LMFeedKeys.UUID to uuid,
                "reason" to reason,
            )
        )
    }

    /**
     * Triggers when the user opens likes screen for post/comment
     **/
    fun sendLikeListOpenEvent(
        postId: String,
        commentId: String?
    ) {
        val map = hashMapOf<String, String>()
        map[LMFeedKeys.POST_ID] = postId
        if (commentId != null) {
            map[LMFeedKeys.COMMENT_ID] = commentId
        }
        track(
            LMFeedEvents.LIKE_LIST_OPEN,
            map
        )
    }

    /**
     * Triggers when the user taps on the bell icon and lands on the notification page
     **/
    fun sendNotificationPageOpenedEvent() {
        track(LMFeedEvents.NOTIFICATION_PAGE_OPENED)
    }

    /**
     * Triggers event when the user tags someone
     * @param uuid user-unique-id
     * @param userCount count of tagged users
     * @param screenName screen name
     */
    fun sendUserTagEvent(uuid: String, userCount: Int, screenName: String) {
        track(
            LMFeedEvents.USER_TAGGED_IN_POST,
            mapOf(
                "tagged_user_uuid" to uuid,
                "tagged_user_count" to userCount.toString(),
                LMFeedKeys.SCREEN_NAME to screenName
            )
        )
    }

    /**
     * Triggers when the user opens explore reels
     * @param loggedInUUID - uuid of the user
     */
    fun sendExploreReelsOpenedEvent(loggedInUUID: String) {
        track(
            LMFeedEvents.EXPLORE_REELS_OPENED,
            mapOf(
                LMFeedKeys.UUID to loggedInUUID
            )
        )
    }

    /**
     * Triggers when the user views a reel
     * @param loggedInUUID - uuid of the user
     * @param reelId - id of the reel
     * @param watchDuration - duration of the reel in seconds
     * @param totalDuration - total duration of the reel in seconds
     */
    fun sendReelsViewedEvent(
        loggedInUUID: String,
        reelId: String,
        watchDuration: Int,
        totalDuration: Float
    ) {
        track(
            LMFeedEvents.REEL_VIEWED,
            mapOf(
                LMFeedKeys.UUID to loggedInUUID,
                "reel_id" to reelId,
                "watch_duration" to "$watchDuration secs",
                "total_duration" to "$totalDuration secs"
            )
        )
    }

    /**
     * Triggers when the user likes a reel
     * @param loggedInUUID - uuid of the user
     * @param reelId - id of the reel
     */
    fun sendReelsLikedEvent(loggedInUUID: String, reelId: String, liked: Boolean) {
        val eventName = if (liked) {
            LMFeedEvents.REEL_LIKED
        } else {
            LMFeedEvents.REEL_UNLIKED
        }

        track(
            eventName,
            mapOf(
                LMFeedKeys.UUID to loggedInUUID,
                "reel_id" to reelId
            )
        )
    }

    /**
     * Triggers when the user doesn't see any more reels
     * @param loggedInUUID - uuid of the user
     */
    fun sendNoMoreReelsShownEvent(loggedInUUID: String) {
        track(
            LMFeedEvents.NO_MORE_REELS_SHOWN,
            mapOf(
                LMFeedKeys.UUID to loggedInUUID
            )
        )
    }

    /**
     * Triggers when the user reports a reel
     * @param loggedInUUID - uuid of the user
     * @param reelId - id of the reel
     * @param reelCreatedByUUID - uuid of the user who created the reel
     * @param reason - reason for reporting the reel
     */
    fun sendReelReportedEvent(
        loggedInUUID: String,
        reelCreatedByUUID: String,
        reelId: String,
        reason: String
    ) {
        track(
            LMFeedEvents.REEL_REPORTED,
            mapOf(
                LMFeedKeys.UUID to loggedInUUID,
                "reel_id" to reelId,
                "reel_created_by_uuid" to reelCreatedByUUID,
                "report_reason" to reason
            )
        )
    }

    /**
     * Triggers when the user swipes a reel
     * @param loggedInUUID - uuid of the user
     * @param previousReelId - id of the previous reel
     * @param previousWatchDuration - duration of the previous reel in seconds
     * @param previousReelTotalDuration - total duration of the previous reel in seconds
     */
    fun sendReelSwipedEvent(
        loggedInUUID: String,
        previousReelId: String,
        previousWatchDuration: Float,
        previousReelTotalDuration: Float
    ) {
        track(
            LMFeedEvents.REEL_SWIPED,
            mapOf(
                LMFeedKeys.UUID to loggedInUUID,
                "previous_reel_id" to previousReelId,
                "previous_reel_watch_duration" to "$previousWatchDuration secs",
                "previous_reel_total_duration" to "$previousReelTotalDuration secs"
            )
        )
    }

    /**
     * Triggers when the user shares a reel
     * @param loggedInUUID - uuid of the user
     * @param post - view data of post
     */
    fun sendReelSharedEvent(loggedInUUID: String, post: LMFeedPostViewData) {
        val postCreatorUUID = post.headerViewData.user.sdkClientInfoViewData.uuid
        track(
            LMFeedEvents.REEL_SHARED,
            mapOf(
                "post_shared_by" to loggedInUUID,
                "reel_id" to post.id,
                "reel_created_by" to postCreatorUUID
            )
        )
    }

    /**
     * Get meta analytics for post
     * @param post - view data of post
     * @return - a map of event key and value
     */
    fun getPostMetaAnalytics(post: LMFeedPostViewData): HashMap<String, String> {
        val map = hashMapOf<String, String>()
        // fetches list of tagged users
        val taggedUsers =
            UserTaggingDecoder.decodeAndReturnAllTaggedMembers(post.contentViewData.text)
        val topics = post.topicsViewData

        // adds tagged user count and their ids in the map
        if (taggedUsers.isNotEmpty()) {
            map["user_tagged"] = "yes"
            map["tagged_users_count"] = taggedUsers.size.toString()
            val taggedUserIds =
                taggedUsers.joinToString {
                    it.first
                }
            map["tagged_users_id"] = taggedUserIds
        } else {
            map["user_tagged"] = "no"
        }

        if (topics.isNotEmpty()) {
            val topicsNameString = topics.joinToString(", ") { it.name }
            map["topics_added"] = "yes"
            map["post_topics"] = topicsNameString
        } else {
            map["topics_added"] = "no"
        }

        // gets event property key and corresponding value for post attachments
        val attachmentInfo = getEventAttachmentInfo(post)
        attachmentInfo.forEach {
            map[it.first] = it.second
        }

        return map
    }

    /**
     * @param post - view data of post
     * @return - a list of pair of event key and value
     * */
    private fun getEventAttachmentInfo(post: LMFeedPostViewData): List<Pair<String, String>> {
        val attachments = post.mediaViewData.attachments

        return when (post.viewType) {
            ITEM_POST_SINGLE_IMAGE -> {
                listOf(
                    Pair("image_attached", "1"),
                    Pair("video_attached", "no"),
                    Pair("document_attached", "no"),
                    Pair("link_attached", "no")
                )
            }

            ITEM_POST_SINGLE_VIDEO -> {
                listOf(
                    Pair("video_attached", "1"),
                    Pair("image_attached", "no"),
                    Pair("document_attached", "no"),
                    Pair("link_attached", "no")
                )
            }

            ITEM_POST_DOCUMENTS -> {
                listOf(
                    Pair("video_attached", "no"),
                    Pair("image_attached", "no"),
                    Pair("document_attached", attachments.size.toString()),
                    Pair("link_attached", "no")
                )
            }

            ITEM_POST_MULTIPLE_MEDIA -> {
                val imageCount = attachments.count {
                    it.attachmentType == IMAGE
                }
                val imageCountString = if (imageCount == 0) {
                    "no"
                } else {
                    imageCount.toString()
                }
                val videoCount = attachments.count {
                    it.attachmentType == VIDEO
                }
                val videoCountString = if (videoCount == 0) {
                    "no"
                } else {
                    videoCount.toString()
                }
                listOf(
                    Pair(
                        "image_attached",
                        imageCountString
                    ),
                    Pair(
                        "video_attached",
                        videoCountString
                    ),
                    Pair("document_attached", "no"),
                    Pair("link_attached", "no")
                )
            }

            else -> {
                return emptyList()
            }
        }
    }

}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/base/LMFeedBaseRecyclerAdapter.java
================================================
package com.likeminds.feed.android.core.utils.base;

import android.annotation.SuppressLint;
import android.os.Build;
import android.os.Bundle;
import android.util.Log;
import android.util.SparseArray;
import android.view.ViewGroup;

import androidx.annotation.NonNull;
import androidx.annotation.RequiresApi;
import androidx.recyclerview.widget.RecyclerView;

import com.likeminds.feed.android.core.databinding.LmFeedItemPostVideoFeedBinding;
import com.likeminds.feed.android.core.utils.base.model.LMFeedViewType;
import com.likeminds.feed.android.core.videofeed.adapter.databinders.LMFeedItemPostVideoFeedViewDataBinder;

import java.util.ArrayList;
import java.util.List;
import java.util.Locale;

public abstract class LMFeedBaseRecyclerAdapter<T extends LMFeedBaseViewType> extends RecyclerView.Adapter<LMFeedDataBoundViewHolder> {

    private static final String TAG = "BaseRecyclerAdapter";
    private List<T> dataList;
    public SparseArray<LMFeedViewDataBinder> supportedViewBinderResolverMap;

    public LMFeedBaseRecyclerAdapter() {
        dataList = new ArrayList<>(1);
        supportedViewBinderResolverMap = new SparseArray<>(1);
    }

    protected abstract List<LMFeedViewDataBinder> getSupportedViewDataBinder();

    public void initViewDataBinders() {
        for (LMFeedViewDataBinder viewDataBinder : getSupportedViewDataBinder()) {
            supportedViewBinderResolverMap.put(viewDataBinder.getViewType(), viewDataBinder);
        }
    }

    @Override
    public LMFeedDataBoundViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {
        LMFeedViewDataBinder viewDataBinder = supportedViewBinderResolverMap.get(viewType);

        if (viewDataBinder == null) {
            String message = String.format(Locale.US, "No view binder found for viewType: %d", viewType);
            throw new IllegalArgumentException(message);
        }

        return new LMFeedDataBoundViewHolder(viewDataBinder.createBinder(parent));
    }

    @Override
    public final void onBindViewHolder(LMFeedDataBoundViewHolder holder, int position) {
        LMFeedViewDataBinder viewDataBinder = supportedViewBinderResolverMap.get(getItemViewType(position));

        if (viewDataBinder == null) {
            Log.e(TAG, "Please add the supported view binder to view binders list in adapter");
            return;
        }
        viewDataBinder.bindData(holder.getBinding(), dataList.get(position), position);
        holder.getBinding().executePendingBindings();
    }

    @Override
    public void onBindViewHolder(@NonNull LMFeedDataBoundViewHolder holder, int position, List<Object> payloads) {
        if (payloads.isEmpty()) {
            onBindViewHolder(holder, position);
        } else {
            LMFeedViewDataBinder viewDataBinder = supportedViewBinderResolverMap.get(getItemViewType(position));

            if (viewDataBinder == null) {
                Log.e(TAG, "Please add the supported view binder to view binders list in adapter");
                return;
            }
            Bundle bundle = (Bundle) payloads.get(0);
            viewDataBinder.bindData(holder.getBinding(), bundle, position);
        }
    }

    @Override
    public int getItemViewType(int position) {
        if (position >= 0 && position < dataList.size()) {
            T item = dataList.get(position);
            if (item != null) {
                return item.getViewType();
            }
        }
        return 0;
    }

    @Override
    public int getItemCount() {
        return dataList.size();
    }

    public List<T> items() {
        return dataList;
    }

    public void setItems(List<T> items) {
        this.dataList = items;
    }

    @SuppressLint("NotifyDataSetChanged")
    public void notifyAllItems() {
        notifyDataSetChanged();
    }

    public void add(int position, T baseViewType) {
        dataList.add(position, baseViewType);
        notifyItemInserted(position);
    }

    public void add(T baseViewType) {
        dataList.add(baseViewType);
        notifyItemChanged(dataList.size() - 1);
    }

    public void addAll(List<T> baseViewTypes) {
        dataList.addAll(baseViewTypes);
        notifyItemRangeInserted(dataList.size(), baseViewTypes.size());
    }

    public void update(int position, T baseViewType) {
        dataList.set(position, baseViewType);
        notifyItemChanged(position);
    }

    // updates an item in rv without notifying
    public void updateWithoutNotifyingRV(int position, T baseViewType) {
        dataList.set(position, baseViewType);
    }

    @SuppressLint("NotifyDataSetChanged")
    public void replace(List<T> dataList) {
        this.dataList = dataList;
        notifyDataSetChanged();
    }

    public void removeIndex(int index) {
        dataList.remove(index);
        notifyItemRemoved(index);
    }

    public void removeRange(int startIndex) {
        int size = dataList.size();
        dataList.subList(startIndex, size).clear();
        notifyItemRangeRemoved(startIndex, size - startIndex);
    }

    public void removeRange(int startIndex, int endIndex) {
        int count;
        if (endIndex >= dataList.size()) {
            dataList.subList(startIndex, dataList.size()).clear();
            count = dataList.size() - startIndex;
        } else {
            dataList.subList(startIndex, endIndex + 1).clear();
            count = endIndex - startIndex + 1;
        }
        notifyItemRangeRemoved(startIndex, count);
    }

    @SuppressLint("NotifyDataSetChanged")
    public void removeIndexWithNotifyDataSetChanged(int index) {
        dataList.remove(index);
        notifyDataSetChanged();
    }

    public void removeLast() {
        int lastIndex = dataList.size() - 1;
        removeIndex(lastIndex);
    }

    @SuppressLint("NotifyDataSetChanged")
    @RequiresApi(api = Build.VERSION_CODES.N)
    public void removeViewType(@LMFeedViewType int viewType) {
        dataList.removeIf(item -> item.getViewType() == viewType);
        notifyDataSetChanged();
    }

    public void clear() {
        dataList.clear();
    }

    @SuppressLint("NotifyDataSetChanged")
    public void clearAndNotify() {
        dataList.clear();
        notifyDataSetChanged();
    }

    public void addAll(int position, List<T> baseViewTypes) {
        dataList.addAll(position, baseViewTypes);
        notifyItemRangeInserted(position, baseViewTypes.size());
    }

    public void addWithNotifyItemInserted(T baseViewType) {
        dataList.add(baseViewType);
        notifyItemInserted(dataList.size() - 1);
    }

    public void addAllWithoutNotify(List<T> baseViewTypes) {
        dataList.addAll(baseViewTypes);
    }

    public void addWithNotifyItemRangeChanged(int position, T baseViewType) {
        dataList.add(position, baseViewType);
        notifyItemRangeChanged(position, dataList.size());
    }
}



================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/base/LMFeedBaseViewType.kt
================================================
package com.likeminds.feed.android.core.utils.base

import com.likeminds.feed.android.core.utils.base.model.LMFeedViewType

interface LMFeedBaseViewType {

    @get:LMFeedViewType
    val viewType: Int
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/base/LMFeedDataBoundViewHolder.kt
================================================
package com.likeminds.feed.android.core.utils.base

import androidx.databinding.ViewDataBinding
import androidx.recyclerview.widget.RecyclerView

/**
 * A generic ViewHolder that works with a [ViewDataBinding].
 *
 * @param <T> The type of the ViewDataBinding.
</T> */
class LMFeedDataBoundViewHolder<T : ViewDataBinding>(val binding: T) :
    RecyclerView.ViewHolder(binding.root)


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/base/LMFeedViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.utils.base

import android.os.Bundle
import android.view.ViewGroup
import androidx.databinding.ViewDataBinding
import com.likeminds.feed.android.core.utils.base.model.LMFeedViewType

abstract class LMFeedViewDataBinder<V : ViewDataBinding, T : LMFeedBaseViewType> {

    @get:LMFeedViewType
    abstract val viewType: Int

    abstract fun createBinder(parent: ViewGroup): V

    abstract fun bindData(binding: V, data: T, position: Int)

    fun bindData(binding: V, data: Bundle, position: Int) {
        //This function can be called in case to handle inflation of data dependent on `data`
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/base/PostItemViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.utils.base

import android.view.ViewGroup
import androidx.databinding.ViewDataBinding
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.utils.base.model.LMFeedViewType

abstract class PostItemViewDataBinder<V : ViewDataBinding>(postAdapterListener: LMFeedPostAdapterListener) :
    LMFeedViewDataBinder<V, LMFeedPostViewData>() {

    @get:LMFeedViewType
    abstract override val viewType: Int

    override abstract fun createBinder(parent: ViewGroup): V

    override abstract fun bindData(binding: V, data: LMFeedPostViewData, position: Int)
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/base/model/LMFeedViewType.kt
================================================
package com.likeminds.feed.android.core.utils.base.model

import androidx.annotation.IntDef

const val ITEM_NONE = 0
const val ITEM_POST_TEXT_ONLY = 1
const val ITEM_POST_SINGLE_IMAGE = 2
const val ITEM_POST_SINGLE_VIDEO = 3
const val ITEM_POST_DOCUMENTS = 4
const val ITEM_POST_LINK = 5
const val ITEM_POST_MULTIPLE_MEDIA = 6
const val ITEM_MULTIPLE_MEDIA_IMAGE = 7
const val ITEM_MULTIPLE_MEDIA_VIDEO = 8
const val ITEM_POST_MEDIA = 9
const val ITEM_POST_ATTACHMENT = 10
const val ITEM_POST_MENU_ITEM = 11
const val ITEM_POST_DOCUMENTS_ITEM = 12
const val ITEM_POST_CONTENT = 13
const val ITEM_USER = 14
const val ITEM_COMMENT = 15
const val ITEM_REPLY = 16
const val ITEM_NO_COMMENTS_FOUND = 17
const val ITEM_COMMENTS_COUNT = 18
const val ITEM_VIEW_MORE_REPLY = 19
const val ITEM_ACTIVITY_FEED = 20
const val ITEM_LIKES_SCREEN = 21
const val ITEM_REPORT_TAG = 22
const val ITEM_REASON_CHOOSE = 23
const val ITEM_TOPIC = 24
const val ITEM_ALL_TOPICS = 25
const val ITEM_POST_POLL = 26
const val ITEM_POST_POLL_OPTION = 27
const val ITEM_CREATE_POLL_OPTION = 28
const val ITEM_POST_VIDEO_FEED = 29
const val ITEM_POST_VIDEO_FEED_CAUGHT_UP = 30
const val ITEM_POST_CUSTOM_WIDGET = 31

@IntDef(
    ITEM_NONE,
    ITEM_POST_TEXT_ONLY,
    ITEM_POST_SINGLE_IMAGE,
    ITEM_POST_SINGLE_VIDEO,
    ITEM_POST_DOCUMENTS,
    ITEM_POST_LINK,
    ITEM_POST_MULTIPLE_MEDIA,
    ITEM_MULTIPLE_MEDIA_IMAGE,
    ITEM_MULTIPLE_MEDIA_VIDEO,
    ITEM_POST_MEDIA,
    ITEM_POST_ATTACHMENT,
    ITEM_POST_MENU_ITEM,
    ITEM_POST_DOCUMENTS_ITEM,
    ITEM_POST_CONTENT,
    ITEM_USER,
    ITEM_COMMENT,
    ITEM_REPLY,
    ITEM_NO_COMMENTS_FOUND,
    ITEM_COMMENTS_COUNT,
    ITEM_VIEW_MORE_REPLY,
    ITEM_ACTIVITY_FEED,
    ITEM_LIKES_SCREEN,
    ITEM_REPORT_TAG,
    ITEM_REASON_CHOOSE,
    ITEM_TOPIC,
    ITEM_ALL_TOPICS,
    ITEM_POST_POLL,
    ITEM_POST_POLL_OPTION,
    ITEM_CREATE_POLL_OPTION,
    ITEM_POST_VIDEO_FEED,
    ITEM_POST_VIDEO_FEED_CAUGHT_UP,
    ITEM_POST_CUSTOM_WIDGET
)

@Retention(AnnotationRetention.SOURCE)
annotation class LMFeedViewType


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/coroutine/DispatcherUtil.kt
================================================
package com.likeminds.feed.android.core.utils.coroutine

import kotlinx.coroutines.*

/**
 * This dispatcher is optimized to perform disk or network I/O outside of the main thread.
 * Examples include using the database component, reading from or writing to files, and running any network operations.
 */
internal fun CoroutineScope.launchIO(block: suspend (CoroutineScope) -> Unit) =
    this.launch(Dispatchers.IO) {
        block(this)
    }

/**
 * This dispatcher is optimized to perform CPU-intensive work outside of the main thread.
 * Example use cases include sorting a list and parsing JSON.
 */
internal fun CoroutineScope.launchDefault(block: suspend (CoroutineScope) -> Unit) =
    this.launch(Dispatchers.Default) {
        block(this)
    }

/**
 * Use this dispatcher to run a coroutine on the main Android thread. This should be used only for interacting with the UI and performing quick work.
 * Examples include calling suspend functions, running Android UI framework operations, and updating LiveData objects.
 */
internal fun CoroutineScope.launchMain(block: suspend (CoroutineScope) -> Unit) =
    this.launch(Dispatchers.Main) {
        block(this)
    }


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/coroutine/ObserverUtil.kt
================================================
package com.likeminds.feed.android.core.utils.coroutine

import android.util.Log
import androidx.lifecycle.*
import kotlinx.coroutines.Job
import kotlinx.coroutines.flow.Flow
import kotlinx.coroutines.launch

internal class FlowObserver<T>(
    lifecycleOwner: LifecycleOwner,
    private val flow: Flow<T>,
    private val collector: suspend (T) -> Unit
) {

    private var job: Job? = null

    init {
        lifecycleOwner.lifecycle.addObserver(LifecycleEventObserver { source: LifecycleOwner, event: Lifecycle.Event ->
            when (event) {
                Lifecycle.Event.ON_START -> {
                    job = source.lifecycleScope.launch {
                        flow.collect { collector(it) }
                    }
                }

                Lifecycle.Event.ON_STOP -> {
                    job?.cancel()
                    job = null
                }

                else -> {
                    Log.d("Flow", "flow lifecycle event: $event")
                }
            }
        })
    }
}

internal inline fun <reified T> Flow<T>.observeOnLifecycle(
    lifecycleOwner: LifecycleOwner,
    noinline collector: suspend (T) -> Unit
) = FlowObserver(lifecycleOwner, this, collector)

internal inline fun <reified T> Flow<T>.observeInLifecycle(
    lifecycleOwner: LifecycleOwner
) = FlowObserver(lifecycleOwner, this, {})


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/feed/LMFeedBaseListViewFragment.kt
================================================
package com.likeminds.feed.android.core.utils.feed

import androidx.fragment.app.Fragment

abstract class LMFeedBaseListViewFragment : Fragment()


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/feed/LMFeedBaseThemeFragment.kt
================================================
package com.likeminds.feed.android.core.utils.feed

import androidx.fragment.app.Fragment

abstract class LMFeedBaseThemeFragment : Fragment()


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/feed/LMFeedPostSeenUtil.kt
================================================
package com.likeminds.feed.android.core.utils.feed

import android.util.Log
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.likemindsfeed.post.model.SeenPost

object LMFeedPostSeenUtil {
    private val seenPost = HashMap<String, SeenPost>()

    // insert post seen by user to the hashmap
    fun insertSeenPost(post: LMFeedPostViewData, seenAt: Long) {
        val postId = post.id

        val postSeenByUser = SeenPost.Builder()
            .postId(postId)
            .seenAt(seenAt)
            .build()

        seenPost[postId] = postSeenByUser
    }

    // get all seen posts by user from hashmap
    fun getAllSeenPosts(): List<SeenPost> {
        return seenPost.map {
            it.value
        }
    }

    //clear the hashmap
    fun clearSeenPost() {
        seenPost.clear()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/feed/LMFeedType.kt
================================================
package com.likeminds.feed.android.core.utils.feed

enum class LMFeedType(val value: String) {
    PERSONALISED_FEED("personalised_feed"),
    UNIVERSAL_FEED("universal_feed")
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/generator/LMFeedColorGenerator.kt
================================================
package com.likeminds.feed.android.core.utils.generator

import kotlin.math.abs

internal class LMFeedColorGenerator private constructor(private val mColors: List<Int>) {
    companion object {
        var DEFAULT: LMFeedColorGenerator
        var MATERIAL: LMFeedColorGenerator
        fun create(colorList: List<Int>): LMFeedColorGenerator {
            return LMFeedColorGenerator(colorList)
        }

        init {
            DEFAULT = create(
                listOf(
                    -0xe9c9c,
                    -0xa7aa7,
                    -0x65bc2,
                    -0x1b39d2,
                    -0x98408c,
                    -0xa65d42,
                    -0xdf6c33,
                    -0x529d59,
                    -0x7fa87f
                )
            )
            MATERIAL = create(
                listOf(
                    -0x1a8c8d,
                    -0xf9d6e,
                    -0x459738,
                    -0x6a8a33,
                    -0x867935,
                    -0x9b4a0a,
                    -0xb03c09,
                    -0xb22f1f,
                    -0xb24954,
                    -0x7e387c,
                    -0x512a7f,
                    -0x759b,
                    -0x2b1ea9,
                    -0x2ab1,
                    -0x48b3,
                    -0x5e7781,
                    -0x6f5b52
                )
            )
        }
    }

    fun getColor(key: Any): Int {
        return mColors[abs(key.hashCode()) % mColors.size]
    }

}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/generator/LMFeedTextDrawable.kt
================================================
package com.likeminds.feed.android.core.utils.generator

import android.graphics.*
import android.graphics.drawable.ShapeDrawable
import android.graphics.drawable.shapes.*
import java.util.*

class LMFeedTextDrawable private constructor(builder: Builder) : ShapeDrawable(builder.shape) {
    private val textPaint: Paint
    private val borderPaint: Paint
    private val text: String
    private val color: Int
    private val shape: RectShape
    private val height: Int
    private val width: Int
    private val fontSize: Int
    private val radius: Float
    private val borderThickness: Int
    private fun getDarkerShade(color: Int): Int {
        return Color.rgb(
            (SHADE_FACTOR * Color.red(color)).toInt(),
            (SHADE_FACTOR * Color.green(color)).toInt(),
            (SHADE_FACTOR * Color.blue(color)).toInt()
        )
    }

    override fun draw(canvas: Canvas) {
        super.draw(canvas)
        val r = bounds


        // draw border
        if (borderThickness > 0) {
            drawBorder(canvas)
        }
        val count = canvas.save()
        canvas.translate(r.left.toFloat(), r.top.toFloat())

        // draw text
        val width = if (width < 0) r.width() else width
        val height = if (height < 0) r.height() else height
        val fontSize = if (fontSize < 0) Math.min(width, height) / 2 else fontSize
        textPaint.textSize = fontSize.toFloat()
        canvas.drawText(
            text,
            (width / 2).toFloat(),
            height / 2 - (textPaint.descent() + textPaint.ascent()) / 2,
            textPaint
        )
        canvas.restoreToCount(count)
    }

    private fun drawBorder(canvas: Canvas) {
        val rect = RectF(bounds)
        rect.inset((borderThickness / 2).toFloat(), (borderThickness / 2).toFloat())
        if (shape is OvalShape) {
            canvas.drawOval(rect, borderPaint)
        } else if (shape is RoundRectShape) {
            canvas.drawRoundRect(rect, radius, radius, borderPaint)
        } else {
            canvas.drawRect(rect, borderPaint)
        }
    }

    override fun setAlpha(alpha: Int) {
        textPaint.alpha = alpha
    }

    override fun setColorFilter(cf: ColorFilter?) {
        textPaint.colorFilter = cf
    }

    @Suppress("OVERRIDE_DEPRECATION")
    override fun getOpacity(): Int {
        return PixelFormat.TRANSLUCENT
    }

    override fun getIntrinsicWidth(): Int {
        return width
    }

    override fun getIntrinsicHeight(): Int {
        return height
    }

    class Builder : IConfigBuilder, IShapeBuilder, IBuilder {
        var text = ""
        var color: Int
        var borderThickness: Int
        var width: Int
        var height: Int
        var font: Typeface
        var shape: RectShape
        var textColor: Int
        var fontSize: Int
        var isBold: Boolean
        var toUpperCase: Boolean
        var radius = 0f
        override fun width(width: Int): IConfigBuilder {
            this.width = width
            return this
        }

        override fun height(height: Int): IConfigBuilder {
            this.height = height
            return this
        }

        override fun textColor(color: Int): IConfigBuilder {
            textColor = color
            return this
        }

        override fun withBorder(thickness: Int): IConfigBuilder {
            borderThickness = thickness
            return this
        }

        override fun useFont(font: Typeface): IConfigBuilder {
            this.font = font
            return this
        }

        override fun fontSize(size: Int): IConfigBuilder {
            fontSize = size
            return this
        }

        override fun bold(): IConfigBuilder {
            isBold = true
            return this
        }

        override fun toUpperCase(): IConfigBuilder {
            toUpperCase = true
            return this
        }

        override fun beginConfig(): IConfigBuilder {
            return this
        }

        override fun endConfig(): IShapeBuilder {
            return this
        }

        override fun rect(): IBuilder {
            shape = RectShape()
            return this
        }

        override fun round(): IBuilder {
            shape = OvalShape()
            return this
        }

        override fun roundRect(radius: Int): IBuilder {
            this.radius = radius.toFloat()
            val radii = floatArrayOf(
                radius.toFloat(),
                radius.toFloat(),
                radius.toFloat(),
                radius.toFloat(),
                radius.toFloat(),
                radius.toFloat(),
                radius.toFloat(),
                radius.toFloat()
            )
            shape = RoundRectShape(radii, null, null)
            return this
        }

        override fun buildRect(text: String, color: Int): LMFeedTextDrawable {
            rect()
            return build(text, color)
        }

        override fun buildRoundRect(text: String, color: Int, radius: Int): LMFeedTextDrawable {
            roundRect(radius)
            return build(text, color)
        }

        override fun buildRound(text: String, color: Int): LMFeedTextDrawable {
            round()
            return build(text, color)
        }

        override fun build(text: String, color: Int): LMFeedTextDrawable {
            this.color = color
            this.text = text
            return LMFeedTextDrawable(this)
        }

        init {
            color = Color.GRAY
            textColor = Color.WHITE
            borderThickness = 0
            width = -1
            height = -1
            shape = RectShape()
            font = Typeface.create("sans-serif-light", Typeface.NORMAL)
            fontSize = -1
            isBold = false
            toUpperCase = false
        }
    }

    interface IConfigBuilder {
        fun width(width: Int): IConfigBuilder
        fun height(height: Int): IConfigBuilder
        fun textColor(color: Int): IConfigBuilder
        fun withBorder(thickness: Int): IConfigBuilder
        fun useFont(font: Typeface): IConfigBuilder
        fun fontSize(size: Int): IConfigBuilder
        fun bold(): IConfigBuilder
        fun toUpperCase(): IConfigBuilder
        fun endConfig(): IShapeBuilder
    }

    interface IBuilder {
        fun build(text: String, color: Int): LMFeedTextDrawable
    }

    interface IShapeBuilder {
        fun beginConfig(): IConfigBuilder
        fun rect(): IBuilder
        fun round(): IBuilder
        fun roundRect(radius: Int): IBuilder
        fun buildRect(text: String, color: Int): LMFeedTextDrawable
        fun buildRoundRect(text: String, color: Int, radius: Int): LMFeedTextDrawable
        fun buildRound(text: String, color: Int): LMFeedTextDrawable
    }

    companion object {
        private const val SHADE_FACTOR = 0.9f
        fun builder(): IShapeBuilder {
            return Builder()
        }
    }

    init {
        // shape properties
        shape = builder.shape
        height = builder.height
        width = builder.width
        radius = builder.radius

        // text and color
        text =
            if (builder.toUpperCase) builder.text.uppercase(Locale.getDefault()) else builder.text
        color = builder.color

        // text paint settings
        fontSize = builder.fontSize
        textPaint = Paint()
        textPaint.color = builder.textColor
        textPaint.isAntiAlias = true
        textPaint.isFakeBoldText = builder.isBold
        textPaint.style = Paint.Style.FILL
        textPaint.typeface = builder.font
        textPaint.textAlign = Paint.Align.CENTER
        textPaint.strokeWidth = builder.borderThickness.toFloat()

        // border paint settings
        borderThickness = builder.borderThickness
        borderPaint = Paint()
        borderPaint.color = getDarkerShade(color)
        borderPaint.style = Paint.Style.STROKE
        borderPaint.strokeWidth = borderThickness.toFloat()

        // drawable paint color
        val paint = paint
        paint.color = color
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/link/LMFeedLinkMovementMethod.kt
================================================
package com.likeminds.feed.android.core.utils.link

import android.text.Spannable
import android.text.method.LinkMovementMethod
import android.text.style.URLSpan
import android.view.MotionEvent
import android.widget.TextView

class LMFeedLinkMovementMethod(private val onLinkClickListener: LMFeedOnLinkClickListener) :
    LinkMovementMethod() {

    override fun onTouchEvent(widget: TextView, buffer: Spannable, event: MotionEvent): Boolean {
        val action = event.action

        if (action == MotionEvent.ACTION_UP) {
            var x = event.x.toInt()
            var y = event.y.toInt()
            x -= widget.totalPaddingLeft
            y -= widget.totalPaddingTop
            x += widget.scrollX
            y += widget.scrollY
            val layout = widget.layout
            val line = layout.getLineForVertical(y)
            val off = layout.getOffsetForHorizontal(line, x.toFloat())
            val link = buffer.getSpans(off, off, URLSpan::class.java)
            if (link.isNotEmpty()) {
                val url = link[0].url
                return onLinkClickListener.onLinkClicked(url)
            }
        }
        return super.onTouchEvent(widget, buffer, event)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/link/LMFeedOnLinkClickListener.kt
================================================
package com.likeminds.feed.android.core.utils.link

fun interface LMFeedOnLinkClickListener {
    fun onLinkClicked(url: String): Boolean
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/listeners/LMFeedMenuItemClickListener.kt
================================================
package com.likeminds.feed.android.core.utils.listeners

fun interface LMFeedMenuItemClickListener {
    fun onMenuItemClicked(itemId: Int)
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/listeners/LMFeedOnClickListener.kt
================================================
package com.likeminds.feed.android.core.utils.listeners

fun interface LMFeedOnClickListener {
    fun onClick()
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/listeners/LMFeedOnTaggedMemberClickListener.kt
================================================
package com.likeminds.feed.android.core.utils.listeners

fun interface LMFeedOnTaggedMemberClickListener {
    fun onMemberTaggedClicked(uuid: String)
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/mediauploader/LMFeedMediaUploadWorker.kt
================================================
package com.likeminds.feed.android.core.utils.mediauploader

import android.content.Context
import androidx.work.*
import com.likeminds.feed.android.core.LMFeedCoreApplication
import com.likeminds.feed.android.core.utils.mediauploader.model.*
import com.likeminds.feed.android.core.utils.mediauploader.utils.LMFeedWorkerUtil.getIntOrNull
import com.likeminds.feed.android.core.utils.mediauploader.utils.LMFeedWorkerUtil.getLongOrNull
import com.likeminds.likemindsfeed.LMFeedClient
import com.likeminds.likemindsfeed.post.model.Attachment
import com.likeminds.likemindsfeed.post.util.AttachmentUtil.getAttachmentValue
import kotlinx.coroutines.Dispatchers
import kotlinx.coroutines.withContext
import kotlin.coroutines.*

abstract class LMFeedMediaUploadWorker(
    appContext: Context,
    private val params: WorkerParameters
) : CoroutineWorker(appContext, params) {

    protected val transferUtility by lazy { LMFeedCoreApplication.getTransferUtility(appContext) }
    protected val lmFeedClient by lazy { LMFeedClient.getInstance() }

    private val progressMap by lazy { HashMap<Int, Pair<Long, Long>>() }
    protected var uploadedCount = 0
    protected val failedIndex by lazy { ArrayList<Int>() }
    protected lateinit var uploadList: ArrayList<LMFeedGenericFileRequest>

    abstract fun checkArgs()
    abstract fun init()
    abstract fun uploadFiles(continuation: Continuation<Int>)

    companion object {
        const val ARG_MEDIA_INDEX_LIST = "ARG_MEDIA_INDEX_LIST"
        const val ARG_PROGRESS = "ARG_PROGRESS"

        fun getProgress(workInfo: WorkInfo): Pair<Long, Long>? {
            val progress = workInfo.progress.getLongArray(ARG_PROGRESS)
            if (progress == null || progress.size != 2) {
                return null
            }
            return Pair(progress[0], progress[1])
        }
    }

    override suspend fun doWork(): Result {
        try {
            checkArgs()
            init()
        } catch (e: Exception) {
            e.printStackTrace()
            return Result.failure()
        }
        return withContext(Dispatchers.IO) {
            val result = suspendCoroutine<Int> { continuation ->
                uploadFiles(continuation)
            }
            return@withContext when (result) {
                WORKER_SUCCESS -> {
                    Result.success()
                }

                WORKER_RETRY -> {
                    Result.retry()
                }

                WORKER_FAILURE -> {
                    getFailureResult(failedIndex.toIntArray())
                }

                else -> {
                    getFailureResult(failedIndex.toIntArray())
                }
            }
        }
    }

    private fun getFailureResult(failedArrayIndex: IntArray = IntArray(0)): Result {
        return Result.failure(
            Data.Builder()
                .putIntArray(ARG_MEDIA_INDEX_LIST, failedArrayIndex)
                .build()
        )
    }

    protected fun setProgress(id: Int, bytesCurrent: Long, bytesTotal: Long) {
        progressMap[id] = Pair(bytesCurrent, bytesTotal)
        var averageBytesCurrent = 0L
        var averageBytesTotal = 0L
        progressMap.values.forEach {
            averageBytesCurrent += it.first
            averageBytesTotal += it.second
        }
        if (averageBytesCurrent > 0L && averageBytesTotal > 0L) {
            setProgressAsync(
                Data.Builder()
                    .putLongArray(ARG_PROGRESS, longArrayOf(averageBytesCurrent, averageBytesTotal))
                    .build()
            )
        }
    }

    fun require(key: String) {
        if (!containsParam(key)) {
            throw Error("$key is required")
        }
    }

    protected fun getLongParam(key: String): Long {
        return params.inputData.getLongOrNull(key)
            ?: throw Error("$key is required")
    }

    protected fun getIntParam(key: String): Int {
        return params.inputData.getIntOrNull(key)
            ?: throw Error("$key is required")
    }

    private fun containsParam(key: String): Boolean {
        return params.inputData.keyValueMap.containsKey(key)
    }

    protected fun createAWSRequestList(
        attachmentsToUpload: List<Attachment>?
    ): ArrayList<LMFeedGenericFileRequest> {
        val awsFileRequestList = ArrayList<LMFeedGenericFileRequest>()
        attachmentsToUpload?.mapIndexed { index, attachment ->
            val attachmentMeta = attachment.attachmentMeta
            val request = LMFeedGenericFileRequest.Builder()
                .name(attachmentMeta.name)
                .fileType(attachment.attachmentType.getAttachmentValue())
                .awsFolderPath(attachmentMeta.awsFolderPath!!)
                .localFilePath(attachmentMeta.localFilePath)
                .index(index)
                .pageCount(attachmentMeta.pageCount)
                .duration(attachmentMeta.duration)
                .size(attachmentMeta.size)
                .build()
            awsFileRequestList.add(request)
        }
        return awsFileRequestList
    }

    protected fun checkWorkerComplete(
        totalFilesToUpload: Int,
        continuation: Continuation<Int>
    ) {
        if (totalFilesToUpload == uploadedCount + failedIndex.size) {
            if (totalFilesToUpload == uploadedCount) {
                continuation.resume(WORKER_SUCCESS)
            } else {
                continuation.resume(WORKER_FAILURE)
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/mediauploader/model/LMFeedAWSFileResponse.kt
================================================
package com.likeminds.feed.android.core.utils.mediauploader.model

import android.util.Base64
import com.amazonaws.mobileconnectors.s3.transferutility.TransferObserver
import com.likeminds.feed.android.core.utils.mediauploader.utils.LMFeedAWSKeys

class LMFeedAWSFileResponse private constructor(
    var name: String,
    var awsFolderPath: String,
    var transferObserver: TransferObserver?,
    var index: Int,
    var fileType: Int,
    var width: Int?,
    var height: Int?,
    var pageCount: Int?,
    var size: Long?,
    var duration: Int?,
    var uuid: String?
) {
    val downloadUrl: String
        get() = String(
            Base64.decode(
                LMFeedAWSKeys.getBucketBaseUrl(),
                Base64.DEFAULT
            )
        ) + awsFolderPath

    class Builder {

        private var name: String = ""
        private var awsFolderPath: String = ""
        private var transferObserver: TransferObserver? = null
        private var index: Int = 0
        private var fileType: Int = 0
        private var width: Int? = null
        private var height: Int? = null
        private var pageCount: Int? = null
        private var size: Long? = null
        private var duration: Int? = null
        private var uuid: String? = null

        fun name(name: String) = apply { this.name = name }
        fun awsFolderPath(awsFolderPath: String) = apply { this.awsFolderPath = awsFolderPath }
        fun transferObserver(transferObserver: TransferObserver?) =
            apply { this.transferObserver = transferObserver }

        fun index(index: Int) = apply { this.index = index }
        fun fileType(fileType: Int) = apply { this.fileType = fileType }
        fun width(width: Int?) = apply { this.width = width }
        fun height(height: Int?) = apply { this.height = height }
        fun pageCount(pageCount: Int?) = apply { this.pageCount = pageCount }
        fun size(size: Long?) = apply { this.size = size }
        fun duration(duration: Int?) = apply { this.duration = duration }
        fun uuid(uuid: String?) = apply { this.uuid = uuid }

        fun build() = LMFeedAWSFileResponse(
            name,
            awsFolderPath,
            transferObserver,
            index,
            fileType,
            width,
            height,
            pageCount,
            size,
            duration,
            uuid
        )
    }

    fun toBuilder(): Builder {
        return Builder().name(name)
            .awsFolderPath(awsFolderPath)
            .transferObserver(transferObserver)
            .index(index)
            .fileType(fileType)
            .width(width)
            .height(height)
            .pageCount(pageCount)
            .size(size)
            .duration(duration)
            .uuid(uuid)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/mediauploader/model/LMFeedGenericFileRequest.kt
================================================
package com.likeminds.feed.android.core.utils.mediauploader.model

import android.net.Uri

class LMFeedGenericFileRequest private constructor(
    var name: String?,
    var fileUri: Uri?,
    var fileType: Int,
    var awsFolderPath: String,
    var localFilePath: String?,
    var index: Int,
    var width: Int?,
    var height: Int?,
    var pageCount: Int?,
    var size: Long?,
    var duration: Int?
) {

    class Builder {

        private var name: String? = null
        private var fileUri: Uri? = null
        private var fileType: Int = 1
        private var awsFolderPath: String = ""
        private var localFilePath: String? = null
        private var index: Int = 0
        private var width: Int? = null
        private var height: Int? = null
        private var pageCount: Int? = null
        private var size: Long? = null
        private var duration: Int? = null

        fun name(name: String?) = apply { this.name = name }
        fun fileUri(fileUri: Uri?) = apply { this.fileUri = fileUri }
        fun fileType(fileType: Int) = apply { this.fileType = fileType }
        fun awsFolderPath(awsFolderPath: String) = apply { this.awsFolderPath = awsFolderPath }
        fun localFilePath(localFilePath: String?) = apply { this.localFilePath = localFilePath }
        fun index(index: Int) = apply { this.index = index }
        fun width(width: Int?) = apply { this.width = width }
        fun height(height: Int?) = apply { this.height = height }
        fun pageCount(pageCount: Int?) = apply { this.pageCount = pageCount }
        fun size(size: Long?) = apply { this.size = size }
        fun duration(duration: Int?) = apply { this.duration = duration }

        fun build() = LMFeedGenericFileRequest(
            name,
            fileUri,
            fileType,
            awsFolderPath,
            localFilePath,
            index,
            width,
            height,
            pageCount,
            size,
            duration
        )
    }

    fun toBuilder(): Builder {
        return Builder().name(name)
            .fileUri(fileUri)
            .fileType(fileType)
            .awsFolderPath(awsFolderPath)
            .localFilePath(localFilePath)
            .index(index)
            .width(width)
            .height(height)
            .pageCount(pageCount)
            .size(size)
            .duration(duration)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/mediauploader/model/LMFeedWorkerContinuationType.kt
================================================
package com.likeminds.feed.android.core.utils.mediauploader.model

import androidx.annotation.IntDef

const val WORKER_SUCCESS = 1
const val WORKER_RETRY = 2
const val WORKER_FAILURE = 3

@IntDef(
    WORKER_SUCCESS,
    WORKER_RETRY,
    WORKER_FAILURE
)

@Retention(AnnotationRetention.SOURCE)
annotation class LMFeedWorkerContinuationType


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/mediauploader/utils/LMFeedAWSKeys.kt
================================================
package com.likeminds.feed.android.core.utils.mediauploader.utils

import com.likeminds.feed.android.core.BuildConfig

class LMFeedAWSKeys {

    companion object {

        fun getIdentityPoolId(): String {
            return if (BuildConfig.DEBUG) {
                DebugKeys.IDENTITY_POOL_ID
            } else {
                ProdKeys.IDENTITY_POOL_ID
            }
        }

        fun getBucketName(): String {
            return if (BuildConfig.DEBUG) {
                DebugKeys.BUCKET_NAME
            } else {
                ProdKeys.BUCKET_NAME
            }
        }

        fun getBucketBaseUrl(): String {
            return if (BuildConfig.DEBUG) {
                DebugKeys.BUCKET_BASE_URL
            } else {
                ProdKeys.BUCKET_BASE_URL
            }
        }

        class DebugKeys {
            companion object {
                const val IDENTITY_POOL_ID =
                    "YXAtc291dGgtMToxODE5NjNiYS1mMmRiLTQ1MGItODE5OS05NjRhOTQxYjM4YzI="
                const val BUCKET_NAME = "YmV0YS1saWtlbWluZHMtbWVkaWE="
                const val BUCKET_BASE_URL =
                    "aHR0cHM6Ly9iZXRhLWxpa2VtaW5kcy1tZWRpYS5zMy5hbWF6b25hd3MuY29tLw=="
            }
        }

        class ProdKeys {
            companion object {
                const val IDENTITY_POOL_ID =
                    "YXAtc291dGgtMTpkNzNiYzJlZC1iZWRlLTQyYzgtYmFiNy0wYWJlMGEwMDEzMjU="
                const val BUCKET_NAME = "cHJvZC1saWtlbWluZHMtbWVkaWE="
                const val BUCKET_BASE_URL =
                    "aHR0cHM6Ly9wcm9kLWxpa2VtaW5kcy1tZWRpYS5zMy5hbWF6b25hd3MuY29tLw=="
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/mediauploader/utils/LMFeedUploadHelper.kt
================================================
package com.likeminds.feed.android.core.utils.mediauploader.utils

import com.likeminds.feed.android.core.utils.mediauploader.model.LMFeedAWSFileResponse

class LMFeedUploadHelper {

    companion object {
        private var uploadHelperInstance: LMFeedUploadHelper? = null

        @JvmStatic
        fun getInstance(): LMFeedUploadHelper {
            if (uploadHelperInstance == null)
                uploadHelperInstance = LMFeedUploadHelper()
            return uploadHelperInstance!!
        }
    }

    private val awsFileResponses: ArrayList<LMFeedAWSFileResponse> = arrayListOf()

    fun addAWSFileResponse(awsFileResponse: LMFeedAWSFileResponse) {
        awsFileResponses.add(awsFileResponse)
    }

    fun removeAWSFileResponse(awsFileResponse: LMFeedAWSFileResponse) {
        awsFileResponses.remove(awsFileResponse)
    }

    fun getAWSFileResponse(awsFolderPath: String?): LMFeedAWSFileResponse? {
        if (awsFolderPath == null)
            return null
        for (awsFileResponse in awsFileResponses) {
            if (awsFileResponse.awsFolderPath == awsFolderPath)
                return awsFileResponse
        }
        return null
    }
}



================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/mediauploader/utils/LMFeedWorkerUtil.kt
================================================
package com.likeminds.feed.android.core.utils.mediauploader.utils

import androidx.work.Data

object LMFeedWorkerUtil {
    fun Data.getIntOrNull(key: String): Int? {
        val id = getInt(key, -1)
        return if (id == -1) {
            null
        } else {
            id
        }
    }

    fun Data.getLongOrNull(key: String): Long? {
        val id = getLong(key, -1)
        return if (id == -1L) {
            null
        } else {
            id
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/membertagging/MemberTaggingUtil.kt
================================================
package com.likeminds.feed.android.core.utils.membertagging

import com.likeminds.likemindsfeed.sdk.model.User
import com.likeminds.usertagging.model.TagUser
import com.likeminds.usertagging.view.UserTaggingSuggestionListView

object MemberTaggingUtil {

    /**
     * handles result and set result to [memberTagging] view as per [page]
     * */
    fun setMembersInView(
        memberTagging: UserTaggingSuggestionListView,
        result: Pair<Int, ArrayList<TagUser>>?
    ) {
        if (result != null) {
            val page = result.first
            val list = result.second
            if (page == 1) {
                //clear and set in adapter
                memberTagging.setMembers(list)
            } else {
                //add to the adapter
                memberTagging.addMembers(list)
            }
        } else {
            return
        }
    }

    //converts list of network model [User] to list of the tagging library model [TagUser]
    fun convertToTagUser(users: List<User>): List<TagUser> {
        return users.map { user ->
            TagUser.Builder()
                .id(user.id)
                .name(user.name)
                .imageUrl(user.imageUrl)
                .uuid(user.uuid)
                .build()
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/model/LMFeedPadding.kt
================================================
package com.likeminds.feed.android.core.utils.model

import androidx.annotation.DimenRes
import androidx.annotation.Keep

@Keep
data class LMFeedPadding(
    @DimenRes val paddingLeft: Int,
    @DimenRes val paddingTop: Int,
    @DimenRes val paddingRight: Int,
    @DimenRes val paddingBottom: Int
)


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/pluralize/LMFeedPluralize.kt
================================================
package com.likeminds.feed.android.core.utils.pluralize

import com.likeminds.feed.android.core.utils.pluralize.LMFeedPluralizeRules.exceptions
import com.likeminds.feed.android.core.utils.pluralize.LMFeedPluralizeRules.pluralizeRules
import com.likeminds.feed.android.core.utils.pluralize.LMFeedPluralizeRules.singularizeRules
import com.likeminds.feed.android.core.utils.pluralize.LMFeedPluralizeRules.unCountable
import java.util.Locale
import java.util.regex.Pattern
import kotlin.math.abs

object LMFeedPluralize {
    fun String.pluralize(count: Int = 2): String {
        return if (abs(count) != 1)
            this.pluralizer()
        else
            this.singularizer()
    }

    fun String.singularize(count: Int = 1): String = pluralize(count)

    private fun String.pluralizer(): String {
        if (unCountable().contains(this.lowercase(Locale.getDefault()))) return this
        val rule = pluralizeRules().last {
            Pattern.compile(it.component1(), Pattern.CASE_INSENSITIVE).matcher(this).find()
        }
        var found = Pattern.compile(rule.component1(), Pattern.CASE_INSENSITIVE).matcher(this)
            .replaceAll(rule.component2())
        val endsWith = exceptions().firstOrNull { this.endsWith(it.component1()) }
        if (endsWith != null) found = this.replace(endsWith.component1(), endsWith.component2())
        val exception = exceptions().firstOrNull { this.equals(it.component1(), true) }
        if (exception != null) found = exception.component2()
        return found
    }

    private fun String.singularizer(): String {
        if (unCountable().contains(this.lowercase(Locale.getDefault()))) {
            return this
        }
        val exceptions = exceptions().firstOrNull { this.equals(it.component2(), true) }

        if (exceptions != null) {
            return exceptions.component1()
        }
        val endsWith = exceptions().firstOrNull { this.endsWith(it.component2()) }

        if (endsWith != null) return this.replace(endsWith.component2(), endsWith.component1())

        try {
            if (singularizeRules().count {
                    Pattern.compile(it.component1(), Pattern.CASE_INSENSITIVE).matcher(this).find()
                } == 0) return this
            val rule = singularizeRules().last {
                Pattern.compile(it.component1(), Pattern.CASE_INSENSITIVE).matcher(this).find()
            }
            return Pattern.compile(rule.component1(), Pattern.CASE_INSENSITIVE).matcher(this)
                .replaceAll(rule.component2())
        } catch (ex: IllegalArgumentException) {
            Exception("Can't singularize this word, could not find a rule to match.")
        }
        return this
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/pluralize/LMFeedPluralizeRules.kt
================================================
package com.likeminds.feed.android.core.utils.pluralize

object LMFeedPluralizeRules {
    fun singularizeRules(): List<Pair<String, String>> {
        return listOf(
            "s$" to "",
            "(s|si|u)s$" to "$1s",
            "(n)ews$" to "$1ews",
            "([ti])a$" to "$1um",
            "((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$" to "$1$2sis",
            "(^analy)ses$" to "$1sis",
            "(^analy)sis$" to "$1sis",
            "([^f])ves$" to "$1fe",
            "(hive)s$" to "$1",
            "(tive)s$" to "$1",
            "([lr])ves$" to "$1f",
            "([^aeiouy]|qu)ies$" to "$1y",
            "(s)eries$" to "$1eries",
            "(m)ovies$" to "$1ovie",
            "(x|ch|ss|sh)es$" to "$1",
            "([m|l])ice$" to "$1ouse",
            "(bus)es$" to "$1",
            "(o)es$" to "$1",
            "(shoe)s$" to "$1",
            "(cris|ax|test)is$" to "$1is",
            "(cris|ax|test)es$" to "$1is",
            "(octop|vir)i$" to "$1us",
            "(octop|vir)us$" to "$1us",
            "(alias|status)es$" to "$1",
            "(alias|status)$" to "$1",
            "^(ox)en" to "$1",
            "(vert|ind)ices$" to "$1ex",
            "(matr)ices$" to "$1ix",
            "(quiz)zes$" to "$1",
            "a$" to "um",
            "i$" to "us",
            "ae$" to "a"
        )
    }

    fun pluralizeRules(): List<Pair<String, String>> {
        return listOf(
            "$" to "s",
            "s$" to "s",
            "(ax|test)is$" to "$1es",
            "us$" to "i",
            "(octop|vir)us$" to "$1i",
            "(octop|vir)i$" to "$1i",
            "(alias|status)$" to "$1es",
            "(bu)s$" to "$1ses",
            "(buffal|tomat)o$" to "$1oes",
            "([ti])um$" to "$1a",
            "([ti])a$" to "$1a",
            "sis$" to "ses",
            "(,:([^f])fe|([lr])f)$" to "$1$2ves",
            "(hive)$" to "$1s",
            "([^aeiouy]|qu)y$" to "$1ies",
            "(x|ch|ss|sh)$" to "$1es",
            "(matr|vert|ind)ix|ex$" to "$1ices",
            "([m|l])ouse$" to "$1ice",
            "([m|l])ice$" to "$1ice",
            "^(ox)$" to "$1en",
            "(quiz)$" to "$1zes",
            "f$" to "ves",
            "fe$" to "ves",
            "um$" to "a",
            "on$" to "a",
            "tion" to "tions",
            "sion" to "sions"
        )
    }

    fun unCountable(): List<String> {
        return listOf(
            "equipment", "information", "rice", "money",
            "species", "series", "fish", "sheep", "aircraft", "bison",
            "flounder", "pliers", "bream",
            "gallows", "proceedings", "breeches", "graffiti", "rabies",
            "britches", "headquarters", "salmon", "carp", "herpes",
            "scissors", "chassis", "high-jinks", "sea-bass", "clippers",
            "homework", "cod", "innings", "shears",
            "contretemps", "jackanapes", "corps", "mackerel",
            "swine", "debris", "measles", "trout", "diabetes", "mews",
            "tuna", "djinn", "mumps", "whiting", "eland", "news",
            "wildebeest", "elk", "pincers", "sugar"
        )
    }

    fun exceptions(): List<Pair<String, String>> {
        return listOf(
            "person" to "people",
            "man" to "men",
            "goose" to "geese",
            "child" to "children",
            "sex" to "sexes",
            "move" to "moves",
            "stadium" to "stadiums",
            "deer" to "deer",
            "codex" to "codices",
            "murex" to "murices",
            "silex" to "silices",
            "radix" to "radices",
            "helix" to "helices",
            "alumna" to "alumnae",
            "alga" to "algae",
            "vertebra" to "vertebrae",
            "persona" to "personae",
            "stamen" to "stamina",
            "foramen" to "foramina",
            "lumen" to "lumina",
            "afreet" to "afreeti",
            "afrit" to "afriti",
            "efreet" to "efreeti",
            "cherub" to "cherubim",
            "goy" to "goyim",
            "human" to "humans",
            "lumen" to "lumina",
            "seraph" to "seraphim",
            "Alabaman" to "Alabamans",
            "Bahaman" to "Bahamans",
            "Burman" to "Burmans",
            "German" to "Germans",
            "Hiroshiman" to "Hiroshimans",
            "Liman" to "Limans",
            "Nakayaman" to "Nakayamans",
            "Oklahoman" to "Oklahomans",
            "Panaman" to "Panamans",
            "Selman" to "Selmans",
            "Sonaman" to "Sonamans",
            "Tacoman" to "Tacomans",
            "Yakiman" to "Yakimans",
            "Yokohaman" to "Yokohamans",
            "Yuman" to "Yumans", "criterion" to "criteria",
            "perihelion" to "perihelia",
            "aphelion" to "aphelia",
            "phenomenon" to "phenomena",
            "prolegomenon" to "prolegomena",
            "noumenon" to "noumena",
            "organon" to "organa",
            "asyndeton" to "asyndeta",
            "hyperbaton" to "hyperbata",
            "foot" to "feet"
        )
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/pluralize/model/LMFeedWordAction.kt
================================================
package com.likeminds.feed.android.core.utils.pluralize.model

enum class LMFeedWordAction {
    FIRST_LETTER_CAPITAL_SINGULAR,
    ALL_CAPITAL_SINGULAR,
    ALL_SMALL_SINGULAR,
    FIRST_LETTER_CAPITAL_PLURAL,
    ALL_CAPITAL_PLURAL,
    ALL_SMALL_PLURAL,
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/sharedpreferences/LMFeedBasePreferences.kt
================================================
package com.likeminds.feed.android.core.utils.sharedpreferences

import android.content.Context
import android.content.SharedPreferences

abstract class LMFeedBasePreferences(
    prefName: String,
    context: Context
) {

    companion object {
        const val LM_FEED_MASTER_PREF = "LM_FEED_MASTER_PREF"
        const val LM_FEED_ALL_PREFS_SET = "LM_FEED_ALL_PREFS_SET"
    }

    init {
        val masterPref: SharedPreferences =
            context.getSharedPreferences(LM_FEED_MASTER_PREF, Context.MODE_PRIVATE)
        val list = masterPref.getStringSet(LM_FEED_ALL_PREFS_SET, emptySet())
        masterPref.edit().putStringSet(LM_FEED_ALL_PREFS_SET, list!!.plus(prefName)).apply()
    }

    private val preferences: SharedPreferences =
        context.getSharedPreferences(prefName, Context.MODE_PRIVATE)

    fun putPreference(key: String, value: String) {
        preferences.edit().putString(key, value).apply()
    }

    fun getPreference(key: String, defaultVal: String): String? {
        return preferences.getString(key, defaultVal)
    }

    fun putPreference(key: String, value: Boolean) {
        preferences.edit().putBoolean(key, value).apply()
    }

    fun getPreference(key: String, defaultVal: Boolean): Boolean {
        return preferences.getBoolean(key, defaultVal)
    }

    fun clear() {
        // clear all the keys individually to notify the listeners
        val editor = preferences.edit()
        for (key in preferences.all.keys) {
            editor.remove(key)
        }
        editor.apply()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/user/LMFeedMemberRightsState.kt
================================================
package com.likeminds.feed.android.core.utils.user

import androidx.annotation.IntDef

const val MEMBER_RIGHT_CREATE_POSTS = 9
const val MEMBER_RIGHT_COMMENT_AND_REPLY_ON_POSTS = 10

@IntDef(
    MEMBER_RIGHT_CREATE_POSTS,
    MEMBER_RIGHT_COMMENT_AND_REPLY_ON_POSTS
)
@Retention(AnnotationRetention.SOURCE)
annotation class LMFeedMemberRightsState


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/user/LMFeedMemberRightsUtil.kt
================================================
package com.likeminds.feed.android.core.utils.user

import com.likeminds.feed.android.core.utils.user.LMFeedMemberState.Companion.isAdmin
import com.likeminds.feed.android.core.utils.user.LMFeedMemberState.Companion.isMember
import com.likeminds.likemindsfeed.user.model.ManagementRightPermissionData

object LMFeedMemberRightsUtil {
    // check if user has right to post or not
    fun hasCreatePostsRight(
        memberState: Int,
        memberRights: List<ManagementRightPermissionData>
    ): Boolean {
        return when {
            isAdmin(memberState) -> {
                true
            }

            (isMember(memberState) && checkHasMemberRight(
                memberRights,
                MEMBER_RIGHT_CREATE_POSTS
            )) -> {
                true
            }

            else -> {
                false
            }
        }
    }

    // check if user has right to comment or not
    fun hasCommentRight(
        memberState: Int,
        memberRights: List<ManagementRightPermissionData>
    ): Boolean {
        return when {
            isAdmin(memberState) -> {
                true
            }

            (isMember(memberState) && checkHasMemberRight(
                memberRights,
                MEMBER_RIGHT_COMMENT_AND_REPLY_ON_POSTS
            )) -> {
                true
            }

            else -> {
                false
            }
        }
    }

    /**
     * returns if the user has the queried right or not
     * @param memberRights: list of [MemberRightsEntity] for the user
     * @param rightState: queried right
     * */
    private fun checkHasMemberRight(
        memberRights: List<ManagementRightPermissionData>,
        rightState: Int,
    ): Boolean {
        var value = true
        memberRights.singleOrNull {
            it.state == rightState
        }?.let {
            value = it.isSelected
        }
        return value
    }
}



================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/user/LMFeedMemberState.kt
================================================
package com.likeminds.feed.android.core.utils.user

import androidx.annotation.IntDef

const val STATE_NOTHING = 0
const val STATE_ADMIN = 1
const val STATE_MEMBER = 4

@IntDef(
    STATE_NOTHING,
    STATE_ADMIN,
    STATE_MEMBER
)
@Retention(AnnotationRetention.SOURCE)
annotation class LMFeedMemberState {
    companion object {
        fun isAdmin(memberState: Int?): Boolean {
            return memberState == STATE_ADMIN
        }

        fun isNothing(memberState: Int?): Boolean {
            return memberState == STATE_NOTHING
        }

        fun isMember(memberState: Int?): Boolean {
            return memberState == STATE_MEMBER
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/user/LMFeedUserImageUtil.kt
================================================
package com.likeminds.feed.android.core.utils.user

import com.likeminds.feed.android.core.utils.LMFeedViewUtils
import com.likeminds.feed.android.core.utils.generator.LMFeedColorGenerator
import com.likeminds.feed.android.core.utils.generator.LMFeedTextDrawable

object LMFeedUserImageUtil {

    private val SIXTY_PX = LMFeedViewUtils.dpToPx(60)

    fun getNameDrawable(
        id: String?,
        name: String?,
        circle: Boolean? = false,
        roundRect: Boolean? = false
    ): Pair<LMFeedTextDrawable, Int> {
        val uniqueId = id ?: name ?: "LM"
        val nameCode = getNameInitial(name)
        val color = LMFeedColorGenerator.MATERIAL.getColor(uniqueId)
        val builder =
            LMFeedTextDrawable.builder().beginConfig().bold().height(SIXTY_PX).width(SIXTY_PX)
                .endConfig()
        val drawable = when {
            circle == true -> {
                builder.buildRound(nameCode, color)
            }

            roundRect == true -> {
                builder.buildRoundRect(nameCode, color, LMFeedViewUtils.dpToPx(10))
            }

            else -> {
                builder.buildRect(nameCode, color)
            }
        }
        return Pair(drawable, color)
    }

    private fun getNameInitial(
        userName: String?
    ): String {
        val name = userName?.trim()
        if (name.isNullOrEmpty()) {
            return "LM"
        }
        if (!name.contains(" ")) {
            return name[0].uppercase()
        }
        val nameParts = name.split(" ").map { it.trim() }
        return "${nameParts.first()[0].uppercase()}${nameParts.last()[0].uppercase()}"
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/user/LMFeedUserMetaData.kt
================================================
package com.likeminds.feed.android.core.utils.user

import android.content.Context
import android.util.Log
import androidx.annotation.Keep
import com.google.firebase.messaging.FirebaseMessaging
import com.likeminds.feed.android.core.LMFeedCoreApplication.Companion.LOG_TAG
import com.likeminds.feed.android.core.utils.LMFeedCommunityUtil
import com.likeminds.likemindsfeed.LMFeedClient
import com.likeminds.likemindsfeed.configuration.ConfigurationClient.Companion.COMMENT_KEY
import com.likeminds.likemindsfeed.configuration.ConfigurationClient.Companion.LIKE_ENTITY_VARIABLE_KEY
import com.likeminds.likemindsfeed.configuration.ConfigurationClient.Companion.POST_KEY
import com.likeminds.likemindsfeed.configuration.model.ConfigurationType
import com.likeminds.likemindsfeed.helper.model.RegisterDeviceRequest
import kotlinx.coroutines.*
import org.json.JSONObject

@Keep
class LMFeedUserMetaData {
    var domain: String? = null
    var enablePushNotifications: Boolean = false
    var deviceId: String? = null

    companion object {
        private var lmFeedUserMetaData: LMFeedUserMetaData? = null

        @JvmStatic
        fun getInstance(): LMFeedUserMetaData {
            if (lmFeedUserMetaData == null) {
                lmFeedUserMetaData = LMFeedUserMetaData()
            }
            return lmFeedUserMetaData!!
        }
    }

    //initializes the user meta data
    fun init(
        domain: String?,
        enablePushNotifications: Boolean,
        deviceId: String?
    ) {
        this.domain = domain
        this.enablePushNotifications = enablePushNotifications
        this.deviceId = deviceId
    }

    //perform actions post user session is initiated
    fun onPostSessionInit(
        context: Context,
        userName: String?,
        uuid: String?,
        userImage: String?
    ) {
        saveUserPreferences(
            context,
            userName,
            uuid,
            userImage
        )
        getMemberState()
        pushToken()
        getCommunityConfiguration()
    }

    //save user meta in preferences
    private fun saveUserPreferences(
        context: Context,
        userName: String?,
        uuid: String?,
        userImage: String?
    ) {
        //save details to pref
        val userPreferences = LMFeedUserPreferences(context)
        userPreferences.apply {
            saveUserName(userName ?: "")
            saveUUID(uuid ?: "")
            setUserImage(userImage ?: "")
        }
    }

    //get community configuration
    private fun getCommunityConfiguration() {
        CoroutineScope(Dispatchers.IO).launch {
            val lmFeedClient = LMFeedClient.getInstance()

            val response = lmFeedClient.getCommunityConfigurations()
            if (response.success) {
                val configurations = response.data?.configurations

                val feedMetaData = configurations?.firstOrNull {
                    it.type == ConfigurationType.FEED_METADATA
                }

                feedMetaData?.let {
                    val value = it.value

                    //check value has post key
                    if (value.has(POST_KEY)) {
                        val variable = value.getString(POST_KEY)
                        LMFeedCommunityUtil.setPostVariable(variable)
                    } else {
                        LMFeedCommunityUtil.setPostVariable(POST_KEY)
                    }

                    //check value has like key
                    if (value.has(LIKE_ENTITY_VARIABLE_KEY)) {
                        val likeEntity =
                            (value.get(LIKE_ENTITY_VARIABLE_KEY) as JSONObject)


                        if (likeEntity.has("entity_name")) {
                            LMFeedCommunityUtil.setLikeVariable(likeEntity.getString("entity_name"))
                        }

                        if (likeEntity.has("past_tense_verb")) {
                            LMFeedCommunityUtil.setLikePastTenseVariable(likeEntity.getString("past_tense_verb"))
                        }
                    }

                    //check value has comment key
                    if (value.has(COMMENT_KEY)) {
                        val variable = value.getString(COMMENT_KEY)
                        LMFeedCommunityUtil.setCommentVariable(variable)
                    } else {
                        LMFeedCommunityUtil.setCommentVariable(COMMENT_KEY)
                    }
                }
            } else {
                Log.d(LOG_TAG, "community/configuration failed -> ${response.errorMessage}")
            }
        }
    }

    //get member state
    private fun getMemberState() {
        CoroutineScope(Dispatchers.IO).launch {
            val lmFeedClient = LMFeedClient.getInstance()

            //get member state response and update the user with its rights in DB
            lmFeedClient.getMemberState().data
        }
    }

    //gets user push token and registers the token in backend
    private fun pushToken() {
        if (enablePushNotifications && !deviceId.isNullOrEmpty()) {
            try {
                FirebaseMessaging.getInstance().token.addOnCompleteListener { task ->
                    if (!task.isSuccessful) {
                        Log.w(
                            LOG_TAG,
                            "Fetching FCM registration token failed",
                            task.exception
                        )
                        return@addOnCompleteListener
                    }

                    val token = task.result.toString()
                    registerDevice(token)
                }
            } catch (e: IllegalStateException) {
                Log.w(
                    LOG_TAG,
                    "Firebase not initialized: ${e.printStackTrace()}"
                )
            }
        }
    }

    //calls register device api to register user's push token
    private fun registerDevice(token: String) {
        CoroutineScope(Dispatchers.IO).launch {
            if (!deviceId.isNullOrEmpty()) {
                val lmFeedClient = LMFeedClient.getInstance()

                //create request
                val request = RegisterDeviceRequest.Builder()
                    .deviceId(deviceId ?: "")
                    .token(token)
                    .build()

                //call api
                lmFeedClient.registerDevice(request)
            }

        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/user/LMFeedUserPreferences.kt
================================================
package com.likeminds.feed.android.core.utils.user

import android.content.Context
import com.likeminds.feed.android.core.utils.sharedpreferences.LMFeedBasePreferences
import javax.inject.Singleton

@Singleton
class LMFeedUserPreferences(
    private val context: Context
) : LMFeedBasePreferences(LM_FEED_USER_PREFS, context) {

    companion object {
        const val LM_FEED_USER_PREFS = "LM_FEED_USER_PREFS"
        const val LM_FEED_USER_NAME = "LM_FEED_USER_NAME"
        const val LM_FEED_UUID = "LM_FEED_UUID"
        const val LM_FEED_USER_IMAGE = "LM_FEED_IMAGE"
    }

    fun getUserName(): String {
        return getPreference(LM_FEED_USER_NAME, "") ?: ""
    }

    fun saveUserName(userName: String) {
        putPreference(LM_FEED_USER_NAME, userName)
    }

    fun getUUID(): String {
        return getPreference(LM_FEED_UUID, "") ?: ""
    }

    fun saveUUID(uuid: String) {
        putPreference(LM_FEED_UUID, uuid)
    }

    fun getUserImage(): String {
        return getPreference(LM_FEED_USER_IMAGE, "") ?: ""
    }

    fun setUserImage(userImage: String) {
        putPreference(LM_FEED_USER_IMAGE, userImage)
    }

    fun clearPrefs() {
        saveUserName("")
        saveUUID("")
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/user/LMFeedUserViewData.kt
================================================
package com.likeminds.feed.android.core.utils.user

import android.os.Parcelable
import com.likeminds.feed.android.core.socialfeed.model.LMFeedSDKClientInfoViewData
import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.base.model.ITEM_USER
import kotlinx.parcelize.Parcelize

@Parcelize
class LMFeedUserViewData private constructor(
    val id: Int,
    val name: String,
    val imageUrl: String,
    val userUniqueId: String,
    val customTitle: String?,
    val isGuest: Boolean,
    val isDeleted: Boolean?,
    val updatedAt: Long,
    val sdkClientInfoViewData: LMFeedSDKClientInfoViewData,
    val uuid: String
) : LMFeedBaseViewType, Parcelable {

    override val viewType: Int
        get() = ITEM_USER

    class Builder {
        private var id: Int = 0
        private var name: String = ""
        private var imageUrl: String = ""
        private var userUniqueId: String = ""
        private var customTitle: String? = null
        private var isGuest: Boolean = false
        private var isDeleted: Boolean? = null
        private var updatedAt: Long = 0
        private var sdkClientInfoViewData: LMFeedSDKClientInfoViewData =
            LMFeedSDKClientInfoViewData.Builder().build()
        private var uuid: String = ""

        fun id(id: Int) = apply { this.id = id }
        fun name(name: String) = apply { this.name = name }
        fun imageUrl(imageUrl: String) = apply { this.imageUrl = imageUrl }
        fun userUniqueId(userUniqueId: String) = apply { this.userUniqueId = userUniqueId }
        fun customTitle(customTitle: String?) = apply { this.customTitle = customTitle }
        fun isGuest(isGuest: Boolean) = apply { this.isGuest = isGuest }
        fun isDeleted(isDeleted: Boolean?) = apply { this.isDeleted = isDeleted }
        fun updatedAt(updatedAt: Long) = apply { this.updatedAt = updatedAt }
        fun sdkClientInfoViewData(sdkClientInfoViewData: LMFeedSDKClientInfoViewData) =
            apply { this.sdkClientInfoViewData = sdkClientInfoViewData }

        fun uuid(uuid: String) = apply { this.uuid = uuid }

        fun build() = LMFeedUserViewData(
            id,
            name,
            imageUrl,
            userUniqueId,
            customTitle,
            isGuest,
            isDeleted,
            updatedAt,
            sdkClientInfoViewData,
            uuid
        )
    }

    fun toBuilder(): Builder {
        return Builder().id(id)
            .name(name)
            .imageUrl(imageUrl)
            .userUniqueId(userUniqueId)
            .customTitle(customTitle)
            .isGuest(isGuest)
            .isDeleted(isDeleted)
            .updatedAt(updatedAt)
            .uuid(uuid)
            .sdkClientInfoViewData(sdkClientInfoViewData)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/user/UserResponse.kt
================================================
package com.likeminds.feed.android.core.utils.user

import com.likeminds.likemindsfeed.sdk.model.Community
import com.likeminds.likemindsfeed.sdk.model.User

data class UserResponse(
    val user: User?, //user data
    val community: Community?, //community data
    val appAccess: Boolean?,
    val accessToken: String? = null,
    val refreshToken: String? = null
)



================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/user/UserResponseConvertor.kt
================================================
package com.likeminds.feed.android.core.utils.user

import com.likeminds.likemindsfeed.user.model.InitiateUserResponse
import com.likeminds.likemindsfeed.user.model.ValidateUserResponse

object UserResponseConvertor {

    //convert initiate user response to user response
    fun getUserResponse(initiateUserResponse: InitiateUserResponse): UserResponse {
        return UserResponse(
            user = initiateUserResponse.user,
            community = initiateUserResponse.community,
            appAccess = initiateUserResponse.appAccess,
            accessToken = initiateUserResponse.accessToken,
            refreshToken = initiateUserResponse.refreshToken
        )
    }

    //convert validate user response to user response
    fun getUserResponse(validateUserResponse: ValidateUserResponse): UserResponse {
        return UserResponse(
            user = validateUserResponse.user,
            community = validateUserResponse.community,
            appAccess = validateUserResponse.appAccess
        )
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/video/LMFeedPostVideoAutoPlayHelper.kt
================================================
package com.likeminds.feed.android.core.utils.video

import android.graphics.Rect
import android.net.Uri
import androidx.core.view.get
import androidx.recyclerview.widget.LinearLayoutManager
import androidx.recyclerview.widget.RecyclerView
import com.likeminds.feed.android.core.databinding.*
import com.likeminds.feed.android.core.post.detail.adapter.LMFeedPostDetailAdapter
import com.likeminds.feed.android.core.post.model.VIDEO
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedSocialFeedAdapter
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.ui.base.views.LMFeedVideoView
import com.likeminds.feed.android.core.utils.LMFeedViewUtils
import com.likeminds.feed.android.core.utils.base.LMFeedDataBoundViewHolder
import com.likeminds.feed.android.core.utils.base.model.ITEM_POST_MULTIPLE_MEDIA
import com.likeminds.feed.android.core.utils.base.model.ITEM_POST_SINGLE_VIDEO
import kotlin.math.max
import kotlin.math.min

class LMFeedPostVideoAutoPlayHelper private constructor(private val recyclerView: RecyclerView) {
    companion object {
        private var postVideoAutoPlayHelper: LMFeedPostVideoAutoPlayHelper? = null

        // When playerView will be less than [MIN_LIMIT_VISIBILITY]% visible than it will stop the player
        private const val MIN_LIMIT_VISIBILITY = 20

        fun getInstance(recyclerView: RecyclerView): LMFeedPostVideoAutoPlayHelper {
            if (postVideoAutoPlayHelper == null) {
                postVideoAutoPlayHelper = LMFeedPostVideoAutoPlayHelper(recyclerView)
            }
            return postVideoAutoPlayHelper!!
        }
    }

    private var lastPlayerView: LMFeedVideoView? = null

    private var currentPlayingVideoItemPos = -1 // -1 indicates nothing playing

    private val autoPlayVideoScrollListener = object : RecyclerView.OnScrollListener() {
        override fun onScrolled(recyclerView: RecyclerView, dx: Int, dy: Int) {
            super.onScrolled(recyclerView, dx, dy)

            when (recyclerView.adapter) {
                // the recycler view is of [FeedFragment]
                is LMFeedSocialFeedAdapter -> {
                    playMostVisibleItem()
                }

                //the recycler view is of [PostDetailFragment]
                is LMFeedPostDetailAdapter -> {
                    playIfPostVisible()
                }
            }
        }
    }

    // attaches a scroll listener to auto play videos in the recycler view
    fun attachScrollListenerForVideo() {
        recyclerView.addOnScrollListener(autoPlayVideoScrollListener)
    }

    // detaches the scroll listener to auto play videos in the recycler view
    fun detachScrollListenerForVideo() {
        recyclerView.removeOnScrollListener(autoPlayVideoScrollListener)
    }

    /**
     * Finds the most visible post and attaches the player to it
     */
    fun playMostVisibleItem() {
        val firstVisiblePosition: Int = findFirstVisibleItemPosition()
        val lastVisiblePosition: Int = findLastVisibleItemPosition()

        var maxPercentage = -1
        var pos = 0
        recyclerView.post {
            for (i in firstVisiblePosition..lastVisiblePosition) {
                val viewHolder: RecyclerView.ViewHolder =
                    recyclerView.findViewHolderForAdapterPosition(i) ?: return@post

                val currentPercentage = getVisiblePercentage(viewHolder)
                if (currentPercentage > maxPercentage) {
                    maxPercentage = currentPercentage.toInt()
                    pos = i
                }
            }
            if (maxPercentage == -1 || maxPercentage < MIN_LIMIT_VISIBILITY) {
                pos = -1
            }
            if (pos == -1) {
                if (currentPlayingVideoItemPos != -1) {

                    // if a video is already playing
                    val viewHolder: RecyclerView.ViewHolder =
                        recyclerView.findViewHolderForAdapterPosition(currentPlayingVideoItemPos)!!

                    /* check if current view's visibility is more than MIN_LIMIT_VISIBILITY */
                    val currentVisibility = getVisiblePercentage(viewHolder)
                    if (currentVisibility < MIN_LIMIT_VISIBILITY) {
                        removePlayer()
                    }
                    currentPlayingVideoItemPos = -1
                }
            } else {
                // if no video is playing, directly attach a player at the [pos]
                currentPlayingVideoItemPos = pos
                attachVideoPlayerAt(pos)
            }
        }
    }

    /**
     * Checks if post's visibility is more than [MIN_LIMIT_VISIBILITY]%
     * attaches the player at position = 0
     */
    fun playIfPostVisible() {
        recyclerView.post {
            val viewHolder: RecyclerView.ViewHolder =
                recyclerView.findViewHolderForAdapterPosition(0) ?: return@post

            val currentVisiblePercentage = getVisiblePercentage(viewHolder)

            if (currentVisiblePercentage == (-1).toFloat() || currentVisiblePercentage < MIN_LIMIT_VISIBILITY) {
                // post item's visibility is less than [MIN_LIMIT_VISIBILITY] so remove the player
                removePlayer()
                currentPlayingVideoItemPos = -1
            } else {
                // post item's visibility is more than [MIN_LIMIT_VISIBILITY]
                currentPlayingVideoItemPos = 0
                attachVideoPlayerAt(0)
            }
        }
    }

    // returns the % visibility of item in recycler view
    private fun getVisiblePercentage(
        holder: RecyclerView.ViewHolder
    ): Float {
        val rectParent = Rect()
        recyclerView.getGlobalVisibleRect(rectParent)
        val location = IntArray(2)
        holder.itemView.getLocationOnScreen(location)

        val rectChild = Rect(
            location[0],
            location[1],
            location[0] + holder.itemView.width,
            location[1] + holder.itemView.height
        )

        val rectParentArea =
            ((rectChild.right - rectChild.left) * (rectChild.bottom - rectChild.top)).toFloat()
        val xOverlap = max(
            0,
            min(
                rectChild.right,
                rectParent.right
            ) - max(
                rectChild.left,
                rectParent.left
            )
        ).toFloat()

        val yOverlap = max(
            0,
            min(
                rectChild.bottom,
                rectParent.bottom
            ) - max(
                rectChild.top,
                rectParent.top
            )
        ).toFloat()

        val overlapArea = xOverlap * yOverlap
        return (overlapArea / rectParentArea * 100.0f)
    }

    // returns the position of first visible item in recycler view
    private fun findFirstVisibleItemPosition(): Int {
        if (recyclerView.layoutManager is LinearLayoutManager) {
            return (recyclerView.layoutManager as LinearLayoutManager).findFirstVisibleItemPosition()
        }
        return -1
    }

    // returns the position of last visible item in recycler view
    private fun findLastVisibleItemPosition(): Int {
        if (recyclerView.layoutManager is LinearLayoutManager) {
            return (recyclerView.layoutManager as LinearLayoutManager).findLastVisibleItemPosition()
        }
        return -1
    }

    // attaches a player at specified position
    private fun attachVideoPlayerAt(pos: Int) {
        recyclerView.adapter.apply {
            when (this) {
                is LMFeedSocialFeedAdapter -> {
                    val item = this[pos]
                    handleVideoPlay(
                        pos,
                        (item?.viewType ?: 0),
                        item as LMFeedPostViewData
                    )
                }

                is LMFeedPostDetailAdapter -> {
                    if (pos != 0) {
                        return
                    }
                    val item = this[pos]
                    handleVideoPlay(
                        pos,
                        (item?.viewType ?: 0),
                        item as LMFeedPostViewData
                    )
                }
            }
        }
    }

    // handles main logic to play the video at specified position
    private fun handleVideoPlay(
        pos: Int,
        viewType: Int,
        data: LMFeedPostViewData
    ) {
        when (viewType) {
            ITEM_POST_SINGLE_VIDEO -> {
                // if the post is of type [ITEM_POST_SINGLE_VIDEO]
                val itemPostSingleVideoBinding =
                    (recyclerView.findViewHolderForAdapterPosition(pos) as? LMFeedDataBoundViewHolder<*>)
                        ?.binding as? LmFeedItemPostSingleVideoBinding ?: return

                val videoView = itemPostSingleVideoBinding.postVideoView.videoView

                if (lastPlayerView == null || lastPlayerView != videoView) {
                    val attachmentMeta = data.mediaViewData.attachments.first {
                        it.attachmentType == VIDEO
                    }.attachmentMeta

                    itemPostSingleVideoBinding.postVideoView.playVideo(
                        Uri.parse(attachmentMeta.url),
                        false,
                        LMFeedViewUtils.getShimmer()
                    )
                    // stop last player
                    removePlayer()
                }
                lastPlayerView = videoView
            }

            ITEM_POST_MULTIPLE_MEDIA -> {
                // if the post is of type [ITEM_POST_MULTIPLE_MEDIA]
                val itemMultipleMediaBinding =
                    (recyclerView.findViewHolderForAdapterPosition(pos) as? LMFeedDataBoundViewHolder<*>)
                        ?.binding as? LmFeedItemPostMultipleMediaBinding ?: return

                val viewPager = itemMultipleMediaBinding.multipleMediaView.viewpagerMultipleMedia
                val currentItem = viewPager.currentItem

                // gets the video binding from view pager
                val itemMultipleMediaVideoBinding =
                    ((viewPager[0] as RecyclerView).findViewHolderForAdapterPosition(currentItem) as? LMFeedDataBoundViewHolder<*>)
                        ?.binding as? LmFeedItemMultipleMediaVideoBinding

                if (itemMultipleMediaVideoBinding == null) {
                    // if itemMultipleMediaVideoBinding, that means it is an image
                    removePlayer()
                } else {
                    val videoView = itemMultipleMediaVideoBinding.postVideoView.videoView

                    if (lastPlayerView == null || lastPlayerView != videoView) {
                        val attachmentMeta =
                            data.mediaViewData.attachments[currentItem].attachmentMeta

                        itemMultipleMediaVideoBinding.postVideoView.playVideo(
                            Uri.parse(attachmentMeta.url),
                            false,
                            LMFeedViewUtils.getShimmer()
                        )
                        // stop last player
                        removePlayer()
                    }
                    lastPlayerView = videoView
                }
            }

            else -> {
                // if the post is does not have any video, simply remove the player
                removePlayer()
            }
        }
    }

    // removes the player from view and sets it to null
    fun removePlayer() {
        if (lastPlayerView != null) {
            // stop last player
            lastPlayerView?.removePlayer()
            lastPlayerView = null
        }
    }

    fun destroy() {
        removePlayer()
        postVideoAutoPlayHelper = null
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/video/LMFeedPostVideoPreviewAutoPlayHelper.kt
================================================
package com.likeminds.feed.android.core.utils.video

import android.net.Uri
import com.likeminds.feed.android.core.ui.base.views.LMFeedVideoView
import com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostVerticalVideoMediaView
import com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostVideoMediaView
import com.likeminds.feed.android.core.utils.LMFeedViewUtils
import com.likeminds.feed.android.core.videofeed.model.LMFeedVideoFeedConfig

class LMFeedPostVideoPreviewAutoPlayHelper {

    companion object {
        private var videoPreviewAutoPlayHelper: LMFeedPostVideoPreviewAutoPlayHelper? = null

        fun getInstance(): LMFeedPostVideoPreviewAutoPlayHelper {
            if (videoPreviewAutoPlayHelper == null) {
                videoPreviewAutoPlayHelper = LMFeedPostVideoPreviewAutoPlayHelper()
            }
            return videoPreviewAutoPlayHelper!!
        }
    }

    private var lastPlayerView: LMFeedVideoView? = null

    /**
     * @param [videoPost] - Player view in which the provided video is played
     * @param [uri] - If the video is local, then provided [uri] is used to play locally
     * @param [url] - If the video is remote, then provided [url] is used to play locally
     */
    fun playVideoInView(
        videoPost: LMFeedPostVideoMediaView,
        uri: Uri? = null,
        url: String? = null
    ) {
        if (uri == null && url == null) {
            return
        }

        if (lastPlayerView == null || lastPlayerView != videoPost.videoView) {
            if (uri != null) {
                videoPost.playVideo(
                    uri,
                    true,
                    LMFeedViewUtils.getShimmer()
                )
            } else {
                videoPost.playVideo(
                    Uri.parse(url),
                    true,
                    LMFeedViewUtils.getShimmer()
                )
            }
            // stop last player
            removePlayer()
        }
        lastPlayerView = videoPost.videoView
    }

    /**
     * @param [videoPost] - Player view in which the provided video is played
     * @param [url] - If the video is remote, then provided [url] is used to play locally
     */
    fun playVideoInView(
        videoPost: LMFeedPostVerticalVideoMediaView,
        url: String? = null,
        config: LMFeedVideoFeedConfig,
        videoPlayerListener: LMFeedVideoPlayerListener
    ) {
        if (url == null) {
            return
        }

        if (lastPlayerView == null || lastPlayerView != videoPost.videoView) {
            videoPost.playVideo(
                Uri.parse(url),
                false,
                LMFeedViewUtils.getShimmer(),
                config,
                videoPlayerListener
            )

            // stop last player
            removePlayer(true, videoPlayerListener)
        }
        lastPlayerView = videoPost.videoView
    }

    // removes the player from view and sets it to null
    fun removePlayer(
        triggerSwipeOrScrollEvent: Boolean = false,
        videoPlayerListener: LMFeedVideoPlayerListener? = null
    ) {
        if (lastPlayerView != null) {
            // stop last player
            lastPlayerView?.removePlayer(triggerSwipeOrScrollEvent, videoPlayerListener)
            lastPlayerView = null
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/video/LMFeedVideoCache.kt
================================================
package com.likeminds.feed.android.core.utils.video

import android.content.Context
import com.google.android.exoplayer2.database.StandaloneDatabaseProvider
import com.google.android.exoplayer2.upstream.DefaultHttpDataSource
import com.google.android.exoplayer2.upstream.cache.CacheDataSource
import com.google.android.exoplayer2.upstream.cache.LeastRecentlyUsedCacheEvictor
import com.google.android.exoplayer2.upstream.cache.SimpleCache
import com.google.android.exoplayer2.util.Util
import com.likeminds.feed.android.core.R
import java.io.File

class LMFeedVideoCache {
    companion object {
        private var sDownloadCache: SimpleCache? = null
        private var cacheDataSourceFactory: CacheDataSource.Factory? = null

        private fun getCache(context: Context): SimpleCache {
            if (sDownloadCache != null) {
                return sDownloadCache!!
            }

            val exoPlayerCacheSize = 750 * 1024 * 1024.toLong()// Set the size of cache for video
            val leastRecentlyUsedCacheEvictor =
                LeastRecentlyUsedCacheEvictor(exoPlayerCacheSize)
            val exoDatabaseProvider = StandaloneDatabaseProvider(context)

            val cache = File(context.cacheDir, "lm_feed_video_cache")
            if (!cache.exists()) {
                cache.mkdirs()
            }

            sDownloadCache =
                SimpleCache(cache, leastRecentlyUsedCacheEvictor, exoDatabaseProvider)

            return sDownloadCache!!
        }

        fun getCacheDataSourceFactory(context: Context): CacheDataSource.Factory {
            if (cacheDataSourceFactory != null) {
                return cacheDataSourceFactory!!
            }

            getCache(context)

            cacheDataSourceFactory =
                CacheDataSource.Factory()
                    .setCache(sDownloadCache!!)
                    .setUpstreamDataSourceFactory(
                        DefaultHttpDataSource.Factory()
                            .setUserAgent(
                                Util.getUserAgent(
                                    context, context.getString(
                                        R.string.lm_feed_app_name
                                    )
                                )
                            )
                    )
                    .setFlags(CacheDataSource.FLAG_IGNORE_CACHE_ON_ERROR)

            return cacheDataSourceFactory!!
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/utils/video/LMFeedVideoPlayerListener.kt
================================================
package com.likeminds.feed.android.core.utils.video

interface LMFeedVideoPlayerListener {
    // triggered when video is viewed at threshold set
    fun onDurationThresholdReached(duration: Long, totalDuration: Long)

    // triggered when video is swiped or scrolled at threshold set
    fun onVideoSwipedOrScrolled(duration: Long, totalDuration: Long)

    fun onIdleSwipeReached()
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/videofeed/adapter/LMFeedVideoFeedAdapter.kt
================================================
package com.likeminds.feed.android.core.videofeed.adapter

import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.utils.base.*
import com.likeminds.feed.android.core.videofeed.adapter.databinders.LMFeedItemPostVideoFeedCaughtUpViewDataBinder
import com.likeminds.feed.android.core.videofeed.adapter.databinders.LMFeedItemPostVideoFeedViewDataBinder

class LMFeedVideoFeedAdapter(
    private val postAdapterListener: LMFeedPostAdapterListener
) : LMFeedBaseRecyclerAdapter<LMFeedBaseViewType>() {

    init {
        initViewDataBinders()
    }

    override fun getSupportedViewDataBinder(): MutableList<LMFeedViewDataBinder<*, *>> {
        val viewDataBinders = ArrayList<LMFeedViewDataBinder<*, *>>(2)

        val itemPostVideoFeedViewDataBinder =
            LMFeedItemPostVideoFeedViewDataBinder(postAdapterListener)

        viewDataBinders.add(itemPostVideoFeedViewDataBinder)

        val itemPostVideoFeedCaughtUpViewDataBinder =
            LMFeedItemPostVideoFeedCaughtUpViewDataBinder(postAdapterListener)

        viewDataBinders.add(itemPostVideoFeedCaughtUpViewDataBinder)

        return viewDataBinders
    }

    //replace any view data binder provide by the customer
    fun replaceViewDataBinder(viewType: Int, viewDataBinder: LMFeedViewDataBinder<*, *>) {
        supportedViewBinderResolverMap.put(viewType, viewDataBinder)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/videofeed/adapter/databinders/LMFeedItemPostVideoFeedCaughtUpViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.videofeed.adapter.databinders

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.feed.android.core.databinding.LmFeedItemPostVideoFeedCaughtUpBinding
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.ui.base.styles.setStyle
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedViewUtils.hide
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_POST_VIDEO_FEED_CAUGHT_UP
import com.likeminds.feed.android.core.videofeed.model.LMFeedCaughtUpViewData

class LMFeedItemPostVideoFeedCaughtUpViewDataBinder(
    private val postAdapterListener: LMFeedPostAdapterListener
) : LMFeedViewDataBinder<LmFeedItemPostVideoFeedCaughtUpBinding, LMFeedCaughtUpViewData>() {

    override val viewType: Int
        get() = ITEM_POST_VIDEO_FEED_CAUGHT_UP

    override fun createBinder(parent: ViewGroup): LmFeedItemPostVideoFeedCaughtUpBinding {
        val binding = LmFeedItemPostVideoFeedCaughtUpBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.apply {
            val videoFeedFragmentStyle = LMFeedStyleTransformer.videoFeedFragmentViewStyle

            if (videoFeedFragmentStyle.videoFeedCaughtUpIcon != null) {
                ivTick.setStyle(videoFeedFragmentStyle.videoFeedCaughtUpIcon)
            } else {
                ivTick.hide()
            }

            if (videoFeedFragmentStyle.videoFeedCaughtUpTitleStyle != null) {
                tvTitle.setStyle(videoFeedFragmentStyle.videoFeedCaughtUpTitleStyle)
            } else {
                ivTick.hide()
            }

            if (videoFeedFragmentStyle.videoFeedCaughtUpSubtitleStyle != null) {
                tvSubtitle.setStyle(videoFeedFragmentStyle.videoFeedCaughtUpSubtitleStyle)
            } else {
                ivTick.hide()
            }

            setClickListener(this)
        }

        return binding
    }

    override fun bindData(
        binding: LmFeedItemPostVideoFeedCaughtUpBinding,
        data: LMFeedCaughtUpViewData,
        position: Int
    ) {
    }

    //sets the required click listeners to the binding
    private fun setClickListener(binding: LmFeedItemPostVideoFeedCaughtUpBinding) {
        binding.tvSubtitle.setOnClickListener {
            postAdapterListener.onPostVideoFeedCaughtUpClicked()
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/videofeed/adapter/databinders/LMFeedItemPostVideoFeedViewDataBinder.kt
================================================
package com.likeminds.feed.android.core.videofeed.adapter.databinders

import android.view.LayoutInflater
import android.view.ViewGroup
import com.likeminds.feed.android.core.databinding.LmFeedItemPostVideoFeedBinding
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.socialfeed.util.LMFeedPostBinderUtils
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.base.LMFeedViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_POST_VIDEO_FEED

class LMFeedItemPostVideoFeedViewDataBinder(
    private val postAdapterListener: LMFeedPostAdapterListener
) : LMFeedViewDataBinder<LmFeedItemPostVideoFeedBinding, LMFeedPostViewData>() {

    override val viewType: Int
        get() = ITEM_POST_VIDEO_FEED

    override fun createBinder(parent: ViewGroup): LmFeedItemPostVideoFeedBinding {
        val binding = LmFeedItemPostVideoFeedBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.apply {
            LMFeedPostBinderUtils.customizePostHeaderView(postHeader)

            LMFeedPostBinderUtils.customizePostContentView(tvPostContent)

            LMFeedPostBinderUtils.customizePostActionVerticalView(postActionView)

            //set video media style to post video view
            val postVerticalVideoMediaStyle =
                LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postVerticalVideoMediaStyle
                    ?: return@apply

            postVideoView.setStyle(postVerticalVideoMediaStyle)

            setClickListeners(this)
        }

        return binding
    }

    override fun bindData(
        binding: LmFeedItemPostVideoFeedBinding,
        data: LMFeedPostViewData,
        position: Int
    ) {
        binding.apply {
            this.position = position
            postViewData = data

            // updates the data in the post action view
            LMFeedPostBinderUtils.setPostVerticalActionViewData(
                postActionView,
                data.actionViewData
            )

            // checks whether to bind complete data or not and execute corresponding lambda function
            LMFeedPostBinderUtils.setPostBindData(
                postHeader,
                tvPostHeading,
                tvPostContent,
                null,
                null,
                data,
                position,
                postTopicsGroup,
                postAdapterListener,
                returnBinder = {
                    return@setPostBindData
                }, executeBinder = {}
            )
        }
    }

    //sets the required click listeners to the binding
    private fun setClickListeners(binding: LmFeedItemPostVideoFeedBinding) {
        binding.apply {
            postHeader.setAuthorFrameClickListener {
                val post = this.postViewData ?: return@setAuthorFrameClickListener
                postAdapterListener.onPostAuthorHeaderClicked(position, post)
            }

            postActionView.setLikeIconClickListener {
                val post = this.postViewData ?: return@setLikeIconClickListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForLike(post)
                postAdapterListener.onPostLikeClicked(position, updatedPost)
            }

            postActionView.setMenuIconListener {
                val post = this.postViewData ?: return@setMenuIconListener
                postAdapterListener.onPostActionMenuClicked(position, post)
            }

            postActionView.setShareIconListener {
                val post = this.postViewData ?: return@setShareIconListener
                postAdapterListener.onPostShareClicked(position, post)
            }
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/videofeed/model/LMFeedCaughtUpViewData.kt
================================================
package com.likeminds.feed.android.core.videofeed.model

import com.likeminds.feed.android.core.utils.base.LMFeedBaseViewType
import com.likeminds.feed.android.core.utils.base.model.ITEM_POST_VIDEO_FEED_CAUGHT_UP

class LMFeedCaughtUpViewData private constructor() : LMFeedBaseViewType {

    override val viewType: Int
        get() = ITEM_POST_VIDEO_FEED_CAUGHT_UP

    class Builder {
        fun build() = LMFeedCaughtUpViewData()
    }

    fun toBuilder(): Builder {
        return Builder()
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/videofeed/model/LMFeedVideoFeedConfig.kt
================================================
package com.likeminds.feed.android.core.videofeed.model

/**
 * Config class for [LMFeedVideoFeedFragment]
 * @param reelViewedAnalyticThreshold: Int | threshold for sending reel viewed event
 */
class LMFeedVideoFeedConfig private constructor(
    val reelViewedAnalyticThreshold: Int
) {

    class Builder {
        private var reelViewedAnalyticThreshold: Int = 2

        fun reelViewedAnalyticThreshold(reelViewedAnalyticThreshold: Int) = apply {
            this.reelViewedAnalyticThreshold = reelViewedAnalyticThreshold
        }

        fun build() = LMFeedVideoFeedConfig(reelViewedAnalyticThreshold)
    }

    fun toBuilder(): Builder {
        return Builder().reelViewedAnalyticThreshold(reelViewedAnalyticThreshold)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/videofeed/model/LMFeedVideoFeedProps.kt
================================================
package com.likeminds.feed.android.core.videofeed.model

/**
 * Extra properties required to start the video feed
 * @param startFeedWithPostIds List of post ids to start the feed with
 */
class LMFeedVideoFeedProps private constructor(
    val startFeedWithPostIds: List<String>?
) {
    class Builder {
        private var startFeedWithPostIds: List<String>? = null

        fun startFeedWithPostIds(startFeedWithPostIds: List<String>?) = apply {
            this.startFeedWithPostIds = startFeedWithPostIds
        }

        fun build() = LMFeedVideoFeedProps(startFeedWithPostIds)
    }

    fun toBuilder(): Builder {
        return Builder().startFeedWithPostIds(startFeedWithPostIds)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/videofeed/view/LMFeedVideoFeedFragment.kt
================================================
package com.likeminds.feed.android.core.videofeed.view

import android.Manifest
import android.app.Activity
import android.content.pm.PackageManager
import android.net.Uri
import android.os.Build
import android.os.Bundle
import android.view.*
import androidx.activity.result.contract.ActivityResultContracts
import androidx.annotation.RequiresApi
import androidx.core.app.ActivityCompat
import androidx.core.app.NotificationManagerCompat
import androidx.core.content.ContextCompat
import androidx.core.util.containsKey
import androidx.core.view.get
import androidx.fragment.app.viewModels
import androidx.recyclerview.widget.RecyclerView
import androidx.recyclerview.widget.SimpleItemAnimator
import androidx.swiperefreshlayout.widget.SwipeRefreshLayout
import androidx.viewpager2.widget.ViewPager2
import androidx.viewpager2.widget.ViewPager2.OnPageChangeCallback
import com.google.android.exoplayer2.upstream.DataSpec
import com.google.android.exoplayer2.upstream.cache.CacheWriter
import com.likeminds.feed.android.core.LMFeedCoreApplication
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.databinding.LmFeedFragmentVideoFeedBinding
import com.likeminds.feed.android.core.databinding.LmFeedItemPostVideoFeedBinding
import com.likeminds.feed.android.core.delete.model.DELETE_TYPE_POST
import com.likeminds.feed.android.core.delete.model.LMFeedDeleteExtras
import com.likeminds.feed.android.core.delete.view.LMFeedAdminDeleteDialogFragment
import com.likeminds.feed.android.core.delete.view.LMFeedSelfDeleteDialogFragment
import com.likeminds.feed.android.core.post.viewmodel.LMFeedHelperViewModel
import com.likeminds.feed.android.core.post.viewmodel.LMFeedPostViewModel.ErrorMessageEvent.*
import com.likeminds.feed.android.core.postmenu.model.*
import com.likeminds.feed.android.core.postmenu.view.LMFeedPostMenuBottomSheetFragment
import com.likeminds.feed.android.core.postmenu.view.LMFeedPostMenuBottomSheetListener
import com.likeminds.feed.android.core.report.model.LMFeedReportExtras
import com.likeminds.feed.android.core.report.model.REPORT_TYPE_POST
import com.likeminds.feed.android.core.report.view.LMFeedReportActivity
import com.likeminds.feed.android.core.report.view.LMFeedReportFragment.Companion.LM_FEED_REPORT_RESULT
import com.likeminds.feed.android.core.report.view.LMFeedReportSuccessDialogFragment
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.socialfeed.util.LMFeedPostBinderUtils
import com.likeminds.feed.android.core.ui.base.styles.LMFeedIconStyle
import com.likeminds.feed.android.core.ui.base.styles.LMFeedTextStyle
import com.likeminds.feed.android.core.ui.theme.LMFeedAppearance
import com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostVerticalVideoMediaView
import com.likeminds.feed.android.core.utils.*
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.pluralizeOrCapitalize
import com.likeminds.feed.android.core.utils.analytics.LMFeedAnalytics
import com.likeminds.feed.android.core.utils.base.LMFeedDataBoundViewHolder
import com.likeminds.feed.android.core.utils.coroutine.observeInLifecycle
import com.likeminds.feed.android.core.utils.feed.*
import com.likeminds.feed.android.core.utils.feed.LMFeedType.PERSONALISED_FEED
import com.likeminds.feed.android.core.utils.feed.LMFeedType.UNIVERSAL_FEED
import com.likeminds.feed.android.core.utils.pluralize.model.LMFeedWordAction
import com.likeminds.feed.android.core.utils.user.LMFeedUserMetaData
import com.likeminds.feed.android.core.utils.user.LMFeedUserPreferences
import com.likeminds.feed.android.core.utils.video.*
import com.likeminds.feed.android.core.videofeed.adapter.LMFeedVideoFeedAdapter
import com.likeminds.feed.android.core.videofeed.model.*
import com.likeminds.feed.android.core.videofeed.viewmodel.LMFeedVideoFeedViewModel
import kotlinx.coroutines.*
import kotlinx.coroutines.flow.onEach

open class LMFeedVideoFeedFragment(
    private val feedType: LMFeedType,
    private val config: LMFeedVideoFeedConfig?,
    private val props: LMFeedVideoFeedProps?
) : LMFeedBaseThemeFragment(),
    LMFeedPostAdapterListener,
    LMFeedPostMenuBottomSheetListener,
    LMFeedVideoPlayerListener {

    lateinit var binding: LmFeedFragmentVideoFeedBinding
    private lateinit var mSwipeRefreshLayout: SwipeRefreshLayout

    lateinit var videoFeedAdapter: LMFeedVideoFeedAdapter

    private val videoFeedViewModel: LMFeedVideoFeedViewModel by viewModels()

    private val postVideoPreviewAutoPlayHelper by lazy {
        LMFeedPostVideoPreviewAutoPlayHelper.getInstance()
    }

    private val userPreferences by lazy {
        LMFeedUserPreferences(requireContext())
    }

    private val notificationPermissionLauncher = registerForActivityResult(
        ActivityResultContracts.RequestPermission()
    ) {}

    companion object {
        private const val VIDEO_PRELOAD_THRESHOLD = 5
        private const val CACHE_SIZE_EACH_VIDEO = 50 * 1024 * 1024L // 50 MB
        private const val PRECACHE_VIDEO_COUNT = 2 //we will precache 2 videos from current position

        @RequiresApi(Build.VERSION_CODES.TIRAMISU)
        private const val POST_NOTIFICATIONS = Manifest.permission.POST_NOTIFICATIONS

        @JvmStatic
        fun getInstance(
            feedType: LMFeedType = UNIVERSAL_FEED,
            config: LMFeedVideoFeedConfig? = null,
            props: LMFeedVideoFeedProps? = null
        ): LMFeedVideoFeedFragment {
            return LMFeedVideoFeedFragment(feedType, config, props)
        }
    }

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View {
        binding = LmFeedFragmentVideoFeedBinding.inflate(layoutInflater)

        setVerticalVideoPostViewStyle()
        setupVideoFeed()
        binding.apply {
            customizeVideoFeedListView(binding.vp2VideoFeed, videoFeedAdapter)
        }
        setViewPagerAdapter()

        return binding.root
    }

    private fun setVerticalVideoPostViewStyle() {
        val postViewStyle = LMFeedStyleTransformer.postViewStyle
        val postHeaderViewStyle = postViewStyle.postHeaderViewStyle
        val postActionViewStyle = postViewStyle.postActionViewStyle

        LMFeedStyleTransformer.postViewStyle = postViewStyle.toBuilder()
            .postHeaderViewStyle(
                postHeaderViewStyle.toBuilder()
                    .authorNameViewStyle(
                        postHeaderViewStyle.authorNameViewStyle.toBuilder()
                            .textColor(R.color.lm_feed_white)
                            .build()
                    )
                    .postEditedTextStyle(
                        postHeaderViewStyle.postEditedTextStyle?.toBuilder()
                            ?.textColor(R.color.lm_feed_white)
                            ?.build()
                    )
                    .timestampTextStyle(
                        postHeaderViewStyle.timestampTextStyle?.toBuilder()
                            ?.textColor(R.color.lm_feed_white)
                            ?.build()
                    )
                    .backgroundColor(android.R.color.transparent)
                    .menuIconStyle(null)
                    .pinIconStyle(null)
                    .build()
            )
            .postContentTextStyle(
                postViewStyle.postContentTextStyle.toBuilder()
                    .postTextViewStyle(
                        LMFeedTextStyle.Builder()
                            .textColor(R.color.lm_feed_white)
                            .maxLines(1)
                            .expandableCTAText("...")
                            .expandableCTAColor(R.color.lm_feed_white)
                            .build()
                    ).build()
            )
            .postActionViewStyle(
                postActionViewStyle.toBuilder()
                    .commentTextStyle(null)
                    .shareIconStyle(
                        postActionViewStyle.shareIconStyle?.toBuilder()
                            ?.inActiveSrc(R.drawable.lm_feed_ic_share_white)
                            ?.build()
                    )
                    .likeIconStyle(
                        postActionViewStyle.likeIconStyle.toBuilder()
                            .inActiveSrc(R.drawable.lm_feed_ic_like_white)
                            .build()
                    )
                    .likeTextStyle(
                        postActionViewStyle.likeTextStyle?.toBuilder()
                            ?.textColor(R.color.lm_feed_white)
                            ?.build()
                    )
                    .menuIconStyle(
                        LMFeedIconStyle.Builder()
                            .inActiveSrc(R.drawable.lm_feed_ic_overflow_menu_white)
                            .build()
                    )
                    .build()
            )
            .build()
    }

    private fun setupVideoFeed() {
        binding.vp2VideoFeed.apply {
            for (i in 0 until childCount) {
                if (getChildAt(i) is RecyclerView) {
                    val recyclerView = getChildAt(i) as RecyclerView
                    val itemAnimator = recyclerView.itemAnimator
                    if (itemAnimator != null && itemAnimator is SimpleItemAnimator) {
                        itemAnimator.supportsChangeAnimations = false
                    }
                }
            }

            registerOnPageChangeCallback(object : OnPageChangeCallback() {
                override fun onPageSelected(position: Int) {
                    super.onPageSelected(position)

                    //if the current item is the last item then show Caught up layout
                    if (position == videoFeedAdapter.itemCount - 1
                        && (videoFeedAdapter.items().lastOrNull() !is LMFeedCaughtUpViewData)
                    ) {
                        videoFeedAdapter.add(LMFeedCaughtUpViewData.Builder().build())
                    }

                    //for sending no more reels view event
                    val item = videoFeedAdapter.items()[position]
                    if (item is LMFeedCaughtUpViewData) {
                        sendNoMoreReelsShownEvent()
                    }

                    if (feedType == PERSONALISED_FEED) {
                        // add post in static post seen
                        if (item is LMFeedPostViewData) {
                            LMFeedPostSeenUtil.insertSeenPost(item, System.currentTimeMillis())
                        }
                    }

                    //plays the video in the view pager
                    playVideoInViewPager(position)
                }

                override fun onPageScrollStateChanged(state: Int) {
                    super.onPageScrollStateChanged(state)

                    val size: Int = videoFeedAdapter.itemCount

                    // Call API if the [VIDEO_PRELOAD_THRESHOLD] is reached
                    if (currentItem > 0 && currentItem >= size - VIDEO_PRELOAD_THRESHOLD) {
                        if (size > videoFeedViewModel.previousTotal && !videoFeedViewModel.postsFinished) {
                            videoFeedViewModel.previousTotal = size
                            fetchData()
                        }
                    }
                }
            })

            videoFeedAdapter = LMFeedVideoFeedAdapter(this@LMFeedVideoFeedFragment)
        }
    }

    protected open fun customizeVideoFeedListView(
        vp2VideoFeed: ViewPager2,
        videoFeedAdapter: LMFeedVideoFeedAdapter
    ) {
        //customize video feed view here
    }

    //sets adapter to the view pager
    private fun setViewPagerAdapter() {
        binding.vp2VideoFeed.adapter = videoFeedAdapter
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        if (videoFeedViewModel.adapterItems.isEmpty()) {
            fetchData()
        } else {
            videoFeedAdapter.replace(videoFeedViewModel.adapterItems.toList())
            binding.vp2VideoFeed.apply {
                post {
                    setCurrentItem(videoFeedViewModel.adapterPosition, true)
                }
            }
        }

        sendExploreReelsOpenedEvent()
        initSwipeRefreshLayout()
        observeResponses()
        checkForNotificationPermission()
    }

    //check for notification permission
    private fun checkForNotificationPermission() {
        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.TIRAMISU) {
            if (!NotificationManagerCompat.from(requireContext()).areNotificationsEnabled()) {
                if (activity?.checkSelfPermission(POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {
                    notificationPermissionLauncher.launch(POST_NOTIFICATIONS)
                }
            }
        }
    }

    //calls the getFeed() function to fetch feed videos
    private fun fetchData() {
        videoFeedViewModel.apply {
            pageToCall++
            when (feedType) {
                PERSONALISED_FEED -> {
                    if (pageToCall == 1) {
                        postViewModel.getPersonalisedFeed(
                            page = pageToCall,
                            shouldReorder = true,
                            shouldRecompute = true,
                            startFeedWithPostIds = props?.startFeedWithPostIds
                        )
                        helperViewModel.postSeen()
                    } else {
                        postViewModel.getPersonalisedFeed(page = pageToCall)
                    }
                }

                UNIVERSAL_FEED -> {
                    postViewModel.getUniversalFeed(
                        page = pageToCall,
                        startFeedWithPostIds = props?.startFeedWithPostIds
                    )
                }
            }
        }
    }

    //initializes the refresh layout
    private fun initSwipeRefreshLayout() {
        mSwipeRefreshLayout = binding.swipeRefreshLayout
        mSwipeRefreshLayout.apply {
            setColorSchemeColors(
                ContextCompat.getColor(
                    requireContext(),
                    LMFeedAppearance.getButtonColor()
                )
            )

            setOnRefreshListener {
                onFeedRefreshed()
            }
        }
    }

    //processes the feed refreshed event
    protected open fun onFeedRefreshed() {
        videoFeedViewModel.apply {
            mSwipeRefreshLayout.isRefreshing = true
            pageToCall = 1
            when (feedType) {
                PERSONALISED_FEED -> {
                    postViewModel.getPersonalisedFeed(
                        page = pageToCall,
                        shouldReorder = true,
                        shouldRecompute = true,
                        startFeedWithPostIds = props?.startFeedWithPostIds
                    )
                    helperViewModel.postSeen()
                }

                UNIVERSAL_FEED -> {
                    postViewModel.getUniversalFeed(
                        page = pageToCall,
                        startFeedWithPostIds = props?.startFeedWithPostIds
                    )
                }
            }
        }
    }

    //observes live data responses
    private fun observeResponses() {
        videoFeedViewModel.postViewModel.universalFeedResponse.observe(viewLifecycleOwner) { response ->
            val page = response.first
            val posts = response.second

            // update the variable that no new posts are available now
            if (posts.isEmpty()) {
                videoFeedViewModel.postsFinished = true
            }

            //add only those posts which are supported by the adapter
            val finalPosts = posts.filter {
                (videoFeedAdapter.supportedViewBinderResolverMap.containsKey(it.viewType))
            }

            if (mSwipeRefreshLayout.isRefreshing) {
                checkPostsAndReplace(finalPosts)
                mSwipeRefreshLayout.isRefreshing = false
                return@observe
            }

            if (page == 1) {
                checkPostsAndReplace(finalPosts)
            } else {
                videoFeedAdapter.addAll(finalPosts)
            }
        }

        videoFeedViewModel.postViewModel.personalisedFeedResponse.observe(viewLifecycleOwner) { response ->
            val page = response.first
            val posts = response.second

            // update the variable that no new posts are available now
            if (posts.isEmpty()) {
                videoFeedViewModel.postsFinished = true
            }

            //add only those posts which are supported by the adapter
            val finalPosts = posts.filter {
                (videoFeedAdapter.supportedViewBinderResolverMap.containsKey(it.viewType))
            }

            if (mSwipeRefreshLayout.isRefreshing) {
                checkPostsAndReplace(finalPosts)
                mSwipeRefreshLayout.isRefreshing = false
                return@observe
            }

            if (page == 1) {
                checkPostsAndReplace(finalPosts)
            } else {
                videoFeedAdapter.addAll(finalPosts)
            }
        }

        videoFeedViewModel.postViewModel.errorMessageEventFlow.onEach { response ->
            when (response) {
                is UniversalFeed -> {
                    videoFeedViewModel.pageToCall--
                    val errorMessage = response.errorMessage
                    mSwipeRefreshLayout.isRefreshing = false
                    LMFeedViewUtils.showErrorMessageToast(requireContext(), errorMessage)
                }

                is PersonalisedFeed -> {
                    videoFeedViewModel.pageToCall--
                    val errorMessage = response.errorMessage
                    mSwipeRefreshLayout.isRefreshing = false
                    LMFeedViewUtils.showErrorMessageToast(requireContext(), errorMessage)
                }

                is PostDeletedInFeed -> {
                    val errorMessage = response.errorMessage
                    mSwipeRefreshLayout.isRefreshing = false
                    LMFeedViewUtils.showErrorMessageToast(requireContext(), errorMessage)
                }

                else -> {}
            }
        }.observeInLifecycle(viewLifecycleOwner)

        videoFeedViewModel.helperViewModel.errorMessageEventFlow.onEach { response ->
            when (response) {
                is LMFeedHelperViewModel.ErrorMessageEvent.LikePost -> {
                    val postId = response.postId

                    //get post and index
                    val pair = getIndexAndPostFromAdapter(postId) ?: return@onEach
                    val post = pair.second
                    val index = pair.first

                    val postActionData = post.actionViewData

                    val newLikesCount = if (postActionData.isLiked) {
                        postActionData.likesCount - 1
                    } else {
                        postActionData.likesCount + 1
                    }

                    val updatedIsLiked = !postActionData.isLiked

                    val updatedActionViewData = postActionData.toBuilder()
                        .isLiked(updatedIsLiked)
                        .likesCount(newLikesCount)
                        .build()

                    val updatedPostData = post.toBuilder()
                        .actionViewData(updatedActionViewData)
                        .fromPostLiked(true)
                        .build()

                    videoFeedAdapter.update(index, updatedPostData)

                    //show error message
                    LMFeedViewUtils.showSomethingWentWrongToast(requireContext())
                }

                else -> {}
            }
        }.observeInLifecycle(viewLifecycleOwner)
    }

    //checks whether posts are empty or not and replaces the posts accordingly
    private fun checkPostsAndReplace(posts: List<LMFeedPostViewData>) {
        if (posts.isEmpty()) {
            videoFeedAdapter.add(LMFeedCaughtUpViewData.Builder().build())
        } else {
            //cache starting 2 videos
            preCache(0)
            videoFeedAdapter.replace(posts)
        }
    }

    //replaces the video view in the video feed list view
    protected open fun replaceVideoView(position: Int): LMFeedPostVerticalVideoMediaView? {
        //get the video feed binding to play the view in [postVideoView]
        val videoFeedBinding =
            ((binding.vp2VideoFeed[0] as? RecyclerView)?.findViewHolderForAdapterPosition(position) as? LMFeedDataBoundViewHolder<*>)
                ?.binding as? LmFeedItemPostVideoFeedBinding ?: return null

        return videoFeedBinding.postVideoView
    }

    //plays the video at specified position if present in view pager
    fun playVideoInViewPager(position: Int) {
        if (position >= 0 && videoFeedAdapter.items()[position] != null) {
            val data = videoFeedAdapter.items()[position]
            if (data !is LMFeedPostViewData) {
                postVideoPreviewAutoPlayHelper.removePlayer(triggerSwipeOrScrollEvent = true, this)
                return
            }

            val videoView = replaceVideoView(position) ?: return

            val url = data.mediaViewData.attachments.firstOrNull()?.attachmentMeta?.url ?: ""

            //plays the video in the [postVideoView]
            postVideoPreviewAutoPlayHelper.playVideoInView(
                videoPost = videoView,
                url = url,
                config = config ?: LMFeedVideoFeedConfig.Builder().build(),
                videoPlayerListener = this
            )

            //cache videos from next position till [PRECACHE_VIDEO_COUNT]
            preCache(position + 1)
        } else {
            postVideoPreviewAutoPlayHelper.removePlayer()
        }
    }

    override fun onDurationThresholdReached(duration: Long, totalDuration: Long) {
        val currentPosition = binding.vp2VideoFeed.currentItem
        val currentReel = videoFeedAdapter.items()[currentPosition]
        if (currentReel is LMFeedPostViewData) {
            val reelId = currentReel.id
            sendReelViewedEvent(reelId, duration, totalDuration)
        }
    }

    override fun onVideoSwipedOrScrolled(duration: Long, totalDuration: Long) {
        //for reel swiped event
        val currentPosition = binding.vp2VideoFeed.currentItem
        val previousItem = videoFeedAdapter.items().getOrNull(currentPosition - 1)
        if (previousItem != null && previousItem is LMFeedPostViewData) {
            sendReelSwipedEvent(
                previousItem.id,
                duration,
                totalDuration
            )
        }
    }

    override fun onIdleSwipeReached() {
        if (feedType == PERSONALISED_FEED) {
            videoFeedViewModel.helperViewModel.apply {
                setPostSeenInLocalDb()
                postSeen()
            }
        }
    }

    //precache the videos from specified position till [PRECACHE_VIDEO_COUNT]
    private fun preCache(position: Int) {
        CoroutineScope(Dispatchers.IO).launch {
            try {
                for (i in position..position + PRECACHE_VIDEO_COUNT) {
                    if (videoFeedAdapter.itemCount <= i) {
                        return@launch
                    }

                    val data = (videoFeedAdapter.items()[i])
                    if (data !is LMFeedPostViewData) {
                        return@launch
                    }

                    val url =
                        data.mediaViewData.attachments.first().attachmentMeta.url

                    CacheWriter(
                        LMFeedVideoCache.getCacheDataSourceFactory(requireContext().applicationContext)
                            .createDataSource(),
                        DataSpec(
                            Uri.parse(url),
                            0,
                            CACHE_SIZE_EACH_VIDEO
                        ),
                        null
                    ) { _, _, _ -> }.cache()
                }
            } catch (e: Exception) {
                e.printStackTrace()
            }
        }
    }

    override fun onResume() {
        super.onResume()

        val currentItem = binding.vp2VideoFeed.currentItem

        if (currentItem >= 0
            && videoFeedAdapter.itemCount > currentItem
            && videoFeedAdapter.items()[currentItem] != null
        ) {
            playVideoInViewPager(currentItem)
        }
    }

    override fun onHiddenChanged(hidden: Boolean) {
        super.onHiddenChanged(hidden)

        if (hidden) {
            // remove the player when fragment is hidden
            postVideoPreviewAutoPlayHelper.removePlayer()
        } else {
            // play the video when fragment is not hidden
            val currentItem = binding.vp2VideoFeed.currentItem

            if (currentItem >= 0
                && videoFeedAdapter.itemCount > currentItem
                && videoFeedAdapter.items()[currentItem] != null
            ) {
                playVideoInViewPager(currentItem)
            }
        }
    }

    override fun onPause() {
        super.onPause()
        postVideoPreviewAutoPlayHelper.removePlayer()
    }

    override fun onStop() {
        if (feedType == PERSONALISED_FEED) {
            videoFeedViewModel.helperViewModel.setPostSeenInLocalDb()
        }
        super.onStop()
    }

    override fun onDestroyView() {
        super.onDestroyView()
        if (this::videoFeedAdapter.isInitialized && videoFeedAdapter.items().isNotEmpty()) {
            val postItems = videoFeedAdapter.items().filterIsInstance<LMFeedPostViewData>()
            videoFeedViewModel.setViewPagerState(binding.vp2VideoFeed.currentItem, postItems)
        }
        postVideoPreviewAutoPlayHelper.removePlayer()
    }

    //callback when the user clicks on the post like button
    override fun onPostLikeClicked(position: Int, postViewData: LMFeedPostViewData) {
        val userPreferences = LMFeedUserPreferences(requireContext())
        val loggedInUUID = userPreferences.getUUID()

        //call api
        videoFeedViewModel.helperViewModel.likePost(
            postViewData.id,
            postViewData.actionViewData.isLiked,
            loggedInUUID
        )

        val adapterPosition = getIndexAndPostFromAdapter(postViewData.id)?.first ?: return

        //update view pager item
        videoFeedAdapter.update(adapterPosition, postViewData)
    }

    //callback when the user clicks on the post share button
    override fun onPostShareClicked(position: Int, postViewData: LMFeedPostViewData) {
        val userMeta = LMFeedUserMetaData.getInstance()
        LMFeedShareUtils.sharePost(
            requireContext(),
            postViewData.id,
            userMeta.domain ?: "",
            LMFeedCommunityUtil.getPostVariable()
        )

        val loggedInUUID = userPreferences.getUUID()

        LMFeedAnalytics.sendReelSharedEvent(loggedInUUID, postViewData)
    }

    //updates the fromPostLiked/fromPostSaved variables and updates the rv list
    override fun updateFromLikedSaved(position: Int, postViewData: LMFeedPostViewData) {
        val updatedPostData = postViewData.toBuilder()
            .fromPostLiked(false)
            .fromPostSaved(false)
            .build()

        //update view pager item without notifying
        videoFeedAdapter.updateWithoutNotifyingRV(position, updatedPostData)
    }

    //updates [alreadySeenFullContent] for the post
    override fun onPostContentSeeMoreClicked(position: Int, postViewData: LMFeedPostViewData) {
        val adapterPosition = getIndexAndPostFromAdapter(postViewData.id)?.first ?: return

        //update view pager item
        videoFeedAdapter.update(adapterPosition, postViewData)
    }

    //callback when the user clicks on the link in the post content
    override fun onPostContentLinkClicked(url: String) {
        // creates a route and returns an intent to handle the link
        val intent = LMFeedRoute.handleDeepLink(requireContext(), url)
        if (intent != null) {
            try {
                // starts activity with the intent
                ActivityCompat.startActivity(requireContext(), intent, null)
            } catch (e: Exception) {
                e.printStackTrace()
            }
        }
    }

    //callback when the user clicks on the video feed caught up layout
    override fun onPostVideoFeedCaughtUpClicked() {
        super.onPostVideoFeedCaughtUpClicked()

        binding.vp2VideoFeed.apply {
            onFeedRefreshed()
        }
    }

    //callback when the user clicks on the post menu icon in the post action view
    override fun onPostActionMenuClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostActionMenuClicked(position, postViewData)

        val postMenuExtras = LMFeedPostMenuExtras.Builder()
            .postId(postViewData.id)
            .menuItems(postViewData.headerViewData.menuItems)
            .build()

        LMFeedPostMenuBottomSheetFragment.newInstance(childFragmentManager, postMenuExtras)
    }

    //callback when the user clicks on the post author header
    override fun onPostAuthorHeaderClicked(position: Int, postViewData: LMFeedPostViewData) {
        super.onPostAuthorHeaderClicked(position, postViewData)

        val coreCallback = LMFeedCoreApplication.getLMFeedCoreCallback()
        coreCallback?.openProfile(postViewData.headerViewData.user)
    }

    //callback when the tag of the user is clicked
    override fun onPostTaggedMemberClicked(position: Int, uuid: String) {
        super.onPostTaggedMemberClicked(position, uuid)

        val coreCallback = LMFeedCoreApplication.getLMFeedCoreCallback()
        coreCallback?.openProfileWithUUID(uuid)
    }

    //callback when the user clicks on post menu item in the menu bottom sheet
    override fun onPostMenuItemClicked(postId: String, menuItem: LMFeedPostMenuItemViewData) {
        val postWithIndex = getIndexAndPostFromAdapter(postId) ?: return
        val position = postWithIndex.first
        val postViewData = postWithIndex.second

        when (val menuId = menuItem.id) {
            EDIT_POST_MENU_ITEM_ID -> {
                onEditPostMenuClicked(
                    position,
                    menuId,
                    postViewData
                )
            }

            DELETE_POST_MENU_ITEM_ID -> {
                onDeletePostMenuClicked(
                    position,
                    menuId,
                    postViewData
                )
            }

            REPORT_POST_MENU_ITEM_ID -> {
                onReportPostMenuClicked(
                    position,
                    menuId,
                    postViewData
                )
            }

            PIN_POST_MENU_ITEM_ID -> {
                val updatedPostViewData =
                    LMFeedPostBinderUtils.updatePostForPin(requireContext(), postViewData)

                updatedPostViewData?.let {
//                    onPinPostMenuClicked(
//                        position,
//                        menuId,
//                        it
//                    )
                }
            }

            UNPIN_POST_MENU_ITEM_ID -> {
                val updatedPost =
                    LMFeedPostBinderUtils.updatePostForUnpin(requireContext(), postViewData)

                updatedPost?.let {
//                    onUnpinPostMenuClicked(
//                        position,
//                        menuId,
//                        it
//                    )
                }
            }
        }
    }

    //processes the edit post menu click
    protected open fun onEditPostMenuClicked(
        position: Int,
        menuId: Int,
        post: LMFeedPostViewData
    ) {
        //to be implemented
    }

    //processes the delete post menu click
    protected open fun onDeletePostMenuClicked(
        position: Int,
        menuId: Int,
        post: LMFeedPostViewData
    ) {
        val deleteExtras = LMFeedDeleteExtras.Builder()
            .postId(post.id)
            .entityType(DELETE_TYPE_POST)
            .build()

        val postCreatorUUID = post.headerViewData.user.sdkClientInfoViewData.uuid

        val userPreferences = LMFeedUserPreferences(requireContext())
        val loggedInUUID = userPreferences.getUUID()

        if (postCreatorUUID == loggedInUUID) {
            // if the post was created by current user
            LMFeedSelfDeleteDialogFragment.showDialog(
                childFragmentManager,
                deleteExtras
            )
        } else {
            // if the post was not created by current user and they are admin
            LMFeedAdminDeleteDialogFragment.showDialog(
                childFragmentManager,
                deleteExtras
            )
        }
    }

    // launcher to start [ReportActivity] and show success dialog for result
    private val reportPostLauncher =
        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result ->
            if (result.resultCode == Activity.RESULT_OK) {
                val data = result.data?.getStringExtra(LM_FEED_REPORT_RESULT)
                val entityType = if (data == "Post") {
                    LMFeedCommunityUtil.getPostVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                } else {
                    data
                }
                LMFeedReportSuccessDialogFragment(entityType ?: "").show(
                    childFragmentManager,
                    LMFeedReportSuccessDialogFragment.TAG
                )
            }
        }

    //processes the report post menu click
    protected open fun onReportPostMenuClicked(
        position: Int,
        menuId: Int,
        post: LMFeedPostViewData
    ) {
        //create extras for [ReportActivity]
        val reportExtras = LMFeedReportExtras.Builder()
            .entityId(post.id)
            .uuid(post.headerViewData.user.sdkClientInfoViewData.uuid)
            .entityType(REPORT_TYPE_POST)
            .postViewType(post.viewType)
            .build()

        //get Intent for [ReportActivity]
        val intent = LMFeedReportActivity.getIntent(requireContext(), reportExtras)

        //start [ReportActivity] and check for result
        reportPostLauncher.launch(intent)
    }

    /**
     * Adapter Util Block
     **/

    //get index and post from the adapter using postId
    private fun getIndexAndPostFromAdapter(postId: String): Pair<Int, LMFeedPostViewData>? {
        val index = videoFeedAdapter.items().indexOfFirst {
            (it is LMFeedPostViewData) && (it.id == postId)
        }

        if (index == -1) {
            return null
        }

        val post = videoFeedAdapter.items()[index] as? LMFeedPostViewData ?: return null

        return Pair(index, post)
    }

    //send analytics events for explore reels opened
    private fun sendExploreReelsOpenedEvent() {
        val loggedInUUID = userPreferences.getUUID()
        LMFeedAnalytics.sendExploreReelsOpenedEvent(loggedInUUID)
    }

    //send analytics events for no more reels shown
    private fun sendNoMoreReelsShownEvent() {
        val loggedInUUID = userPreferences.getUUID()
        LMFeedAnalytics.sendNoMoreReelsShownEvent(loggedInUUID)
    }

    //send analytics events for reel viewed
    private fun sendReelViewedEvent(reelId: String, watchDuration: Long, totalDuration: Long) {
        val loggedInUUID = userPreferences.getUUID()

        val watchDurationInInt = (watchDuration / 1000).toInt()
        val totalDurationInFloat = totalDuration / 1000f

        LMFeedAnalytics.sendReelsViewedEvent(
            loggedInUUID,
            reelId,
            watchDurationInInt,
            totalDurationInFloat
        )
    }

    //send analytics events for reel swiped
    private fun sendReelSwipedEvent(
        previousReelId: String,
        previousReelWatchDuration: Long,
        previousReelTotalDuration: Long
    ) {
        val loggedInUUID = userPreferences.getUUID()

        val previousWatchDurationInFloat = previousReelWatchDuration / 1000f
        val previousReelTotalDurationInFloat = previousReelTotalDuration / 1000f
        LMFeedAnalytics.sendReelSwipedEvent(
            loggedInUUID,
            previousReelId,
            previousWatchDurationInFloat,
            previousReelTotalDurationInFloat
        )
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/videofeed/viewmodel/LMFeedVideoFeedViewModel.kt
================================================
package com.likeminds.feed.android.core.videofeed.viewmodel

import androidx.lifecycle.ViewModel
import com.likeminds.feed.android.core.post.viewmodel.LMFeedHelperViewModel
import com.likeminds.feed.android.core.post.viewmodel.LMFeedPostViewModel
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData

class LMFeedVideoFeedViewModel : ViewModel() {

    val helperViewModel: LMFeedHelperViewModel by lazy {
        LMFeedHelperViewModel()
    }

    val postViewModel: LMFeedPostViewModel by lazy {
        LMFeedPostViewModel()
    }

    var pageToCall = 0
    var previousTotal: Int = 0
    val adapterItems: MutableList<LMFeedPostViewData> = mutableListOf()
    var postsFinished = false
    var adapterPosition = 0

    // stores the state of the view pager by saving the current position and items in adapter
    fun setViewPagerState(position: Int, items: List<LMFeedPostViewData>) {
        adapterPosition = position
        adapterItems.clear()
        adapterItems.addAll(items)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/videofeed/viewstyle/LMFeedVideoFeedFragmentViewStyle.kt
================================================
package com.likeminds.feed.android.core.videofeed.viewstyle

import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.ui.base.styles.LMFeedIconStyle
import com.likeminds.feed.android.core.ui.base.styles.LMFeedTextStyle
import com.likeminds.feed.android.core.utils.LMFeedViewStyle

/**
 * [LMFeedVideoFeedFragmentViewStyle] helps you to customize the video feed fragment [LMFeedVideoFeedFragment]
 *
 * @property videoFeedCaughtUpIcon : [LMFeedIconStyle] this will help you to customize the icon in the video feed caught up layout | set its value to null if you don't want to show any icon
 * @property videoFeedCaughtUpTitleStyle : [LMFeedTextStyle] this will help you to customize the title in the video feed caught up layout | set its value to null if you don't want to show any title
 * @property videoFeedCaughtUpSubtitleStyle : [LMFeedTextStyle] this will help you to customize the subtitle in the video feed caught up layout | set its value to null if you don't want to show any subtitle
 * */
class LMFeedVideoFeedFragmentViewStyle private constructor(
    val videoFeedCaughtUpIcon: LMFeedIconStyle?,
    val videoFeedCaughtUpTitleStyle: LMFeedTextStyle?,
    val videoFeedCaughtUpSubtitleStyle: LMFeedTextStyle?
) : LMFeedViewStyle {

    class Builder {
        private var videoFeedCaughtUpIcon: LMFeedIconStyle? = LMFeedIconStyle.Builder()
            .inActiveSrc(R.drawable.lm_feed_ic_circle_tick)
            .build()

        private var videoFeedCaughtUpTitleStyle: LMFeedTextStyle? = LMFeedTextStyle.Builder()
            .textSize(R.dimen.lm_feed_video_feed_caught_up_title_size)
            .textColor(R.color.lm_feed_black)
            .fontResource(R.font.lm_feed_roboto_medium)
            .build()

        private var videoFeedCaughtUpSubtitleStyle: LMFeedTextStyle? = LMFeedTextStyle.Builder()
            .textSize(R.dimen.lm_feed_text_large)
            .textColor(R.color.lm_feed_pure_blue)
            .fontResource(R.font.lm_feed_roboto)
            .build()

        fun videoFeedCaughtUpIcon(videoFeedCaughtUpIcon: LMFeedIconStyle?) = apply {
            this.videoFeedCaughtUpIcon = videoFeedCaughtUpIcon
        }

        fun videoFeedCaughtUpTitleStyle(videoFeedCaughtUpTitleStyle: LMFeedTextStyle?) = apply {
            this.videoFeedCaughtUpTitleStyle = videoFeedCaughtUpTitleStyle
        }

        fun videoFeedCaughtUpSubtitleStyle(videoFeedCaughtUpSubtitleStyle: LMFeedTextStyle?) =
            apply {
                this.videoFeedCaughtUpSubtitleStyle = videoFeedCaughtUpSubtitleStyle
            }

        fun build() = LMFeedVideoFeedFragmentViewStyle(
            videoFeedCaughtUpIcon,
            videoFeedCaughtUpTitleStyle,
            videoFeedCaughtUpSubtitleStyle
        )
    }

    fun toBuilder(): Builder {
        return Builder().videoFeedCaughtUpIcon(videoFeedCaughtUpIcon)
            .videoFeedCaughtUpTitleStyle(videoFeedCaughtUpTitleStyle)
            .videoFeedCaughtUpSubtitleStyle(videoFeedCaughtUpSubtitleStyle)
    }
}


================================================
File: likeminds-feed-android-core/src/main/java/com/likeminds/feed/android/core/widget/model/LMFeedWidgetViewData.kt
================================================
package com.likeminds.feed.android.core.widget.model

import org.json.JSONObject

class LMFeedWidgetViewData private constructor(
    val id: String,
    val createdAt: Long,
    val metadata: JSONObject,
    val parentEntityId: String,
    val parentEntityType: String,
    val updatedAt: Long,
) {
    class Builder {
        private var id: String = ""
        private var createdAt: Long = 0L
        private var metadata: JSONObject = JSONObject()
        private var parentEntityId: String = ""
        private var parentEntityType: String = ""
        private var updatedAt: Long = 0L

        fun id(id: String) = apply { this.id = id }
        fun createdAt(createdAt: Long) = apply { this.createdAt = createdAt }
        fun metadata(metadata: JSONObject) = apply { this.metadata = metadata }
        fun parentEntityId(parentEntityId: String) = apply { this.parentEntityId = parentEntityId }
        fun parentEntityType(parentEntityType: String) =
            apply { this.parentEntityType = parentEntityType }

        fun updatedAt(updatedAt: Long) = apply { this.updatedAt = updatedAt }

        fun build() = LMFeedWidgetViewData(
            id,
            createdAt,
            metadata,
            parentEntityId,
            parentEntityType,
            updatedAt
        )
    }

    fun toBuilder(): Builder {
        return Builder()
            .id(id)
            .createdAt(createdAt)
            .metadata(metadata)
            .parentEntityId(parentEntityId)
            .parentEntityType(parentEntityType)
            .updatedAt(updatedAt)
    }

    override fun toString(): String {
        return buildString {
            append("LMFeedWidgetViewData(id='")
            append(id)
            append("', createdAt=")
            append(createdAt)
            append(", metadata=")
            append(metadata)
            append(", parentEntityId='")
            append(parentEntityId)
            append("', parentEntityType='")
            append(parentEntityType)
            append("', updatedAt=")
            append(updatedAt)
            append(")")
        }
    }
}


================================================
File: likeminds-feed-android-core/src/main/res/.DS_Store
================================================
[Non-text file]


================================================
File: likeminds-feed-android-core/src/main/res/anim/lm_feed_bounce.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android">

    <scale
        android:duration="1500"
        android:fromXScale="0.3"
        android:fromYScale="0.3"
        android:pivotX="50%"
        android:pivotY="50%"
        android:toXScale="1.0"
        android:toYScale="1.0" />
</set>


================================================
File: likeminds-feed-android-core/src/main/res/anim/lm_feed_slide_from_left.xml
================================================
<set>
    <translate xmlns:android="http://schemas.android.com/apk/res/android"
        android:duration="@android:integer/config_mediumAnimTime"
        android:fromXDelta="-100%"
        android:interpolator="@android:anim/decelerate_interpolator"
        android:toXDelta="0" />
</set>


================================================
File: likeminds-feed-android-core/src/main/res/anim/lm_feed_slide_to_right.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<set>
    <translate xmlns:android="http://schemas.android.com/apk/res/android"
        android:duration="@android:integer/config_mediumAnimTime"
        android:fromXDelta="0"
        android:interpolator="@android:anim/accelerate_interpolator"
        android:toXDelta="100%" />
</set>


================================================
File: likeminds-feed-android-core/src/main/res/drawable/ic_launcher_foreground.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:aapt="http://schemas.android.com/aapt"
    android:width="108dp"
    android:height="108dp"
    android:viewportWidth="108"
    android:viewportHeight="108">
    <path android:pathData="M31,63.928c0,0 6.4,-11 12.1,-13.1c7.2,-2.6 26,-1.4 26,-1.4l38.1,38.1L107,108.928l-32,-1L31,63.928z">
        <aapt:attr name="android:fillColor">
            <gradient
                android:endX="85.84757"
                android:endY="92.4963"
                android:startX="42.9492"
                android:startY="49.59793"
                android:type="linear">
                <item
                    android:color="#44000000"
                    android:offset="0.0" />
                <item
                    android:color="#00000000"
                    android:offset="1.0" />
            </gradient>
        </aapt:attr>
    </path>
    <path
        android:fillColor="#FFFFFF"
        android:fillType="nonZero"
        android:pathData="M65.3,45.828l3.8,-6.6c0.2,-0.4 0.1,-0.9 -0.3,-1.1c-0.4,-0.2 -0.9,-0.1 -1.1,0.3l-3.9,6.7c-6.3,-2.8 -13.4,-2.8 -19.7,0l-3.9,-6.7c-0.2,-0.4 -0.7,-0.5 -1.1,-0.3C38.8,38.328 38.7,38.828 38.9,39.228l3.8,6.6C36.2,49.428 31.7,56.028 31,63.928h46C76.3,56.028 71.8,49.428 65.3,45.828zM43.4,57.328c-0.8,0 -1.5,-0.5 -1.8,-1.2c-0.3,-0.7 -0.1,-1.5 0.4,-2.1c0.5,-0.5 1.4,-0.7 2.1,-0.4c0.7,0.3 1.2,1 1.2,1.8C45.3,56.528 44.5,57.328 43.4,57.328L43.4,57.328zM64.6,57.328c-0.8,0 -1.5,-0.5 -1.8,-1.2s-0.1,-1.5 0.4,-2.1c0.5,-0.5 1.4,-0.7 2.1,-0.4c0.7,0.3 1.2,1 1.2,1.8C66.5,56.528 65.6,57.328 64.6,57.328L64.6,57.328z"
        android:strokeWidth="1"
        android:strokeColor="#00000000" />
</vector>


================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_background_document.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">

    <solid android:color="@color/lm_feed_white" />

    <stroke
        android:width="1dp"
        android:color="@color/lm_feed_light_grayish_blue" />

    <corners android:radius="8dp" />

</shape>


================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_background_poll_item_selected.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">
    <solid android:color="@color/lm_feed_white" />
    <stroke
        android:width="1dp"
        android:color="@color/lm_feed_majorelle_blue" />
    <corners android:radius="8dp" />
</shape>


================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_background_qna_upvote_button.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">

    <solid android:color="@color/lm_feed_light_grayish_blue" />

    <stroke
        android:width="@dimen/lm_qna_upvote_action_view"
        android:color="@color/lm_feed_cloudy_blue" />

    <corners android:radius="@dimen/lm_feed_corner_radius_large" />

</shape>


================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_background_round_2dp.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">

    <corners android:radius="2dp" />

</shape>


================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_background_round_8dp.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">

    <stroke
        android:width="1dp"
        android:color="@color/lm_feed_majorelle_blue" />

    <solid android:color="@android:color/transparent" />

    <corners android:radius="8dp" />

</shape>


================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_background_selected_filter_topic.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">

    <stroke
        android:width="1dp"
        android:color="@color/lm_feed_majorelle_blue" />
    <corners android:radius="4dp" />

</shape>


================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_bg_input_add_poll_option.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">
    <solid android:color="@color/lm_feed_white" />
    <stroke
        android:width="@dimen/lm_feed_poll_option_input_stroke_width"
        android:color="@color/lm_feed_cloudy_blue" />
    <corners android:radius="8dp" />
</shape>


================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_bg_report_tags.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">
    <solid android:color="@color/lm_feed_white" />
    <stroke
        android:width="1dp"
        android:color="@color/lm_feed_brown_grey" />
    <corners android:radius="18dp" />
</shape>


================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_bg_rounded_top_10dp.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">

    <solid android:color="@color/lm_feed_white" />

    <corners
        android:topLeftRadius="10dp"
        android:topRightRadius="10dp" />

</shape>


================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_bg_sheet_handle.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">

    <corners android:radius="4dp" />

    <solid android:color="@color/lm_feed_light_grey" />

</shape>


================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_circular_progress_bar.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<rotate xmlns:android="http://schemas.android.com/apk/res/android"
    android:fromDegrees="270"
    android:toDegrees="270">

    <!--styling the progress bar-->
    <shape
        android:innerRadiusRatio="3"
        android:shape="ring"
        android:thickness="3dp"
        android:useLevel="true">
        <solid android:color="@color/lm_feed_majorelle_blue" />
    </shape>

</rotate>


================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_circular_shape.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:innerRadiusRatio="3"
    android:shape="ring"
    android:thickness="3dp"
    android:useLevel="false">
    <solid android:color="@color/lm_feed_light_grey" />
</shape>


================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_document_item_divider.xml
================================================
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">
    <solid android:color="@color/lm_feed_white" />
    <size android:height="8dp" />
</shape>


================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_add_image.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
    <path
        android:pathData="M15.75,9.375C15.75,9.673 15.632,9.96 15.42,10.17C15.21,10.382 14.923,10.5 14.625,10.5C14.327,10.5 14.04,10.382 13.83,10.17C13.618,9.96 13.5,9.673 13.5,9.375C13.5,9.077 13.618,8.79 13.83,8.58C14.04,8.369 14.327,8.25 14.625,8.25C14.923,8.25 15.21,8.369 15.42,8.58C15.632,8.79 15.75,9.077 15.75,9.375V9.375ZM21.75,5.25V17.25V18.75C21.75,19.148 21.592,19.529 21.311,19.811C21.029,20.092 20.648,20.25 20.25,20.25H3.75C3.352,20.25 2.971,20.092 2.689,19.811C2.408,19.529 2.25,19.148 2.25,18.75V15.75V5.25C2.25,4.852 2.408,4.471 2.689,4.189C2.971,3.908 3.352,3.75 3.75,3.75H20.25C20.648,3.75 21.029,3.908 21.311,4.189C21.592,4.471 21.75,4.852 21.75,5.25ZM20.25,15.441V5.25H3.75V13.941L7.191,10.5C7.473,10.222 7.854,10.066 8.25,10.066C8.646,10.066 9.027,10.222 9.309,10.5L13.5,14.691L15.441,12.75C15.723,12.472 16.104,12.316 16.5,12.316C16.896,12.316 17.277,12.472 17.559,12.75L20.25,15.441Z"
        android:fillColor="#ED8031"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_add_option.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="30"
    android:viewportHeight="30">
  <path
      android:strokeWidth="1"
      android:pathData="M22.071,7.929L22.071,7.929A10,10 0,0 1,22.071 22.071L22.071,22.071A10,10 0,0 1,7.929 22.071L7.929,22.071A10,10 0,0 1,7.929 7.929L7.929,7.929A10,10 0,0 1,22.071 7.929z"
      android:fillColor="#ffffff"
      android:fillAlpha="0.01"
      android:strokeColor="#5046E5"/>
  <path
      android:pathData="M10.832,14.499C10.515,14.499 10.259,14.755 10.259,15.072C10.259,15.388 10.515,15.644 10.832,15.644L14.427,15.644V19.24C14.427,19.557 14.683,19.813 15,19.813C15.316,19.813 15.573,19.557 15.573,19.24V15.644L19.311,15.644C19.628,15.644 19.884,15.388 19.884,15.072C19.884,14.755 19.628,14.499 19.311,14.499L15.573,14.499L15.573,10.761C15.573,10.444 15.316,10.188 15,10.188C14.683,10.188 14.427,10.444 14.427,10.761L14.427,14.499L10.832,14.499Z"
      android:strokeAlpha="0.9"
      android:fillColor="#5046E5"
      android:fillType="evenOdd"
      android:fillAlpha="0.9"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_add_topics.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="12dp"
    android:height="12dp"
    android:viewportWidth="12"
    android:viewportHeight="12">
  <path
      android:pathData="M0,6C0,6.165 0.059,6.307 0.178,6.426C0.297,6.54 0.436,6.597 0.597,6.597H5.407V11.411C5.407,11.571 5.464,11.708 5.578,11.822C5.697,11.941 5.839,12 6.004,12C6.164,12 6.301,11.941 6.414,11.822C6.528,11.708 6.585,11.571 6.585,11.411V6.597H11.411C11.571,6.597 11.708,6.54 11.822,6.426C11.941,6.307 12,6.165 12,6C12,5.84 11.941,5.703 11.822,5.589C11.708,5.47 11.571,5.411 11.411,5.411H6.585V0.589C6.585,0.434 6.528,0.297 6.414,0.178C6.301,0.059 6.164,0 6.004,0C5.839,0 5.697,0.059 5.578,0.178C5.464,0.297 5.407,0.434 5.407,0.589V5.411H0.597C0.436,5.411 0.297,5.47 0.178,5.589C0.059,5.703 0,5.84 0,6Z"
      android:fillColor="#5046E5"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_add_video.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
    <path
        android:pathData="M16.5,8.625V17.625C16.5,18.023 16.342,18.404 16.061,18.686C15.779,18.967 15.398,19.125 15,19.125H4.5C4.008,19.125 3.52,19.028 3.065,18.84C2.61,18.651 2.197,18.375 1.848,18.027C1.145,17.323 0.75,16.37 0.75,15.375V6.375C0.75,5.977 0.908,5.596 1.189,5.314C1.471,5.033 1.852,4.875 2.25,4.875H12.75C13.745,4.875 14.698,5.27 15.402,5.973C16.105,6.677 16.5,7.63 16.5,8.625ZM22.875,6.853C22.762,6.784 22.632,6.748 22.5,6.748C22.368,6.748 22.238,6.784 22.125,6.853L18.375,8.991C18.26,9.057 18.165,9.153 18.099,9.268C18.033,9.383 17.999,9.514 18,9.647V14.353C17.999,14.486 18.033,14.617 18.099,14.732C18.165,14.847 18.26,14.943 18.375,15.009L22.125,17.147C22.239,17.212 22.368,17.248 22.5,17.25C22.632,17.249 22.761,17.214 22.875,17.147C22.99,17.083 23.085,16.989 23.151,16.875C23.217,16.761 23.251,16.632 23.25,16.5V7.5C23.251,7.368 23.217,7.239 23.151,7.125C23.085,7.011 22.99,6.917 22.875,6.853Z"
        android:fillColor="#7B61FF"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_arrow_back_black_24dp.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:tint="#000000"
    android:viewportWidth="24.0"
    android:viewportHeight="24.0">
    <path
        android:fillColor="#000000"
        android:pathData="M20,11H7.83l5.59,-5.59L12,4l-8,8 8,8 1.41,-1.41L7.83,13H20v-2z" />
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_arrow_down.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="16dp"
    android:height="16dp"
    android:viewportWidth="16"
    android:viewportHeight="16">
  <group>
    <clip-path
        android:pathData="M0,0h16v16h-16z"/>
    <path
        android:pathData="M8.526,15.782L13.287,11.021C13.578,10.73 13.578,10.259 13.287,9.969C12.997,9.678 12.526,9.678 12.235,9.969L8.744,13.46V0.744C8.744,0.333 8.411,0 8,0C7.589,0 7.256,0.333 7.256,0.744L7.256,13.46L3.765,9.969C3.474,9.678 3.003,9.678 2.713,9.969C2.567,10.114 2.495,10.304 2.495,10.495C2.495,10.685 2.567,10.876 2.713,11.021L7.474,15.782C7.765,16.073 8.236,16.073 8.526,15.782Z"
        android:fillColor="#666666"/>
  </group>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_arrow_drop_down.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
    <path
        android:fillAlpha="0.54"
        android:fillColor="#FF000000"
        android:fillType="evenOdd"
        android:pathData="M7,9L12,14 17,9z"
        android:strokeAlpha="0.54" />
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_arrow_edge_down.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
    <path
        android:fillColor="@color/lm_feed_grey"
        android:pathData="M7.41,8.59L12,13.17l4.59,-4.58L18,10l-6,6 -6,-6 1.41,-1.41z" />
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_arrow_edge_up.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
    <path
        android:fillColor="@color/lm_feed_grey"
        android:pathData="M7.41,15.41L12,10.83l4.59,4.58L18,14l-6,-6 -6,6z" />
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_arrow_right_white.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="20dp"
    android:height="20dp"
    android:viewportWidth="20"
    android:viewportHeight="20">
  <path
      android:pathData="M10,0L8.25,1.75L15.25,8.75H0V11.25H15.25L8.25,18.25L10,20L20,10L10,0Z"
      android:fillColor="#ffffff"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_attach_files.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="22dp"
    android:height="22dp"
    android:viewportWidth="22"
    android:viewportHeight="22">
    <path
        android:pathData="M13.75,6.875L6.591,14.154C6.354,14.415 6.227,14.758 6.236,15.111C6.244,15.464 6.389,15.8 6.638,16.049C6.888,16.299 7.224,16.443 7.577,16.452C7.929,16.46 8.272,16.333 8.534,16.096L17.067,7.442C17.541,6.919 17.796,6.234 17.778,5.528C17.761,4.822 17.473,4.15 16.974,3.651C16.475,3.152 15.803,2.864 15.097,2.847C14.391,2.829 13.706,3.084 13.183,3.558L4.649,12.212C3.877,12.984 3.443,14.032 3.443,15.125C3.443,16.218 3.877,17.266 4.649,18.038C5.422,18.811 6.47,19.245 7.563,19.245C8.655,19.245 9.703,18.811 10.476,18.038L17.531,11"
        android:strokeLineJoin="round"
        android:strokeWidth="1.2"
        android:fillColor="#00000000"
        android:strokeColor="#504B4B"
        android:strokeLineCap="round"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_bookmark_filled.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="12dp"
    android:height="18dp"
    android:viewportWidth="12"
    android:viewportHeight="18">
    <path
        android:fillColor="#484F67"
        android:pathData="M2.25,1H9.75C10.44,1 11,1.551 11,2.231V17L6,12.077L1,17V2.231C1,1.551 1.56,1 2.25,1Z"
        android:strokeWidth="1"
        android:strokeColor="#484F67"
        android:strokeLineCap="round"
        android:strokeLineJoin="round" />
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_bookmark_unfilled.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="12dp"
    android:height="18dp"
    android:viewportWidth="12"
    android:viewportHeight="18">
    <path
        android:strokeWidth="1"
        android:pathData="M2.25,1H9.75C10.44,1 11,1.551 11,2.231V17L6,12.077L1,17V2.231C1,1.551 1.56,1 2.25,1Z"
        android:strokeLineJoin="round"
        android:fillColor="#00000000"
        android:strokeColor="#504B4B"
        android:strokeLineCap="round"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_check_circle.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="28dp"
    android:height="28dp"
    android:tint="@color/lm_feed_majorelle_blue"
    android:viewportWidth="24"
    android:viewportHeight="24">
    <path
        android:fillColor="#FF000000"
        android:pathData="M12,2C6.48,2 2,6.48 2,12s4.48,10 10,10 10,-4.48 10,-10S17.52,2 12,2zM10,17l-5,-5 1.41,-1.41L10,14.17l7.59,-7.59L19,8l-9,9z" />
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_circle_tick.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
  <path
      android:pathData="M16.281,9.219C16.35,9.289 16.406,9.372 16.443,9.463C16.481,9.554 16.501,9.651 16.501,9.75C16.501,9.849 16.481,9.946 16.443,10.037C16.406,10.128 16.35,10.211 16.281,10.281L11.031,15.531C10.961,15.6 10.878,15.656 10.787,15.693C10.696,15.731 10.599,15.751 10.5,15.751C10.401,15.751 10.304,15.731 10.213,15.693C10.122,15.656 10.039,15.6 9.969,15.531L7.719,13.281C7.579,13.14 7.5,12.949 7.5,12.75C7.5,12.551 7.579,12.36 7.719,12.219C7.86,12.079 8.051,12 8.25,12C8.449,12 8.64,12.079 8.781,12.219L10.5,13.94L15.219,9.219C15.289,9.15 15.372,9.094 15.463,9.057C15.554,9.019 15.651,8.999 15.75,8.999C15.849,8.999 15.946,9.019 16.037,9.057C16.128,9.094 16.211,9.15 16.281,9.219ZM21.75,12C21.75,13.928 21.178,15.813 20.107,17.417C19.035,19.02 17.513,20.27 15.731,21.008C13.95,21.746 11.989,21.939 10.098,21.563C8.207,21.187 6.469,20.258 5.106,18.894C3.742,17.531 2.814,15.793 2.437,13.902C2.061,12.011 2.254,10.05 2.992,8.269C3.73,6.487 4.98,4.965 6.583,3.893C8.187,2.822 10.072,2.25 12,2.25C14.585,2.253 17.063,3.281 18.891,5.109C20.719,6.937 21.747,9.415 21.75,12ZM20.25,12C20.25,10.368 19.766,8.773 18.86,7.417C17.953,6.06 16.665,5.002 15.157,4.378C13.65,3.754 11.991,3.59 10.391,3.909C8.79,4.227 7.32,5.013 6.166,6.166C5.013,7.32 4.227,8.79 3.909,10.391C3.59,11.991 3.754,13.65 4.378,15.157C5.002,16.665 6.06,17.953 7.417,18.86C8.773,19.766 10.368,20.25 12,20.25C14.187,20.247 16.284,19.378 17.831,17.831C19.378,16.284 20.247,14.187 20.25,12Z"
      android:fillColor="#000000"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_comment.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
    <path
        android:pathData="M4.256,16.594C3.139,14.71 2.749,12.483 3.158,10.331C3.566,8.18 4.746,6.251 6.476,4.908C8.206,3.565 10.367,2.9 12.552,3.037C14.738,3.174 16.799,4.104 18.347,5.652C19.896,7.201 20.826,9.261 20.963,11.447C21.1,13.633 20.435,15.794 19.091,17.523C17.748,19.253 15.82,20.433 13.668,20.842C11.517,21.251 9.29,20.86 7.406,19.744V19.744L4.294,20.625C4.166,20.662 4.031,20.665 3.902,20.632C3.773,20.599 3.656,20.532 3.562,20.438C3.468,20.344 3.401,20.226 3.368,20.098C3.335,19.969 3.337,19.834 3.375,19.706L4.256,16.594Z"
        android:strokeLineJoin="round"
        android:strokeWidth="1.2"
        android:fillColor="#00000000"
        android:strokeColor="#504B4B"
        android:strokeLineCap="round"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_comment_send_disable.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="48dp"
    android:height="48dp"
    android:viewportWidth="48"
    android:viewportHeight="48">
  <path
      android:pathData="M38.758,24.035C38.758,24.96 38.227,25.755 37.373,26.109L18.608,33.896C17.834,34.217 16.938,34.091 16.277,33.519C15.63,32.959 15.359,32.096 15.571,31.267L16.755,26.625L25.5,24.001L16.721,21.315L15.571,16.803C15.359,15.974 15.63,15.111 16.277,14.551C16.917,13.997 17.809,13.843 18.608,14.174L37.373,21.961C38.227,22.315 38.758,23.11 38.758,24.035Z"
      android:strokeAlpha="0.5"
      android:fillColor="#5046E5"
      android:fillType="evenOdd"
      android:fillAlpha="0.5"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_comment_send_enable.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="48dp"
    android:height="48dp"
    android:viewportWidth="48"
    android:viewportHeight="48">
    <path
        android:fillColor="#5046E5"
        android:fillType="evenOdd"
        android:pathData="M38.758,24.035C38.758,24.96 38.227,25.755 37.373,26.109L18.608,33.896C17.834,34.217 16.938,34.091 16.277,33.519C15.63,32.959 15.359,32.096 15.571,31.267L16.755,26.625L25.5,24.001L16.721,21.315L15.571,16.803C15.359,15.974 15.63,15.111 16.277,14.551C16.917,13.997 17.809,13.843 18.608,14.174L37.373,21.961C38.227,22.315 38.758,23.11 38.758,24.035Z" />
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_completed_green.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="96dp"
    android:height="96dp"
    android:viewportWidth="96"
    android:viewportHeight="96">
    <path
        android:fillColor="#6BBE66"
        android:fillType="evenOdd"
        android:pathData="M48,0c26.51,0 48,21.49 48,48S74.51,96 48,96S0,74.51 0,48S21.49,0 48,0L48,0zM26.764,49.277c0.644,-3.734 4.906,-5.813 8.269,-3.79c0.305,0.182 0.596,0.398 0.867,0.646l0.026,0.025c1.509,1.446 3.2,2.951 4.876,4.443l1.438,1.291l17.063,-17.898c1.019,-1.067 1.764,-1.757 3.293,-2.101c5.235,-1.155 8.916,5.244 5.206,9.155L46.536,63.366c-2.003,2.137 -5.583,2.332 -7.736,0.291c-1.234,-1.146 -2.576,-2.312 -3.933,-3.489c-2.35,-2.042 -4.747,-4.125 -6.701,-6.187C26.993,52.809 26.487,50.89 26.764,49.277L26.764,49.277z" />
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_cross.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="26dp"
    android:height="26dp"
    android:viewportWidth="26"
    android:viewportHeight="26">
  <path
      android:strokeWidth="1"
      android:pathData="M13,13m-12,0a12,12 0,1 1,24 0a12,12 0,1 1,-24 0"
      android:fillColor="#ffffff"
      android:strokeColor="#666666"/>
  <path
      android:pathData="M13.686,13L17.114,9.572L16.428,8.886L13,12.314L9.572,8.886L8.886,9.572L12.314,13L8.886,16.428L9.572,17.114L13,13.686L16.428,17.114L17.114,16.428L13.686,13Z"
      android:fillColor="#666666"
      android:fillType="evenOdd"/>
  <path
      android:pathData="M17.114,9.572L17.468,9.925L17.821,9.572L17.468,9.218L17.114,9.572ZM13.686,13L13.332,12.646L12.979,13L13.332,13.354L13.686,13ZM16.428,8.886L16.782,8.532L16.428,8.179L16.075,8.532L16.428,8.886ZM13,12.314L12.646,12.668L13,13.021L13.354,12.668L13,12.314ZM9.572,8.886L9.925,8.532L9.572,8.179L9.218,8.532L9.572,8.886ZM8.886,9.572L8.532,9.218L8.179,9.572L8.532,9.925L8.886,9.572ZM12.314,13L12.668,13.354L13.021,13L12.668,12.646L12.314,13ZM8.886,16.428L8.532,16.075L8.179,16.428L8.532,16.782L8.886,16.428ZM9.572,17.114L9.218,17.468L9.572,17.821L9.925,17.468L9.572,17.114ZM13,13.686L13.354,13.332L13,12.979L12.646,13.332L13,13.686ZM16.428,17.114L16.075,17.468L16.428,17.821L16.782,17.468L16.428,17.114ZM17.114,16.428L17.468,16.782L17.821,16.428L17.468,16.075L17.114,16.428ZM16.76,9.218L13.332,12.646L14.039,13.354L17.468,9.925L16.76,9.218ZM16.075,9.239L16.76,9.925L17.468,9.218L16.782,8.532L16.075,9.239ZM13.354,12.668L16.782,9.239L16.075,8.532L12.646,11.961L13.354,12.668ZM9.218,9.239L12.646,12.668L13.354,11.961L9.925,8.532L9.218,9.239ZM9.239,9.925L9.925,9.239L9.218,8.532L8.532,9.218L9.239,9.925ZM12.668,12.646L9.239,9.218L8.532,9.925L11.961,13.354L12.668,12.646ZM9.239,16.782L12.668,13.354L11.961,12.646L8.532,16.075L9.239,16.782ZM9.925,16.76L9.239,16.075L8.532,16.782L9.218,17.468L9.925,16.76ZM12.646,13.332L9.218,16.76L9.925,17.468L13.354,14.039L12.646,13.332ZM16.782,16.76L13.354,13.332L12.646,14.039L16.075,17.468L16.782,16.76ZM16.76,16.075L16.075,16.76L16.782,17.468L17.468,16.782L16.76,16.075ZM13.332,13.354L16.76,16.782L17.468,16.075L14.039,12.646L13.332,13.354Z"
      android:fillColor="#666666"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_cross_black.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="14dp"
    android:height="13dp"
    android:viewportWidth="14"
    android:viewportHeight="13">
    <path
        android:fillColor="#000"
        android:fillType="nonZero"
        android:pathData="M1,1L12.785,12.049M12.785,1L1,12.049"
        android:strokeWidth="2"
        android:strokeColor="#000" />
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_cross_circle.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="26dp"
    android:height="26dp"
    android:viewportWidth="26"
    android:viewportHeight="26">
  <path
      android:strokeWidth="1"
      android:pathData="M13,13m-12,0a12,12 0,1 1,24 0a12,12 0,1 1,-24 0"
      android:fillColor="#ffffff"
      android:strokeColor="#333333"/>
  <path
      android:pathData="M13.686,13L17.114,9.572L16.428,8.886L13,12.314L9.572,8.886L8.886,9.572L12.314,13L8.886,16.428L9.572,17.114L13,13.686L16.428,17.114L17.114,16.428L13.686,13Z"
      android:fillColor="#333333"
      android:fillType="evenOdd"/>
  <path
      android:pathData="M17.114,9.572L17.468,9.925L17.821,9.572L17.468,9.218L17.114,9.572ZM13.686,13L13.332,12.646L12.979,13L13.332,13.354L13.686,13ZM16.428,8.886L16.782,8.532L16.428,8.179L16.075,8.532L16.428,8.886ZM13,12.314L12.646,12.668L13,13.021L13.354,12.668L13,12.314ZM9.572,8.886L9.925,8.532L9.572,8.179L9.218,8.532L9.572,8.886ZM8.886,9.572L8.532,9.218L8.179,9.572L8.532,9.925L8.886,9.572ZM12.314,13L12.668,13.354L13.021,13L12.668,12.646L12.314,13ZM8.886,16.428L8.532,16.075L8.179,16.428L8.532,16.782L8.886,16.428ZM9.572,17.114L9.218,17.468L9.572,17.821L9.925,17.468L9.572,17.114ZM13,13.686L13.354,13.332L13,12.979L12.646,13.332L13,13.686ZM16.428,17.114L16.075,17.468L16.428,17.821L16.782,17.468L16.428,17.114ZM17.114,16.428L17.468,16.782L17.821,16.428L17.468,16.075L17.114,16.428ZM16.76,9.218L13.332,12.646L14.039,13.354L17.468,9.925L16.76,9.218ZM16.075,9.239L16.76,9.925L17.468,9.218L16.782,8.532L16.075,9.239ZM13.354,12.668L16.782,9.239L16.075,8.532L12.646,11.961L13.354,12.668ZM9.218,9.239L12.646,12.668L13.354,11.961L9.925,8.532L9.218,9.239ZM9.239,9.925L9.925,9.239L9.218,8.532L8.532,9.218L9.239,9.925ZM12.668,12.646L9.239,9.218L8.532,9.925L11.961,13.354L12.668,12.646ZM9.239,16.782L12.668,13.354L11.961,12.646L8.532,16.075L9.239,16.782ZM9.925,16.76L9.239,16.075L8.532,16.782L9.218,17.468L9.925,16.76ZM12.646,13.332L9.218,16.76L9.925,17.468L13.354,14.039L12.646,13.332ZM16.782,16.76L13.354,13.332L12.646,14.039L16.075,17.468L16.782,16.76ZM16.76,16.075L16.075,16.76L16.782,17.468L17.468,16.782L16.76,16.075ZM13.332,13.354L16.76,16.782L17.468,16.075L14.039,12.646L13.332,13.354Z"
      android:fillColor="#333333"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_cross_topics.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="20dp"
    android:height="20dp"
    android:viewportWidth="20"
    android:viewportHeight="20">
  <path
      android:pathData="M0,0h20v20h-20z"
      android:strokeAlpha="0.01"
      android:fillColor="#ffffff"
      android:fillAlpha="0.01"/>
  <path
      android:pathData="M5.926,5.926L14.656,14.11L5.926,5.926Z"
      android:fillColor="#5046E5"/>
  <path
      android:strokeWidth="1"
      android:pathData="M5.926,5.926L14.656,14.11"
      android:fillColor="#00000000"
      android:strokeColor="#5046E5"/>
  <path
      android:pathData="M14.656,5.926L5.926,14.11L14.656,5.926Z"
      android:fillColor="#5046E5"/>
  <path
      android:strokeWidth="1"
      android:pathData="M14.656,5.926L5.926,14.11"
      android:fillColor="#00000000"
      android:strokeColor="#5046E5"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_delete.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
  <path
      android:pathData="M15.5,4H19V6H5V4H8.5L9.5,3H14.5L15.5,4ZM8,21C6.9,21 6,20.1 6,19V7H18V19C18,20.1 17.1,21 16,21H8Z"
      android:fillColor="#333333"
      android:fillType="evenOdd"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_doc_attachment.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="12dp"
    android:height="14dp"
    android:viewportWidth="12"
    android:viewportHeight="14">
    <path
        android:fillColor="#ffffff"
        android:fillType="evenOdd"
        android:pathData="M10.471,14C11.224,14 11.833,13.436 11.833,12.739V3.201H9.091C8.894,3.201 8.751,3.052 8.751,2.886V0H1.511C0.776,0 0.167,0.547 0.167,1.244V12.756C0.167,13.436 0.758,14 1.511,14H10.471ZM9.432,0.498V2.571H11.421L9.432,0.498Z" />
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_edit_poll.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
  <path
      android:pathData="M19.674,5.882L18.223,4.423C17.662,3.86 16.751,3.86 16.188,4.423L14.798,5.82L18.052,9.091L19.674,7.461C20.109,7.024 20.109,6.319 19.674,5.882ZM13.951,6.671L17.205,9.941L8.968,18.22L5.716,14.949L13.951,6.671ZM4.461,19.989C4.194,20.054 3.954,19.814 4.013,19.546L4.835,15.835L8.087,19.105L4.461,19.989Z"
      android:fillColor="#333333"
      android:fillType="evenOdd"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_edit_topic.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="12dp"
    android:height="12dp"
    android:viewportWidth="12"
    android:viewportHeight="12">
  <path
      android:pathData="M11.754,1.411L10.666,0.317C10.245,-0.106 9.562,-0.106 9.14,0.317L8.097,1.365L10.538,3.818L11.754,2.596C12.08,2.268 12.08,1.739 11.754,1.411ZM7.462,2.003L9.902,4.456L3.724,10.665L1.285,8.212L7.462,2.003ZM0.344,11.992C0.144,12.041 -0.037,11.861 0.008,11.66L0.624,8.876L3.064,11.329L0.344,11.992Z"
      android:fillColor="#5046E5"
      android:fillType="evenOdd"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_img_attachment.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="16dp"
    android:height="12dp"
    android:viewportWidth="16"
    android:viewportHeight="12">
  <path
      android:pathData="M10.727,4.091C10.727,4.308 10.641,4.516 10.488,4.669C10.334,4.823 10.126,4.909 9.909,4.909C9.692,4.909 9.484,4.823 9.331,4.669C9.177,4.516 9.091,4.308 9.091,4.091C9.091,3.874 9.177,3.666 9.331,3.512C9.484,3.359 9.692,3.273 9.909,3.273C10.126,3.273 10.334,3.359 10.488,3.512C10.641,3.666 10.727,3.874 10.727,4.091ZM15.091,1.091V9.818V10.909C15.091,11.198 14.976,11.476 14.771,11.681C14.567,11.885 14.289,12 14,12H2C1.711,12 1.433,11.885 1.229,11.681C1.024,11.476 0.909,11.198 0.909,10.909V8.727V1.091C0.909,0.802 1.024,0.524 1.229,0.32C1.433,0.115 1.711,0 2,0H14C14.289,0 14.567,0.115 14.771,0.32C14.976,0.524 15.091,0.802 15.091,1.091ZM14,8.502V1.091H2V7.411L4.502,4.909C4.708,4.707 4.984,4.593 5.273,4.593C5.561,4.593 5.838,4.707 6.043,4.909L9.091,7.957L10.502,6.545C10.708,6.343 10.984,6.23 11.273,6.23C11.561,6.23 11.838,6.343 12.043,6.545L14,8.502Z"
      android:fillColor="#ffffff"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_large_tick.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="108dp"
    android:height="109dp"
    android:viewportWidth="108"
    android:viewportHeight="109">
  <path
      android:pathData="M54.07,108.39C46.69,108.39 39.76,106.98 33.27,104.17C26.79,101.36 21.09,97.49 16.16,92.57C11.24,87.64 7.38,81.94 4.56,75.46C1.75,68.97 0.34,62.04 0.34,54.66C0.34,47.27 1.73,40.34 4.5,33.86C7.32,27.37 11.18,21.67 16.11,16.75C21.07,11.82 26.79,7.96 33.27,5.14C39.76,2.33 46.69,0.93 54.07,0.93C61.46,0.93 68.39,2.33 74.88,5.14C81.4,7.96 87.12,11.82 92.04,16.75C96.96,21.67 100.81,27.37 103.59,33.86C106.4,40.34 107.81,47.27 107.81,54.66C107.81,62.04 106.4,68.97 103.59,75.46C100.81,81.94 96.95,87.64 91.98,92.57C87.06,97.49 81.36,101.36 74.88,104.17C68.39,106.98 61.46,108.39 54.07,108.39ZM54.07,105.11C61.07,105.11 67.61,103.8 73.7,101.18C79.8,98.56 85.15,94.95 89.76,90.34C94.37,85.69 97.98,80.32 100.6,74.23C103.25,68.13 104.58,61.61 104.58,54.66C104.58,47.66 103.25,41.14 100.6,35.09C97.98,28.99 94.37,23.64 89.76,19.03C85.15,14.38 79.78,10.75 73.64,8.13C67.55,5.48 61.03,4.15 54.07,4.15C47.12,4.15 40.6,5.48 34.5,8.13C28.41,10.75 23.04,14.38 18.39,19.03C13.78,23.64 10.17,28.99 7.55,35.09C4.93,41.14 3.63,47.66 3.63,54.66C3.63,61.61 4.93,68.13 7.55,74.23C10.17,80.32 13.78,85.69 18.39,90.34C23.04,94.95 28.41,98.56 34.5,101.18C40.6,103.8 47.12,105.11 54.07,105.11ZM48.27,80.79C47.92,80.79 47.61,80.73 47.34,80.61C47.1,80.5 46.87,80.28 46.63,79.97L29.64,60.34C29.25,59.79 29.05,59.32 29.05,58.93C29.05,58.46 29.21,58.09 29.52,57.82C29.88,57.51 30.27,57.35 30.7,57.35C31.01,57.35 31.28,57.41 31.52,57.53C31.75,57.64 31.96,57.82 32.16,58.05L48.21,76.57L76.69,32.39C77.16,31.77 77.67,31.45 78.21,31.45C78.61,31.45 78.96,31.63 79.27,31.98C79.62,32.29 79.8,32.64 79.8,33.04C79.8,33.23 79.76,33.45 79.68,33.68C79.6,33.88 79.52,34.05 79.45,34.21L49.86,79.97C49.35,80.52 48.82,80.79 48.27,80.79Z"
      android:fillColor="#000000"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_like_comment_filled.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
  <path
      android:pathData="M12.378,17.299L17.44,12.237C18.684,10.987 18.865,8.943 17.69,7.637C17.396,7.307 17.037,7.042 16.636,6.856C16.235,6.67 15.801,6.568 15.359,6.556C14.918,6.543 14.478,6.621 14.068,6.784C13.657,6.948 13.284,7.193 12.972,7.505L12.022,8.462L11.203,7.637C9.953,6.393 7.909,6.212 6.603,7.387C6.274,7.681 6.008,8.04 5.822,8.441C5.636,8.842 5.534,9.276 5.522,9.718C5.509,10.159 5.587,10.599 5.751,11.009C5.914,11.42 6.159,11.793 6.472,12.105L11.665,17.299C11.76,17.393 11.888,17.446 12.022,17.446C12.155,17.446 12.283,17.393 12.378,17.299Z"
      android:strokeLineJoin="round"
      android:strokeWidth="1.2"
      android:fillColor="#FB1609"
      android:strokeColor="#FB1609"
      android:strokeLineCap="round"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_like_comment_unfilled.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
  <path
      android:pathData="M12.378,17.299L17.44,12.237C18.684,10.987 18.865,8.943 17.69,7.637C17.396,7.307 17.037,7.042 16.636,6.856C16.235,6.67 15.801,6.568 15.359,6.556C14.918,6.543 14.478,6.621 14.068,6.784C13.657,6.948 13.284,7.193 12.972,7.505L12.022,8.462L11.203,7.637C9.953,6.393 7.909,6.212 6.603,7.387C6.274,7.681 6.008,8.04 5.822,8.441C5.636,8.842 5.534,9.276 5.522,9.718C5.509,10.159 5.587,10.599 5.751,11.009C5.914,11.42 6.159,11.793 6.472,12.105L11.665,17.299C11.76,17.393 11.888,17.446 12.022,17.446C12.155,17.446 12.283,17.393 12.378,17.299Z"
      android:strokeAlpha="0.4"
      android:strokeLineJoin="round"
      android:strokeWidth="1.2"
      android:fillColor="#00000000"
      android:strokeColor="#0F1E3D"
      android:strokeLineCap="round"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_like_filled.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
    <path
        android:pathData="M12.534,19.866L20.128,12.273C21.993,10.398 22.265,7.332 20.503,5.372C20.061,4.879 19.523,4.48 18.921,4.201C18.32,3.923 17.669,3.769 17.006,3.751C16.344,3.732 15.684,3.849 15.069,4.094C14.453,4.339 13.893,4.707 13.425,5.176L12,6.61L10.771,5.372C8.897,3.507 5.831,3.235 3.872,4.997C3.378,5.44 2.979,5.978 2.7,6.579C2.422,7.18 2.268,7.832 2.25,8.494C2.232,9.157 2.348,9.816 2.593,10.432C2.838,11.047 3.206,11.607 3.675,12.076L11.465,19.866C11.608,20.007 11.8,20.086 12,20.086C12.2,20.086 12.392,20.007 12.534,19.866Z"
        android:strokeLineJoin="round"
        android:strokeWidth="1.2"
        android:fillColor="#FB1609"
        android:strokeColor="#FB1609"
        android:strokeLineCap="round"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_like_unfilled.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
    <path
        android:pathData="M12.534,19.866L20.128,12.273C21.993,10.398 22.265,7.332 20.503,5.372C20.061,4.879 19.523,4.48 18.921,4.201C18.32,3.923 17.669,3.769 17.006,3.751C16.344,3.732 15.684,3.849 15.069,4.094C14.453,4.339 13.893,4.707 13.425,5.176L12,6.61L10.771,5.372C8.897,3.507 5.831,3.235 3.872,4.997C3.378,5.44 2.979,5.978 2.7,6.579C2.422,7.18 2.268,7.832 2.25,8.494C2.232,9.157 2.348,9.816 2.593,10.432C2.838,11.047 3.206,11.607 3.675,12.076L11.465,19.866C11.608,20.007 11.8,20.086 12,20.086C12.2,20.086 12.392,20.007 12.534,19.866Z"
        android:strokeLineJoin="round"
        android:strokeWidth="1.2"
        android:fillColor="#00000000"
        android:strokeColor="#504B4B"
        android:strokeLineCap="round"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_like_white.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
  <path
      android:pathData="M12.534,19.866L20.128,12.273C21.993,10.398 22.265,7.332 20.503,5.372C20.061,4.879 19.523,4.48 18.921,4.201C18.32,3.923 17.669,3.769 17.006,3.751C16.344,3.732 15.684,3.849 15.069,4.094C14.453,4.339 13.893,4.707 13.425,5.176L12,6.61L10.771,5.372C8.897,3.507 5.831,3.235 3.872,4.997C3.378,5.44 2.979,5.978 2.7,6.579C2.422,7.18 2.268,7.832 2.25,8.494C2.232,9.157 2.348,9.816 2.593,10.432C2.838,11.047 3.206,11.607 3.675,12.076L11.465,19.866C11.608,20.007 11.8,20.086 12,20.086C12.2,20.086 12.392,20.007 12.534,19.866Z"
      android:strokeLineJoin="round"
      android:strokeWidth="1.2"
      android:fillColor="#00000000"
      android:strokeColor="#ffffff"
      android:strokeLineCap="round"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_link.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="40dp"
    android:height="40dp"
    android:viewportWidth="24.0"
    android:viewportHeight="24.0">
    <path
        android:fillColor="#FF000000"
        android:pathData="M3.9,12c0,-1.71 1.39,-3.1 3.1,-3.1h4L11,7L7,7c-2.76,0 -5,2.24 -5,5s2.24,5 5,5h4v-1.9L7,15.1c-1.71,0 -3.1,-1.39 -3.1,-3.1zM8,13h8v-2L8,11v2zM17,7h-4v1.9h4c1.71,0 3.1,1.39 3.1,3.1s-1.39,3.1 -3.1,3.1h-4L13,17h4c2.76,0 5,-2.24 5,-5s-2.24,-5 -5,-5z" />
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_media_attachment.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="16dp"
    android:height="12dp"
    android:viewportWidth="16"
    android:viewportHeight="12">
  <path
      android:fillColor="#ffffff"
      android:pathData="M10.727,4.091C10.727,4.308 10.641,4.516 10.488,4.669C10.334,4.823 10.126,4.909 9.909,4.909C9.692,4.909 9.484,4.823 9.331,4.669C9.177,4.516 9.091,4.308 9.091,4.091C9.091,3.874 9.177,3.666 9.331,3.512C9.484,3.359 9.692,3.273 9.909,3.273C10.126,3.273 10.334,3.359 10.488,3.512C10.641,3.666 10.727,3.874 10.727,4.091ZM15.091,1.091V9.818V10.909C15.091,11.198 14.976,11.476 14.771,11.681C14.567,11.885 14.289,12 14,12H2C1.711,12 1.433,11.885 1.229,11.681C1.024,11.476 0.909,11.198 0.909,10.909V8.727V1.091C0.909,0.802 1.024,0.524 1.229,0.32C1.433,0.115 1.711,0 2,0H14C14.289,0 14.567,0.115 14.771,0.32C14.976,0.524 15.091,0.802 15.091,1.091ZM14,8.502V1.091H2V7.411L4.502,4.909C4.708,4.707 4.984,4.593 5.273,4.593C5.561,4.593 5.838,4.707 6.043,4.909L9.091,7.957L10.502,6.545C10.708,6.343 10.984,6.23 11.273,6.23C11.561,6.23 11.838,6.343 12.043,6.545L14,8.502Z" />
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_multiply.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="13dp"
    android:height="13dp"
    android:viewportWidth="14"
    android:viewportHeight="14">
    <path
        android:fillColor="#333333"
        android:fillType="evenOdd"
        android:pathData="M14,1.4L12.6,0L7,5.6L1.4,0L0,1.4L5.6,7L0,12.6L1.4,14L7,8.4L12.6,14L14,12.6L8.4,7L14,1.4Z" />
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_mute.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="960"
    android:viewportHeight="960">
  <path
      android:fillColor="#FF000000"
      android:pathData="M792,904 L671,783q-25,16 -53,27.5T560,829v-82q14,-5 27.5,-10t25.5,-12L480,592v208L280,600L120,600v-240h128L56,168l56,-56 736,736 -56,56ZM784,672 L726,614q17,-31 25.5,-65t8.5,-70q0,-94 -55,-168T560,211v-82q124,28 202,125.5T840,479q0,53 -14.5,102T784,672ZM650,538l-90,-90v-130q47,22 73.5,66t26.5,96q0,15 -2.5,29.5T650,538ZM480,368 L376,264l104,-104v208ZM400,606v-94l-72,-72L200,440v80h114l86,86ZM364,476Z"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_new_post_plus.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="30dp"
    android:height="30dp"
    android:viewportWidth="30"
    android:viewportHeight="30">
  <path
      android:pathData="M5.414,20.374C5.414,22.389 6.478,23.444 8.512,23.444H18.333C17.985,22.879 17.74,22.239 17.627,21.57H8.502C7.721,21.57 7.288,21.165 7.288,20.336V11.673C7.288,10.844 7.721,10.439 8.502,10.439H21.488C22.27,10.439 22.703,10.844 22.703,11.673V14.196C23.032,14.14 23.343,14.112 23.654,14.112C23.965,14.112 24.275,14.14 24.586,14.187V8.914C24.586,6.898 23.522,5.844 21.479,5.844H8.512C6.478,5.844 5.414,6.889 5.414,8.914V20.374ZM10.113,13.82H19.897C20.236,13.82 20.49,13.556 20.49,13.208C20.49,12.878 20.236,12.624 19.897,12.624H10.113C9.764,12.624 9.51,12.878 9.51,13.208C9.51,13.556 9.764,13.82 10.113,13.82ZM10.113,16.598H18.71C19.04,16.146 19.416,15.75 19.859,15.402H10.113C9.764,15.402 9.51,15.675 9.51,16.014C9.51,16.344 9.764,16.598 10.113,16.598ZM23.654,25.158C26.291,25.158 28.513,22.954 28.513,20.299C28.513,17.643 26.319,15.449 23.654,15.449C20.999,15.449 18.804,17.643 18.804,20.299C18.804,22.964 20.999,25.158 23.654,25.158ZM20.575,20.299C20.575,19.913 20.838,19.658 21.225,19.658H23.004V17.878C23.004,17.492 23.268,17.229 23.654,17.229C24.049,17.229 24.304,17.492 24.304,17.878V19.658H26.084C26.47,19.658 26.733,19.913 26.733,20.299C26.733,20.694 26.47,20.948 26.084,20.948H24.304V22.738C24.304,23.124 24.049,23.378 23.654,23.378C23.268,23.378 23.004,23.124 23.004,22.738V20.948H21.225C20.838,20.948 20.584,20.694 20.575,20.299ZM10.113,19.376H16.29C16.629,19.376 16.883,19.122 16.883,18.792C16.883,18.453 16.629,18.189 16.29,18.189H10.113C9.764,18.189 9.51,18.453 9.51,18.792C9.51,19.122 9.764,19.376 10.113,19.376Z"
      android:fillColor="#ffffff"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_notification_bell.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="18dp"
    android:height="20dp"
    android:viewportWidth="18"
    android:viewportHeight="20">
    <path
        android:fillColor="#333333"
        android:pathData="M16.759,13.384L15.357,11.982C14.888,11.513 14.625,10.877 14.625,10.215V7.068C14.625,4.368 12.786,1.983 10.235,1.395C10.241,1.347 10.25,1.3 10.25,1.25C10.25,0.561 9.689,0 9,0C8.311,0 7.75,0.561 7.75,1.25C7.75,1.299 7.759,1.345 7.764,1.392C5.253,1.956 3.375,4.194 3.375,6.875V10.215C3.375,10.877 3.112,11.513 2.643,11.982L1.241,13.384C1.007,13.618 0.875,13.936 0.875,14.268V15.625H17.125V14.268C17.125,13.936 16.993,13.618 16.759,13.384Z" />
    <path
        android:fillColor="#333333"
        android:pathData="M6.5,17.5C6.5,18.881 7.619,20 9,20C10.381,20 11.5,18.881 11.5,17.5V16.875H6.5V17.5Z" />
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_overflow_menu.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
    <path
        android:pathData="M8,12C8,10.9 7.1,10 6,10C4.9,10 4,10.9 4,12C4,13.1 4.9,14 6,14C7.1,14 8,13.1 8,12ZM10,12C10,13.1 10.9,14 12,14C13.1,14 14,13.1 14,12C14,10.9 13.1,10 12,10C10.9,10 10,10.9 10,12ZM16,12C16,13.1 16.9,14 18,14C19.1,14 20,13.1 20,12C20,10.9 19.1,10 18,10C16.9,10 16,10.9 16,12Z"
        android:fillColor="#666666"
        android:fillType="evenOdd"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_overflow_menu_vertical.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
  <path
      android:pathData="M12,8C13.1,8 14,7.1 14,6C14,4.9 13.1,4 12,4C10.9,4 10,4.9 10,6C10,7.1 10.9,8 12,8ZM12,10C10.9,10 10,10.9 10,12C10,13.1 10.9,14 12,14C13.1,14 14,13.1 14,12C14,10.9 13.1,10 12,10ZM12,16C10.9,16 10,16.9 10,18C10,19.1 10.9,20 12,20C13.1,20 14,19.1 14,18C14,16.9 13.1,16 12,16Z"
      android:fillColor="#666666"
      android:fillType="evenOdd"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_overflow_menu_white.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
  <path
      android:pathData="M8,12C8,10.9 7.1,10 6,10C4.9,10 4,10.9 4,12C4,13.1 4.9,14 6,14C7.1,14 8,13.1 8,12ZM10,12C10,13.1 10.9,14 12,14C13.1,14 14,13.1 14,12C14,10.9 13.1,10 12,10C10.9,10 10,10.9 10,12ZM16,12C16,13.1 16.9,14 18,14C19.1,14 20,13.1 20,12C20,10.9 19.1,10 18,10C16.9,10 16,10.9 16,12Z"
      android:fillColor="#ffffff"
      android:fillType="evenOdd"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_pause.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="48dp"
    android:height="48dp"
    android:viewportWidth="48"
    android:viewportHeight="48">
    <path
        android:fillAlpha="0.6"
        android:fillColor="#000"
        android:fillType="evenOdd"
        android:pathData="M24,24m-24,0a24,24 0,1 1,48 0a24,24 0,1 1,-48 0"
        android:strokeAlpha="0.6" />
    <path
        android:fillColor="#FFF"
        android:fillType="nonZero"
        android:pathData="M31.089,15.773v16.452c0,0.825 -0.405,0.774 -0.9,0.774h-2.7c-0.495,0 -0.9,0.051 -0.9,-0.774L26.589,15.773c0,-0.825 0.405,-0.773 0.9,-0.773h2.7c0.495,0 0.9,-0.052 0.9,0.773zM21.75,15.773v16.452c0,0.825 -0.405,0.774 -0.9,0.774L18.15,32.999c-0.495,0 -0.9,0.051 -0.9,-0.774L17.25,15.773C17.25,14.948 17.655,15 18.15,15h2.7c0.495,0 0.9,-0.052 0.9,0.773z" />
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_pdf.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="22dp"
    android:height="29dp"
    android:viewportWidth="22"
    android:viewportHeight="29">
    <path
        android:fillColor="#EF6060"
        android:pathData="M21.917,25.855c0,1.414 -1.145,2.56 -2.559,2.56H2.525C1.111,28.414 0,27.268 0,25.888V2.525C0,1.111 1.145,0 2.525,0h13.601v5.858c0,0.337 0.27,0.64 0.64,0.64h5.15v19.357zM17.405,5.218V1.01l3.737,4.208h-3.737z" />
    <path
        android:fillColor="#FFF"
        android:pathData="M4.1,20v-2.505h1.284c0.843,0 1.503,-0.2 1.98,-0.603 0.477,-0.402 0.715,-0.951 0.715,-1.648 0,-0.459 -0.109,-0.868 -0.327,-1.228 -0.218,-0.36 -0.53,-0.637 -0.935,-0.832 -0.405,-0.196 -0.875,-0.293 -1.409,-0.293L2.635,12.891L2.635,20L4.1,20zM5.408,16.309L4.1,16.309v-2.232h1.342c0.362,0.007 0.645,0.117 0.85,0.332 0.205,0.215 0.308,0.497 0.308,0.845 0,0.338 -0.102,0.599 -0.306,0.781 -0.203,0.182 -0.498,0.274 -0.886,0.274zM11.288,20c0.62,-0.003 1.18,-0.146 1.674,-0.43 0.495,-0.283 0.878,-0.682 1.15,-1.196 0.272,-0.514 0.408,-1.102 0.408,-1.763v-0.327c0,-0.66 -0.139,-1.25 -0.416,-1.77 -0.276,-0.519 -0.661,-0.92 -1.154,-1.201 -0.493,-0.282 -1.053,-0.422 -1.678,-0.422L9.085,12.891L9.085,20h2.202zM11.258,18.823h-0.708v-4.746h0.722c0.577,0 1.014,0.187 1.314,0.56 0.3,0.372 0.45,0.92 0.45,1.642v0.376c-0.007,0.697 -0.162,1.232 -0.465,1.607 -0.302,0.374 -0.74,0.561 -1.313,0.561zM17.048,20v-2.905h2.813v-1.182L17.05,15.913v-1.836h3.164v-1.186h-4.629L15.585,20h1.465z" />
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_pin.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="20dp"
    android:height="20dp"
    android:viewportWidth="20"
    android:viewportHeight="20">
    <path
        android:pathData="M10.005,20.001C15.483,20.001 20,15.484 20,10.006C20,4.518 15.483,0.001 9.995,0.001C4.506,0.001 0,4.518 0,10.006C0,15.484 4.517,20.001 10.005,20.001ZM10.005,18.944C5.051,18.944 1.057,14.95 1.057,10.006C1.057,5.062 5.051,1.058 9.995,1.058C14.939,1.058 18.943,5.062 18.943,10.006C18.954,14.95 14.949,18.944 10.005,18.944ZM6.054,12.121C6.054,12.484 6.311,12.708 6.684,12.708H9.557V14.929C9.557,15.74 9.856,16.434 9.995,16.434C10.134,16.434 10.443,15.74 10.443,14.929V12.708H13.294C13.689,12.708 13.935,12.484 13.935,12.121C13.935,10.957 13.027,9.803 11.575,9.312L11.404,6.75C12.002,6.397 12.622,5.917 12.92,5.532C13.059,5.361 13.123,5.18 13.123,5.041C13.123,4.774 12.931,4.582 12.611,4.582H7.389C7.08,4.582 6.866,4.774 6.866,5.041C6.866,5.191 6.951,5.372 7.101,5.564C7.4,5.949 8.009,6.408 8.596,6.75L8.414,9.312C6.973,9.803 6.054,10.957 6.054,12.121Z"
        android:fillColor="#9B9B9B"/>

</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_play.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="48dp"
    android:height="48dp"
    android:viewportWidth="48"
    android:viewportHeight="48">
    <path
        android:fillAlpha="0.6"
        android:fillColor="#000"
        android:fillType="evenOdd"
        android:pathData="M24,24m-24,0a24,24 0,1 1,48 0a24,24 0,1 1,-48 0"
        android:strokeAlpha="0.6" />
    <path
        android:fillColor="#FFF"
        android:fillType="evenOdd"
        android:pathData="M32.306,25.3l-11.588,7.558c-0.926,0.604 -2.165,0.343 -2.768,-0.583 -0.212,-0.325 -0.325,-0.704 -0.325,-1.092L17.625,16.067c-0,-1.104 0.895,-2 2,-2 0.388,0 0.768,0.113 1.093,0.325l11.588,7.558c0.926,0.603 1.186,1.842 0.583,2.768 -0.152,0.232 -0.35,0.43 -0.583,0.582z" />
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_plus.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="20dp"
    android:height="20dp"
    android:viewportWidth="20"
    android:viewportHeight="20">
  <path
      android:pathData="M3.125,10H16.875"
      android:strokeLineJoin="round"
      android:strokeWidth="2"
      android:fillColor="#00000000"
      android:strokeColor="#5046E5"
      android:strokeLineCap="round"/>
  <path
      android:pathData="M10,3.125V16.875"
      android:strokeLineJoin="round"
      android:strokeWidth="2"
      android:fillColor="#00000000"
      android:strokeColor="#5046E5"
      android:strokeLineCap="round"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_poll.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
  <path
      android:pathData="M13.7,19.5H10.3V4.5H13.7V19.5ZM6.9,19.5H3.5V9.5H6.9V19.5ZM17.1,19.5H20.5V12.833H17.1V19.5Z"
      android:fillColor="#5046E5"
      android:fillType="evenOdd"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_post.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="48dp"
    android:height="48dp"
    android:viewportWidth="48"
    android:viewportHeight="48">
  <path
      android:pathData="M1.714,12H10.286V1.714C10.286,0.768 11.053,0 12,0H46.286C47.232,0 48,0.768 48,1.714V41.143C48,44.93 44.93,48 41.143,48H6.857C3.07,48 0,44.93 0,41.143V13.714C0,12.767 0.768,12 1.714,12ZM34.286,8.571H24C23.053,8.571 22.286,9.339 22.286,10.286C22.286,11.233 23.053,12 24,12H34.286C35.233,12 36,11.233 36,10.286C36,9.339 35.232,8.571 34.286,8.571ZM18.857,41.143H39.429C40.375,41.143 41.143,40.375 41.143,39.429C41.143,38.482 40.375,37.714 39.429,37.714H18.857C17.91,37.714 17.143,38.482 17.143,39.429C17.143,40.375 17.91,41.143 18.857,41.143ZM18.857,34.286H39.429C40.375,34.286 41.143,33.518 41.143,32.571C41.143,31.625 40.375,30.857 39.429,30.857H18.857C17.91,30.857 17.143,31.625 17.143,32.571C17.143,33.518 17.91,34.286 18.857,34.286ZM18.857,27.429H39.429C40.375,27.429 41.143,26.661 41.143,25.714C41.143,24.767 40.375,24 39.429,24H18.857C17.91,24 17.143,24.767 17.143,25.714C17.143,26.661 17.91,27.429 18.857,27.429ZM18.857,20.571H39.429C40.375,20.571 41.143,19.804 41.143,18.857C41.143,17.91 40.375,17.143 39.429,17.143H18.857C17.91,17.143 17.143,17.91 17.143,18.857C17.143,19.804 17.91,20.571 18.857,20.571ZM3.429,41.143C3.429,43.036 4.964,44.571 6.857,44.571C8.751,44.571 10.286,43.036 10.286,41.143V15.429H3.429V41.143H3.429Z"
      android:fillColor="#000000" />
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_radio_button_off.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
    <path
        android:fillAlpha="0.54"
        android:fillColor="#010101"
        android:fillType="evenOdd"
        android:pathData="M12,2C6.5,2 2,6.5 2,12s4.5,10 10,10 10,-4.5 10,-10S17.5,2 12,2zM12,20c-4.4,0 -8,-3.6 -8,-8s3.6,-8 8,-8 8,3.6 8,8 -3.6,8 -8,8z"
        android:strokeAlpha="0.54" />
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_remove_poll_option.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="11dp"
    android:height="10dp"
    android:viewportWidth="11"
    android:viewportHeight="10">
  <path
      android:pathData="M0.377,8.63C0.064,8.943 0.064,9.451 0.377,9.764C0.69,10.077 1.198,10.077 1.511,9.764L5.071,6.205L8.63,9.764C8.943,10.078 9.451,10.078 9.765,9.764C10.078,9.451 10.078,8.943 9.765,8.63L6.205,5.071L9.906,1.37C10.219,1.057 10.219,0.549 9.906,0.235C9.593,-0.078 9.085,-0.078 8.771,0.235L5.071,3.936L1.37,0.236C1.057,-0.077 0.549,-0.077 0.236,0.236C-0.077,0.549 -0.077,1.057 0.236,1.37L3.936,5.071L0.377,8.63Z"
      android:strokeAlpha="0.9"
      android:fillColor="#9B9B9B"
      android:fillType="evenOdd"
      android:fillAlpha="0.9"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_search_icon.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
    <path
        android:pathData="M4,10.471C4,14.04 6.931,16.943 10.534,16.943C11.959,16.943 13.261,16.489 14.334,15.726L18.362,19.724C18.551,19.911 18.796,20 19.058,20C19.615,20 20,19.586 20,19.043C20,18.784 19.902,18.548 19.73,18.378L15.726,14.388C16.569,13.302 17.069,11.947 17.069,10.471C17.069,6.903 14.137,4 10.534,4C6.931,4 4,6.903 4,10.471ZM5.4,10.471C5.4,7.665 7.701,5.387 10.534,5.387C13.368,5.387 15.668,7.665 15.668,10.471C15.668,13.277 13.368,15.556 10.534,15.556C7.701,15.556 5.4,13.277 5.4,10.471Z"
        android:fillColor="#333333"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_share.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="21dp"
    android:height="21dp"
    android:viewportWidth="21"
    android:viewportHeight="21">
    <path
        android:fillColor="#00000000"
        android:pathData="M11,1L20,10L11,18.5V13C4,13 1,20.5 1,20.5C1,12 3.5,6.5 11,6.5V1Z"
        android:strokeWidth="1"
        android:strokeAlpha="0.7"
        android:strokeColor="#484F67"
        android:strokeLineCap="round"
        android:strokeLineJoin="round" />
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_share_white.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
  <path
      android:strokeWidth="1"
      android:pathData="M13,2L22,11L13,19.5V14C6,14 3,21.5 3,21.5C3,13 5.5,7.5 13,7.5V2Z"
      android:strokeLineJoin="round"
      android:fillColor="#00000000"
      android:strokeColor="#ffffff"
      android:strokeLineCap="round"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_topic_selected.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
  <group>
    <clip-path
        android:pathData="M0,0h24v24h-24z"/>
    <path
        android:pathData="M12,12m-12,0a12,12 0,1 1,24 0a12,12 0,1 1,-24 0"
        android:fillColor="#5046E5"/>
    <path
        android:pathData="M10.696,16.239L18.239,8.696L17.553,8.011L10.01,15.553L10.696,16.239ZM10.54,16.397L6.572,12.428L5.886,13.114L9.855,17.083L10.54,16.397Z"
        android:fillColor="#ffffff"
        android:fillType="evenOdd"/>
    <path
        android:pathData="M18.239,8.696L18.592,9.05L18.946,8.696L18.592,8.343L18.239,8.696ZM10.696,16.239L10.343,16.592L10.696,16.946L11.05,16.592L10.696,16.239ZM17.553,8.011L17.907,7.657L17.553,7.304L17.199,7.657L17.553,8.011ZM10.01,15.553L9.657,15.2L9.303,15.553L9.657,15.907L10.01,15.553ZM6.572,12.428L6.925,12.075L6.572,11.721L6.218,12.075L6.572,12.428ZM10.54,16.397L10.894,16.751L11.248,16.397L10.894,16.044L10.54,16.397ZM5.886,13.114L5.532,12.76L5.179,13.114L5.532,13.468L5.886,13.114ZM9.855,17.083L9.501,17.437L9.855,17.79L10.208,17.437L9.855,17.083ZM17.885,8.343L10.343,15.885L11.05,16.592L18.592,9.05L17.885,8.343ZM17.199,8.364L17.885,9.05L18.592,8.343L17.907,7.657L17.199,8.364ZM10.364,15.907L17.907,8.364L17.199,7.657L9.657,15.2L10.364,15.907ZM11.05,15.885L10.364,15.2L9.657,15.907L10.343,16.592L11.05,15.885ZM6.218,12.782L10.187,16.751L10.894,16.044L6.925,12.075L6.218,12.782ZM6.239,13.468L6.925,12.782L6.218,12.075L5.532,12.76L6.239,13.468ZM10.208,16.729L6.239,12.76L5.532,13.468L9.501,17.437L10.208,16.729ZM10.187,16.044L9.501,16.729L10.208,17.437L10.894,16.751L10.187,16.044Z"
        android:fillColor="#ffffff"/>
  </group>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_unmute.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="960"
    android:viewportHeight="960">
  <path
      android:fillColor="#FF000000"
      android:pathData="M560,829v-82q90,-26 145,-100t55,-168q0,-94 -55,-168T560,211v-82q124,28 202,125.5T840,479q0,127 -78,224.5T560,829ZM120,600v-240h160l200,-200v640L280,600L120,600ZM560,640v-322q47,22 73.5,66t26.5,96q0,51 -26.5,94.5T560,640ZM400,354l-86,86L200,440v80h114l86,86v-252ZM300,480Z"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_upvote_filled.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
  <path
      android:strokeWidth="1"
      android:pathData="M9.5,15C9.5,14.724 9.276,14.5 9,14.5H4.055L12,4.79L19.945,14.5H15C14.724,14.5 14.5,14.724 14.5,15V19.5H9.5V15Z"
      android:strokeLineJoin="round"
      android:fillColor="#5046E5"
      android:strokeColor="#5046E5"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_ic_upvote_unfilled.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
  <path
      android:strokeWidth="1"
      android:pathData="M9.5,15C9.5,14.724 9.276,14.5 9,14.5H4.055L12,4.79L19.945,14.5H15C14.724,14.5 14.5,14.724 14.5,15V19.5H9.5V15Z"
      android:strokeLineJoin="round"
      android:fillColor="#00000000"
      android:strokeColor="#5046E5"/>
</vector>



================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_item_divider.xml
================================================
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">
    <solid android:color="@color/lm_feed_cultured" />
    <size android:height="12dp" />
</shape>


================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_notification_badge.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="oval">

    <solid android:color="@color/lm_feed_red_event" />

</shape>


================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_picture_placeholder.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24"
    >
    <path
        android:fillColor="#747881"
        android:pathData="M19,5V19H5V5H19ZM19,3H5C3.9,3 3,3.9 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.9 20.1,3 19,3ZM14.14,11.86L11.14,15.73L9,13.14L6,17H18L14.14,11.86Z"
        />
</vector>


================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_poll_result_background_selected.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:id="@android:id/background">
        <shape>
            <corners android:radius="8dp" />
            <solid android:color="@color/lm_feed_white" />
        </shape>
    </item>

    <item android:id="@+id/lm_feed_poll_progress_clip">
        <clip>
            <shape>
                <corners android:radius="8dp" />
                <solid android:color="@color/lm_feed_majorelle_blue_20" />
            </shape>
        </clip>
    </item>
</layer-list>


================================================
File: likeminds-feed-android-core/src/main/res/drawable/lm_feed_shape_dot_grey.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="oval">
    <size
        android:width="4dp"
        android:height="4dp" />

    <solid android:color="@color/lm_feed_light_silver" />
</shape>


================================================
File: likeminds-feed-android-core/src/main/res/font/lm_feed_roboto.ttf
================================================
[Non-text file]


================================================
File: likeminds-feed-android-core/src/main/res/font/lm_feed_roboto_bold.ttf
================================================
[Non-text file]


================================================
File: likeminds-feed-android-core/src/main/res/font/lm_feed_roboto_medium.ttf
================================================
[Non-text file]


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_activity_activity_feed.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <FrameLayout
            android:id="@+id/container_activity_feed"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_activity_create_poll.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <FrameLayout
            android:id="@+id/container_create_poll"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_activity_create_post.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <FrameLayout
            android:id="@+id/container_create_post"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_activity_edit_post.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <FrameLayout
            android:id="@+id/container_edit_post"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_activity_likes.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">


    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <FrameLayout
            android:id="@+id/container_likes"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_activity_poll_results.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <FrameLayout
            android:id="@+id/container_poll_results"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_activity_post_detail.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/lm_feed_white">

        <FrameLayout
            android:id="@+id/container_post_detail"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>



================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_activity_report.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <FrameLayout
            android:id="@+id/container_report"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_activity_topic_selection.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/lm_feed_white">

        <FrameLayout
            android:id="@+id/container_topic_selection"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>



================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_activity_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:paddingHorizontal="@dimen/lm_feed_large_padding"
        android:paddingVertical="@dimen/lm_feed_large_padding">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedImageView
            android:id="@+id/iv_user_image"
            android:layout_width="@dimen/lm_feed_large_icon_size"
            android:layout_height="@dimen/lm_feed_large_icon_size"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:src="@color/lm_feed_majorelle_blue" />

        <com.google.android.material.card.MaterialCardView
            android:id="@+id/cv_post_type"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:backgroundTint="@color/lm_feed_majorelle_blue"
            android:translationY="@dimen/lm_feed_cv_post_type_translation_y"
            android:visibility="gone"
            app:cardCornerRadius="@dimen/lm_feed_cv_post_type_corner_radius"
            app:layout_constraintBottom_toBottomOf="@id/iv_user_image"
            app:layout_constraintEnd_toEndOf="@id/iv_user_image"
            app:layout_constraintTop_toBottomOf="@id/iv_user_image"
            tools:visibility="visible">

            <com.likeminds.feed.android.core.ui.base.views.LMFeedImageView
                android:id="@+id/iv_post_type"
                android:layout_width="@dimen/lm_feed_standard_icon_size"
                android:layout_height="@dimen/lm_feed_standard_icon_size"
                android:layout_gravity="center"
                android:scaleType="center"
                tools:ignore="ContentDescription"
                tools:src="@drawable/lm_feed_ic_img_attachment" />

        </com.google.android.material.card.MaterialCardView>

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_activity_content"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_regular_margin"
            android:layout_marginEnd="@dimen/lm_feed_large_margin"
            app:layout_constrainedWidth="true"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintHorizontal_bias="0.0"
            app:layout_constraintStart_toEndOf="@id/iv_user_image"
            app:layout_constraintTop_toTopOf="@id/iv_user_image"
            tools:ellipsize="end"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:text="@string/lm_feed_sample_text"
            tools:textColor="@color/lm_feed_dark_grey"
            tools:textSize="@dimen/lm_feed_text_medium" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_activity_date"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_activity_date_margin"
            app:layout_constrainedWidth="true"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="@id/tv_activity_content"
            app:layout_constraintStart_toStartOf="@id/tv_activity_content"
            app:layout_constraintTop_toBottomOf="@+id/tv_activity_content"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:visibility="gone"
            tools:textColor="@color/lm_feed_brown_grey"
            tools:textSize="@dimen/lm_feed_text_medium" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_add_poll_option_bottom_sheet_fragment.xml
================================================
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@color/lm_feed_white">

        <View
            android:id="@+id/view"
            android:layout_width="@dimen/lm_feed_report_bottom_sheet_top_bar_width"
            android:layout_height="@dimen/lm_feed_report_bottom_sheet_top_bar_height"
            android:layout_margin="@dimen/lm_feed_regular_margin"
            android:background="@drawable/lm_feed_bg_sheet_handle"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_add_poll_option_title"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_extra_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:text="@string/lm_feed_add_new_poll_option"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@+id/view"
            tools:textColor="@color/lm_feed_black"
            tools:textSize="@dimen/lm_feed_text_large" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_add_poll_option_subtitle"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_extra_large_margin"
            android:layout_marginTop="@dimen/lm_feed_small_margin"
            android:layout_marginEnd="@dimen/lm_feed_extra_large_margin"
            android:alpha="0.5"
            android:text="@string/lm_feed_enter_an_option_that_you_think_is_missing_in_this_poll_this_cannot_be_undone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@+id/tv_add_poll_option_title"
            tools:textColor="@color/lm_feed_black"
            tools:textSize="@dimen/lm_feed_text_medium" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_cancel_add_poll_option"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginEnd="@dimen/lm_feed_small_margin"
            android:background="?attr/selectableItemBackgroundBorderless"
            android:src="@drawable/lm_feed_ic_cross_black"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toBottomOf="@+id/view"
            tools:ignore="ContentDescription"
            tools:padding="@dimen/lm_feed_medium_padding" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedEditText
            android:id="@+id/et_option"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_extra_extra_large_margin"
            android:background="@drawable/lm_feed_bg_input_add_poll_option"
            android:hint="@string/lm_feed_type_new_option"
            android:importantForAutofill="no"
            android:includeFontPadding="false"
            android:inputType="textCapSentences"
            android:padding="@dimen/lm_feed_large_padding"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@+id/tv_add_poll_option_subtitle" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedButton
            android:id="@+id/btn_submit_poll_option"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_margin="@dimen/lm_feed_extra_large_margin"
            android:enabled="false"
            android:paddingHorizontal="@dimen/lm_feed_poll_option_submit_button_horizontal_padding"
            android:paddingVertical="@dimen/lm_feed_poll_option_submit_button_vertical_padding"
            android:text="@string/lm_feed_submit"
            android:textColor="@color/lm_feed_white"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@+id/et_option"
            tools:textSize="@dimen/lm_feed_text_medium" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_alert_dialog_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.cardview.widget.CardView
        android:layout_width="@dimen/lm_feed_alert_box_width"
        android:layout_height="wrap_content"
        app:cardCornerRadius="@dimen/lm_feed_corner_radius_small"
        app:cardElevation="@dimen/lm_feed_elevation_small"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:id="@+id/constraint_layout"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:paddingHorizontal="@dimen/lm_feed_extra_large_padding"
            android:paddingTop="@dimen/lm_feed_extra_large_padding"
            android:paddingBottom="@dimen/lm_feed_regular_padding"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent">

            <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                android:id="@+id/tv_alert_title"
                android:layout_width="@dimen/lm_feed_zero_dp"
                android:layout_height="wrap_content"
                android:ellipsize="end"
                android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_standard"
                android:textColor="@color/lm_feed_black_87"
                android:textSize="@dimen/lm_feed_text_large"
                android:textStyle="normal"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent"
                tools:fontFamily="@font/lm_feed_roboto_medium"
                tools:text="@string/lm_feed_delete_post_question" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                android:id="@+id/tv_alert_subtitle"
                android:layout_width="@dimen/lm_feed_zero_dp"
                android:layout_height="wrap_content"
                android:layout_marginTop="@dimen/lm_feed_large_margin"
                android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_standard"
                android:textColor="@color/lm_feed_grey"
                android:textSize="@dimen/lm_feed_text_large"
                android:textStyle="normal"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@+id/tv_alert_title"
                tools:fontFamily="@font/lm_feed_roboto"
                tools:text="@string/lm_feed_delete_post_message" />

            <androidx.cardview.widget.CardView
                android:id="@+id/cv_alert_selector"
                android:layout_width="@dimen/lm_feed_zero_dp"
                android:layout_height="wrap_content"
                android:layout_marginVertical="@dimen/lm_feed_large_margin"
                android:elevation="@dimen/lm_feed_elevation_small"
                app:cardCornerRadius="@dimen/lm_feed_corner_radius_medium"
                app:contentPadding="@dimen/lm_feed_medium_padding"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@+id/tv_alert_subtitle">

                <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                    android:id="@+id/tv_alert_selector"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:gravity="center_vertical"
                    android:hint="@string/lm_feed_reason_for_deleting"
                    android:includeFontPadding="false"
                    android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_small"
                    android:textColor="@color/lm_feed_black"
                    android:textColorHint="@color/lm_feed_black_20"
                    android:textSize="@dimen/lm_feed_text_medium"
                    android:textStyle="normal"
                    tools:drawableEndCompat="@drawable/lm_feed_ic_arrow_drop_down"
                    tools:fontFamily="@font/lm_feed_roboto" />
            </androidx.cardview.widget.CardView>

            <androidx.cardview.widget.CardView
                android:id="@+id/cv_alert_input"
                android:layout_width="@dimen/lm_feed_zero_dp"
                android:layout_height="wrap_content"
                android:layout_marginHorizontal="@dimen/lm_feed_small_margin"
                android:layout_marginTop="@dimen/lm_feed_large_margin"
                android:elevation="@dimen/lm_feed_elevation_small"
                android:visibility="gone"
                app:cardCornerRadius="@dimen/lm_feed_corner_radius_medium"
                app:contentPaddingBottom="@dimen/lm_feed_large_padding"
                app:contentPaddingLeft="@dimen/lm_feed_medium_padding"
                app:contentPaddingRight="@dimen/lm_feed_medium_padding"
                app:contentPaddingTop="@dimen/lm_feed_large_padding"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@+id/cv_alert_selector">

                <com.likeminds.feed.android.core.ui.base.views.LMFeedEditText
                    android:id="@+id/et_reason"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:background="@android:color/transparent"
                    android:includeFontPadding="false"
                    android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_small"
                    android:singleLine="true"
                    android:textColor="@color/lm_feed_black"
                    android:textColorHint="@color/lm_feed_black_20"
                    android:textSize="@dimen/lm_feed_text_medium"
                    tools:hint="@string/lm_feed_type_your_reason" />
            </androidx.cardview.widget.CardView>

            <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                android:id="@+id/tv_alert_cancel"
                android:layout_width="wrap_content"
                android:layout_height="@dimen/lm_feed_alert_box_button_height"
                android:layout_marginTop="@dimen/lm_feed_regular_margin"
                android:layout_marginEnd="@dimen/lm_feed_large_margin"
                android:paddingHorizontal="@dimen/lm_feed_regular_padding"
                android:background="?android:attr/selectableItemBackground"
                android:letterSpacing="0.04"
                android:paddingVertical="@dimen/lm_feed_medium_padding"
                android:text="@string/lm_feed_cancel"
                android:textAllCaps="true"
                android:textColor="@color/lm_feed_black_40"
                android:textSize="@dimen/lm_feed_text_medium"
                android:textStyle="normal"
                app:layout_constrainedHeight="true"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintEnd_toStartOf="@+id/tv_alert_confirm"
                app:layout_constraintTop_toBottomOf="@id/cv_alert_input"
                app:layout_constraintVertical_weight="1"
                tools:fontFamily="@font/lm_feed_roboto_medium" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                android:id="@+id/tv_alert_confirm"
                android:layout_width="wrap_content"
                android:layout_height="@dimen/lm_feed_alert_box_button_height"
                android:layout_marginTop="@dimen/lm_feed_regular_margin"
                android:background="?android:attr/selectableItemBackground"
                android:paddingHorizontal="@dimen/lm_feed_regular_padding"
                android:enabled="false"
                android:letterSpacing="0.04"
                android:paddingVertical="@dimen/lm_feed_medium_padding"
                android:text="@string/lm_feed_confirm"
                android:textAllCaps="true"
                android:textColor="@color/lm_feed_black_20"
                android:textSize="@dimen/lm_feed_text_medium"
                android:textStyle="normal"
                app:layout_constrainedHeight="true"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintTop_toBottomOf="@id/cv_alert_input"
                tools:fontFamily="@font/lm_feed_roboto_medium" />
        </androidx.constraintlayout.widget.ConstraintLayout>

    </androidx.cardview.widget.CardView>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_chip.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">

    <com.likeminds.feed.android.core.ui.base.views.LMFeedChip
        android:id="@+id/chip"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textSize="@dimen/lm_feed_text_medium"
        android:textStyle="normal"
        tools:text="@string/lm_feed_sample_topic" />
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_comment_composer_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_replying_to"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_post_composer_replying_to_height"
            android:background="@color/lm_feed_bright_grey"
            android:gravity="center_vertical"
            android:paddingHorizontal="@dimen/lm_feed_large_padding"
            android:textColor="@color/lm_feed_grey"
            android:visibility="gone"
            app:layout_constraintBottom_toTopOf="@id/iv_comment_send"
            tools:text="@string/lm_feed_sample_replying_to"
            tools:textSize="@dimen/lm_feed_text_medium"
            tools:visibility="visible" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_remove_replying_to"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginEnd="@dimen/lm_feed_medium_margin"
            android:foreground="?selectableItemBackground"
            android:padding="@dimen/lm_feed_small_padding"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="@id/tv_replying_to"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="@id/tv_replying_to"
            app:srcCompat="@drawable/lm_feed_ic_multiply"
            tools:ignore="ContentDescription,UnusedAttribute"
            tools:visibility="visible" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedEditText
            android:id="@+id/et_comment"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:inputType="textCapSentences|textMultiLine"
            android:paddingStart="@dimen/lm_feed_large_padding"
            android:paddingEnd="@dimen/lm_feed_post_composer_input_box_padding_end"
            android:scrollbars="vertical"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            tools:background="@color/lm_feed_white"
            tools:ellipsize="end"
            tools:hint="@string/lm_feed_write_s_comment"
            tools:maxHeight="@dimen/lm_feed_text_max_height"
            tools:minHeight="@dimen/lm_feed_text_min_height"
            tools:textColor="@color/lm_feed_dark_grey"
            tools:textColorHint="@color/lm_feed_maastricht_blue_40"
            tools:visibility="visible" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_restricted"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:gravity="center"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_small"
            android:text="@string/lm_feed_you_do_not_have_permission_to_s_comment"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            tools:background="@color/lm_feed_white"
            tools:minHeight="@dimen/lm_feed_text_min_height"
            tools:textColor="@color/lm_feed_grey_brown_50"
            tools:textSize="@dimen/lm_feed_text_medium"
            tools:visibility="gone" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_comment_send"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:background="@color/lm_feed_white"
            android:clickable="false"
            android:foreground="?selectableItemBackground"
            app:layout_constraintBottom_toBottomOf="@id/et_comment"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="@id/et_comment"
            tools:ignore="ContentDescription,UnusedAttribute,UseAppTint"
            tools:srcCompat="@drawable/lm_feed_ic_comment_send_disable"
            tools:tint="@color/lm_feed_majorelle_blue"
            tools:visibility="visible" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>



================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_comment_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedImageView
            android:id="@+id/iv_commenter_image"
            android:layout_width="@dimen/lm_feed_standard_icon_size"
            android:layout_height="@dimen/lm_feed_standard_icon_size"
            android:layout_marginStart="@dimen/lm_feed_large_margin"
            android:visibility="gone"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:src="@color/lm_feed_majorelle_blue"
            tools:visibility="visible" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_commenter_name"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_small_margin"
            android:layout_marginTop="@dimen/lm_feed_extra_small_margin"
            android:layout_marginEnd="@dimen/lm_feed_large_margin"
            app:layout_constraintStart_toEndOf="@id/iv_commenter_image"
            app:layout_constraintTop_toTopOf="parent"
            app:layout_goneMarginStart="@dimen/lm_feed_large_margin"
            tools:fontFamily="@font/lm_feed_roboto_medium"
            tools:text="@string/lm_feed_sample_name"
            tools:textColor="@color/lm_feed_raisin_black"
            tools:textSize="@dimen/lm_feed_text_medium" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_comment_content"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_extra_small_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
            app:layout_constrainedWidth="true"
            app:layout_constraintEnd_toStartOf="@id/iv_comment_menu"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_commenter_name"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:text="@string/lm_feed_sample_text"
            tools:textColor="@color/lm_feed_raisin_black"
            tools:textSize="@dimen/lm_feed_text_medium" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_comment_menu"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginEnd="@dimen/lm_feed_medium_margin"
            android:foreground="?selectableItemBackground"
            android:padding="@dimen/lm_feed_small_padding"
            app:layout_constraintBottom_toTopOf="@id/tv_comment_time"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:ignore="ContentDescription,UnusedAttribute"
            tools:scaleType="fitCenter"
            tools:srcCompat="@drawable/lm_feed_ic_overflow_menu" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_like"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_medium_margin"
            android:layout_marginTop="@dimen/lm_feed_media_view_top_margin"
            android:padding="@dimen/lm_feed_small_padding"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_comment_content"
            app:srcCompat="@drawable/lm_feed_ic_like_filled"
            tools:ignore="ContentDescription"
            tools:scaleType="fitCenter" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_likes_count"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:foreground="?selectableItemBackground"
            android:paddingVertical="@dimen/lm_feed_small_padding"
            android:textStyle="normal"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="@id/iv_like"
            app:layout_constraintStart_toEndOf="@id/iv_like"
            app:layout_constraintTop_toTopOf="@id/iv_like"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:ignore="UnusedAttribute"
            tools:text="@string/lm_feed_s_likes"
            tools:textColor="@color/lm_feed_maastricht_blue_40"
            tools:textSize="@dimen/lm_feed_text_small"
            tools:visibility="visible" />

        <View
            android:id="@+id/likes_separator"
            android:layout_width="@dimen/lm_feed_small_separator_size"
            android:layout_height="@dimen/lm_feed_small_icon_size"
            android:layout_marginStart="@dimen/lm_feed_small_margin"
            android:background="@color/lm_feed_maastricht_blue_40"
            app:layout_constraintBottom_toBottomOf="@id/tv_likes_count"
            app:layout_constraintStart_toEndOf="@id/tv_likes_count"
            app:layout_constraintTop_toTopOf="@id/tv_likes_count" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_reply"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_small_margin"
            android:foreground="?selectableItemBackground"
            android:padding="@dimen/lm_feed_small_padding"
            android:text="@string/lm_feed_reply"
            android:textStyle="normal"
            app:layout_constraintBottom_toBottomOf="@id/iv_like"
            app:layout_constraintStart_toEndOf="@+id/likes_separator"
            app:layout_constraintTop_toTopOf="@id/iv_like"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:ignore="UnusedAttribute"
            tools:textColor="@color/lm_feed_maastricht_blue_40"
            tools:textSize="@dimen/lm_feed_text_small" />

        <androidx.constraintlayout.widget.Group
            android:id="@+id/group_replies"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            app:constraint_referenced_ids="reply_count_separator, tv_reply_count" />

        <View
            android:id="@+id/reply_count_separator"
            android:layout_width="@dimen/lm_feed_separator_size"
            android:layout_height="@dimen/lm_feed_separator_size"
            android:layout_marginStart="@dimen/lm_feed_extra_small_margin"
            android:background="@drawable/lm_feed_shape_dot_grey"
            android:backgroundTint="@color/lm_feed_maastricht_blue_40"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="@+id/tv_reply"
            app:layout_constraintStart_toEndOf="@+id/tv_reply"
            app:layout_constraintTop_toTopOf="@+id/tv_reply"
            tools:visibility="visible" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_reply_count"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_extra_small_margin"
            android:foreground="?selectableItemBackground"
            android:padding="@dimen/lm_feed_small_padding"
            android:textStyle="normal"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="@id/reply_count_separator"
            app:layout_constraintStart_toEndOf="@id/reply_count_separator"
            app:layout_constraintTop_toTopOf="@id/reply_count_separator"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:ignore="UnusedAttribute"
            tools:text="@string/lm_feed_placeholder_replies"
            tools:textSize="@dimen/lm_feed_text_small"
            tools:visibility="visible" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_edited"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:padding="@dimen/lm_feed_small_padding"
            android:text="@string/lm_feed_edited"
            android:textStyle="normal"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="@id/tv_reply"
            app:layout_constraintEnd_toStartOf="@+id/view_dot_edited"
            app:layout_constraintTop_toTopOf="@id/tv_reply"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:textColor="@color/lm_feed_maastricht_blue_40"
            tools:textSize="@dimen/lm_feed_text_small"
            tools:visibility="visible" />

        <View
            android:id="@+id/view_dot_edited"
            android:layout_width="@dimen/lm_feed_dot_view_size"
            android:layout_height="@dimen/lm_feed_dot_view_size"
            android:background="@drawable/lm_feed_shape_dot_grey"
            android:backgroundTint="@color/lm_feed_maastricht_blue_40"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="@+id/tv_comment_time"
            app:layout_constraintEnd_toStartOf="@id/tv_comment_time"
            app:layout_constraintTop_toTopOf="@+id/tv_comment_time"
            tools:visibility="visible" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_comment_time"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginEnd="@dimen/lm_feed_medium_margin"
            android:padding="@dimen/lm_feed_small_padding"
            android:textStyle="normal"
            android:visibility="visible"
            app:layout_constraintBottom_toBottomOf="@id/tv_reply"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="@id/tv_reply"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:text="@string/lm_feed_sample_time"
            tools:textColor="@color/lm_feed_maastricht_blue_40"
            tools:textSize="@dimen/lm_feed_text_small" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_dialog_fragment_admin_delete.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:app="http://schemas.android.com/apk/res-auto">

    <data>

        <variable
            name="reasonData"
            type="com.likeminds.feed.android.core.delete.model.LMFeedReasonChooseViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <com.likeminds.feed.android.core.ui.widgets.alertdialog.view.LMFeedAlertDialogView
            android:id="@+id/alert_dialog_delete"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_dialog_fragment_anonymous_poll.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <com.likeminds.feed.android.core.ui.widgets.alertdialog.view.LMFeedAlertDialogView
            android:id="@+id/alert_dialog_anonymous_poll"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_dialog_fragment_edit_post_disabled_topics.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <com.likeminds.feed.android.core.ui.widgets.alertdialog.view.LMFeedAlertDialogView
            android:id="@+id/alert_dialog_disabled_topics"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_dialog_fragment_report_success.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <com.likeminds.feed.android.core.ui.widgets.alertdialog.view.LMFeedAlertDialogView
            android:id="@+id/alert_dialog_delete"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_dialog_fragment_self_delete.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <com.likeminds.feed.android.core.ui.widgets.alertdialog.view.LMFeedAlertDialogView
            android:id="@+id/alert_dialog_delete"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_fragment_activity_feed.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/lm_feed_cultured">

        <com.likeminds.feed.android.core.ui.widgets.headerview.view.LMFeedHeaderView
            android:id="@+id/header_view_activity_feed"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_header_view_height"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <androidx.swiperefreshlayout.widget.SwipeRefreshLayout
            android:id="@+id/swipe_refresh_layout"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_zero_dp"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintTop_toBottomOf="@id/header_view_activity_feed">

            <com.likeminds.feed.android.core.activityfeed.view.LMFeedActivityFeedListView
                android:id="@+id/rv_activity_feed"
                android:layout_width="match_parent"
                android:layout_height="@dimen/lm_feed_zero_dp"
                android:descendantFocusability="blocksDescendants"
                tools:itemCount="1" />

        </androidx.swiperefreshlayout.widget.SwipeRefreshLayout>

        <com.likeminds.feed.android.core.ui.widgets.noentitylayout.view.LMFeedNoEntityLayoutView
            android:id="@+id/layout_no_activity"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_zero_dp"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/header_view_activity_feed" />

        <include
            android:id="@+id/progress_bar"
            layout="@layout/lm_feed_layout_progress_bar"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_fragment_create_poll.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/lm_feed_cloudy_blue">

        <com.likeminds.feed.android.core.ui.widgets.headerview.view.LMFeedHeaderView
            android:id="@+id/header_view_create_poll"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_header_view_height"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <androidx.core.widget.NestedScrollView
            android:id="@+id/nested_scroll_create_poll"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_zero_dp"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/header_view_create_poll"
            app:layout_constraintVertical_bias="0.0"
            tools:visibility="visible">

            <androidx.constraintlayout.widget.ConstraintLayout
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:background="@color/lm_feed_white">

                <com.likeminds.feed.android.core.ui.widgets.post.postheaderview.view.LMFeedPostHeaderView
                    android:id="@+id/author_view"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toTopOf="parent" />

                <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                    android:id="@+id/tv_poll_question_title"
                    android:layout_width="@dimen/lm_feed_zero_dp"
                    android:layout_height="wrap_content"
                    android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
                    android:layout_marginTop="@dimen/lm_feed_extra_large_margin"
                    android:lineHeight="@dimen/lm_feed_standard_line_height"
                    android:text="@string/lm_feed_poll_question"
                    android:textSize="@dimen/lm_feed_text_large"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/author_view"
                    tools:textColor="@color/lm_feed_majorelle_blue" />

                <com.likeminds.feed.android.core.ui.base.views.LMFeedEditText
                    android:id="@+id/et_poll_question"
                    android:layout_width="@dimen/lm_feed_zero_dp"
                    android:layout_height="wrap_content"
                    android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
                    android:layout_marginTop="@dimen/lm_feed_large_margin"
                    android:background="@null"
                    android:hint="@string/lm_feed_ask_a_question"
                    android:importantForAutofill="no"
                    android:inputType="textMultiLine|textCapSentences|textAutoComplete|textAutoCorrect"
                    android:textSize="@dimen/lm_feed_text_large"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/tv_poll_question_title"
                    tools:textColor="@color/lm_feed_black" />

                <View
                    android:id="@+id/view_divider_poll_question"
                    android:layout_width="match_parent"
                    android:layout_height="@dimen/lm_feed_view_large"
                    android:layout_marginTop="@dimen/lm_feed_large_margin"
                    android:background="@color/lm_feed_cloudy_blue"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintHorizontal_bias="0.0"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@+id/et_poll_question" />

                <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                    android:id="@+id/tv_poll_options_title"
                    android:layout_width="@dimen/lm_feed_zero_dp"
                    android:layout_height="wrap_content"
                    android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
                    android:layout_marginTop="@dimen/lm_feed_large_margin"
                    android:lineHeight="@dimen/lm_feed_standard_line_height"
                    android:text="@string/lm_feed_answer_options"
                    android:textSize="@dimen/lm_feed_text_large"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/view_divider_poll_question"
                    tools:textColor="@color/lm_feed_majorelle_blue" />

                <com.likeminds.feed.android.core.poll.create.view.LMFeedCreatePollOptionListView
                    android:id="@+id/rv_poll_options"
                    android:layout_width="@dimen/lm_feed_zero_dp"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="2dp"
                    android:clipToPadding="false"
                    android:overScrollMode="never"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/tv_poll_options_title" />

                <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                    android:id="@+id/tv_add_option"
                    android:layout_width="@dimen/lm_feed_zero_dp"
                    android:layout_height="wrap_content"
                    android:drawablePadding="14dp"
                    android:foreground="?selectableItemBackground"
                    android:paddingHorizontal="@dimen/lm_feed_large_padding"
                    android:paddingVertical="20dp"
                    android:text="@string/lm_feed_add_an_option"
                    android:textSize="@dimen/lm_feed_text_large"
                    app:drawableStartCompat="@drawable/lm_feed_ic_add_option"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/rv_poll_options"
                    tools:textColor="@color/lm_feed_majorelle_blue" />

                <View
                    android:id="@+id/view_divider_poll_options"
                    android:layout_width="match_parent"
                    android:layout_height="@dimen/lm_feed_view_large"
                    android:layout_marginTop="@dimen/lm_feed_small_margin"
                    android:background="@color/lm_feed_cloudy_blue"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintHorizontal_bias="0.0"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/tv_add_option" />

                <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                    android:id="@+id/tv_poll_expiry_title"
                    android:layout_width="@dimen/lm_feed_zero_dp"
                    android:layout_height="wrap_content"
                    android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
                    android:layout_marginTop="@dimen/lm_feed_large_margin"
                    android:lineHeight="@dimen/lm_feed_standard_line_height"
                    android:text="@string/lm_feed_poll_expire"
                    android:textSize="@dimen/lm_feed_text_large"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/view_divider_poll_options"
                    tools:textColor="@color/lm_feed_majorelle_blue" />

                <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                    android:id="@+id/tv_poll_expiry_time"
                    android:layout_width="@dimen/lm_feed_zero_dp"
                    android:layout_height="wrap_content"
                    android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
                    android:layout_marginTop="@dimen/lm_feed_large_margin"
                    android:foreground="?selectableItemBackground"
                    android:hint="@string/lm_feed_dd_mm_yyyy_hh_mm"
                    android:textColor="@color/lm_feed_black"
                    android:textColorHint="@color/lm_feed_cloudy_blue"
                    android:textSize="@dimen/lm_feed_text_large"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@+id/tv_poll_expiry_title" />

                <View
                    android:id="@+id/view_divider_poll_expiry"
                    android:layout_width="match_parent"
                    android:layout_height="@dimen/lm_feed_view_large"
                    android:layout_marginTop="@dimen/lm_feed_extra_large_margin"
                    android:background="@color/lm_feed_cloudy_blue"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintHorizontal_bias="0.0"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/tv_poll_expiry_time" />

                <androidx.constraintlayout.widget.ConstraintLayout
                    android:id="@+id/cl_advanced_options"
                    android:layout_width="@dimen/lm_feed_zero_dp"
                    android:layout_height="wrap_content"
                    android:visibility="gone"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/view_divider_poll_expiry"
                    tools:visibility="visible">

                    <com.likeminds.feed.android.core.ui.base.views.LMFeedSwitch
                        android:id="@+id/switch_add_new_options"
                        android:layout_width="@dimen/lm_feed_zero_dp"
                        android:layout_height="wrap_content"
                        android:checked="false"
                        android:padding="@dimen/lm_feed_large_padding"
                        android:text="@string/lm_feed_allow_voters_to_add_options"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toTopOf="parent"
                        tools:textColor="@color/lm_feed_black"
                        tools:textSize="@dimen/lm_feed_text_large" />

                    <View
                        android:id="@+id/divider_bottom_add_new_options"
                        android:layout_width="@dimen/lm_feed_zero_dp"
                        android:layout_height="0.5dp"
                        android:background="@color/lm_feed_divider_grey"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toBottomOf="@+id/switch_add_new_options" />

                    <com.likeminds.feed.android.core.ui.base.views.LMFeedSwitch
                        android:id="@+id/switch_anonymous_poll"
                        android:layout_width="@dimen/lm_feed_zero_dp"
                        android:layout_height="wrap_content"
                        android:checked="false"
                        android:padding="@dimen/lm_feed_large_padding"
                        android:text="@string/lm_feed_anonymous_poll"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toBottomOf="@id/divider_bottom_add_new_options"
                        tools:textColor="@color/lm_feed_black"
                        tools:textSize="@dimen/lm_feed_text_large" />

                    <View
                        android:id="@+id/divider_bottom_anonymous_poll"
                        android:layout_width="@dimen/lm_feed_zero_dp"
                        android:layout_height="0.5dp"
                        android:background="@color/lm_feed_divider_grey"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toBottomOf="@+id/switch_anonymous_poll" />

                    <com.likeminds.feed.android.core.ui.base.views.LMFeedSwitch
                        android:id="@+id/switch_live_results"
                        android:layout_width="@dimen/lm_feed_zero_dp"
                        android:layout_height="wrap_content"
                        android:checked="false"
                        android:padding="@dimen/lm_feed_large_padding"
                        android:text="@string/lm_feed_live_results"
                        android:textColor="@color/lm_feed_black"
                        android:textSize="@dimen/lm_feed_text_large"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toBottomOf="@id/divider_bottom_anonymous_poll" />

                    <View
                        android:id="@+id/divider_bottom_live_results"
                        android:layout_width="@dimen/lm_feed_zero_dp"
                        android:layout_height="0.5dp"
                        android:background="@color/lm_feed_divider_grey"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toBottomOf="@+id/switch_live_results" />

                    <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                        android:id="@+id/tv_user_can_vote_title"
                        android:layout_width="@dimen/lm_feed_zero_dp"
                        android:layout_height="wrap_content"
                        android:layout_marginStart="@dimen/lm_feed_large_margin"
                        android:layout_marginTop="@dimen/lm_feed_large_margin"
                        android:text="@string/lm_feed_user_can_vote_for"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toBottomOf="@id/divider_bottom_live_results"
                        tools:textColor="@color/lm_feed_brown_grey"
                        tools:textSize="@dimen/lm_feed_text_medium" />

                    <Spinner
                        android:id="@+id/spinner_multiple_select_state"
                        android:layout_width="@dimen/lm_feed_zero_dp"
                        android:layout_height="wrap_content"
                        android:layout_marginStart="18dp"
                        android:layout_marginTop="@dimen/lm_feed_regular_padding"
                        android:layout_marginEnd="@dimen/lm_feed_extra_large_padding"
                        app:layout_constraintEnd_toStartOf="@+id/tv_equal_to"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toBottomOf="@id/tv_user_can_vote_title" />

                    <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                        android:id="@+id/tv_equal_to"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="@string/lm_feed_equal_sign"
                        android:textColor="@color/lm_feed_brown_grey"
                        android:textSize="24sp"
                        app:layout_constraintBottom_toBottomOf="@+id/spinner_multiple_select_state"
                        app:layout_constraintEnd_toStartOf="@+id/spinner_multiple_select_number"
                        app:layout_constraintStart_toEndOf="@+id/spinner_multiple_select_state"
                        app:layout_constraintTop_toTopOf="@+id/spinner_multiple_select_state" />

                    <Spinner
                        android:id="@+id/spinner_multiple_select_number"
                        android:layout_width="@dimen/lm_feed_zero_dp"
                        android:layout_height="wrap_content"
                        android:layout_marginHorizontal="24dp"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintStart_toEndOf="@+id/tv_equal_to"
                        app:layout_constraintTop_toTopOf="@+id/spinner_multiple_select_state" />

                    <View
                        android:id="@+id/view_divider_user_can_vote"
                        android:layout_width="match_parent"
                        android:layout_height="1dp"
                        android:layout_marginTop="@dimen/lm_feed_large_margin"
                        android:background="@color/lm_feed_white"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toBottomOf="@id/spinner_multiple_select_state" />

                </androidx.constraintlayout.widget.ConstraintLayout>

                <View
                    android:layout_width="@dimen/lm_feed_zero_dp"
                    android:layout_height="@dimen/lm_feed_zero_dp"
                    android:background="@color/lm_feed_cloudy_blue"
                    app:layout_constraintBottom_toBottomOf="@id/tv_advanced_options"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toTopOf="@id/tv_advanced_options" />

                <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                    android:id="@+id/tv_advanced_options"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:gravity="center"
                    android:lineSpacingExtra="8sp"
                    android:padding="@dimen/lm_feed_medium_padding"
                    android:text="@string/lm_feed_advanced"
                    android:textAllCaps="true"
                    android:textColor="@color/lm_feed_grey"
                    android:textSize="@dimen/lm_feed_text_small"
                    app:drawableEndCompat="@drawable/lm_feed_ic_arrow_edge_down"
                    app:layout_constraintBottom_toBottomOf="parent"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/cl_advanced_options" />

            </androidx.constraintlayout.widget.ConstraintLayout>

        </androidx.core.widget.NestedScrollView>

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_fragment_create_post.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/lm_feed_white">

        <com.likeminds.feed.android.core.ui.widgets.headerview.view.LMFeedHeaderView
            android:id="@+id/header_view_create_post"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_header_view_height"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <androidx.core.widget.NestedScrollView
            android:id="@+id/nested_scroll_create_post"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_zero_dp"
            android:layout_marginTop="@dimen/lm_feed_small_margin"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/header_view_create_post"
            tools:visibility="visible">

            <androidx.constraintlayout.widget.ConstraintLayout
                android:layout_width="match_parent"
                android:layout_height="match_parent">

                <com.likeminds.feed.android.core.ui.widgets.post.postheaderview.view.LMFeedPostHeaderView
                    android:id="@+id/author_view"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toTopOf="parent" />

                <com.likeminds.feed.android.core.ui.base.views.LMFeedChipGroup
                    android:id="@+id/topics_group"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
                    android:layout_marginTop="@dimen/lm_feed_large_margin"
                    android:visibility="gone"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/author_view" />

                <View
                    android:id="@+id/topic_separator"
                    android:layout_width="match_parent"
                    android:layout_height="@dimen/lm_feed_small_separator_size"
                    android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
                    android:layout_marginTop="@dimen/lm_feed_large_margin"
                    android:background="@color/lm_feed_blue_separator"
                    android:visibility="gone"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/topics_group"
                    tools:visibility="gone" />

                <com.likeminds.feed.android.core.ui.base.views.LMFeedEditText
                    android:id="@+id/et_post_heading_composer"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
                    android:layout_marginTop="@dimen/lm_feed_extra_large_margin"
                    android:background="@null"
                    android:ellipsize="end"
                    android:fontFamily="@font/roboto_medium"
                    android:hint="@string/lm_feed_write_something_here"
                    android:inputType="textCapSentences|textMultiLine"
                    android:maxHeight="@dimen/lm_feed_post_heading_composer_max_height"
                    android:minHeight="@dimen/lm_feed_post_heading_composer_min_height"
                    android:overScrollMode="always"
                    android:scrollbars="vertical"
                    android:scrollHorizontally="false"
                    android:textColor="@color/lm_feed_dark_grey"
                    android:textColorHint="@color/lm_feed_maastricht_blue_40"
                    android:textSize="@dimen/lm_feed_text_large"
                    android:visibility="gone"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/topic_separator"
                    tools:visibility="visible" />

                <View
                    android:id="@+id/heading_separator"
                    android:layout_width="match_parent"
                    android:layout_height="@dimen/lm_feed_small_separator_size"
                    android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
                    android:background="@color/lm_feed_cloudy_blue_40"
                    android:visibility="gone"
                    app:layout_constraintTop_toBottomOf="@id/et_post_heading_composer"
                    tools:visibility="visible" />

                <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                    android:id="@+id/tv_heading_limit"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/lm_feed_small_margin"
                    android:layout_marginEnd="@dimen/lm_feed_large_margin"
                    android:visibility="gone"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/heading_separator"
                    tools:text="0/200"
                    tools:visibility="visible" />

                <com.likeminds.feed.android.core.ui.base.views.LMFeedEditText
                    android:id="@+id/et_post_composer"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
                    android:layout_marginTop="@dimen/lm_feed_extra_large_margin"
                    android:background="@null"
                    android:ellipsize="end"
                    android:hint="@string/lm_feed_write_something_here"
                    android:inputType="textCapSentences|textMultiLine"
                    android:maxHeight="@dimen/lm_feed_post_composer_max_height"
                    android:minHeight="@dimen/lm_feed_post_composer_min_height"
                    android:overScrollMode="always"
                    android:scrollbarStyle="insideInset"
                    android:scrollbars="vertical"
                    android:textColor="@color/lm_feed_dark_grey"
                    android:textColorHint="@color/lm_feed_maastricht_blue_40"
                    android:textSize="@dimen/lm_feed_text_large"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/tv_heading_limit"
                    app:layout_goneMarginTop="@dimen/lm_feed_zero_dp" />

                <com.likeminds.usertagging.view.UserTaggingSuggestionListView
                    android:id="@+id/user_tagging_view"
                    android:layout_width="@dimen/lm_feed_zero_dp"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/lm_feed_small_margin"
                    android:translationZ="@dimen/lm_feed_user_tagging_view_elevation"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@+id/et_post_composer"
                    app:userTaggingItemDescriptionTextColor="@color/lm_feed_dark_grey"
                    app:userTaggingItemUserImageCircular="true"
                    app:userTaggingItemUserNameTextFont="@font/lm_feed_roboto"
                    app:userTaggingItemUserNameTextSize="@dimen/lm_feed_text_small"
                    app:userTaggingItemUserNameTextStyle="normal"
                    tools:visibility="gone" />

                <com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostImageMediaView
                    android:id="@+id/post_single_image"
                    android:layout_width="match_parent"
                    android:layout_height="@dimen/lm_feed_zero_dp"
                    android:visibility="gone"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/et_post_composer" />

                <com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostVideoMediaView
                    android:id="@+id/post_single_video"
                    android:layout_width="match_parent"
                    android:layout_height="@dimen/lm_feed_zero_dp"
                    android:layout_marginTop="@dimen/lm_feed_medium_margin"
                    android:visibility="gone"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/et_post_composer"
                    tools:visibility="gone" />

                <com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostLinkMediaView
                    android:id="@+id/post_link_view"
                    android:layout_width="match_parent"
                    android:layout_height="@dimen/lm_feed_zero_dp"
                    android:layout_marginTop="@dimen/lm_feed_large_margin"
                    android:visibility="gone"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/et_post_composer"
                    tools:visibility="gone" />

                <com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostDocumentsMediaView
                    android:id="@+id/post_documents_view"
                    android:layout_width="match_parent"
                    android:layout_height="@dimen/lm_feed_zero_dp"
                    android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
                    android:layout_marginTop="@dimen/lm_feed_large_margin"
                    android:visibility="gone"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/et_post_composer"
                    tools:visibility="gone" />

                <com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostMultipleMediaView
                    android:id="@+id/multiple_media_view"
                    android:layout_width="match_parent"
                    android:layout_height="@dimen/lm_feed_zero_dp"
                    android:visibility="gone"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/et_post_composer" />

                <com.likeminds.feed.android.core.ui.widgets.poll.view.LMFeedPostPollView
                    android:id="@+id/poll_view"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
                    android:layout_marginVertical="@dimen/lm_feed_extra_extra_large_margin"
                    android:background="@drawable/lm_feed_background_document"
                    android:padding="@dimen/lm_feed_large_padding"
                    android:visibility="gone"
                    app:layout_constraintBottom_toBottomOf="parent"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/et_post_composer"
                    tools:visibility="visible" />
            </androidx.constraintlayout.widget.ConstraintLayout>

        </androidx.core.widget.NestedScrollView>

        <androidx.constraintlayout.widget.Group
            android:id="@+id/group_add_attachments"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:background="@color/white"
            app:constraint_referenced_ids="layout_add_image, layout_add_video, layout_attach_files, video_image_separator, video_file_separator, add_file_separator, layout_add_poll" />

        <LinearLayout
            android:id="@+id/layout_attach_files"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:foreground="?selectableItemBackground"
            android:gravity="center_vertical"
            android:paddingHorizontal="@dimen/lm_feed_large_padding"
            android:paddingVertical="@dimen/lm_feed_medium_padding"
            app:layout_constraintBottom_toTopOf="@id/add_file_separator"
            tools:ignore="UnusedAttribute">

            <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
                android:id="@+id/iv_attach_file"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:src="@drawable/lm_feed_ic_attach_files"
                tools:ignore="ContentDescription" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                android:id="@+id/tv_attach_file"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginStart="@dimen/lm_feed_large_margin"
                android:fontFamily="@font/roboto_regular"
                android:text="@string/lm_feed_attach_files"
                android:textColor="@color/lm_feed_raisin_black"
                android:textSize="@dimen/lm_feed_text_medium" />

        </LinearLayout>

        <View
            android:id="@+id/video_file_separator"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_small_separator_size"
            android:background="@color/cloudy_blue_50"
            app:layout_constraintBottom_toTopOf="@+id/layout_attach_files" />

        <LinearLayout
            android:id="@+id/layout_add_video"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:foreground="?selectableItemBackground"
            android:gravity="center_vertical"
            android:paddingHorizontal="@dimen/lm_feed_large_padding"
            android:paddingVertical="@dimen/lm_feed_medium_padding"
            app:layout_constraintBottom_toTopOf="@id/video_file_separator"
            tools:ignore="UnusedAttribute">

            <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
                android:id="@+id/iv_add_video"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:src="@drawable/lm_feed_ic_add_video"
                tools:ignore="ContentDescription" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                android:id="@+id/tv_add_video"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginStart="@dimen/lm_feed_large_margin"
                android:fontFamily="@font/roboto_regular"
                android:text="@string/lm_feed_add_video"
                android:textColor="@color/lm_feed_raisin_black"
                android:textSize="@dimen/lm_feed_text_medium" />

        </LinearLayout>

        <View
            android:id="@+id/video_image_separator"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_small_separator_size"
            android:background="@color/cloudy_blue_50"
            app:layout_constraintBottom_toTopOf="@+id/layout_add_video" />

        <LinearLayout
            android:id="@+id/layout_add_image"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:foreground="?selectableItemBackground"
            android:gravity="center_vertical"
            android:paddingHorizontal="@dimen/lm_feed_large_padding"
            android:paddingVertical="@dimen/lm_feed_medium_padding"
            app:layout_constraintBottom_toTopOf="@id/video_image_separator"
            tools:ignore="UnusedAttribute">

            <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
                android:id="@+id/iv_add_photo"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:src="@drawable/lm_feed_ic_add_image"
                tools:ignore="ContentDescription" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                android:id="@+id/tv_add_photo"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginStart="@dimen/lm_feed_large_margin"
                android:fontFamily="@font/roboto_regular"
                android:text="@string/lm_feed_add_photo"
                android:textColor="@color/lm_feed_raisin_black"
                android:textSize="@dimen/lm_feed_text_medium" />

        </LinearLayout>

        <View
            android:id="@+id/add_file_separator"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_small_separator_size"
            android:background="@color/cloudy_blue_50"
            app:layout_constraintBottom_toTopOf="@+id/layout_add_poll" />

        <LinearLayout
            android:id="@+id/layout_add_poll"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:foreground="?selectableItemBackground"
            android:gravity="center_vertical"
            android:orientation="horizontal"
            android:paddingHorizontal="@dimen/lm_feed_large_padding"
            android:paddingVertical="@dimen/lm_feed_medium_padding"
            app:layout_constraintBottom_toBottomOf="parent">

            <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
                android:id="@+id/iv_add_poll"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:src="@drawable/lm_feed_ic_poll" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginStart="@dimen/lm_feed_large_margin"
                android:fontFamily="@font/lm_feed_roboto"
                android:text="@string/lm_feed_add_poll"
                android:textColor="@color/lm_feed_raisin_black"
                android:textSize="@dimen/lm_feed_text_medium" />

        </LinearLayout>

        <com.likeminds.feed.android.core.ui.base.views.LMFeedButton
            android:id="@+id/btn_add_more_media"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginBottom="@dimen/lm_feed_large_margin"
            android:background="@drawable/lm_feed_background_round_8dp"
            android:drawableLeft="@drawable/lm_feed_ic_plus"
            android:foreground="?selectableItemBackground"
            android:paddingHorizontal="@dimen/lm_feed_extra_large_padding"
            android:text="@string/lm_feed_add_more"
            android:textAllCaps="false"
            android:textColor="@color/lm_feed_majorelle_blue"
            android:textSize="@dimen/lm_feed_text_medium"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            tools:fontFamily="@font/roboto_medium"
            tools:ignore="UnusedAttribute"
            tools:visibility="gone" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_fragment_edit_post.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/lm_feed_white">

        <com.likeminds.feed.android.core.ui.widgets.headerview.view.LMFeedHeaderView
            android:id="@+id/header_view_edit_post"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_header_view_height"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <androidx.core.widget.NestedScrollView
            android:id="@+id/nested_scroll"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_zero_dp"
            android:layout_marginTop="@dimen/lm_feed_small_margin"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintTop_toBottomOf="@id/header_view_edit_post"
            tools:visibility="visible">

            <androidx.constraintlayout.widget.ConstraintLayout
                android:layout_width="match_parent"
                android:layout_height="match_parent">

                <com.likeminds.feed.android.core.ui.widgets.post.postheaderview.view.LMFeedPostHeaderView
                    android:id="@+id/post_header"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toTopOf="parent" />

                <com.likeminds.feed.android.core.ui.base.views.LMFeedChipGroup
                    android:id="@+id/post_topics_group"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
                    android:layout_marginTop="@dimen/lm_feed_large_margin"
                    android:visibility="gone"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/post_header" />

                <View
                    android:id="@+id/topic_separator"
                    android:layout_width="match_parent"
                    android:layout_height="@dimen/lm_feed_small_separator_size"
                    android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
                    android:layout_marginTop="@dimen/lm_feed_large_margin"
                    android:background="@color/lm_feed_blue_separator"
                    android:visibility="gone"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/post_topics_group" />

                <com.likeminds.feed.android.core.ui.base.views.LMFeedEditText
                    android:id="@+id/et_post_heading_composer"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
                    android:layout_marginTop="@dimen/lm_feed_extra_large_margin"
                    android:background="@null"
                    android:ellipsize="end"
                    android:fontFamily="@font/roboto_medium"
                    android:hint="@string/lm_feed_write_something_here"
                    android:inputType="textCapSentences|textMultiLine"
                    android:maxHeight="@dimen/lm_feed_post_heading_composer_max_height"
                    android:minHeight="@dimen/lm_feed_post_heading_composer_min_height"
                    android:overScrollMode="always"
                    android:scrollbars="vertical"
                    android:scrollHorizontally="false"
                    android:textColor="@color/lm_feed_dark_grey"
                    android:textColorHint="@color/lm_feed_maastricht_blue_40"
                    android:textSize="@dimen/lm_feed_text_large"
                    android:visibility="gone"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/topic_separator"
                    tools:visibility="visible" />

                <View
                    android:id="@+id/heading_separator"
                    android:layout_width="match_parent"
                    android:layout_height="@dimen/lm_feed_small_separator_size"
                    android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
                    android:background="@color/lm_feed_cloudy_blue_40"
                    android:visibility="gone"
                    app:layout_constraintTop_toBottomOf="@id/et_post_heading_composer"
                    tools:visibility="visible" />

                <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                    android:id="@+id/tv_heading_limit"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/lm_feed_small_margin"
                    android:layout_marginEnd="@dimen/lm_feed_large_margin"
                    android:visibility="gone"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/heading_separator"
                    tools:text="0/200"
                    tools:visibility="visible" />

                <com.likeminds.feed.android.core.ui.base.views.LMFeedEditText
                    android:id="@+id/et_post_composer"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
                    android:layout_marginTop="@dimen/lm_feed_extra_large_margin"
                    android:background="@null"
                    android:ellipsize="end"
                    android:hint="@string/lm_feed_write_something_here"
                    android:inputType="textCapSentences|textMultiLine"
                    android:maxHeight="@dimen/lm_feed_post_composer_max_height"
                    android:minHeight="@dimen/lm_feed_post_composer_min_height"
                    android:overScrollMode="always"
                    android:scrollbarStyle="insideInset"
                    android:scrollbars="vertical"
                    android:textColor="@color/lm_feed_dark_grey"
                    android:textColorHint="@color/lm_feed_maastricht_blue_40"
                    android:textSize="@dimen/lm_feed_text_large"
                    app:layout_constraintTop_toBottomOf="@id/tv_heading_limit"
                    app:layout_goneMarginTop="@dimen/lm_feed_zero_dp" />

                <com.likeminds.usertagging.view.UserTaggingSuggestionListView
                    android:id="@+id/user_tagging_view"
                    android:layout_width="@dimen/lm_feed_zero_dp"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/lm_feed_small_margin"
                    android:translationZ="@dimen/lm_feed_user_tagging_view_elevation"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@+id/et_post_composer"
                    app:userTaggingItemDescriptionTextColor="@color/lm_feed_dark_grey"
                    app:userTaggingItemUserImageCircular="true"
                    app:userTaggingItemUserNameTextFont="@font/lm_feed_roboto"
                    app:userTaggingItemUserNameTextSize="@dimen/lm_feed_text_small"
                    app:userTaggingItemUserNameTextStyle="normal"
                    tools:visibility="gone" />

                <include
                    android:id="@+id/single_image_attachment"
                    layout="@layout/lm_feed_layout_edit_post_single_image"
                    android:layout_width="match_parent"
                    android:layout_height="@dimen/lm_feed_zero_dp"
                    android:visibility="gone"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/et_post_composer"
                    tools:visibility="visible" />

                <include
                    android:id="@+id/single_video_attachment"
                    layout="@layout/lm_feed_layout_edit_post_single_video"
                    android:layout_width="match_parent"
                    android:layout_height="@dimen/lm_feed_zero_dp"
                    android:visibility="gone"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/et_post_composer"
                    tools:visibility="gone" />

                <include
                    android:id="@+id/link_preview"
                    layout="@layout/lm_feed_layout_create_post_link"
                    android:layout_width="match_parent"
                    android:layout_height="@dimen/lm_feed_zero_dp"
                    android:visibility="gone"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/et_post_composer"
                    tools:visibility="gone" />

                <include
                    android:id="@+id/documents_attachment"
                    layout="@layout/lm_feed_layout_edit_post_documents"
                    android:layout_width="match_parent"
                    android:layout_height="@dimen/lm_feed_zero_dp"
                    android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
                    android:visibility="gone"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/et_post_composer"
                    tools:visibility="gone" />

                <include
                    android:id="@+id/multiple_media_attachment"
                    layout="@layout/lm_feed_layout_edit_post_multiple_media"
                    android:layout_width="match_parent"
                    android:layout_height="@dimen/lm_feed_zero_dp"
                    android:visibility="gone"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/et_post_composer"
                    tools:visibility="gone" />

                <com.likeminds.feed.android.core.ui.widgets.poll.view.LMFeedPostPollView
                    android:id="@+id/poll_view"
                    android:layout_width="match_parent"
                    android:layout_height="@dimen/lm_feed_zero_dp"
                    android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
                    android:layout_marginTop="@dimen/lm_feed_extra_extra_large_margin"
                    android:background="@drawable/lm_feed_background_document"
                    android:padding="@dimen/lm_feed_large_padding"
                    android:visibility="gone"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/et_post_composer" />

            </androidx.constraintlayout.widget.ConstraintLayout>

        </androidx.core.widget.NestedScrollView>

        <include
            android:id="@+id/progress_bar"
            layout="@layout/lm_feed_layout_progress_bar"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_fragment_likes.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/lm_feed_white">

        <com.likeminds.feed.android.core.ui.widgets.headerview.view.LMFeedHeaderView
            android:id="@+id/header_view_likes"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_header_view_height"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <androidx.swiperefreshlayout.widget.SwipeRefreshLayout
            android:id="@+id/swipe_refresh_layout"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_zero_dp"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintTop_toBottomOf="@id/header_view_likes">

            <com.likeminds.feed.android.core.likes.view.LMFeedLikesListView
                android:id="@+id/rv_likes"
                android:layout_width="match_parent"
                android:layout_height="@dimen/lm_feed_zero_dp"
                android:descendantFocusability="blocksDescendants"
                android:visibility="visible" />

        </androidx.swiperefreshlayout.widget.SwipeRefreshLayout>

        <include
            android:id="@+id/progress_bar"
            layout="@layout/lm_feed_layout_progress_bar"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_fragment_poll_results.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/lm_feed_cultured">

        <com.likeminds.feed.android.core.ui.widgets.headerview.view.LMFeedHeaderView
            android:id="@+id/header_view_poll_results"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_header_view_height"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <com.google.android.material.tabs.TabLayout
            android:id="@+id/tab_layout_poll_results"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:elevation="@dimen/lm_feed_elevation_extra_small"
            android:minHeight="?actionBarSize"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/header_view_poll_results"
            app:tabMode="auto" />

        <androidx.viewpager2.widget.ViewPager2
            android:id="@+id/view_pager_poll_results"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_zero_dp"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tab_layout_poll_results"/>

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_fragment_poll_results_tab.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/lm_feed_white">

        <com.likeminds.feed.android.core.ui.widgets.noentitylayout.view.LMFeedNoEntityLayoutView
            android:id="@+id/layout_no_results"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_zero_dp"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:visibility="visible" />


        <com.likeminds.feed.android.core.poll.result.view.LMFeedPollVoteResultsListView
            android:id="@+id/rv_poll_vote_results"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            app:layoutManager="androidx.recyclerview.widget.LinearLayoutManager"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <include
            android:id="@+id/progress_bar"
            layout="@layout/lm_feed_layout_progress_bar"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />
    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_fragment_post_detail.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/lm_feed_cultured">

        <com.likeminds.feed.android.core.ui.widgets.headerview.view.LMFeedHeaderView
            android:id="@+id/header_view_post_detail"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_header_view_height"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <androidx.swiperefreshlayout.widget.SwipeRefreshLayout
            android:id="@+id/swipe_refresh_layout"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_zero_dp"
            app:layout_constraintBottom_toTopOf="@id/comment_composer"
            app:layout_constraintTop_toBottomOf="@id/header_view_post_detail">

            <androidx.constraintlayout.widget.ConstraintLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content">

                <com.likeminds.feed.android.core.post.detail.view.LMFeedPostDetailListView
                    android:id="@+id/rv_post_details"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:background="@color/lm_feed_white"
                    android:clipToPadding="false"
                    android:descendantFocusability="blocksDescendants"
                    android:overScrollMode="never"
                    app:layout_constraintTop_toTopOf="parent"
                    tools:itemCount="1"
                    tools:listitem="@layout/lm_feed_item_post_single_image" />

            </androidx.constraintlayout.widget.ConstraintLayout>

        </androidx.swiperefreshlayout.widget.SwipeRefreshLayout>

        <com.likeminds.usertagging.view.UserTaggingSuggestionListView
            android:id="@+id/user_tagging_view"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_small_margin"
            android:translationZ="@dimen/lm_feed_user_tagging_view_elevation"
            app:layout_constraintBottom_toTopOf="@id/comment_composer"
            app:layout_constraintEnd_toEndOf="@id/comment_composer"
            app:layout_constraintStart_toStartOf="@id/comment_composer"
            app:userTaggingItemDescriptionTextColor="@color/lm_feed_dark_grey"
            app:userTaggingItemUserImageCircular="true"
            app:userTaggingItemUserNameTextFont="@font/lm_feed_roboto"
            app:userTaggingItemUserNameTextSize="@dimen/lm_feed_text_small"
            app:userTaggingItemUserNameTextStyle="normal"
            tools:visibility="gone" />

        <com.likeminds.feed.android.core.ui.widgets.comment.commentcomposer.view.LMFeedCommentComposerView
            android:id="@+id/comment_composer"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_zero_dp"
            app:layout_constraintBottom_toBottomOf="parent" />

        <include
            android:id="@+id/progress_bar"
            layout="@layout/lm_feed_layout_progress_bar"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_fragment_qna_feed.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/lm_feed_cultured">

        <com.likeminds.feed.android.core.ui.widgets.headerview.view.LMFeedHeaderView
            android:id="@+id/header_view_qna"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_header_view_height"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <com.likeminds.feed.android.core.socialfeed.view.LMFeedPostingView
            android:id="@+id/layout_posting"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/header_view_qna" />

        <com.likeminds.feed.android.core.socialfeed.view.LMFeedTopicSelectorBarView
            android:id="@+id/topic_selector_bar"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            android:visibility="gone"
            app:layout_constraintTop_toBottomOf="@id/layout_posting" />

        <androidx.swiperefreshlayout.widget.SwipeRefreshLayout
            android:id="@+id/swipe_refresh_layout"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_zero_dp"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/topic_selector_bar">

            <androidx.constraintlayout.widget.ConstraintLayout
                android:layout_width="match_parent"
                android:layout_height="match_parent">

                <com.likeminds.feed.android.core.ui.widgets.noentitylayout.view.LMFeedNoEntityLayoutView
                    android:id="@+id/layout_no_post"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:visibility="gone"
                    app:layout_constraintBottom_toBottomOf="parent"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toTopOf="parent" />

                <com.likeminds.feed.android.core.socialfeed.view.LMFeedSocialFeedListView
                    android:id="@+id/rv_qna"
                    android:layout_width="@dimen/lm_feed_zero_dp"
                    android:layout_height="@dimen/lm_feed_zero_dp"
                    android:clipToPadding="false"
                    android:descendantFocusability="blocksDescendants"
                    android:overScrollMode="never"
                    android:visibility="visible"
                    app:layout_constraintBottom_toBottomOf="parent"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toTopOf="parent" />
            </androidx.constraintlayout.widget.ConstraintLayout>

        </androidx.swiperefreshlayout.widget.SwipeRefreshLayout>

        <com.likeminds.feed.android.core.ui.base.views.LMFeedFAB
            android:id="@+id/fab_new_post"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginEnd="@dimen/lm_feed_large_margin"
            android:layout_marginBottom="@dimen/lm_feed_large_margin"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            tools:text="@string/lm_feed_new_s" />

        <include
            android:id="@+id/progress_bar"
            layout="@layout/lm_feed_layout_progress_bar"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_zero_dp"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/header_view_qna" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_fragment_report.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/lm_feed_white">

        <com.likeminds.feed.android.core.ui.widgets.headerview.view.LMFeedHeaderView
            android:id="@+id/header_view_report"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_header_view_height"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_report_header"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:lineHeight="@dimen/lm_feed_standard_line_height"
            android:text="@string/lm_feed_please_specify_the_problem_to_continue"
            android:textColor="@color/lm_feed_black"
            android:textSize="@dimen/lm_feed_text_medium"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/header_view_report"
            tools:ignore="UnusedAttribute" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_report_sub_header"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            android:gravity="top|start"
            android:lineHeight="@dimen/lm_feed_standard_line_height"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_standard"
            android:text="@string/lm_feed_report_sub_header"
            android:textColor="@color/lm_feed_brown_grey"
            android:textSize="@dimen/lm_feed_text_medium"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@+id/tv_report_header"
            tools:ignore="UnusedAttribute" />

        <com.likeminds.feed.android.core.report.view.LMFeedReportTagListView
            android:id="@+id/rv_report_tags"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_extra_large_margin"
            app:layout_constraintTop_toBottomOf="@id/tv_report_sub_header"
            tools:visibility="visible" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedButton
            android:id="@+id/btn_post_report"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginBottom="@dimen/lm_feed_large_margin"
            android:paddingHorizontal="@dimen/lm_feed_report_button_horizontal_padding"
            android:paddingVertical="@dimen/lm_feed_large_padding"
            android:text="@string/lm_feed_report"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            tools:backgroundTint="#d0021b"
            tools:cornerRadius="@dimen/lm_feed_report_button_corner_radius"
            tools:textAllCaps="true"
            tools:textColor="@color/lm_feed_white"
            tools:textSize="@dimen/lm_feed_text_medium"
            tools:textStyle="bold" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedEditText
            android:id="@+id/et_reason"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_extra_large_margin"
            android:hint="@string/lm_feed_write_description"
            android:importantForAutofill="no"
            android:inputType="textCapSentences|textMultiLine"
            android:lineHeight="@dimen/lm_feed_standard_line_height"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/rv_report_tags"
            tools:ignore="UnusedAttribute"
            tools:textColorHint="@color/lm_feed_brown_grey"
            tools:textSize="@dimen/lm_feed_text_medium" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_fragment_social_feed.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/lm_feed_cultured">

        <com.likeminds.feed.android.core.ui.widgets.headerview.view.LMFeedHeaderView
            android:id="@+id/header_view_social"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_header_view_height"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <com.likeminds.feed.android.core.socialfeed.view.LMFeedPostingView
            android:id="@+id/layout_posting"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/header_view_social" />

        <com.likeminds.feed.android.core.socialfeed.view.LMFeedTopicSelectorBarView
            android:id="@+id/topic_selector_bar"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            android:visibility="gone"
            app:layout_constraintTop_toBottomOf="@id/layout_posting" />

        <androidx.swiperefreshlayout.widget.SwipeRefreshLayout
            android:id="@+id/swipe_refresh_layout"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_zero_dp"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/topic_selector_bar">

            <androidx.constraintlayout.widget.ConstraintLayout
                android:layout_width="match_parent"
                android:layout_height="match_parent">

                <com.likeminds.feed.android.core.ui.widgets.noentitylayout.view.LMFeedNoEntityLayoutView
                    android:id="@+id/layout_no_post"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:visibility="gone"
                    app:layout_constraintBottom_toBottomOf="parent"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toTopOf="parent" />

                <com.likeminds.feed.android.core.socialfeed.view.LMFeedSocialFeedListView
                    android:id="@+id/rv_social"
                    android:layout_width="@dimen/lm_feed_zero_dp"
                    android:layout_height="@dimen/lm_feed_zero_dp"
                    android:clipToPadding="false"
                    android:descendantFocusability="blocksDescendants"
                    android:overScrollMode="never"
                    android:visibility="visible"
                    app:layout_constraintBottom_toBottomOf="parent"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toTopOf="parent" />
            </androidx.constraintlayout.widget.ConstraintLayout>

        </androidx.swiperefreshlayout.widget.SwipeRefreshLayout>

        <com.likeminds.feed.android.core.ui.base.views.LMFeedFAB
            android:id="@+id/fab_new_post"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginEnd="@dimen/lm_feed_large_margin"
            android:layout_marginBottom="@dimen/lm_feed_large_margin"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            tools:text="@string/lm_feed_new_s" />

        <include
            android:id="@+id/progress_bar"
            layout="@layout/lm_feed_layout_progress_bar"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_zero_dp"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/header_view_social" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_fragment_topic_selection.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <com.likeminds.feed.android.core.ui.widgets.headerview.view.LMFeedHeaderView
            android:id="@+id/header_view_topic_selection"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_header_view_height"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <com.likeminds.feed.android.core.ui.widgets.searchbar.view.LMFeedSearchBarView
            android:id="@+id/search_bar"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="?attr/actionBarSize"
            android:elevation="@dimen/lm_feed_elevation_small"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <com.likeminds.feed.android.core.ui.widgets.noentitylayout.view.LMFeedNoEntityLayoutView
            android:id="@+id/layout_no_topics"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_zero_dp"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/header_view_topic_selection" />

        <com.likeminds.feed.android.core.topicselection.view.LMFeedTopicSelectionListView
            android:id="@+id/rv_topics"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_zero_dp"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintTop_toBottomOf="@id/header_view_topic_selection" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedFAB
            android:id="@+id/fab_submit_selected_topics"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginEnd="@dimen/lm_feed_large_margin"
            android:layout_marginBottom="@dimen/lm_feed_large_margin"
            android:src="@drawable/lm_feed_ic_arrow_right_white"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_fragment_video_feed.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <androidx.swiperefreshlayout.widget.SwipeRefreshLayout
            android:id="@+id/swipe_refresh_layout"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_zero_dp"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent">

            <androidx.viewpager2.widget.ViewPager2
                android:id="@+id/vp2_video_feed"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:orientation="vertical" />

        </androidx.swiperefreshlayout.widget.SwipeRefreshLayout>
    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_header_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.cardview.widget.CardView
        android:id="@+id/cv_header"
        android:layout_width="match_parent"
        android:layout_height="@dimen/lm_feed_header_view_height"
        android:padding="@dimen/lm_feed_regular_padding">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            app:layout_constraintBottom_toTopOf="@+id/iv_header_navigation"
            app:layout_constraintTop_toTopOf="@+id/iv_header_navigation">

            <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
                android:id="@+id/iv_header_navigation"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginStart="@dimen/lm_feed_medium_margin"
                android:layout_marginTop="@dimen/lm_feed_medium_margin"
                android:layout_marginBottom="@dimen/lm_feed_medium_margin"
                android:background="?selectableItemBackgroundBorderless"
                android:visibility="gone"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent"
                tools:ignore="ContentDescription,UnusedAttribute,UseAppTint" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                android:id="@+id/tv_header_title"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginStart="@dimen/lm_feed_post_header_title_start_margin"
                android:ellipsize="end"
                android:includeFontPadding="false"
                android:maxLines="1"
                android:textColor="@color/lm_feed_black"
                android:textSize="@dimen/lm_feed_post_header_title_text_size"
                app:layout_constraintBottom_toTopOf="@id/tv_header_subtitle"
                app:layout_constraintStart_toEndOf="@id/iv_header_navigation"
                app:layout_constraintTop_toTopOf="parent"
                app:layout_constraintVertical_chainStyle="packed"
                tools:text="@string/lm_feed_s_post" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                android:id="@+id/tv_header_subtitle"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:ellipsize="end"
                android:includeFontPadding="false"
                android:singleLine="true"
                android:textColor="@color/lm_feed_grey"
                android:textSize="@dimen/lm_feed_text_medium"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintStart_toStartOf="@id/tv_header_title"
                app:layout_constraintTop_toBottomOf="@id/tv_header_title"
                app:layout_constraintVertical_chainStyle="packed"
                tools:text="@string/lm_feed_s_comment" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
                android:id="@+id/iv_header_notification"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginEnd="@dimen/lm_feed_medium_margin"
                android:background="?selectableItemBackgroundBorderless"
                android:visibility="gone"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintEnd_toStartOf="@id/iv_header_search"
                app:layout_constraintTop_toTopOf="parent"
                tools:ignore="ContentDescription,UseAppTint"
                tools:padding="@dimen/lm_feed_notification_icon_padding"
                tools:src="@drawable/lm_feed_ic_notification_bell"
                tools:visibility="visible" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                android:id="@+id/tv_header_notification_count"
                android:layout_width="@dimen/lm_feed_small_icon_size"
                android:layout_height="@dimen/lm_feed_small_icon_size"
                android:layout_marginBottom="@dimen/lm_feed_large_margin"
                android:background="@drawable/lm_feed_notification_badge"
                android:gravity="center"
                android:textAlignment="center"
                android:translationX="@dimen/lm_feed_notification_badge_translation_x"
                android:visibility="gone"
                app:layout_constraintBottom_toBottomOf="@id/iv_header_notification"
                app:layout_constraintEnd_toEndOf="@id/iv_header_notification"
                app:layout_constraintTop_toTopOf="@id/iv_header_notification"
                tools:text="@string/lm_feed_nine_nine_plus"
                tools:textColor="@color/lm_feed_white"
                tools:textSize="@dimen/lm_feed_notification_badge_text_size"
                tools:visibility="visible" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
                android:id="@+id/iv_header_search"
                android:layout_width="@dimen/lm_feed_social_feed_header_icon_size"
                android:layout_height="@dimen/lm_feed_social_feed_header_icon_size"
                android:layout_marginVertical="@dimen/lm_feed_large_margin"
                android:layout_marginEnd="@dimen/lm_feed_medium_margin"
                android:background="?selectableItemBackgroundBorderless"
                android:visibility="gone"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintEnd_toStartOf="@id/iv_user_profile"
                app:layout_constraintTop_toTopOf="parent"
                tools:ignore="ContentDescription,UnusedAttribute,UseAppTint"
                tools:srcCompat="@drawable/lm_feed_ic_search_icon"
                tools:visibility="visible" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedImageView
                android:id="@+id/iv_user_profile"
                android:layout_width="@dimen/lm_feed_social_feed_header_icon_size"
                android:layout_height="@dimen/lm_feed_social_feed_header_icon_size"
                android:layout_marginVertical="@dimen/lm_feed_regular_margin"
                android:layout_marginEnd="@dimen/lm_feed_medium_margin"
                android:visibility="gone"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintTop_toTopOf="parent"
                tools:src="@color/lm_feed_majorelle_blue"
                tools:visibility="visible" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                android:id="@+id/tv_header_submit"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginEnd="@dimen/lm_feed_large_margin"
                android:clickable="false"
                android:foreground="?selectableItemBackgroundBorderless"
                android:padding="@dimen/lm_feed_small_padding"
                android:visibility="gone"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintTop_toTopOf="parent"
                tools:ignore="UnusedAttribute"
                tools:text="@string/lm_feed_save"
                tools:textColor="@color/lm_feed_dark_grey"
                tools:textSize="@dimen/lm_feed_text_large" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedProgressBar
                android:id="@+id/pb_submit"
                android:layout_width="@dimen/lm_feed_standard_icon_size"
                android:layout_height="@dimen/lm_feed_standard_icon_size"
                android:layout_marginEnd="@dimen/lm_feed_medium_margin"
                android:visibility="gone"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintTop_toTopOf="parent" />

        </androidx.constraintlayout.widget.ConstraintLayout>
    </androidx.cardview.widget.CardView>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_activity_feed.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <data>

        <variable
            name="activityViewData"
            type="com.likeminds.feed.android.core.activityfeed.model.LMFeedActivityViewData" />

        <variable
            name="position"
            type="int" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.likeminds.feed.android.core.ui.widgets.acitivityfeed.view.LMFeedActivityView
            android:id="@+id/activity_view"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_all_topics.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <data>

        <variable
            name="position"
            type="int" />

        <variable
            name="allTopicsViewData"
            type="com.likeminds.feed.android.core.topicselection.model.LMFeedAllTopicsViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_all_topics"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:padding="@dimen/lm_feed_large_padding"
            android:text="@string/lm_feed_all_topics"
            tools:drawableEnd="@drawable/lm_feed_ic_topic_selected"
            tools:textColor="@color/lm_feed_dark_grey"
            tools:textSize="@dimen/lm_feed_text_large"
            tools:textStyle="bold" />

        <View
            android:id="@+id/view_separator"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_small_separator_size"
            android:background="@color/lm_feed_blue_separator"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>



================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_comment.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <data>

        <variable
            name="position"
            type="int" />

        <variable
            name="commentViewData"
            type="com.likeminds.feed.android.core.post.detail.model.LMFeedCommentViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.likeminds.feed.android.core.ui.widgets.comment.commentlayout.style.LMFeedCommentView
            android:id="@+id/comment_view"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_medium_padding"
            app:layout_constraintTop_toTopOf="parent" />

        <com.likeminds.feed.android.core.post.detail.view.LMFeedReplyListView
            android:id="@+id/rv_replies"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_replies_list_start_margin"
            android:isScrollContainer="false"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/comment_view"
            tools:itemCount="3"
            tools:listitem="@layout/lm_feed_comment_view" />

        <View
            android:id="@+id/comment_separator"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_small_separator_size"
            android:layout_marginTop="@dimen/lm_feed_comment_separator_gone_margin"
            android:background="@color/lm_feed_blue_separator"
            app:layout_constraintTop_toBottomOf="@id/rv_replies"
            app:layout_goneMarginTop="@dimen/lm_feed_comment_separator_gone_margin" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_comments_count.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <View
            android:id="@+id/post_comments_separator"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_chip_default_icon_size"
            android:background="@color/lm_feed_cultured"
            app:layout_constraintTop_toTopOf="parent"/>

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_comments_count"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_extra_large_margin"
            android:layout_marginBottom="@dimen/lm_feed_small_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:fontFamily="@font/lm_feed_roboto_medium"
            tools:text="@string/lm_feed_add_s_comment"
            tools:textColor="@color/lm_feed_raisin_black"
            tools:textSize="@dimen/lm_feed_text_medium" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_create_poll_option.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <data>

        <variable
            name="create_poll_option"
            type="com.likeminds.feed.android.core.poll.create.model.LMFeedCreatePollOptionViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@color/lm_feed_white">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedEditText
            android:id="@+id/et_option"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="@dimen/lm_feed_zero_dp"
            android:layout_marginVertical="20dp"
            android:layout_marginStart="@dimen/lm_feed_text_large"
            android:background="@null"
            android:ellipsize="end"
            android:hint="@string/lm_feed_option"
            android:inputType="textCapSentences"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toStartOf="@id/iv_cross"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:textColor="@color/lm_feed_black"
            tools:textColorHint="@color/lm_feed_black_20"
            tools:textSize="@dimen/lm_feed_text_large" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_cross"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginEnd="@dimen/lm_feed_regular_margin"
            android:foreground="?selectableItemBackground"
            android:padding="@dimen/lm_feed_regular_padding"
            app:layout_constraintBottom_toBottomOf="@id/et_option"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="@id/et_option"
            tools:src="@drawable/lm_feed_ic_remove_poll_option" />


    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_create_post_single_image.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout>

    <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto"
        xmlns:tools="http://schemas.android.com/tools"
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedImageView
            android:id="@+id/iv_single_image_post"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_zero_dp"
            android:scaleType="centerCrop"
            app:layout_constraintDimensionRatio="1:1"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:ignore="ContentDescription"
            tools:srcCompat="@drawable/lm_feed_sample_image"
            tools:visibility="visible" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedImageView
            android:id="@+id/iv_cross_image"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:padding="@dimen/lm_feed_regular_padding"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="@+id/iv_single_image_post"
            tools:ignore="ContentDescription"
            tools:srcCompat="@drawable/lm_feed_ic_cross" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>



================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_document.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <data>

        <variable
            name="position"
            type="int" />

        <variable
            name="attachmentViewData"
            type="com.likeminds.feed.android.core.post.model.LMFeedAttachmentViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostDocumentView
            android:id="@+id/document_item"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_likes.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <data>
        
        <variable
            name="position"
            type="int" />
        
        <variable
            name="likesViewData"
            type="com.likeminds.feed.android.core.likes.model.LMFeedLikeViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:padding="@dimen/lm_feed_regular_padding">

        <com.likeminds.feed.android.core.ui.widgets.user.view.LMFeedUserView
            android:id="@+id/user_view"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_multiple_media_image.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <data>

        <variable
            name="position"
            type="int" />

        <variable
            name="attachmentViewData"
            type="com.likeminds.feed.android.core.post.model.LMFeedAttachmentViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostImageMediaView
            android:id="@+id/post_image_view"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="@dimen/lm_feed_zero_dp"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            app:layout_constraintDimensionRatio="1:1"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:scaleType="centerCrop"
            tools:srcCompat="@drawable/lm_feed_ic_pdf" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_multiple_media_video.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <data>

        <variable
            name="position"
            type="int" />

        <variable
            name="attachmentViewData"
            type="com.likeminds.feed.android.core.post.model.LMFeedAttachmentViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostVideoMediaView
            android:id="@+id/post_video_view"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_no_comments_found.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@color/lm_feed_cultured"
        android:paddingVertical="@dimen/lm_feed_large_padding">

        <com.likeminds.feed.android.core.ui.widgets.noentitylayout.view.LMFeedNoEntityLayoutView
            android:id="@+id/layout_no_comments"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_poll_dropdown.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">

    <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
        android:id="@+id/tv_dropdown"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:ellipsize="end"
        android:padding="10dp"
        tools:maxLines="1"
        tools:text="Hello World!"
        tools:textColor="@color/lm_feed_black"
        tools:textSize="@dimen/lm_feed_text_medium" />
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_poll_options.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">


    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.likeminds.feed.android.core.ui.widgets.poll.view.LMFeedPollOptionView
            android:id="@+id/poll_option_view"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_poll_vote_results.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <data>

        <variable
            name="position"
            type="int" />

        <variable
            name="userVotedViewData"
            type="com.likeminds.feed.android.core.utils.user.LMFeedUserViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:padding="@dimen/lm_feed_regular_padding">

        <com.likeminds.feed.android.core.ui.widgets.user.view.LMFeedUserView
            android:id="@+id/user_view"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_post_custom_widget.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <data>

        <variable
            name="position"
            type="int" />

        <variable
            name="postViewData"
            type="com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@color/lm_feed_white">

        <com.likeminds.feed.android.core.ui.widgets.post.postheaderview.view.LMFeedPostHeaderView
            android:id="@+id/post_header"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedChipGroup
            android:id="@+id/post_topics_group"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_header" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_post_heading"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_topics_group"
            tools:fontFamily="@font/roboto_medium"
            tools:textColor="@color/lm_feed_dark_grey"
            tools:textSize="@dimen/lm_feed_text_large" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_post_content"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_post_heading"
            app:layout_goneMarginTop="@dimen/lm_feed_regular_margin"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_large" />

        <TextView
            android:id="@+id/tv_post_cw"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:background="@color/bright_red"
            android:fontFamily="@font/lm_feed_roboto"
            android:textColor="@color/lm_feed_grey"
            android:textSize="@dimen/lm_feed_text_large"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_post_content" />

        <com.likeminds.feed.android.core.ui.widgets.post.posttopresponse.view.LMFeedPostTopResponseView
            android:id="@+id/post_top_response"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:visibility="gone"
            app:layout_constraintTop_toBottomOf="@id/tv_post_cw" />

        <com.likeminds.feed.android.core.ui.widgets.post.postactionview.view.LMFeedPostActionHorizontalView
            android:id="@+id/post_action"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_top_response" />

        <com.likeminds.feed.android.core.ui.widgets.post.postactionview.view.LMFeedPostQnAActionHorizontalView
            android:id="@+id/qna_post_action"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_top_response" />

        <com.likeminds.feed.android.core.ui.widgets.labelimagecontainer.view.LMFeedLabelImageContainerView
            android:id="@+id/container_qna_be_first_label"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/qna_post_action" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_post_documents.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <data>

        <variable
            name="position"
            type="int" />

        <variable
            name="postViewData"
            type="com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@color/lm_feed_white">

        <com.likeminds.feed.android.core.ui.widgets.post.postheaderview.view.LMFeedPostHeaderView
            android:id="@+id/post_header"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedChipGroup
            android:id="@+id/post_topics_group"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_header" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_post_heading"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_topics_group"
            tools:fontFamily="@font/roboto_medium"
            tools:textColor="@color/lm_feed_dark_grey"
            tools:textSize="@dimen/lm_feed_text_large" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_post_content"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_post_heading"
            app:layout_goneMarginTop="@dimen/lm_feed_regular_margin"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_large" />

        <com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostDocumentsMediaView
            android:id="@+id/post_documents_media_view"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_media_view_top_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@+id/tv_post_content" />

        <com.likeminds.feed.android.core.ui.widgets.post.posttopresponse.view.LMFeedPostTopResponseView
            android:id="@+id/post_top_response"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:visibility="gone"
            app:layout_constraintTop_toBottomOf="@id/post_documents_media_view" />

        <com.likeminds.feed.android.core.ui.widgets.post.postactionview.view.LMFeedPostActionHorizontalView
            android:id="@+id/post_action"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_top_response" />

        <com.likeminds.feed.android.core.ui.widgets.post.postactionview.view.LMFeedPostQnAActionHorizontalView
            android:id="@+id/qna_post_action"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_top_response" />

        <com.likeminds.feed.android.core.ui.widgets.labelimagecontainer.view.LMFeedLabelImageContainerView
            android:id="@+id/container_qna_be_first_label"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/qna_post_action" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_post_link.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <data>

        <variable
            name="position"
            type="int" />

        <variable
            name="postViewData"
            type="com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@color/lm_feed_white">

        <com.likeminds.feed.android.core.ui.widgets.post.postheaderview.view.LMFeedPostHeaderView
            android:id="@+id/post_header"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedChipGroup
            android:id="@+id/post_topics_group"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_header" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_post_heading"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_topics_group"
            tools:fontFamily="@font/roboto_medium"
            tools:textColor="@color/lm_feed_dark_grey"
            tools:textSize="@dimen/lm_feed_text_large" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_post_content"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_post_heading"
            app:layout_goneMarginTop="@dimen/lm_feed_regular_margin"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_large" />

        <com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostLinkMediaView
            android:id="@+id/post_link_view"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_media_view_top_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_post_content" />

        <com.likeminds.feed.android.core.ui.widgets.post.posttopresponse.view.LMFeedPostTopResponseView
            android:id="@+id/post_top_response"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:visibility="gone"
            app:layout_constraintTop_toBottomOf="@id/post_link_view" />

        <com.likeminds.feed.android.core.ui.widgets.post.postactionview.view.LMFeedPostActionHorizontalView
            android:id="@+id/post_action"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_top_response" />

        <com.likeminds.feed.android.core.ui.widgets.post.postactionview.view.LMFeedPostQnAActionHorizontalView
            android:id="@+id/qna_post_action"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_top_response" />

        <com.likeminds.feed.android.core.ui.widgets.labelimagecontainer.view.LMFeedLabelImageContainerView
            android:id="@+id/container_qna_be_first_label"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/qna_post_action" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_post_menu.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <data>

        <variable
            name="position"
            type="int" />

        <variable
            name="menuItemViewData"
            type="com.likeminds.feed.android.core.postmenu.model.LMFeedPostMenuItemViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.likeminds.feed.android.core.ui.widgets.labeliconcontainer.view.LMFeedLabelIconContainerView
            android:id="@+id/menu_container"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_post_multiple_media.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <data>

        <variable
            name="position"
            type="int" />

        <variable
            name="postViewData"
            type="com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@color/lm_feed_white">

        <com.likeminds.feed.android.core.ui.widgets.post.postheaderview.view.LMFeedPostHeaderView
            android:id="@+id/post_header"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedChipGroup
            android:id="@+id/post_topics_group"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_header" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_post_heading"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_topics_group"
            tools:fontFamily="@font/roboto_medium"
            tools:textColor="@color/lm_feed_dark_grey"
            tools:textSize="@dimen/lm_feed_text_large" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_post_content"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_post_heading"
            app:layout_goneMarginTop="@dimen/lm_feed_regular_margin"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_large" />

        <com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostMultipleMediaView
            android:id="@+id/multiple_media_view"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            app:layout_constraintTop_toBottomOf="@id/tv_post_content" />

        <com.likeminds.feed.android.core.ui.widgets.post.posttopresponse.view.LMFeedPostTopResponseView
            android:id="@+id/post_top_response"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:visibility="gone"
            app:layout_constraintTop_toBottomOf="@id/multiple_media_view" />

        <com.likeminds.feed.android.core.ui.widgets.post.postactionview.view.LMFeedPostActionHorizontalView
            android:id="@+id/post_action"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_top_response" />

        <com.likeminds.feed.android.core.ui.widgets.post.postactionview.view.LMFeedPostQnAActionHorizontalView
            android:id="@+id/qna_post_action"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_top_response" />

        <com.likeminds.feed.android.core.ui.widgets.labelimagecontainer.view.LMFeedLabelImageContainerView
            android:id="@+id/container_qna_be_first_label"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/qna_post_action" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_post_poll.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <data>

        <variable
            name="position"
            type="int" />

        <variable
            name="postViewData"
            type="com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@color/lm_feed_white">

        <com.likeminds.feed.android.core.ui.widgets.post.postheaderview.view.LMFeedPostHeaderView
            android:id="@+id/post_header"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedChipGroup
            android:id="@+id/post_topics_group"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_header" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_post_heading"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_topics_group"
            tools:fontFamily="@font/roboto_medium"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_large" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_post_content"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_post_heading"
            app:layout_goneMarginTop="@dimen/lm_feed_regular_margin"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_large" />

        <com.likeminds.feed.android.core.ui.widgets.poll.view.LMFeedPostPollView
            android:id="@+id/post_poll_view"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_extra_large_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_post_content" />

        <com.likeminds.feed.android.core.ui.widgets.post.posttopresponse.view.LMFeedPostTopResponseView
            android:id="@+id/post_top_response"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:visibility="gone"
            app:layout_constraintTop_toBottomOf="@id/post_poll_view" />

        <com.likeminds.feed.android.core.ui.widgets.post.postactionview.view.LMFeedPostActionHorizontalView
            android:id="@+id/post_action"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_top_response" />

        <com.likeminds.feed.android.core.ui.widgets.post.postactionview.view.LMFeedPostQnAActionHorizontalView
            android:id="@+id/qna_post_action"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_top_response" />

        <com.likeminds.feed.android.core.ui.widgets.labelimagecontainer.view.LMFeedLabelImageContainerView
            android:id="@+id/container_qna_be_first_label"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/qna_post_action" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_post_single_image.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <data>

        <variable
            name="position"
            type="int" />

        <variable
            name="postViewData"
            type="com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@color/lm_feed_white">

        <com.likeminds.feed.android.core.ui.widgets.post.postheaderview.view.LMFeedPostHeaderView
            android:id="@+id/post_header"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedChipGroup
            android:id="@+id/post_topics_group"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_header" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_post_heading"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_topics_group"
            tools:fontFamily="@font/roboto_medium"
            tools:textColor="@color/lm_feed_dark_grey"
            tools:textSize="@dimen/lm_feed_text_large" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_post_content"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_post_heading"
            app:layout_goneMarginTop="@dimen/lm_feed_regular_margin"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_large" />

        <com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostImageMediaView
            android:id="@+id/post_image_view"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="@dimen/lm_feed_zero_dp"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            app:layout_constraintDimensionRatio="1:1"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_post_content"
            tools:scaleType="centerCrop"
            tools:srcCompat="@drawable/lm_feed_ic_pdf" />

        <com.likeminds.feed.android.core.ui.widgets.post.posttopresponse.view.LMFeedPostTopResponseView
            android:id="@+id/post_top_response"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:visibility="gone"
            app:layout_constraintTop_toBottomOf="@id/post_image_view" />

        <com.likeminds.feed.android.core.ui.widgets.post.postactionview.view.LMFeedPostActionHorizontalView
            android:id="@+id/post_action"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_top_response" />

        <com.likeminds.feed.android.core.ui.widgets.post.postactionview.view.LMFeedPostQnAActionHorizontalView
            android:id="@+id/qna_post_action"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_top_response" />

        <com.likeminds.feed.android.core.ui.widgets.labelimagecontainer.view.LMFeedLabelImageContainerView
            android:id="@+id/container_qna_be_first_label"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/qna_post_action" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_post_single_video.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <data>

        <variable
            name="position"
            type="int" />

        <variable
            name="postViewData"
            type="com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@color/lm_feed_white">

        <com.likeminds.feed.android.core.ui.widgets.post.postheaderview.view.LMFeedPostHeaderView
            android:id="@+id/post_header"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedChipGroup
            android:id="@+id/post_topics_group"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_header" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_post_heading"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_topics_group"
            tools:fontFamily="@font/roboto_medium"
            tools:textColor="@color/lm_feed_dark_grey"
            tools:textSize="@dimen/lm_feed_text_large" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_post_content"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_post_heading"
            app:layout_goneMarginTop="@dimen/lm_feed_regular_margin"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_large" />

        <com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostVideoMediaView
            android:id="@+id/post_video_view"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_medium_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_post_content" />

        <com.likeminds.feed.android.core.ui.widgets.post.posttopresponse.view.LMFeedPostTopResponseView
            android:id="@+id/post_top_response"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:visibility="gone"
            app:layout_constraintTop_toBottomOf="@id/post_video_view" />

        <com.likeminds.feed.android.core.ui.widgets.post.postactionview.view.LMFeedPostActionHorizontalView
            android:id="@+id/post_action"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_top_response" />

        <com.likeminds.feed.android.core.ui.widgets.post.postactionview.view.LMFeedPostQnAActionHorizontalView
            android:id="@+id/qna_post_action"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_top_response" />

        <com.likeminds.feed.android.core.ui.widgets.labelimagecontainer.view.LMFeedLabelImageContainerView
            android:id="@+id/container_qna_be_first_label"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/qna_post_action" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_post_text_only.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <data>

        <variable
            name="position"
            type="int" />

        <variable
            name="postViewData"
            type="com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@color/lm_feed_white">

        <com.likeminds.feed.android.core.ui.widgets.post.postheaderview.view.LMFeedPostHeaderView
            android:id="@+id/post_header"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedChipGroup
            android:id="@+id/post_topics_group"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_header" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_post_heading"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_topics_group"
            tools:fontFamily="@font/roboto_medium"
            tools:textColor="@color/lm_feed_dark_grey"
            tools:textSize="@dimen/lm_feed_text_large" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_post_content"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_post_heading"
            app:layout_goneMarginTop="@dimen/lm_feed_regular_margin"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_large" />

        <com.likeminds.feed.android.core.ui.widgets.post.posttopresponse.view.LMFeedPostTopResponseView
            android:id="@+id/post_top_response"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:visibility="gone"
            app:layout_constraintTop_toBottomOf="@id/tv_post_content" />

        <com.likeminds.feed.android.core.ui.widgets.post.postactionview.view.LMFeedPostActionHorizontalView
            android:id="@+id/post_action"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_top_response" />

        <com.likeminds.feed.android.core.ui.widgets.post.postactionview.view.LMFeedPostQnAActionHorizontalView
            android:id="@+id/qna_post_action"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_top_response" />

        <com.likeminds.feed.android.core.ui.widgets.labelimagecontainer.view.LMFeedLabelImageContainerView
            android:id="@+id/container_qna_be_first_label"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/qna_post_action" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_post_video_feed.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <data>

        <variable
            name="position"
            type="int" />

        <variable
            name="postViewData"
            type="com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostVerticalVideoMediaView
            android:id="@+id/post_video_view"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent" />

        <com.likeminds.feed.android.core.ui.widgets.post.postheaderview.view.LMFeedPostHeaderView
            android:id="@+id/post_header"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginBottom="@dimen/lm_feed_large_margin"
            app:layout_constraintBottom_toTopOf="@id/tv_post_heading"
            app:layout_constraintEnd_toStartOf="@id/post_action_view"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_goneMarginBottom="@dimen/lm_feed_regular_margin" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedChipGroup
            android:id="@+id/post_topics_group"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_header" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_post_heading"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_large_margin"
            android:layout_marginEnd="@dimen/lm_feed_extra_extra_large_margin"
            android:layout_marginBottom="@dimen/lm_feed_large_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
            android:visibility="gone"
            app:layout_constraintBottom_toTopOf="@id/tv_post_content"
            app:layout_constraintEnd_toStartOf="@id/post_action_view"
            app:layout_constraintStart_toStartOf="parent"
            tools:fontFamily="@font/roboto_medium"
            tools:textColor="@color/lm_feed_dark_grey"
            tools:textSize="@dimen/lm_feed_text_large" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_post_content"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_large_margin"
            android:layout_marginEnd="@dimen/lm_feed_extra_extra_large_margin"
            android:layout_marginBottom="@dimen/lm_feed_large_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toStartOf="@id/post_action_view"
            app:layout_constraintStart_toStartOf="parent"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_large" />

        <com.likeminds.feed.android.core.ui.widgets.post.postactionview.view.LMFeedPostActionVerticalView
            android:id="@+id/post_action_view"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginEnd="@dimen/lm_feed_large_margin"
            android:layout_marginBottom="@dimen/lm_feed_vertical_post_action_bottom_margin"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_post_video_feed_caught_up.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:gravity="center"
        android:orientation="vertical">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_tick"
            android:layout_width="108dp"
            android:layout_height="108dp"
            android:layout_gravity="center_horizontal"
            app:layout_constraintBottom_toTopOf="@id/tv_title"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:srcCompat="@drawable/lm_feed_ic_circle_tick" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_title"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="center_horizontal"
            android:layout_marginTop="@dimen/lm_feed_video_feed_caught_up_title_top_margin"
            android:fontFamily="@font/roboto_medium"
            android:text="@string/lm_feed_you_re_all_caught_up"
            android:textColor="@color/lm_feed_black"
            android:textSize="@dimen/lm_feed_video_feed_caught_up_title_size"
            app:layout_constraintBottom_toTopOf="@id/tv_subtitle"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/iv_tick" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_subtitle"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="center_horizontal"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            android:text="@string/lm_feed_view_older_posts"
            android:textColor="@color/lm_feed_pure_blue"
            android:textSize="@dimen/lm_feed_text_large"
            app:fontFamily="@font/roboto_regular"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent" />

    </LinearLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_reason_choose.xml
================================================
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <data>

        <import type="android.view.View" />

        <variable
            name="reasonChooseData"
            type="com.likeminds.feed.android.core.delete.model.LMFeedReasonChooseViewData" />

        <variable
            name="hideBottomLine"
            type="Boolean" />

        <variable
            name="position"
            type="int" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="?android:attr/selectableItemBackground"
        android:gravity="center_vertical"
        android:paddingStart="@dimen/lm_feed_extra_large_padding"
        tools:ignore="RtlSymmetry">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_selector"
            android:layout_width="@dimen/lm_feed_standard_icon_size"
            android:layout_height="@dimen/lm_feed_standard_icon_size"
            android:src="@drawable/lm_feed_ic_radio_button_off"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:ignore="ContentDescription" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_title"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_small"
            android:padding="@dimen/lm_feed_large_padding"
            android:text="@{reasonChooseData.value}"
            android:textColor="@color/lm_feed_black"
            android:textSize="@dimen/lm_feed_text_medium"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toEndOf="@+id/iv_selector"
            app:layout_constraintTop_toTopOf="parent"
            tools:text="@string/lm_feed_sample_report_tag" />

        <View
            android:id="@+id/divider"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="@dimen/lm_feed_small_separator_size"
            android:layout_marginStart="@dimen/lm_feed_large_margin"
            android:background="@color/lm_feed_cloudy_blue"
            android:visibility="@{reasonChooseData.hideBottomLine ? View.GONE : View.VISIBLE}"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="@+id/tv_title" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_reply_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <data>

        <variable
            name="position"
            type="int" />

        <variable
            name="replyViewData"
            type="com.likeminds.feed.android.core.post.detail.model.LMFeedCommentViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.likeminds.feed.android.core.ui.widgets.comment.commentlayout.style.LMFeedCommentView
            android:id="@+id/reply_view"
            app:layout_constraintTop_toTopOf="parent"
            android:layout_width="match_parent"
            android:layout_height="wrap_content" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_report_tag.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <data>

        <variable
            name="reportTagViewData"
            type="com.likeminds.feed.android.core.report.model.LMFeedReportTagViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="@dimen/lm_feed_medium_margin">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_report_tag"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_regular_margin"
            android:background="@drawable/lm_feed_bg_report_tags"
            android:paddingStart="@dimen/lm_feed_large_padding"
            android:paddingTop="@dimen/lm_feed_regular_padding"
            android:paddingEnd="@dimen/lm_feed_large_padding"
            android:paddingBottom="@dimen/lm_feed_regular_padding"
            android:text="@{reportTagViewData.name}"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:ellipsize="end"
            tools:maxLines="1"
            tools:text="@string/lm_feed_sample_report_tag"
            tools:textSize="@dimen/lm_feed_text_large" />
    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_selected_filter_topic.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <data>

        <variable
            name="position"
            type="int" />

        <variable
            name="selectedTopicViewData"
            type="com.likeminds.feed.android.core.topics.model.LMFeedTopicViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="@dimen/lm_feed_small_margin"
        android:layout_marginEnd="@dimen/lm_feed_regular_margin"
        android:background="@drawable/lm_feed_background_selected_filter_topic">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_topic_name"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginVertical="@dimen/lm_feed_small_margin"
            android:layout_marginStart="@dimen/lm_feed_regular_margin"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:text="@string/lm_feed_books"
            tools:textSize="@dimen/lm_feed_text_large" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_cross"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_extra_small_margin"
            android:layout_marginEnd="@dimen/lm_feed_small_margin"
            android:clickable="true"
            android:focusable="true"
            android:foreground="?selectableItemBackgroundBorderless"
            app:layout_constraintBottom_toBottomOf="@id/tv_topic_name"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toEndOf="@id/tv_topic_name"
            app:layout_constraintTop_toTopOf="@id/tv_topic_name"
            tools:ignore="ContentDescription"
            tools:src="@drawable/lm_feed_ic_cross_topics" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_topic.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">

    <data>

        <variable
            name="position"
            type="int" />

        <variable
            name="topicViewData"
            type="com.likeminds.feed.android.core.topics.model.LMFeedTopicViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_topic_name"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:padding="@dimen/lm_feed_large_padding"
            tools:text="@string/lm_feed_books"
            tools:drawableEnd="@drawable/lm_feed_ic_topic_selected"
            tools:textColor="@color/lm_feed_dark_grey"
            tools:textSize="@dimen/lm_feed_text_large"
            tools:textStyle="bold" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>



================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_item_view_more_reply.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <data>

        <variable
            name="position"
            type="int" />

        <variable
            name="viewMoreData"
            type="com.likeminds.feed.android.core.post.detail.model.LMFeedViewMoreReplyViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginTop="@dimen/lm_feed_extra_extra_large_margin">

        <com.likeminds.feed.android.core.ui.widgets.viewmore.view.LMFeedViewMoreView
            android:id="@+id/view_more_reply"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_label_icon_container_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_container_icon"
            android:layout_width="@dimen/lm_feed_standard_icon_size"
            android:layout_height="@dimen/lm_feed_standard_icon_size"
            android:layout_marginStart="@dimen/lm_feed_extra_large_margin"
            android:layout_marginTop="@dimen/lm_feed_label_icon_container_top_margin"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:srcCompat="@drawable/lm_feed_ic_delete" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_container_label"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_container_label_margin_start"
            app:layout_constraintBottom_toBottomOf="@id/iv_container_icon"
            app:layout_constraintStart_toEndOf="@id/iv_container_icon"
            app:layout_constraintTop_toTopOf="@id/iv_container_icon"
            tools:text="Edit Post" />

        <View
            android:id="@+id/view_separator"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_small_separator_size"
            android:layout_marginTop="@dimen/lm_feed_label_icon_container_top_margin"
            android:background="@color/lm_feed_blue_separator"
            app:layout_constraintTop_toBottomOf="@id/tv_container_label" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_label_image_container_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <View
            android:id="@+id/view_separator"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_small_separator_size"
            android:background="@color/lm_feed_blue_separator"
            app:layout_constraintTop_toTopOf="parent" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedImageView
            android:id="@+id/iv_container"
            android:layout_width="@dimen/lm_feed_standard_icon_size"
            android:layout_height="@dimen/lm_feed_standard_icon_size"
            android:layout_marginVertical="@dimen/lm_feed_medium_margin"
            android:layout_marginStart="@dimen/lm_feed_large_margin"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/view_separator"
            tools:srcCompat="@drawable/lm_feed_picture_placeholder" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_container_label"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_regular_margin"
            android:layout_marginEnd="@dimen/lm_feed_large_margin"
            app:layout_constraintBottom_toBottomOf="@id/iv_container"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintHorizontal_bias="0.0"
            app:layout_constraintStart_toEndOf="@id/iv_container"
            app:layout_constraintTop_toTopOf="@id/iv_container"
            tools:text="@string/lm_feed_be_the_first_one_to_s"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_medium" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_layout_create_post_link.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostLinkMediaView
            android:id="@+id/post_link_view"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_medium_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_layout_edit_post_documents.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostDocumentsMediaView
            android:id="@+id/post_documents_media_view"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_medium_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_layout_edit_post_multiple_media.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostMultipleMediaView
            android:id="@+id/multiple_media_view"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_layout_edit_post_single_image.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout>

    <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto"
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostImageMediaView
            android:id="@+id/post_image_view"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />
    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>



================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_layout_edit_post_single_video.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout>

    <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto"
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostVideoMediaView
            android:id="@+id/post_video_view"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_medium_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>



================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_layout_poll_results_tab.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <data>

        <variable
            name="pollOptionCount"
            type="String" />

        <variable
            name="pollOptionText"
            type="String" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:id="@+id/cl_poll_results_tab"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:padding="10dp">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_poll_option_count"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@{pollOptionCount}"
            android:textColor="@color/lm_feed_grey"
            android:textSize="@dimen/lm_feed_text_large"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:text="@string/lm_feed_poll_sample_vote_count" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_poll_option_text"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_small_margin"
            android:ellipsize="end"
            android:gravity="center"
            android:maxLines="1"
            android:text="@{pollOptionText}"
            android:textColor="@color/lm_feed_grey"
            android:textSize="@dimen/lm_feed_text_large"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_poll_option_count"
            tools:text="@string/lm_feed_poll_sample_option_text" />
    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_layout_posting.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:id="@+id/cl_container"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@color/lm_feed_white">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedImageView
            android:id="@+id/iv_post_thumbnail"
            android:layout_width="@dimen/lm_feed_posting_thumbnail_width"
            android:layout_height="@dimen/lm_feed_posting_thumbnail_height"
            android:layout_marginVertical="@dimen/lm_feed_posting_thumbnail_margin"
            android:layout_marginStart="@dimen/lm_feed_medium_margin"
            android:scaleType="centerCrop"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:ignore="ContentDescription" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_posting"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:layout_marginVertical="@dimen/lm_feed_large_margin"
            android:layout_marginStart="@dimen/lm_feed_regular_margin"
            android:ellipsize="end"
            android:lineHeight="@dimen/lm_feed_standard_line_height"
            android:maxEms="15"
            android:textColor="@color/lm_feed_dark_grey"
            android:textSize="@dimen/lm_feed_text_extra_large"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintStart_toEndOf="@id/iv_post_thumbnail"
            app:layout_constraintTop_toTopOf="parent"
            tools:text="@string/lm_feed_creating_s" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedProgressBar
            android:id="@+id/posting_progress"
            style="?android:attr/progressBarStyleHorizontal"
            android:layout_width="@dimen/lm_feed_standard_icon_size"
            android:layout_height="@dimen/lm_feed_standard_icon_size"
            android:layout_marginEnd="@dimen/lm_feed_medium_margin"
            android:background="@drawable/lm_feed_circular_shape"
            android:indeterminate="false"
            android:max="100"
            android:progressDrawable="@drawable/lm_feed_circular_progress_bar"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_retry"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginEnd="@dimen/lm_feed_medium_margin"
            android:ellipsize="end"
            android:lineHeight="@dimen/lm_feed_standard_line_height"
            android:maxEms="15"
            android:text="@string/lm_feed_retry"
            android:textColor="@color/lm_feed_grey"
            android:textSize="@dimen/lm_feed_text_medium"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedImageView
            android:id="@+id/iv_posted"
            android:layout_width="@dimen/lm_feed_standard_icon_size"
            android:layout_height="@dimen/lm_feed_standard_icon_size"
            android:layout_marginEnd="@dimen/lm_feed_medium_margin"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:ignore="ContentDescription"
            tools:srcCompat="@drawable/lm_feed_ic_completed_green" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_layout_progress_bar.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:translationZ="@dimen/lm_feed_progress_bar_translation_z"
        android:visibility="gone">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedProgressBar
            android:id="@+id/progress_view"
            style="?android:attr/progressBarStyle"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintLeft_toLeftOf="parent"
            app:layout_constraintRight_toRightOf="parent"
            app:layout_constraintTop_toTopOf="parent" />
    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_no_entity_layout_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedImageView
            android:id="@+id/iv_image"
            android:layout_width="@dimen/lm_feed_no_entity_image_icon_size"
            android:layout_height="@dimen/lm_feed_no_entity_image_icon_size"
            android:layout_marginTop="@dimen/lm_feed_no_entity_image_top_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:ignore="ContentDescription"
            tools:src="@drawable/lm_feed_picture_placeholder" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_no_entity_title"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_medium_margin"
            android:textColor="@color/lm_feed_black"
            android:textSize="@dimen/lm_feed_text_extra_large"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/iv_image"
            tools:text="@string/lm_feed_no_posts_s_to_show" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_no_entity_subtitle"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            android:textColor="@color/lm_feed_black"
            android:textSize="@dimen/lm_feed_text_small"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_no_entity_title"
            tools:text="@string/lm_feed_be_the_first_one_to_s" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedFAB
            android:id="@+id/fab_action"
            android:layout_width="wrap_content"
            android:layout_height="@dimen/lm_feed_no_entity_fab_height"
            android:layout_marginTop="@dimen/lm_feed_medium_margin"
            android:gravity="center"
            android:textAllCaps="true"
            android:textColor="@color/lm_feed_white"
            android:textSize="@dimen/lm_feed_text_small"
            app:iconGravity="start"
            app:iconSize="@dimen/lm_feed_medium_icon_size"
            app:iconTint="@color/lm_feed_white"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_no_entity_subtitle"
            tools:icon="@drawable/lm_feed_picture_placeholder"
            tools:text="@string/lm_feed_new_s" />
    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_poll_option_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:id="@+id/cl_poll"
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:id="@+id/cl_poll_option"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:background="@drawable/lm_feed_background_poll_item_selected"
            android:minHeight="@dimen/lm_feed_poll_option_min_height"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent">

            <ProgressBar
                android:id="@+id/pb_poll_background"
                style="?android:attr/progressBarStyleHorizontal"
                android:layout_width="@dimen/lm_feed_zero_dp"
                android:layout_height="@dimen/lm_feed_zero_dp"
                android:layout_margin="@dimen/lm_feed_extra_small_margin"
                android:indeterminate="false"
                android:progressDrawable="@drawable/lm_feed_poll_result_background_selected"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent"
                tools:progress="50" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                android:id="@+id/tv_poll_option"
                android:layout_width="@dimen/lm_feed_zero_dp"
                android:layout_height="match_parent"
                android:layout_marginStart="@dimen/lm_feed_regular_margin"
                android:layout_marginTop="@dimen/lm_feed_small_margin"
                android:layout_marginEnd="@dimen/lm_feed_regular_margin"
                android:padding="@dimen/lm_feed_small_padding"
                app:layout_constraintBottom_toTopOf="@+id/tv_added_by"
                app:layout_constraintEnd_toStartOf="@+id/iv_checked"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent"
                app:layout_constraintVertical_chainStyle="packed"
                app:layout_goneMarginBottom="@dimen/lm_feed_small_margin"
                tools:ellipsize="end"
                tools:maxLines="2"
                tools:text="@string/lm_feed_sample_text"
                tools:textColor="@color/lm_feed_black"
                tools:textSize="@dimen/lm_feed_text_large" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                android:id="@+id/tv_added_by"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginBottom="@dimen/lm_feed_small_margin"
                android:paddingHorizontal="@dimen/lm_feed_small_padding"
                android:visibility="gone"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintStart_toStartOf="@+id/tv_poll_option"
                app:layout_constraintTop_toBottomOf="@+id/tv_poll_option"
                app:layout_constraintVertical_chainStyle="packed"
                tools:ellipsize="end"
                tools:text="@string/lm_feed_added_by_you"
                tools:textColor="@color/lm_feed_grey"
                tools:textSize="@dimen/lm_feed_text_small"
                tools:visibility="visible" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
                android:id="@+id/iv_checked"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginEnd="@dimen/lm_feed_regular_margin"
                android:visibility="gone"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintRight_toRightOf="parent"
                app:layout_constraintTop_toTopOf="parent"
                tools:ignore="ContentDescription,UseAppTint"
                tools:srcCompat="@drawable/lm_feed_ic_check_circle"
                tools:visibility="visible" />

        </androidx.constraintlayout.widget.ConstraintLayout>

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_no_votes"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_regular_margin"
            android:layout_marginTop="@dimen/lm_feed_extra_small_margin"
            android:foreground="?selectableItemBackgroundBorderless"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintHorizontal_bias="0.0"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@+id/cl_poll_option"
            tools:text="5 votes"
            tools:textColor="@color/lm_feed_majorelle_blue"
            tools:textSize="@dimen/lm_feed_text_medium"
            tools:visibility="visible" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_post_action_horizontal_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:id="@+id/cl_root"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@color/lm_feed_white">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_like"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginVertical="@dimen/lm_feed_medium_margin"
            android:layout_marginStart="@dimen/lm_feed_extra_small_margin"
            android:padding="@dimen/lm_feed_small_padding"
            android:scaleType="fitCenter"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:ignore="ContentDescription"
            tools:srcCompat="@drawable/lm_feed_ic_like_filled" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_likes_count"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_regular_margin"
            android:foreground="?selectableItemBackground"
            android:paddingVertical="@dimen/lm_feed_small_padding"
            android:textStyle="normal"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintStart_toEndOf="@id/iv_like"
            app:layout_constraintTop_toTopOf="parent"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:ignore="UnusedAttribute"
            tools:text="@string/lm_feed_s_likes"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_medium" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_comments_count"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_comments_count_margin"
            android:foreground="?selectableItemBackground"
            android:gravity="center"
            android:paddingVertical="@dimen/lm_feed_small_padding"
            android:textStyle="normal"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintStart_toEndOf="@id/tv_likes_count"
            app:layout_constraintTop_toTopOf="parent"
            tools:drawablePadding="@dimen/lm_feed_regular_padding"
            tools:drawableStart="@drawable/lm_feed_ic_comment"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:ignore="UnusedAttribute"
            tools:text="@string/lm_feed_s_comment"
            tools:textAlignment="center"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_medium" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_save"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginEnd="@dimen/lm_feed_comments_count_margin"
            android:padding="@dimen/lm_feed_small_padding"
            android:scaleType="fitCenter"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toStartOf="@id/iv_share"
            app:layout_constraintTop_toTopOf="parent"
            tools:ignore="ContentDescription"
            tools:srcCompat="@drawable/lm_feed_ic_bookmark_filled" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_share"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:foreground="?selectableItemBackground"
            android:padding="@dimen/lm_feed_small_padding"
            android:scaleType="fitCenter"
            android:visibility="visible"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:ignore="ContentDescription,UnusedAttribute"
            tools:srcCompat="@drawable/lm_feed_ic_share" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>



================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_post_action_vertical_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:id="@+id/cl_root"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:padding="@dimen/lm_feed_small_padding"
        tools:background="?android:attr/selectableItemBackground">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_like"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:padding="@dimen/lm_feed_small_padding"
            android:scaleType="fitCenter"
            android:visibility="visible"
            app:layout_constraintBottom_toTopOf="@id/tv_likes_count"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            tools:ignore="ContentDescription"
            tools:srcCompat="@drawable/lm_feed_ic_like_filled"
            tools:visibility="visible" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_likes_count"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginBottom="@dimen/lm_feed_medium_margin"
            android:foreground="?selectableItemBackground"
            android:textStyle="normal"
            android:visibility="visible"
            app:layout_constraintBottom_toTopOf="@id/iv_comment"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:ignore="UnusedAttribute"
            tools:text="31k"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_medium" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_comment"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:scaleType="fitCenter"
            android:visibility="gone"
            android:padding="@dimen/lm_feed_small_padding"
            app:layout_constraintBottom_toTopOf="@+id/tv_comments_count"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            tools:ignore="ContentDescription"
            tools:srcCompat="@drawable/lm_feed_ic_comment"
            tools:visibility="gone" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_comments_count"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginBottom="@dimen/lm_feed_medium_margin"
            android:foreground="?selectableItemBackground"
            android:gravity="center"
            android:maxLines="1"
            android:textStyle="normal"
            android:visibility="gone"
            app:layout_constraintBottom_toTopOf="@id/iv_share"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:text="3,145"
            tools:textAlignment="center"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_medium"
            tools:visibility="gone" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_share"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginBottom="@dimen/lm_feed_small_margin"
            android:padding="@dimen/lm_feed_small_padding"
            android:foreground="?selectableItemBackground"
            android:scaleType="fitCenter"
            android:visibility="visible"
            app:layout_constraintBottom_toTopOf="@id/tv_share_count"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            tools:srcCompat="@drawable/lm_feed_ic_share"
            tools:visibility="gone" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_share_count"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginBottom="@dimen/lm_feed_medium_margin"
            android:foreground="?selectableItemBackground"
            android:gravity="center"
            android:textStyle="normal"
            android:visibility="gone"
            app:layout_constraintBottom_toTopOf="@id/iv_post_menu"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:ignore="UnusedAttribute"
            tools:text="470"
            tools:textAlignment="center"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_medium"
            tools:visibility="gone" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_post_menu"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:scaleType="fitCenter"
            android:visibility="gone"
            android:padding="@dimen/lm_feed_small_padding"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            tools:ignore="ContentDescription,UnusedAttribute"
            tools:src="@drawable/lm_feed_ic_overflow_menu"
            tools:visibility="visible" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_post_document_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="@dimen/lm_feed_document_view_height"
        android:background="@drawable/lm_feed_background_document"
        android:foreground="?selectableItemBackgroundBorderless">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_document_icon"
            android:layout_width="@dimen/lm_feed_document_icon_width"
            android:layout_height="@dimen/lm_feed_document_icon_height"
            android:layout_marginVertical="@dimen/lm_feed_comments_count_margin"
            android:layout_marginStart="@dimen/lm_feed_document_icon_start_margin"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:scaleType="fitXY"
            tools:src="@drawable/lm_feed_ic_pdf" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_cross_doc"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginEnd="@dimen/lm_feed_regular_margin"
            android:padding="@dimen/lm_feed_regular_padding"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            app:srcCompat="@drawable/lm_feed_ic_cross"
            tools:ignore="ContentDescription"
            tools:visibility="visible" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_document_name"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_medium_margin"
            android:layout_marginEnd="@dimen/lm_feed_regular_margin"
            app:layout_constraintBottom_toTopOf="@id/guide_name"
            app:layout_constraintEnd_toStartOf="@id/iv_cross_doc"
            app:layout_constraintStart_toEndOf="@+id/iv_document_icon"
            app:layout_constraintTop_toTopOf="@+id/iv_document_icon"
            app:layout_constraintVertical_chainStyle="packed"
            tools:ellipsize="end"
            tools:fontFamily="@font/lm_feed_roboto_medium"
            tools:maxLines="1"
            tools:text="@string/lm_feed_sample_name"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_large" />

        <androidx.constraintlayout.widget.Guideline
            android:id="@+id/guide_name"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            app:layout_constraintGuide_percent="0.5" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_document_pages"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_medium_margin"
            android:layout_marginTop="@dimen/lm_feed_small_margin"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="@+id/iv_document_icon"
            app:layout_constraintStart_toEndOf="@+id/iv_document_icon"
            app:layout_constraintTop_toBottomOf="@+id/tv_document_name"
            app:layout_constraintVertical_chainStyle="packed"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_medium"
            tools:textStyle="normal"
            tools:visibility="gone" />

        <View
            android:id="@+id/view_meta_dot_1"
            android:layout_width="@dimen/lm_feed_dot_view_size"
            android:layout_height="@dimen/lm_feed_dot_view_size"
            android:layout_marginStart="@dimen/lm_feed_small_margin"
            android:background="@drawable/lm_feed_shape_dot_grey"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="@+id/tv_document_pages"
            app:layout_constraintStart_toEndOf="@+id/tv_document_pages"
            app:layout_constraintTop_toTopOf="@+id/tv_document_pages" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_document_size"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_small_margin"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="@+id/view_meta_dot_1"
            app:layout_constraintStart_toEndOf="@+id/view_meta_dot_1"
            app:layout_constraintTop_toTopOf="@+id/view_meta_dot_1"
            app:layout_goneMarginStart="@dimen/lm_feed_medium_margin"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:text="@string/lm_feed_sample_size"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_medium"
            tools:textStyle="normal"
            tools:visibility="gone" />

        <View
            android:id="@+id/view_meta_dot_2"
            android:layout_width="@dimen/lm_feed_dot_view_size"
            android:layout_height="@dimen/lm_feed_dot_view_size"
            android:layout_marginStart="@dimen/lm_feed_small_margin"
            android:background="@drawable/lm_feed_shape_dot_grey"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="@+id/tv_document_size"
            app:layout_constraintStart_toEndOf="@+id/tv_document_size"
            app:layout_constraintTop_toTopOf="@+id/tv_document_size" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_document_type"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_small_margin"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="@+id/view_meta_dot_2"
            app:layout_constraintStart_toEndOf="@+id/view_meta_dot_2"
            app:layout_constraintTop_toTopOf="@+id/view_meta_dot_2"
            app:layout_goneMarginStart="@dimen/lm_feed_medium_margin"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:textAllCaps="true"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_medium"
            tools:textStyle="normal" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>



================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_post_documents_media_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.likeminds.feed.android.core.socialfeed.view.LMFeedDocumentListView
            android:id="@+id/rv_documents"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:descendantFocusability="blocksDescendants"
            android:nestedScrollingEnabled="false"
            android:orientation="vertical"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_show_more"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            android:visibility="gone"
            app:layout_constraintLeft_toLeftOf="parent"
            app:layout_constraintTop_toBottomOf="@+id/rv_documents"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:textColor="@color/lm_feed_majorelle_blue"
            tools:textSize="@dimen/lm_feed_text_large"
            tools:textStyle="normal"
            tools:visibility="gone" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_post_header_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedImageView
            android:id="@+id/iv_author_image"
            android:layout_width="@dimen/lm_feed_large_icon_size"
            android:layout_height="@dimen/lm_feed_large_icon_size"
            android:layout_marginVertical="@dimen/lm_feed_regular_margin"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:src="@color/lm_feed_majorelle_blue" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_author_name"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_medium_margin"
            android:maxLines="1"
            android:textColor="@color/lm_feed_black"
            android:textSize="@dimen/lm_feed_text_large"
            app:layout_constrainedWidth="true"
            app:layout_constraintBottom_toTopOf="@id/tv_time"
            app:layout_constraintEnd_toStartOf="@+id/guide_author_name"
            app:layout_constraintHorizontal_bias="0.0"
            app:layout_constraintStart_toEndOf="@+id/iv_author_image"
            app:layout_constraintTop_toTopOf="@+id/iv_author_image"
            tools:fontFamily="@font/lm_feed_roboto_medium"
            tools:ignore="UnusedAttribute"
            tools:text="@string/lm_feed_sample_name" />

        <androidx.constraintlayout.widget.Guideline
            android:id="@+id/guide_author_name"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            app:layout_constraintGuide_percent="0.6"/>

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_custom_title"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_regular_margin"
            android:background="@drawable/lm_feed_background_round_2dp"
            android:includeFontPadding="false"
            android:maxLines="1"
            android:paddingHorizontal="@dimen/lm_feed_regular_padding"
            android:paddingVertical="@dimen/lm_feed_small_padding"
            android:textColor="@color/lm_feed_majorelle_blue"
            android:textSize="@dimen/lm_feed_text_small"
            android:visibility="gone"
            app:layout_constrainedWidth="true"
            app:layout_constraintBottom_toBottomOf="@id/tv_author_name"
            app:layout_constraintEnd_toStartOf="@+id/iv_pin"
            app:layout_constraintHorizontal_bias="0.0"
            app:layout_constraintStart_toEndOf="@id/tv_author_name"
            app:layout_constraintTop_toTopOf="@id/tv_author_name"
            tools:text="@string/lm_feed_community_manager"
            tools:visibility="visible" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_time"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:textColor="@color/lm_feed_grey"
            android:textSize="@dimen/lm_feed_text_small"
            android:textStyle="normal"
            app:layout_constraintBottom_toBottomOf="@id/iv_author_image"
            app:layout_constraintStart_toStartOf="@+id/tv_author_name"
            app:layout_constraintTop_toBottomOf="@+id/tv_author_name"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:text="@string/lm_feed_sample_time" />

        <View
            android:id="@+id/view_dot_edited"
            android:layout_width="@dimen/lm_feed_dot_view_size"
            android:layout_height="@dimen/lm_feed_dot_view_size"
            android:layout_marginStart="@dimen/lm_feed_small_margin"
            android:background="@drawable/lm_feed_shape_dot_grey"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="@+id/tv_time"
            app:layout_constraintStart_toEndOf="@+id/tv_time"
            app:layout_constraintTop_toTopOf="@+id/tv_time"
            tools:visibility="visible" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_edited"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_small_margin"
            android:text="@string/lm_feed_edited"
            android:textColor="@color/lm_feed_grey"
            android:textSize="@dimen/lm_feed_text_small"
            android:textStyle="normal"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="@+id/tv_time"
            app:layout_constraintStart_toEndOf="@+id/view_dot_edited"
            app:layout_constraintTop_toTopOf="@+id/tv_time"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:visibility="visible" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_pin"
            android:layout_width="wrap_content"
            android:layout_height="match_parent"
            android:layout_marginEnd="@dimen/lm_feed_regular_margin"
            android:paddingHorizontal="@dimen/lm_feed_extra_small_padding"
            android:scaleType="fitCenter"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toStartOf="@id/iv_post_menu"
            app:layout_constraintTop_toTopOf="parent"
            tools:ignore="ContentDescription"
            tools:src="@drawable/lm_feed_ic_pin"
            tools:visibility="visible" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_post_menu"
            android:layout_width="wrap_content"
            android:layout_height="match_parent"
            android:foreground="?selectableItemBackground"
            android:scaleType="fitCenter"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:ignore="ContentDescription,UnusedAttribute"
            tools:src="@drawable/lm_feed_ic_overflow_menu" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_post_image_media_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedImageView
            android:id="@+id/image_view"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="@dimen/lm_feed_zero_dp"
            app:layout_constraintDimensionRatio="1:1"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:scaleType="centerCrop"
            tools:srcCompat="@drawable/lm_feed_sample_image" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_cross"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:padding="@dimen/lm_feed_regular_padding"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="@id/image_view"
            app:srcCompat="@drawable/lm_feed_ic_cross"
            tools:ignore="ContentDescription" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_post_link_media_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <com.google.android.material.card.MaterialCardView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:backgroundTint="@color/lm_feed_white"
        tools:cardCornerRadius="@dimen/lm_feed_margin_medium"
        tools:cardElevation="@dimen/zero_dp"
        tools:strokeColor="@color/lm_feed_light_grayish_blue"
        tools:strokeWidth="2">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:id="@+id/cl_link"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:background="?selectableItemBackground">

            <com.likeminds.feed.android.core.ui.base.views.LMFeedImageView
                android:id="@+id/iv_link"
                android:layout_width="match_parent"
                android:layout_height="@dimen/lm_feed_link_image_height"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
                android:id="@+id/iv_cross_link"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginTop="@dimen/lm_feed_regular_margin"
                android:layout_marginEnd="@dimen/lm_feed_regular_margin"
                android:padding="@dimen/lm_feed_regular_padding"
                android:visibility="gone"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintTop_toTopOf="parent"
                tools:srcCompat="@drawable/lm_feed_ic_cross"
                tools:ignore="ContentDescription" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                android:id="@+id/tv_link_title"
                android:layout_width="@dimen/lm_feed_zero_dp"
                android:layout_height="wrap_content"
                android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
                android:layout_marginTop="@dimen/lm_feed_large_margin"
                android:gravity="center_vertical"
                android:maxLines="2"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@id/iv_link"
                tools:text="@string/lm_feed_sample_link_title"
                tools:textColor="@color/lm_feed_grey"
                tools:textSize="@dimen/lm_feed_text_large" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                android:id="@+id/tv_link_description"
                android:layout_width="@dimen/lm_feed_zero_dp"
                android:layout_height="wrap_content"
                android:gravity="center_vertical"
                android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
                android:maxLines="2"
                app:layout_constraintEnd_toEndOf="@+id/tv_link_title"
                app:layout_constraintStart_toStartOf="@+id/tv_link_title"
                app:layout_constraintTop_toBottomOf="@+id/tv_link_title"
                tools:text="@string/lm_feed_sample_text"
                tools:textColor="@color/lm_feed_grey"
                tools:textSize="@dimen/lm_feed_text_small" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                android:id="@+id/tv_link_url"
                android:layout_width="@dimen/lm_feed_zero_dp"
                android:layout_height="wrap_content"
                android:layout_marginBottom="@dimen/lm_feed_large_margin"
                android:gravity="center_vertical"
                android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
                android:singleLine="true"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintEnd_toEndOf="@+id/tv_link_title"
                app:layout_constraintStart_toStartOf="@+id/tv_link_title"
                app:layout_constraintTop_toBottomOf="@+id/tv_link_description"
                tools:text="@string/lm_feed_sample_link_url"
                tools:textColor="@color/lm_feed_grey"
                tools:textSize="@dimen/lm_feed_text_small" />

        </androidx.constraintlayout.widget.ConstraintLayout>

    </com.google.android.material.card.MaterialCardView>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_post_menu_bottom_sheet_fragment.xml
================================================
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@drawable/lm_feed_bg_rounded_top_10dp">

        <View
            android:id="@+id/view"
            android:layout_width="@dimen/lm_feed_report_bottom_sheet_top_bar_width"
            android:layout_height="@dimen/lm_feed_report_bottom_sheet_top_bar_height"
            android:layout_margin="@dimen/lm_feed_regular_margin"
            android:background="@drawable/lm_feed_bg_sheet_handle"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <com.likeminds.feed.android.core.postmenu.view.LMFeedPostMenuListView
            android:id="@+id/rv_menu"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:descendantFocusability="blocksDescendants"
            android:overScrollMode="never"
            app:layoutManager="androidx.recyclerview.widget.LinearLayoutManager"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/view" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_post_multiple_media_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <androidx.viewpager2.widget.ViewPager2
            android:id="@+id/viewpager_multiple_media"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="@dimen/lm_feed_zero_dp"
            app:layout_constraintDimensionRatio="1:1"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintHorizontal_bias="0.0"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <com.zhpan.indicator.IndicatorView
            android:id="@+id/dots_indicator"
            android:layout_width="@dimen/lm_feed_indicator_dot_size"
            android:layout_height="@dimen/lm_feed_indicator_size"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@+id/viewpager_multiple_media" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>



================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_post_poll_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_poll_title"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:layout_marginEnd="@dimen/lm_feed_small_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_small"
            app:layout_constraintEnd_toStartOf="@id/iv_edit_poll"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:text="@string/lm_feed_poll_sample_question"
            tools:textColor="@color/lm_feed_dark_grey"
            tools:textSize="@dimen/lm_feed_text_medium" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_edit_poll"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginEnd="@dimen/lm_feed_large_margin"
            android:foreground="?selectableItemBackground"
            app:layout_constraintEnd_toStartOf="@id/iv_clear_poll"
            app:layout_constraintTop_toTopOf="parent"
            tools:src="@drawable/lm_feed_ic_edit_poll"
            tools:tint="@color/lm_feed_dark_grey" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_clear_poll"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:foreground="?selectableItemBackground"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:src="@drawable/lm_feed_ic_cross_circle" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_poll_info"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_small"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@+id/tv_poll_title"
            tools:text="@string/lm_feed_poll_select_exactly_sample"
            tools:textColor="@color/lm_feed_dusty_grey"
            tools:textSize="@dimen/lm_feed_text_medium"
            tools:visibility="visible" />

        <com.likeminds.feed.android.core.ui.widgets.poll.view.LMFeedPollOptionsListView
            android:id="@+id/rv_poll_options"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:layout_marginTop="8dp"
            android:clipToPadding="false"
            android:nestedScrollingEnabled="false"
            android:descendantFocusability="blocksDescendants"
            android:orientation="vertical"
            android:overScrollMode="never"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="@+id/tv_poll_title"
            app:layout_constraintTop_toBottomOf="@+id/tv_poll_info" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedButton
            android:id="@+id/btn_add_option"
            style="@style/Widget.Material3.Button.OutlinedButton"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:minHeight="@dimen/lm_feed_poll_option_min_height"
            android:paddingVertical="@dimen/lm_feed_poll_add_option_vertical_padding"
            android:text="@string/lm_feed_plus_add_an_option"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="@+id/tv_poll_title"
            app:layout_constraintTop_toBottomOf="@+id/rv_poll_options"
            tools:cornerRadius="@dimen/lm_feed_corner_radius_medium"
            tools:strokeColor="@color/lm_feed_dusty_grey_20"
            tools:textAllCaps="false"
            tools:textColor="@color/dark_grayish_blue"
            tools:textSize="@dimen/lm_feed_text_large"
            tools:visibility="visible" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedButton
            android:id="@+id/btn_submit_vote"
            style="@style/Widget.Material3.Button.OutlinedButton"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:paddingHorizontal="@dimen/lm_feed_medium_padding"
            android:paddingVertical="@dimen/lm_feed_medium_padding"
            android:text="@string/lm_feed_submit_vote"
            app:layout_constraintStart_toStartOf="@+id/tv_poll_title"
            app:layout_constraintTop_toBottomOf="@+id/btn_add_option"
            tools:background="@color/lm_feed_majorelle_blue"
            tools:cornerRadius="@dimen/lm_feed_corner_radius_medium"
            tools:textColor="@color/lm_feed_white"
            tools:textSize="@dimen/lm_feed_text_large" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_member_voted_count"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:layout_marginBottom="@dimen/lm_feed_large_margin"
            android:foreground="?selectableItemBackgroundBorderless"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintStart_toStartOf="@+id/tv_poll_title"
            app:layout_constraintTop_toBottomOf="@+id/btn_submit_vote"
            tools:ellipsize="end"
            tools:maxLines="2"
            tools:text="@string/lm_feed_be_the_first_one_to_vote"
            tools:textColor="@color/lm_feed_majorelle_blue"
            tools:textSize="@dimen/lm_feed_text_large" />

        <View
            android:id="@+id/view_dot_time_left"
            android:layout_width="@dimen/lm_feed_dot_view_size"
            android:layout_height="@dimen/lm_feed_dot_view_size"
            android:layout_marginStart="@dimen/lm_feed_small_margin"
            android:background="@drawable/lm_feed_shape_dot_grey"
            app:layout_constraintBottom_toBottomOf="@id/tv_member_voted_count"
            app:layout_constraintStart_toEndOf="@+id/tv_member_voted_count"
            app:layout_constraintTop_toTopOf="@+id/tv_member_voted_count" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_poll_time_left"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_small_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:layout_marginBottom="@dimen/lm_feed_large_margin"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintStart_toEndOf="@id/view_dot_time_left"
            app:layout_constraintTop_toBottomOf="@+id/btn_submit_vote"
            tools:ellipsize="end"
            tools:maxLines="2"
            tools:text="@string/lm_feed_sample_time_left"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_large" />

        <View
            android:id="@+id/view_dot_edit_vote"
            android:layout_width="@dimen/lm_feed_dot_view_size"
            android:layout_height="@dimen/lm_feed_dot_view_size"
            android:layout_marginStart="@dimen/lm_feed_small_margin"
            android:background="@drawable/lm_feed_shape_dot_grey"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="@id/tv_poll_time_left"
            app:layout_constraintStart_toEndOf="@+id/tv_poll_time_left"
            app:layout_constraintTop_toTopOf="@+id/tv_poll_time_left"
            tools:visibility="visible" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_poll_edit_vote"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_small_margin"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:layout_marginBottom="@dimen/lm_feed_large_margin"
            android:foreground="?selectableItemBackgroundBorderless"
            android:text="@string/lm_feed_edit_vote"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintStart_toEndOf="@id/view_dot_edit_vote"
            app:layout_constraintTop_toBottomOf="@+id/btn_submit_vote"
            tools:ellipsize="end"
            tools:maxLines="2"
            tools:textColor="@color/lm_feed_majorelle_blue"
            tools:textSize="@dimen/lm_feed_text_large"
            tools:visibility="visible" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_post_top_response_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:id="@+id/layout_top_response"
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_top_response_title"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:fontFamily="@font/roboto_medium"
            tools:text="@string/lm_feed_top_response"
            tools:textColor="@color/lm_feed_dark_grey" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedImageView
            android:id="@+id/iv_top_response_author_image"
            android:layout_width="@dimen/lm_feed_top_response_author_image_size"
            android:layout_height="@dimen/lm_feed_top_response_author_image_size"
            android:layout_marginVertical="@dimen/lm_feed_regular_margin"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_top_response_title"
            tools:src="@color/lm_feed_majorelle_blue" />

        <androidx.cardview.widget.CardView
            android:id="@+id/cv_top_response"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_regular_margin"
            android:orientation="vertical"
            app:cardBackgroundColor="@color/lm_feed_light_grayish_blue_50"
            app:cardCornerRadius="@dimen/lm_feed_corner_radius_medium"
            app:cardElevation="0dp"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toEndOf="@id/iv_top_response_author_image"
            app:layout_constraintTop_toTopOf="@id/iv_top_response_author_image">

            <RelativeLayout
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:padding="@dimen/lm_feed_medium_padding">

                <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                    android:id="@+id/tv_top_response_author_name"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:textColor="@color/lm_feed_dark_grey"
                    android:textSize="@dimen/lm_feed_text_medium"
                    tools:fontFamily="@font/lm_feed_roboto_bold"
                    tools:ignore="UnusedAttribute"
                    tools:text="@string/lm_feed_sample_name" />

                <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                    android:id="@+id/tv_top_response_time"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_below="@id/tv_top_response_author_name"
                    android:textColor="@color/lm_feed_brown_grey"
                    android:textSize="@dimen/lm_feed_text_small"
                    android:textStyle="normal"
                    tools:fontFamily="@font/lm_feed_roboto"
                    tools:text="@string/lm_feed_sample_time" />

                <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                    android:id="@+id/tv_top_response_content"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_below="@id/tv_top_response_time"
                    android:layout_marginTop="@dimen/lm_feed_small_margin"
                    android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
                    tools:fontFamily="@font/lm_feed_roboto"
                    tools:textColor="@color/lm_feed_grey"
                    tools:textSize="@dimen/lm_feed_text_large" />

            </RelativeLayout>

        </androidx.cardview.widget.CardView>

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_post_topics_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@color/lm_feed_white">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedChipGroup
            android:id="@+id/cg_topics"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            app:chipSpacingHorizontal="@dimen/lm_feed_default_chip_group_horizontal_spacing"
            app:chipSpacingVertical="@dimen/lm_feed_default_chip_group_vertical_spacing"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:visibility="visible" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_post_vertical_video_media_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedVideoView
            android:id="@+id/video_view"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:keepScreenOn="true"
            android:scaleType="centerCrop"
            android:visibility="invisible"
            app:layout_constraintDimensionRatio="9:16"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            app:use_artwork="true" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedImageView
            android:id="@+id/iv_video_thumbnail"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="@dimen/lm_feed_zero_dp"
            android:translationZ="@dimen/lm_feed_elevation_small"
            android:visibility="gone"
            app:layout_constraintDimensionRatio="9:16"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintHorizontal_bias="0.0"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:ignore="ContentDescription"
            tools:srcCompat="@drawable/lm_feed_ic_mute" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedProgressBar
            android:id="@+id/pb_video_loader"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:ignore="ContentDescription"
            tools:visibility="visible" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_play_pause_video"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:padding="@dimen/lm_feed_regular_padding"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="@id/video_view"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="@id/video_view"
            app:srcCompat="@drawable/lm_feed_ic_play"
            tools:ignore="ContentDescription"
            tools:visibility="gone" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_mute_unmute_video"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:padding="@dimen/lm_feed_regular_padding"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="@id/video_view"
            app:layout_constraintEnd_toEndOf="parent"
            tools:ignore="ContentDescription"
            tools:srcCompat="@drawable/lm_feed_ic_unmute"
            tools:visibility="visible" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_cross"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:padding="@dimen/lm_feed_regular_padding"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="@id/video_view"
            app:srcCompat="@drawable/lm_feed_ic_cross"
            tools:ignore="ContentDescription" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>



================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_post_video_media_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedVideoView
            android:id="@+id/video_view"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="@dimen/lm_feed_zero_dp"
            android:keepScreenOn="true"
            android:scaleType="centerCrop"
            android:visibility="invisible"
            app:layout_constraintDimensionRatio="1:1"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintHorizontal_bias="0.0"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            app:use_artwork="true" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedImageView
            android:id="@+id/iv_video_thumbnail"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="@dimen/lm_feed_zero_dp"
            android:translationZ="@dimen/lm_feed_elevation_small"
            android:visibility="gone"
            app:layout_constraintDimensionRatio="1:1"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintHorizontal_bias="0.0"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:ignore="ContentDescription"
            tools:srcCompat="@drawable/lm_feed_ic_mute" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedProgressBar
            android:id="@+id/pb_video_loader"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:ignore="ContentDescription"
            tools:visibility="visible" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_play_pause_video"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:padding="@dimen/lm_feed_regular_padding"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="@id/video_view"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="@id/video_view"
            app:srcCompat="@drawable/lm_feed_ic_play"
            tools:ignore="ContentDescription"
            tools:visibility="gone" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_mute_unmute_video"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:padding="@dimen/lm_feed_regular_padding"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="@id/video_view"
            app:layout_constraintEnd_toEndOf="parent"
            tools:ignore="ContentDescription"
            tools:srcCompat="@drawable/lm_feed_ic_unmute"
            tools:visibility="visible" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_cross"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:padding="@dimen/lm_feed_regular_padding"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="@id/video_view"
            app:srcCompat="@drawable/lm_feed_ic_cross"
            tools:ignore="ContentDescription" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>



================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_qna_action_horizontal_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:paddingBottom="@dimen/lm_qna_action_view_vertical_padding">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:id="@+id/cl_upvote"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_large_padding"
            android:layout_marginTop="@dimen/lm_qna_action_view_vertical_margin"
            android:paddingHorizontal="@dimen/lm_feed_medium_padding"
            android:background="@drawable/lm_feed_background_qna_upvote_button"
            android:paddingVertical="@dimen/lm_feed_small_padding"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent">

            <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
                android:id="@+id/iv_upvote"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:visibility="visible"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent"
                tools:ignore="ContentDescription"
                tools:srcCompat="@drawable/lm_feed_ic_upvote_unfilled"
                tools:visibility="visible" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                android:id="@+id/tv_upvote"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginStart="@dimen/lm_feed_small_margin"
                android:text="@string/lm_feed_upvote"
                android:visibility="visible"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintStart_toEndOf="@id/iv_upvote"
                app:layout_constraintTop_toTopOf="parent"
                tools:ignore="ContentDescription"
                tools:srcCompat="@drawable/lm_feed_ic_upvote_unfilled"
                tools:visibility="visible" />

            <View
                android:id="@+id/view_dot_upvotes_count"
                android:layout_width="@dimen/lm_feed_dot_view_size"
                android:layout_height="@dimen/lm_feed_dot_view_size"
                android:layout_marginStart="@dimen/lm_feed_small_margin"
                android:background="@drawable/lm_feed_shape_dot_grey"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintStart_toEndOf="@id/tv_upvote"
                app:layout_constraintTop_toTopOf="parent"
                tools:visibility="visible" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                android:id="@+id/tv_upvotes_count"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginStart="@dimen/lm_feed_small_margin"
                android:foreground="?selectableItemBackground"
                android:textStyle="normal"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintStart_toEndOf="@id/view_dot_upvotes_count"
                app:layout_constraintTop_toTopOf="parent"
                tools:fontFamily="@font/lm_feed_roboto"
                tools:ignore="UnusedAttribute"
                tools:text="31k"
                tools:textColor="@color/lm_feed_grey"
                tools:textSize="@dimen/lm_feed_text_medium" />

        </androidx.constraintlayout.widget.ConstraintLayout>

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_comments_count"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginEnd="@dimen/lm_feed_comments_count_margin"
            android:foreground="?selectableItemBackground"
            android:gravity="center"
            android:paddingVertical="@dimen/lm_feed_small_padding"
            android:textStyle="normal"
            app:layout_constraintBottom_toBottomOf="@id/cl_upvote"
            app:layout_constraintEnd_toStartOf="@id/iv_save"
            app:layout_constraintTop_toTopOf="@id/cl_upvote"
            tools:drawablePadding="@dimen/lm_feed_regular_padding"
            tools:drawableStart="@drawable/lm_feed_ic_comment"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:ignore="UnusedAttribute"
            tools:text="@string/lm_feed_s_comment"
            tools:textAlignment="center"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_medium" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_save"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginEnd="@dimen/lm_feed_comments_count_margin"
            android:padding="@dimen/lm_feed_small_padding"
            android:scaleType="fitCenter"
            app:layout_constraintBottom_toBottomOf="@id/cl_upvote"
            app:layout_constraintEnd_toStartOf="@id/iv_share"
            app:layout_constraintTop_toTopOf="@id/cl_upvote"
            tools:ignore="ContentDescription"
            tools:srcCompat="@drawable/lm_feed_ic_bookmark_filled" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_share"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginEnd="@dimen/lm_feed_large_padding"
            android:foreground="?selectableItemBackground"
            android:padding="@dimen/lm_feed_small_padding"
            android:scaleType="fitCenter"
            android:visibility="visible"
            app:layout_constraintBottom_toBottomOf="@id/cl_upvote"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="@id/cl_upvote"
            tools:ignore="ContentDescription,UnusedAttribute"
            tools:srcCompat="@drawable/lm_feed_ic_share" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_reason_choose_bottom_sheet_fragment.xml
================================================
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@drawable/lm_feed_bg_rounded_top_10dp"
        android:paddingBottom="@dimen/lm_feed_large_padding">

        <View
            android:id="@+id/view"
            android:layout_width="@dimen/lm_feed_report_bottom_sheet_top_bar_width"
            android:layout_height="@dimen/lm_feed_report_bottom_sheet_top_bar_height"
            android:layout_margin="@dimen/lm_feed_regular_margin"
            android:background="@drawable/lm_feed_bg_sheet_handle"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <com.likeminds.feed.android.core.delete.view.LMFeedReasonChooseListView
            android:id="@+id/rv_reasons"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_large_margin"
            android:overScrollMode="never"
            android:paddingBottom="@dimen/lm_feed_large_padding"
            app:layoutManager="androidx.recyclerview.widget.LinearLayoutManager"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@+id/view"
            tools:itemCount="10"
            tools:listitem="@layout/lm_feed_item_reason_choose" />
    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_search_activity.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/lm_feed_white">

        <FrameLayout
            android:id="@+id/container_search"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_search_bar.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:id="@+id/search_toolbar"
        android:layout_width="match_parent"
        android:layout_height="?attr/actionBarSize"
        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintTop_toTopOf="parent"
        tools:background="@color/lm_feed_white"
        tools:elevation="@dimen/lm_feed_elevation_small">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_back"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:background="?attr/actionBarItemBackground"
            android:clickable="true"
            android:focusable="true"
            android:padding="@dimen/lm_feed_large_padding"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintLeft_toLeftOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:ignore="ContentDescription"
            tools:src="@drawable/lm_feed_ic_arrow_back_black_24dp" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedEditText
            android:id="@+id/et_search"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="match_parent"
            android:hint="@string/lm_feed_search_hint_text"
            android:imeOptions="actionSearch|flagNoExtractUi"
            android:inputType="text"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_standard"
            android:paddingStart="@dimen/lm_feed_regular_padding"
            android:paddingEnd="@dimen/lm_feed_regular_padding"
            android:textCursorDrawable="@null"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toStartOf="@+id/iv_close"
            app:layout_constraintStart_toEndOf="@+id/iv_back"
            app:layout_constraintTop_toTopOf="parent"
            tools:background="@color/lm_feed_transparent"
            tools:maxLines="1"
            tools:textColor="@color/lm_feed_black"
            tools:textColorHint="@color/lm_feed_black_38"
            tools:textSize="@dimen/lm_feed_text_medium"
            tools:textStyle="normal" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
            android:id="@+id/iv_close"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:background="?attr/actionBarItemBackground"
            android:clickable="true"
            android:focusable="true"
            android:padding="@dimen/lm_feed_large_padding"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintRight_toRightOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:ignore="ContentDescription"
            tools:src="@drawable/lm_feed_ic_cross_black" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>



================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_search_fragment.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/lm_feed_cultured">

        <com.likeminds.feed.android.core.ui.widgets.searchbar.view.LMFeedSearchBarView
            android:id="@+id/feed_search_bar_view"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_header_view_height"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <com.likeminds.feed.android.core.ui.widgets.noentitylayout.view.LMFeedNoEntityLayoutView
            android:id="@+id/layout_no_result_found"
            android:layout_width="0dp"
            android:layout_height="0dp"
            android:visibility="visible"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@+id/feed_search_bar_view" />

        <com.likeminds.feed.android.core.search.view.LMFeedSearchListView
            android:id="@+id/rv_search"
            android:layout_width="0dp"
            android:layout_height="0dp"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@+id/feed_search_bar_view" />

        <include
            android:id="@+id/progress_bar"
            layout="@layout/lm_feed_layout_progress_bar"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_zero_dp"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>



================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_snackbar.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<com.likeminds.feed.android.core.ui.widgets.snackbar.view.LMFeedSnackbarView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content">

</com.likeminds.feed.android.core.ui.widgets.snackbar.view.LMFeedSnackbarView>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_snackbar_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<merge xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    tools:layout_height="wrap_content"
    tools:layout_width="match_parent"
    tools:parentTag="androidx.constraintlayout.widget.ConstraintLayout">

    <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
        android:id="@+id/tv_message"
        android:layout_width="@dimen/lm_feed_zero_dp"
        android:layout_height="wrap_content"
        android:background="@color/lm_feed_faux_charcoal"
        android:gravity="start"
        android:padding="@dimen/lm_feed_large_padding"
        android:textColor="@color/lm_feed_white"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent"
        tools:text="@string/lm_feed_no_topics_yet" />
</merge>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_social_topic_selector_bar.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_all_topics"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:foreground="?selectableItemBackgroundBorderless"
            android:lineHeight="@dimen/lm_feed_standard_line_height"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
            android:paddingHorizontal="@dimen/lm_feed_large_padding"
            android:paddingVertical="@dimen/lm_feed_large_padding"
            android:text="@string/lm_feed_all_topics"
            app:layout_constraintTop_toTopOf="parent"
            tools:drawableEnd="@drawable/lm_feed_ic_arrow_down"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_large" />

        <androidx.constraintlayout.widget.Group
            android:id="@+id/grp_selected_topics"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            app:constraint_referenced_ids="rv_selected_topics, tv_clear" />

        <com.likeminds.feed.android.core.socialfeed.view.LMFeedSocialSelectedTopicListView
            android:id="@+id/rv_selected_topics"
            android:layout_width="@dimen/lm_feed_zero_dp"
            android:layout_height="@dimen/lm_feed_zero_dp"
            android:layout_marginVertical="@dimen/lm_feed_regular_margin"
            android:layout_marginStart="@dimen/lm_feed_large_margin"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toStartOf="@id/tv_clear"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_clear"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginVertical="@dimen/lm_feed_regular_margin"
            android:clickable="true"
            android:focusable="true"
            android:foreground="?selectableItemBackgroundBorderless"
            android:lineHeight="@dimen/lm_feed_standard_line_height"
            android:paddingHorizontal="@dimen/lm_feed_large_padding"
            android:paddingVertical="@dimen/lm_feed_regular_padding"
            android:text="@string/lm_feed_clear"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:textColor="@color/lm_feed_majorelle_blue"
            tools:textSize="@dimen/lm_feed_text_large" />

        <View
            android:id="@+id/view_separator"
            android:layout_width="match_parent"
            android:layout_height="@dimen/lm_feed_small_separator_size"
            android:background="@color/lm_feed_blue_separator"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_user_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_margin="@dimen/lm_feed_regular_margin">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedImageView
            android:id="@+id/iv_user_image"
            android:layout_width="@dimen/lm_feed_large_icon_size"
            android:layout_height="@dimen/lm_feed_large_icon_size"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:src="@color/lm_feed_majorelle_blue" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_user_name"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_medium_margin"
            android:includeFontPadding="false"
            android:textColor="@color/lm_feed_dark_grey"
            app:layout_constrainedWidth="true"
            app:layout_constraintBottom_toBottomOf="@id/iv_user_image"
            app:layout_constraintEnd_toStartOf="@id/view_dot"
            app:layout_constraintStart_toEndOf="@+id/iv_user_image"
            app:layout_constraintTop_toTopOf="@+id/iv_user_image"
            tools:ellipsize="end"
            tools:fontFamily="@font/lm_feed_roboto_medium"
            tools:maxLines="1"
            tools:text="@string/lm_feed_sample_name"
            tools:textSize="@dimen/lm_feed_text_large" />

        <View
            android:id="@+id/view_dot"
            android:layout_width="@dimen/lm_feed_dot_view_size"
            android:layout_height="@dimen/lm_feed_dot_view_size"
            android:layout_marginStart="@dimen/lm_feed_small_margin"
            android:background="@drawable/lm_feed_shape_dot_grey"
            android:visibility="gone"
            app:layout_constraintBottom_toBottomOf="@id/tv_user_name"
            app:layout_constraintStart_toEndOf="@+id/tv_user_name"
            app:layout_constraintTop_toTopOf="@+id/tv_user_name"
            tools:visibility="visible" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_user_title"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_small_margin"
            android:includeFontPadding="false"
            app:layout_constrainedWidth="true"
            app:layout_constraintBottom_toBottomOf="@id/tv_user_name"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintHorizontal_bias="0.0"
            app:layout_constraintStart_toEndOf="@+id/view_dot"
            app:layout_constraintTop_toTopOf="@+id/tv_user_name"
            tools:ellipsize="end"
            tools:fontFamily="@font/lm_feed_roboto_medium"
            tools:text="@string/lm_feed_community_manager"
            tools:maxLines="1"
            tools:textColor="@color/lm_feed_majorelle_blue"
            tools:textSize="@dimen/lm_feed_text_medium" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/lm_feed_view_more_view.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:paddingHorizontal="@dimen/lm_feed_large_padding">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_view_more"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:foreground="?selectableItemBackground"
            android:paddingVertical="@dimen/lm_feed_small_padding"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:fontFamily="@font/lm_feed_roboto_medium"
            tools:ignore="UnusedAttribute"
            tools:text="@string/lm_feed_view_more_replies"
            tools:textColor="@color/lm_feed_dark_grayish_blue"
            tools:textSize="@dimen/lm_feed_text_medium" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_visible_count"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:paddingVertical="@dimen/lm_feed_small_padding"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:text="@string/lm_feed_placeholder_replies"
            tools:textColor="@color/lm_feed_dark_grayish_blue"
            tools:textSize="@dimen/lm_feed_text_small" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: likeminds-feed-android-core/src/main/res/layout/.DS_Store
================================================
[Non-text file]




================================================
File: likeminds-feed-android-core/src/main/res/values/colors.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <color name="lm_feed_white">#FFFFFF</color>
    <color name="lm_feed_majorelle_blue">#5046E5</color>
    <color name="lm_feed_majorelle_blue_10">#1A5046E5</color>
    <color name="lm_feed_black">#000000</color>
    <color name="lm_feed_grey">#666666</color>
    <color name="lm_feed_dark_grey">#333333</color>
    <color name="lm_feed_dark_grey_70">#B3333333</color>
    <color name="lm_feed_blue">#2196F3</color>
    <color name="lm_feed_azure">#1da1f2</color>
    <color name="lm_feed_cultured">#F5F5F5</color>
    <color name="lm_feed_raisin_black">#222020</color>
    <color name="lm_feed_brown_grey">#9b9b9b</color>
    <color name="lm_feed_light_grayish_blue">#e6ebf5</color>
    <color name="lm_feed_turquoise">#06C3AF</color>
    <color name="lm_feed_light_grey">#eeeeee</color>
    <color name="lm_feed_cloudy_blue">#d0d8e2</color>
    <color name="lm_feed_background">#f9f9f9</color>
    <color name="lm_feed_bright_grey">#EFEFEF</color>
    <color name="lm_feed_maastricht_blue_40">#660F1E3D</color>
    <color name="lm_feed_grey_brown_50">#804a4a4a</color>
    <color name="lm_feed_blue_separator">#DAE1EE</color>
    <color name="lm_feed_dark_grayish_blue">#484F67</color>
    <color name="lm_feed_dark_grayish_blue_20">#33484F67</color>
    <color name="lm_feed_cloudy_blue_40">#66d0d8e2</color>
    <color name="lm_feed_blood_orange">#d0021b</color>
    <color name="lm_feed_faux_charcoal">#33384A</color>
    <color name="lm_feed_black_20">#33000000</color>
    <color name="lm_feed_black_40">#66000000</color>
    <color name="lm_feed_black_87">#de000000</color>
    <color name="lm_feed_transparent">#00000000</color>
    <color name="lm_feed_black_38">#61000000</color>
    <color name="lm_feed_red_event">#FB1609</color>
    <color name="lm_feed_pure_blue">#007AFF</color>
    <color name="lm_feed_majorelle_blue_20">#335046E5</color>
    <color name="lm_feed_dusty_grey">#9B9B9B</color>
    <color name="lm_feed_dusty_grey_20">#339B9B9B</color>
    <color name="lm_feed_light_silver">#D9D9D9</color>
    <color name="lm_feed_white_smoke">#F1F1F1</color>
    <color name="lm_feed_divider_grey">#1e000000</color>
    <color name="lm_feed_light_grayish_blue_50">#80e6ebf5</color>
</resources>


================================================
File: likeminds-feed-android-core/src/main/res/values/dimen.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <dimen name="lm_feed_zero_dp">0dp</dimen>

    <!--Header View-->
    <dimen name="lm_feed_header_view_title_text_size">18sp</dimen>
    <dimen name="lm_feed_header_view_height">54dp</dimen>
    <dimen name="lm_feed_post_header_title_start_margin">18dp</dimen>

    <!--    Text Size-->
    <dimen name="lm_feed_text_small">12sp</dimen>
    <dimen name="lm_feed_text_medium">14sp</dimen>
    <dimen name="lm_feed_text_large">16sp</dimen>
    <dimen name="lm_feed_text_extra_large">18sp</dimen>
    <dimen name="lm_feed_post_header_title_text_size">20sp</dimen>
    <dimen name="lm_feed_standard_line_height">20sp</dimen>

    <!--    Line Spacing-->
    <dimen name="lm_feed_line_spacing_standard">20sp</dimen>

    <!--    View Height and Width-->
    <dimen name="lm_feed_view_large">16dp</dimen>

    <!--    Line spacing extra-->
    <dimen name="lm_feed_line_spacing_extra_standard">8sp</dimen>
    <dimen name="lm_feed_line_spacing_extra_small">4sp</dimen>
    <dimen name="lm_feed_line_spacing_extra_extra_small">2sp</dimen>

    <!--    Elevation Size-->
    <dimen name="lm_feed_elevation_big">8dp</dimen>
    <dimen name="lm_feed_elevation_small">4dp</dimen>
    <dimen name="lm_feed_elevation_extra_small">2dp</dimen>

    <!--    Corner radius-->
    <dimen name="lm_feed_corner_radius_small">2dp</dimen>
    <dimen name="lm_feed_corner_radius_regular">4dp</dimen>
    <dimen name="lm_feed_corner_radius_medium">8dp</dimen>
    <dimen name="lm_feed_corner_radius_large">16dp</dimen>
    <dimen name="lm_feed_corner_radius_bottom_sheet">10dp</dimen>

    <!--    Padding Size-->
    <dimen name="lm_feed_extra_large_padding">24dp</dimen>
    <dimen name="lm_feed_large_padding">16dp</dimen>
    <dimen name="lm_feed_drawable_padding">14dp</dimen>
    <dimen name="lm_feed_medium_padding">12dp</dimen>
    <dimen name="lm_feed_regular_padding">8dp</dimen>
    <dimen name="lm_feed_small_padding">4dp</dimen>
    <dimen name="lm_feed_extra_small_padding">2dp</dimen>

    <!--    Standard Margins-->
    <dimen name="lm_feed_extra_extra_large_margin">32dp</dimen>
    <dimen name="lm_feed_extra_large_margin">24dp</dimen>
    <dimen name="lm_feed_large_margin">16dp</dimen>
    <dimen name="lm_feed_medium_margin">12dp</dimen>
    <dimen name="lm_feed_regular_margin">8dp</dimen>
    <dimen name="lm_feed_small_margin">4dp</dimen>
    <dimen name="lm_feed_extra_small_margin">2dp</dimen>

    <!--    Standard Icon size-->
    <dimen name="lm_feed_small_icon_size">16dp</dimen>
    <dimen name="lm_feed_medium_icon_size">20dp</dimen>
    <dimen name="lm_feed_standard_icon_size">24dp</dimen>
    <dimen name="lm_feed_large_icon_size">48dp</dimen>
    <dimen name="lm_feed_launcher_icon_size">108dp</dimen>
    <dimen name="lm_feed_no_entity_image_icon_size">100dp</dimen>

    <!-- Dot view-->
    <dimen name="lm_feed_dot_view_size">4dp</dimen>

    <!--    Social Feed Screen-->
    <dimen name="lm_feed_create_new_post_text_size">15sp</dimen>
    <dimen name="lm_feed_create_new_post_padding">20dp</dimen>
    <dimen name="lm_feed_icon_padding">4dp</dimen>
    <dimen name="lm_feed_social_feed_header_icon_size">36dp</dimen>
    <dimen name="lm_feed_create_new_post_icon_size">30dp</dimen>
    <dimen name="lm_feed_notification_badge_text_size">10sp</dimen>
    <dimen name="lm_feed_notification_icon_padding">6dp</dimen>
    <dimen name="lm_feed_notification_badge_translation_x">2dp</dimen>
    <dimen name="lm_feed_posting_thumbnail_width">48dp</dimen>
    <dimen name="lm_feed_posting_thumbnail_height">42dp</dimen>
    <dimen name="lm_feed_posting_thumbnail_margin">6dp</dimen>
    <dimen name="lm_feed_posting_completed_icon_size">96dp</dimen>
    <dimen name="lm_feed_small_cross_icon_width">14dp</dimen>
    <dimen name="lm_feed_small_cross_icon_height">13dp</dimen>
    <dimen name="lm_feed_cross_icon_width">26dp</dimen>
    <dimen name="lm_feed_cross_icon_height">26dp</dimen>
    <dimen name="lm_feed_new_post_plus_icon_size">30dp</dimen>
    <dimen name="lm_feed_no_entity_image_top_margin">250dp</dimen>
    <dimen name="lm_feed_no_entity_fab_height">40dp</dimen>
    <dimen name="lm_feed_notification_bell_icon_width">18dp</dimen>

    <!--    Media related-->
    <dimen name="lm_feed_indicator_size">100dp</dimen>
    <dimen name="lm_feed_indicator_dots_spacing">4dp</dimen>
    <dimen name="lm_feed_indicator_dot_size">6dp</dimen>
    <dimen name="lm_feed_link_box_stroke_width">2dp</dimen>
    <dimen name="lm_feed_link_box_corner_radius">8dp</dimen>
    <dimen name="lm_feed_link_image_height">216dp</dimen>
    <dimen name="lm_feed_link_icon_size">40dp</dimen>
    <dimen name="lm_feed_media_view_top_margin">10dp</dimen>
    <dimen name="lm_feed_document_icon_start_margin">22dp</dimen>
    <dimen name="lm_feed_document_icon_width">28dp</dimen>
    <dimen name="lm_feed_document_icon_height">37dp</dimen>
    <dimen name="lm_feed_pdf_icon_width">22dp</dimen>
    <dimen name="lm_feed_pdf_icon_height">29dp</dimen>
    <dimen name="lm_feed_doc_attachment_icon_height">14dp</dimen>
    <dimen name="lm_feed_document_view_height">72dp</dimen>
    <dimen name="lm_feed_document_divider_height">8dp</dimen>

    <!--    Chip related-->
    <dimen name="lm_feed_default_chip_group_horizontal_spacing">4dp</dimen>
    <dimen name="lm_feed_default_chip_group_vertical_spacing">4dp</dimen>
    <dimen name="lm_feed_chip_default_icon_size">12dp</dimen>
    <dimen name="lm_feed_edit_chip_end_size">12dp</dimen>

    <!--    Min and max heights for input/text boxes -->
    <dimen name="lm_feed_text_max_height">100dp</dimen>
    <dimen name="lm_feed_text_min_height">48dp</dimen>
    <dimen name="lm_feed_post_composer_max_height">220dp</dimen>
    <dimen name="lm_feed_post_composer_min_height">56dp</dimen>
    <dimen name="lm_feed_post_heading_composer_max_height">120dp</dimen>
    <dimen name="lm_feed_post_heading_composer_min_height">80dp</dimen>

    <!--    Post detail screen -->
    <dimen name="lm_feed_reply_item_top_margin">20dp</dimen>
    <dimen name="lm_feed_post_composer_replying_to_height">32dp</dimen>
    <dimen name="lm_feed_post_composer_input_box_padding_end">64dp</dimen>
    <dimen name="lm_feed_separator_size">2dp</dimen>
    <dimen name="lm_feed_small_separator_size">1dp</dimen>
    <dimen name="lm_feed_replies_list_start_margin">36dp</dimen>
    <dimen name="lm_feed_comments_count_margin">18dp</dimen>
    <dimen name="lm_feed_comment_separator_gone_margin">20dp</dimen>
    <dimen name="lm_feed_bookmark_icon_height">18dp</dimen>

    <!--    Report Screen -->
    <dimen name="lm_feed_report_button_corner_radius">24dp</dimen>
    <dimen name="lm_feed_report_button_horizontal_padding">50dp</dimen>
    <dimen name="lm_feed_report_bottom_sheet_top_bar_width">100dp</dimen>
    <dimen name="lm_feed_report_bottom_sheet_top_bar_height">7dp</dimen>
    <dimen name="lm_feed_report_tags_corner_radius">18dp</dimen>
    <dimen name="lm_feed_share_icon_size">21dp</dimen>

    <!--   Activity feed screen -->
    <dimen name="lm_feed_cv_post_type_translation_y">-5dp</dimen>
    <dimen name="lm_feed_cv_post_type_corner_radius">12dp</dimen>
    <dimen name="lm_feed_activity_date_margin">6dp</dimen>

    <!--   Alert box -->
    <dimen name="lm_feed_alert_box_width">300dp</dimen>
    <dimen name="lm_feed_alert_box_button_height">42dp</dimen>

    <!--   Progress bar -->
    <dimen name="lm_feed_progress_bar_translation_z">10dp</dimen>
    <dimen name="lm_feed_progress_bar_thickness">3dp</dimen>

    <!--    Create Post-->
    <dimen name="lm_feed_create_post_add_more_padding">24dp</dimen>
    <dimen name="lm_feed_user_tagging_view_elevation">5dp</dimen>

    <!--    Poll-->
    <dimen name="lm_feed_poll_option_min_height">48dp</dimen>
    <dimen name="lm_feed_poll_add_option_vertical_padding">14dp</dimen>
    <dimen name="lm_feed_poll_submit_vote_width">104dp</dimen>
    <dimen name="lm_feed_poll_options_list_margin_top">-8dp</dimen>
    <dimen name="lm_feed_poll_option_input_text_size">15sp</dimen>
    <dimen name="lm_feed_poll_option_input_stroke_width">1dp</dimen>
    <dimen name="lm_feed_poll_option_submit_button_vertical_padding">14dp</dimen>
    <dimen name="lm_feed_poll_option_submit_button_horizontal_padding">48dp</dimen>
    <dimen name="lm_feed_poll_option_submit_button_corner_radius">24dp</dimen>

    <!--    Vertical post action -->
    <dimen name="lm_feed_vertical_post_action_bottom_margin">10dp</dimen>

    <!--    Video feed caught up -->
    <dimen name="lm_feed_video_feed_caught_up_title_top_margin">28dp</dimen>
    <dimen name="lm_feed_video_feed_caught_up_title_size">20sp</dimen>

    <!-- Label Icon Container  -->
    <dimen name="lm_feed_container_label_margin_start">18dp</dimen>
    <dimen name="lm_feed_label_icon_container_top_margin">26dp</dimen>

    <!-- Post top response view  -->
    <dimen name="lm_feed_top_response_author_image_size">40dp</dimen>

    <!-- QnA Feed Action View  -->
    <dimen name="lm_qna_upvote_action_view">1dp</dimen>
    <dimen name="lm_qna_action_view_vertical_padding">6dp</dimen>
    <dimen name="lm_qna_action_view_vertical_margin">6dp</dimen>

</resources>


================================================
File: likeminds-feed-android-core/src/main/res/values/strings.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <string name="lm_feed_app_name">LikeMinds-Android-Feed</string>
    <string name="lm_feed_new_s">New %s</string>
    <string name="lm_feed_no_posts_s_to_show">No %s to show</string>
    <string name="lm_feed_feed">Feed</string>
    <string name="lm_feed_no_s_to_show">No %s to show</string>
    <string name="lm_feed_be_the_first_one_to_s_here">Be the first one to create %s here</string>
    <string name="lm_feed_no_s_comment_found">No %s found</string>
    <string name="lm_feed_be_the_first_one_to_create_a_s_comment">Be the first one to create a %s</string>
    <string name="lm_feed_creating_s">Creating %s</string>
    <string name="lm_feed_retry">Retry</string>
    <string name="lm_feed_s_like">%s</string>
    <plurals name="lm_feed_s_likes">
        <item quantity="one">%d %s</item>
        <item quantity="other">%d %s</item>
    </plurals>
    <string name="lm_feed_add_s_comment">Add %s</string>
    <string name="lm_feed_s_answer">%s</string>
    <plurals name="lm_feed_s_comments">
        <item quantity="one">%d %s</item>
        <item quantity="other">%d %s</item>
    </plurals>
    <string name="lm_feed_see_more">&#160;See More</string>
    <string name="lm_feed_link">Link</string>
    <string name="lm_feed_documents">Documents</string>
    <plurals name="lm_feed_placeholder_pages">
        <item quantity="one">1 Page</item>
        <item quantity="other">%d Pages</item>
    </plurals>
    <string name="lm_feed_edited">Edited</string>
    <string name="lm_feed_just_now">Just now</string>
    <string name="lm_feed_something_went_wrong">Something went wrong!</string>
    <string name="lm_feed_no_application_found_to_open_this_document">No application found to open this document</string>
    <string name="lm_feed_share_s">Share %s</string>
    <string name="lm_feed_s_saved">%s Saved</string>
    <string name="lm_feed_s_unsaved">%s Unsaved</string>
    <string name="lm_feed_pin_this_s">Pin This %s</string>
    <string name="lm_feed_unpin_this_s">Unpin This %s</string>
    <string name="lm_feed_s_pinned_to_top">%s pinned to top!</string>
    <string name="lm_feed_s_unpinned">%s unpinned!</string>
    <string name="lm_feed_replying_to_s">Replying to %s</string>
    <string name="lm_feed_write_s_comment">Write %s</string>
    <string name="lm_feed_you_do_not_have_permission_to_create_a_s">You do not have permission to create a %s</string>
    <string name="lm_feed_you_do_not_have_permission_to_s_comment">You do not have permission to %s</string>
    <string name="lm_feed_request_not_processed">Couldn\'t process your request</string>
    <plurals name="lm_feed_replies">
        <item quantity="one">1 Reply</item>
        <item quantity="other">%d Replies</item>
    </plurals>
    <string name="lm_feed_view_more_replies">View more replies</string>
    <string name="lm_feed_placeholder_replies">%1$d of %2$d</string>
    <plurals name="lm_feed_s_comments_small">
        <item quantity="one">%d %s</item>
        <item quantity="other">%d %s</item>
    </plurals>
    <string name="lm_feed_s_comment_deleted">%s Deleted!</string>
    <string name="lm_feed_reply">Reply</string>
    <string name="lm_feed_ellipsize">…</string>
    <string name="lm_feed_s_post">%s</string>
    <string name="lm_feed_notifications">Notifications</string>
    <string name="lm_feed_s_likes">%s</string>
    <plurals name="lm_feed_s_likes_small">
        <item quantity="one">%d %s</item>
        <item quantity="other">%d %s</item>
    </plurals>
    <string name="lm_feed_report_sub_header">You would be able to report this %s after selecting a problem.</string>
    <string name="lm_feed_s_comment">%s</string>
    <string name="lm_feed_report">Report</string>
    <string name="lm_feed_report_abuse">Report Abuse</string>
    <string name="lm_feed_please_specify_the_problem_to_continue">Please specify the problem to continue</string>
    <string name="lm_feed_write_description">Write Description</string>
    <string name="lm_feed_selected_at_least_one_report_tag">Please select at least one report tag.</string>
    <string name="lm_feed_please_enter_a_reason">Please enter a reason.</string>
    <string name="lm_feed_delete_post_question">Delete post?</string>
    <string name="lm_feed_delete_post_message">Are you sure you want to delete this post? This action cannot be reversed.</string>
    <string name="lm_feed_reason_for_deleting">Reason for deletion</string>
    <string name="lm_feed_type_your_reason">Type your reason</string>
    <string name="lm_feed_cancel">Cancel</string>
    <string name="lm_feed_confirm">Confirm</string>
    <string name="lm_feed_delete_s_question">Delete %s?</string>
    <string name="lm_feed_delete_s_message">Are you sure you want to delete this %s? This action cannot be reversed.</string>
    <string name="lm_feed_lm_feed_s_deleted">%s Deleted!</string>
    <string name="lm_feed_delete_s_comment_question">Delete %s?</string>
    <string name="lm_feed_delete_s_comment_message">Are you sure you want to delete this %s? This action cannot be reversed.</string>
    <string name="lm_feed_s_deleted">%s Deleted!</string>
    <string name="lm_feed_enter_reason">Enter reason</string>
    <string name="lm_feed_s_is_reported_for_review">%s is reported for review</string>
    <string name="lm_feed_okay">Okay</string>
    <string name="lm_feed_write_something_here">Write something here</string>
    <string name="lm_feed_edit_s">Edit %s</string>
    <string name="lm_feed_save">Save</string>
    <string name="lm_feed_all_topics">All topics</string>
    <string name="lm_feed_books">Books</string>
    <string name="lm_feed_clear">Clear</string>
    <string name="lm_feed_select_topic">Select Topic</string>
    <string name="lm_feed_topics_selected">%d selected</string>
    <string name="lm_feed_no_topics_yet">Oops! No topic found</string>
    <string name="lm_feed_search_hint_text">Search…</string>
    <string name="lm_feed_search_no_results">No Results Found!</string>
    <string name="lm_feed_general_channel_name">General notifications</string>
    <string name="lm_feed_general_channel_description">All general notifications</string>
    <string name="lm_feed_a_s_is_already_uploading">A %s is already uploading!</string>
    <string name="lm_feed_select_topics">Select Topics</string>
    <plurals name="lm_feed_topic_disabled_message_s">
        <item quantity="one">The following topic is disabled. Please remove it to save the %s.</item>
        <item quantity="other">The following topics are disabled. Please remove them to save the %s.</item>
    </plurals>
    <plurals name="lm_feed_topic_disabled">
        <item quantity="one">Topic is Disabled</item>
        <item quantity="other">Topics are Disabled</item>
    </plurals>
    <plurals name="lm_feed_you_can_select_upto_x_items">
        <item quantity="one">You can select up to 1 item!</item>
        <item quantity="other">You can select up to %d items!</item>
    </plurals>
    <string name="lm_feed_nine_nine_plus">99+</string>
    <string name="lm_feed_no_notifications_yet">Oops! You don\'t have any notifications yet!</string>
    <string name="lm_feed_our_team_will_look_into_your_feedback_and_will_take_appropriate_action_on_this_s">Our team will look into your feedback and will take appropriate action on this %s</string>
    <string name="lm_feed_add_more">Add More</string>
    <string name="lm_feed_attach_files">Attach Files</string>
    <string name="lm_feed_add_video">Add Video</string>
    <string name="lm_feed_add_photo">Add Photo</string>
    <string name="lm_feed_s_created">%s created successfully!</string>
    <string name="lm_feed_create_s">Create %s</string>
    <string name="lm_feed_create">Create</string>
    <string name="lm_feed_please_set_domain">Please set your domain while setting up the Feed Core</string>
    <string name="lm_feed_plus_add_an_option">+ Add an option</string>
    <string name="lm_feed_submit_vote">Submit Vote</string>
    <string name="lm_feed_edit_vote">Edit vote</string>
    <string name="lm_feed_community_manager">Community Manager</string>
    <string name="lm_feed_added_by_you">Added by You</string>
    <string name="lm_feed_be_the_first_one_to_vote">Be the first one to vote</string>
    <string name="lm_feed_no_responses">No responses</string>
    <string name="lm_feed_poll_ended">Poll Ended</string>
    <plurals name="lm_feed_select_exactly_d_options">
        <item quantity="one">*Select exactly 1 option</item>
        <item quantity="other">*Select exactly %d options</item>
    </plurals>
    <plurals name="lm_feed_select_at_most_d_options">
        <item quantity="one">*Select at most 1 option</item>
        <item quantity="other">*Select at most %d options</item>
    </plurals>
    <plurals name="lm_feed_select_at_least_d_options">
        <item quantity="one">*Select at least 1 option</item>
        <item quantity="other">*Select at least %d options</item>
    </plurals>
    <string name="lm_feed_poll_vote_time_left">%s left</string>
    <string name="lm_feed_added_by_s">Added by %s</string>
    <plurals name="lm_feed_votes_count">
        <item quantity="one">%d vote</item>
        <item quantity="other">%d votes</item>
    </plurals>
    <string name="lm_feed_add_new_poll_option">Add new poll option</string>
    <string name="lm_feed_type_new_option">Type new option</string>
    <string name="lm_feed_the_results_will_be_visible_after_the_poll_has_ended">The results will be visible after the poll has ended.</string>
    <string name="lm_feed_this_being_an_lm_feed_anonymous_poll_the_names_of_the_voters_cannot_be_disclosed">This being an anonymous poll, the names of the voters cannot be disclosed.</string>
    <string name="lm_feed_poll_ended_vote_cannot_be_submitted_now">Poll ended. Vote can not be submitted now.</string>
    <plurals name="lm_feed_please_select_at_most_d_options">
        <item quantity="one">Please select at most 1 option</item>
        <item quantity="other">Please select at most %d options</item>
    </plurals>
    <plurals name="lm_feed_please_select_at_least_d_options">
        <item quantity="one">Please select at least 1 option</item>
        <item quantity="other">Please select at least %d options</item>
    </plurals>
    <plurals name="lm_feed_please_select_exactly_d_options">
        <item quantity="one">Please select exactly 1 option</item>
        <item quantity="other">Please select exactly %d options</item>
    </plurals>
    <string name="lm_feed_add_poll">Add Poll</string>
    <string name="lm_feed_done">Done</string>
    <string name="lm_feed_new_poll">New Poll</string>
    <string name="lm_feed_poll_question">Poll Question</string>
    <string name="lm_feed_ask_a_question">Ask a question</string>
    <string name="lm_feed_answer_options">Answer options</string>
    <string name="lm_feed_add_an_option">Add an option…</string>
    <string name="lm_feed_poll_expire">Poll expires on</string>
    <string name="lm_feed_dd_mm_yyyy_hh_mm">DD-MM-YYYY hh:mm</string>
    <string name="lm_feed_error_invalid_time">Please select future date as poll expire time.</string>
    <string name="lm_feed_select_poll_expiry_time">Select Poll Expiry Time</string>
    <string name="lm_feed_allow_voters_to_add_options">Allow voters to add options</string>
    <string name="lm_feed_anonymous_poll">Anonymous Poll</string>
    <string name="lm_feed_live_results">Don\'t show live results</string>
    <string name="lm_feed_user_can_vote_for">User can vote for</string>
    <string name="lm_feed_equal_sign">=</string>
    <string name="lm_feed_advanced">Advanced</string>
    <string name="lm_feed_option">Option</string>
    <string name="lm_feed_expires_on">Expires on %s</string>
    <string name="lm_feed_submit">Submit</string>
    <string name="lm_feed_please_select_options_before_submitting_vote">Please select options before submitting vote.</string>
    <string name="lm_feed_enter_an_option_that_you_think_is_missing_in_this_poll_this_cannot_be_undone">Enter an option that you think is missing in this poll. This cannot be undone.</string>
    <string-array name="lm_feed_options_numbers">
        <item>1 option</item>
        <item>2 options</item>
        <item>3 options</item>
        <item>4 options</item>
        <item>5 options</item>
        <item>6 options</item>
        <item>7 options</item>
        <item>8 options</item>
        <item>9 options</item>
        <item>10 options</item>
    </string-array>
    <string name="lm_feed_you_re_all_caught_up">You’re All Caught Up</string>
    <string name="lm_feed_view_older_posts">View older posts</string>
    <string name="lm_feed_ask_question_s">Ask %s</string>
    <string name="lm_feed_top_response">Top Response</string>
    <string name="lm_feed_upvote">Upvote</string>
    <string name="lm_feed_be_the_first_one_to_s">Be the first one to %s</string>
    <string name="lm_feed_heading_limit_text_d">%d/%d</string>
    <string name="lm_feed_add_your_s_here">Add your %s here</string>
    <string name="lm_feed_add_description">Add description</string>

    <!-- Add sample strings here-->
    <string name="lm_feed_sample_name">Sahil Garg</string>
    <string name="lm_feed_sample_replying_to">Replying to Ronald Richards</string>
    <string name="lm_feed_sample_text">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\'s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</string>
    <string name="lm_feed_sample_time">20m</string>
    <string name="lm_feed_sample_time_left">5d left</string>
    <string name="lm_feed_poll_select_exactly_sample">*Select exactly 2 options.</string>
    <string name="lm_feed_poll_results">Poll Results</string>
    <string name="lm_feed_sample_topic">Alternative rock</string>
    <string name="lm_feed_sample_report_tag">Spam</string>
    <string name="lm_feed_sample_link_title">Twitter will soon let you schedule your tweets</string>
    <string name="lm_feed_sample_link_url">www.youtube.com</string>
    <string name="lm_feed_sample_size">23.5 MB</string>
    <string name="lm_feed_poll_sample_question">What will be the score today?</string>
    <string name="lm_feed_poll_sample_vote_count">10</string>
    <string name="lm_feed_poll_sample_option_text">Raising Hands</string>
</resources>


================================================
File: likeminds-feed-android-core/src/main/res/values/styles.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<resources>

    <style name="LMFeedAppTheme" parent="Theme.Material3.Light.NoActionBar">
        <item name="colorPrimary">@color/lm_feed_majorelle_blue</item>
        <item name="colorPrimaryDark">@color/lm_feed_maastricht_blue_40</item>
        <item name="colorAccent">@color/lm_feed_majorelle_blue</item>
        <item name="windowActionModeOverlay">true</item>
    </style>

    <style name="LMFeedAppTheme.AppBarOverlay" parent="ThemeOverlay.AppCompat.Dark.ActionBar" />

    <style name="LMFeedAppTheme.NoActionBar">
        <item name="windowActionBar">false</item>
        <item name="windowNoTitle">true</item>
    </style>
</resources>


================================================
File: likeminds-feed-android-core/src/test/java/com/likeminds/feed/android/core/ExampleUnitTest.kt
================================================
package com.likeminds.feed.android.core

import org.junit.Test

import org.junit.Assert.*

/**
 * Example local unit test, which will execute on the development machine (host).
 *
 * See [testing documentation](http://d.android.com/tools/testing).
 */
class ExampleUnitTest {
    @Test
    fun addition_isCorrect() {
        assertEquals(4, 2 + 2)
    }
}


================================================
File: qna-feed/proguard-rules.pro
================================================
# Add project specific ProGuard rules here.
# You can control the set of applied configuration files using the
# proguardFiles setting in build.gradle.
#
# For more details, see
#   http://developer.android.com/guide/developing/tools/proguard.html

# If your project uses WebView with JS, uncomment the following
# and specify the fully qualified class name to the JavaScript interface
# class:
#-keepclassmembers class fqcn.of.javascript.interface.for.webview {
#   public *;
#}

# Uncomment this to preserve the line number information for
# debugging stack traces.
#-keepattributes SourceFile,LineNumberTable

# If you keep the line number information, uncomment this to
# hide the original source file name.
#-renamesourcefileattribute SourceFile


================================================
File: qna-feed/.gitignore
================================================
/build


================================================
File: qna-feed/src/androidTest/java/com/example/feedqna/ExampleInstrumentedTest.kt
================================================
package com.example.feedqna

import androidx.test.platform.app.InstrumentationRegistry
import androidx.test.ext.junit.runners.AndroidJUnit4

import org.junit.Test
import org.junit.runner.RunWith

import org.junit.Assert.*

/**
 * Instrumented test, which will execute on an Android device.
 *
 * See [testing documentation](http://d.android.com/tools/testing).
 */
@RunWith(AndroidJUnit4::class)
class ExampleInstrumentedTest {
    @Test
    fun useAppContext() {
        // Context of the app under test.
        val appContext = InstrumentationRegistry.getInstrumentation().targetContext
        assertEquals("com.example.feedqna", appContext.packageName)
    }
}


================================================
File: qna-feed/src/main/AndroidManifest.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android">

    <application
        android:name=".LMQnAFeed"
        android:allowBackup="true"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/Theme.Likemindsfeedandroid">

        <activity
            android:name=".auth.view.LMQnAFeedAuthActivity"
            android:exported="true"
            android:theme="@style/LMFeedAppTheme.NoActionBar">

            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>

            <intent-filter>
                <action android:name="android.intent.action.VIEW" />

                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data
                    android:host="www.qnafeed.com"
                    android:scheme="https" />
                <data
                    android:host="qnafeed.com"
                    android:scheme="https" />
            </intent-filter>
        </activity>

        <activity
            android:name=".MainActivity"
            android:exported="false"
            android:screenOrientation="portrait"
            android:theme="@style/LMFeedAppTheme.NoActionBar" />

        <service
            android:name=".LMQnAFeedMessagingService"
            android:exported="false">
            <intent-filter>
                <action android:name="com.google.firebase.MESSAGING_EVENT" />
            </intent-filter>
        </service>
    </application>

</manifest>


================================================
File: qna-feed/src/main/java/com/example/feedqna/GetTokensTask.kt
================================================
package com.example.feedqna

import android.content.Context
import android.util.Log
import com.example.feedqna.LMQnAFeed.Companion.LM_QNA_FEED_TAG
import com.example.feedqna.auth.util.LMQnAFeedAuthPreferences
import kotlinx.coroutines.Dispatchers
import kotlinx.coroutines.withContext
import org.json.JSONObject
import java.io.*
import java.net.HttpURLConnection
import java.net.URL

class GetTokensTask {

    private lateinit var lmQnAFeedAuthPreferences: LMQnAFeedAuthPreferences

    // Get tokens from the server
    suspend fun getTokens(context: Context, isProd: Boolean): Pair<String, String> {
        return withContext(Dispatchers.IO) {
            //get api url
            val apiUrl = if (isProd) {
                "https://auth.likeminds.community/sdk/initiate"
            } else {
                "https://betaauth.likeminds.community/sdk/initiate"
            }

            lmQnAFeedAuthPreferences = LMQnAFeedAuthPreferences(context)

            // Create connection
            val url = URL(apiUrl)
            val connection = url.openConnection() as HttpURLConnection

            // Set HTTP method and required headers
            connection.apply {
                requestMethod = "POST"
                doOutput = true
                setRequestProperty(
                    "Content-Type",
                    "application/json"
                )
                setRequestProperty("x-api-key", lmQnAFeedAuthPreferences.getApiKey())
                setRequestProperty("x-version-code", "15")
                setRequestProperty("x-platform-code", "an")
                setRequestProperty("x-sdk-source", "feed")
            }

            // Create request body
            val request = JSONObject().apply {
                put("uuid", lmQnAFeedAuthPreferences.getUserId())
                put("user_name", lmQnAFeedAuthPreferences.getUserName())
//                put("token_expiry_beta", 1)
//                put("rtm_token_expiry_beta", 2)
            }

            // Write POST data
            val writer = OutputStreamWriter(connection.outputStream)
            writer.write(request.toString())
            writer.flush()
            writer.close()

            // Get response
            val responseCode = connection.responseCode
            if (responseCode == HttpURLConnection.HTTP_OK) {
                val reader = BufferedReader(InputStreamReader(connection.inputStream))
                val response = StringBuilder()
                var line: String?
                while (reader.readLine().also { line = it } != null) {
                    response.append(line)
                }
                reader.close()
                response.toString()

                val responseObject = JSONObject(response.toString())
                val data = responseObject.getJSONObject("data")
                val accessToken = data.getString("access_token")
                val refreshToken = data.getString("refresh_token")
                Pair(accessToken, refreshToken)
            } else {
                Log.e(LM_QNA_FEED_TAG, "Error: HTTP $responseCode")
                Pair("", "")
            }
        }
    }
}



================================================
File: qna-feed/src/main/java/com/example/feedqna/LMQnAFeed.kt
================================================
package com.example.feedqna

import android.annotation.SuppressLint
import android.app.Application
import android.provider.Settings
import android.util.Log
import com.likeminds.feed.android.core.*
import kotlinx.coroutines.runBlocking

class LMQnAFeed : Application(), LMFeedCoreCallback {

    companion object {
        const val LM_QNA_FEED_TAG = "LMQnAFeed"
    }

    @SuppressLint("HardwareIds")
    override fun onCreate() {
        super.onCreate()

        val deviceId = Settings.Secure.getString(contentResolver, Settings.Secure.ANDROID_ID) ?: ""
        LMFeedCore.setup(
            application = this,
            LMFeedTheme.QNA_FEED,
            enablePushNotifications = true,
            deviceId = deviceId,
            domain = "https://www.samplefeed.com",
            lmFeedCoreCallback = this
        )
    }

    override fun onAccessTokenExpiredAndRefreshed(accessToken: String, refreshToken: String) {
        Log.d(
            LM_QNA_FEED_TAG, """
            Example Layer Callback -> onAccessTokenExpiredAndRefreshed
            accessToken: $accessToken
            refreshToken: $refreshToken
        """.trimIndent()
        )
    }

    override fun onRefreshTokenExpired(): Pair<String?, String?> {
        return runBlocking {
            Log.d(
                LM_QNA_FEED_TAG, """
                Example Layer Callback -> onRefreshTokenExpired
            """.trimIndent()
            )

            val task = GetTokensTask()
            val tokens = task.getTokens(applicationContext, true)
            Log.d(LM_QNA_FEED_TAG, "tokens: $tokens")
            tokens
        }
    }
}


================================================
File: qna-feed/src/main/java/com/example/feedqna/LMQnAFeedMessagingService.kt
================================================
package com.example.feedqna

import android.util.Log
import com.google.firebase.messaging.FirebaseMessagingService
import com.google.firebase.messaging.RemoteMessage
import com.likeminds.feed.android.core.LMFeedCoreApplication.Companion.LOG_TAG
import com.likeminds.feed.android.core.pushnotification.LMFeedNotificationHandler

class LMQnAFeedMessagingService : FirebaseMessagingService() {

    private lateinit var mNotificationHandler: LMFeedNotificationHandler

    override fun onCreate() {
        super.onCreate()
        mNotificationHandler = LMFeedNotificationHandler.getInstance()
        mNotificationHandler.create(this.application)
    }

    override fun onNewToken(token: String) {
        super.onNewToken(token)
        Log.d(LOG_TAG, "token generated: $token")
    }

    override fun onMessageReceived(message: RemoteMessage) {
        super.onMessageReceived(message)
        Log.d(LOG_TAG, "message generated: ${message.data}")
        mNotificationHandler.handleNotification(message.data)
    }
}


================================================
File: qna-feed/src/main/java/com/example/feedqna/MainActivity.kt
================================================
package com.example.feedqna

import android.os.Bundle
import android.util.Log
import androidx.appcompat.app.AppCompatActivity
import com.example.feedqna.LMQnAFeed.Companion.LM_QNA_FEED_TAG
import com.example.feedqna.auth.util.LMQnAFeedAuthPreferences
import com.likeminds.feed.android.core.LMFeedCore
import com.likeminds.feed.android.core.qnafeed.view.LMFeedQnAFeedFragment
import com.likeminds.feed.android.core.utils.feed.LMFeedType.PERSONALISED_FEED
import kotlinx.coroutines.*

class MainActivity : AppCompatActivity() {
    private lateinit var lmQnAFeedAuthPreferences: LMQnAFeedAuthPreferences

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        lmQnAFeedAuthPreferences = LMQnAFeedAuthPreferences(this)

        //without API Key Security
        LMFeedCore.showFeed(
            this,
            apiKey = lmQnAFeedAuthPreferences.getApiKey(),
            uuid = lmQnAFeedAuthPreferences.getUserId(),
            userName = lmQnAFeedAuthPreferences.getUserName(),
            success = {
                replaceFragment()
            },
            error = {
                Log.e("Example", "$it")
            }
        )
    }

    private fun replaceFragment() {
        val containerViewId = R.id.frame_layout
        val fragment = LMFeedQnAFeedFragment.getInstance(PERSONALISED_FEED)

        val transaction = supportFragmentManager.beginTransaction()
        transaction.replace(containerViewId, fragment, containerViewId.toString())
        transaction.commit()
    }

    private fun callInitiateUser(callback: (String, String) -> Unit) {
        CoroutineScope(Dispatchers.IO).launch {
            val task = GetTokensTask()
            val tokens = task.getTokens(applicationContext, true)
            Log.d(LM_QNA_FEED_TAG, "tokens: $tokens")
            callback(tokens.first, tokens.second)
        }
    }
}


================================================
File: qna-feed/src/main/java/com/example/feedqna/auth/util/LMQnAFeedAuthPreferences.kt
================================================
package com.example.feedqna.auth.util

import android.annotation.SuppressLint
import android.content.Context
import android.content.SharedPreferences
import android.provider.Settings

class LMQnAFeedAuthPreferences(context: Context) {

    companion object {
        const val QNA_FEED_AUTH_PREFS = "qna_feed_auth_prefs"
        const val API_KEY = "api_key"
        const val USER_NAME = "user_name"
        const val USER_ID = "user_id"
        const val IS_LOGGED_IN = "is_logged_in"
    }

    private val preferences: SharedPreferences =
        context.getSharedPreferences(QNA_FEED_AUTH_PREFS, Context.MODE_PRIVATE)

    @SuppressLint("HardwareIds")
    private val deviceId =
        Settings.Secure.getString(context.contentResolver, Settings.Secure.ANDROID_ID)

    fun getApiKey(): String {
        return preferences.getString(API_KEY, "") ?: ""
    }

    fun saveApiKey(apiKey: String) {
        preferences.edit().putString(API_KEY, apiKey).apply()
    }

    fun getUserName(): String {
        return preferences.getString(USER_NAME, "") ?: ""
    }

    fun saveUserName(userName: String) {
        preferences.edit().putString(USER_NAME, userName).apply()
    }

    fun getUserId(): String {
        return preferences.getString(USER_ID, "") ?: ""
    }

    fun saveUserId(userId: String) {
        preferences.edit().putString(USER_ID, userId).apply()
    }

    fun getIsLoggedIn(): Boolean {
        return preferences.getBoolean(IS_LOGGED_IN, false)
    }

    fun saveIsLoggedIn(isLoggedIn: Boolean) {
        preferences.edit().putBoolean(IS_LOGGED_IN, isLoggedIn).apply()
    }

    @SuppressLint("HardwareIds")
    fun getDeviceId(): String {
        return deviceId ?: ""
    }

    fun clearPrefs() {
        saveApiKey("")
        saveUserName("")
        saveUserId("")
        saveIsLoggedIn(false)
    }
}



================================================
File: qna-feed/src/main/java/com/example/feedqna/auth/view/LMQnAFeedAuthActivity.kt
================================================
package com.example.feedqna.auth.view

import android.content.Intent
import android.os.Bundle
import androidx.appcompat.app.AppCompatActivity
import com.example.feedqna.MainActivity
import com.example.feedqna.R
import com.example.feedqna.auth.util.LMQnAFeedAuthPreferences
import com.example.feedqna.databinding.ActivityFeedQnaAuthBinding
import com.likeminds.feed.android.core.utils.LMFeedRoute
import com.likeminds.feed.android.core.utils.LMFeedViewUtils

class LMQnAFeedAuthActivity : AppCompatActivity() {

    private lateinit var binding: ActivityFeedQnaAuthBinding

    private lateinit var lmQnAFeedAuthPreferences: LMQnAFeedAuthPreferences

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        lmQnAFeedAuthPreferences = LMQnAFeedAuthPreferences(this)
        binding = ActivityFeedQnaAuthBinding.inflate(layoutInflater)
        setContentView(binding.root)

        val isLoggedIn = lmQnAFeedAuthPreferences.getIsLoggedIn()

        if (isLoggedIn) {
            // user already logged in, navigate using deep linking or to [MainActivity]
            if (intent.data != null) {
                parseDeepLink()
            } else {
                navigateToMainActivity()
            }
        } else {
            // user is not logged in, ask login details.
            loginUser()
        }
    }

    // parses deep link to start corresponding activity
    private fun parseDeepLink() {
        //get intent for route
        val intent = LMFeedRoute.handleDeepLink(
            this,
            intent.data.toString()
        )
        startActivity(intent)
        finish()
    }

    // navigates user to [MainActivity]
    private fun navigateToMainActivity() {
        val intent = Intent(this, MainActivity::class.java)
        startActivity(intent)
        finish()
    }

    // validates user input and save login details
    private fun loginUser() {
        binding.apply {
            val context = root.context

            btnLogin.setOnClickListener {
                val apiKey = etApiKey.text.toString().trim()
                val userName = etUserName.text.toString().trim()
                val userId = etUserId.text.toString().trim()

                if (apiKey.isEmpty()) {
                    LMFeedViewUtils.showShortToast(
                        context,
                        getString(R.string.enter_api_key)
                    )
                    return@setOnClickListener
                }

                if (userName.isEmpty()) {
                    LMFeedViewUtils.showShortToast(
                        context,
                        getString(R.string.enter_user_name)
                    )
                    return@setOnClickListener
                }

                if (userId.isEmpty()) {
                    LMFeedViewUtils.showShortToast(
                        context,
                        getString(R.string.enter_user_id)
                    )
                    return@setOnClickListener
                }

                // save login details to auth prefs
                lmQnAFeedAuthPreferences.saveIsLoggedIn(true)
                lmQnAFeedAuthPreferences.saveApiKey(apiKey)
                lmQnAFeedAuthPreferences.saveUserName(userName)
                lmQnAFeedAuthPreferences.saveUserId(userId)

                navigateToMainActivity()
            }
        }
    }
}


================================================
File: qna-feed/src/main/res/drawable/ic_launcher_background.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="108dp"
    android:height="108dp"
    android:viewportWidth="108"
    android:viewportHeight="108">
    <path
        android:fillColor="#3DDC84"
        android:pathData="M0,0h108v108h-108z" />
    <path
        android:fillColor="#00000000"
        android:pathData="M9,0L9,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,0L19,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M29,0L29,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M39,0L39,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M49,0L49,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M59,0L59,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M69,0L69,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M79,0L79,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M89,0L89,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M99,0L99,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,9L108,9"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,19L108,19"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,29L108,29"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,39L108,39"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,49L108,49"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,59L108,59"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,69L108,69"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,79L108,79"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,89L108,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,99L108,99"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,29L89,29"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,39L89,39"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,49L89,49"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,59L89,59"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,69L89,69"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,79L89,79"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M29,19L29,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M39,19L39,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M49,19L49,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M59,19L59,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M69,19L69,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M79,19L79,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
</vector>



================================================
File: qna-feed/src/main/res/drawable/ic_launcher_foreground.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:aapt="http://schemas.android.com/aapt"
    android:width="108dp"
    android:height="108dp"
    android:viewportWidth="108"
    android:viewportHeight="108">
    <path android:pathData="M31,63.928c0,0 6.4,-11 12.1,-13.1c7.2,-2.6 26,-1.4 26,-1.4l38.1,38.1L107,108.928l-32,-1L31,63.928z">
        <aapt:attr name="android:fillColor">
            <gradient
                android:endX="85.84757"
                android:endY="92.4963"
                android:startX="42.9492"
                android:startY="49.59793"
                android:type="linear">
                <item
                    android:color="#44000000"
                    android:offset="0.0" />
                <item
                    android:color="#00000000"
                    android:offset="1.0" />
            </gradient>
        </aapt:attr>
    </path>
    <path
        android:fillColor="#FFFFFF"
        android:fillType="nonZero"
        android:pathData="M65.3,45.828l3.8,-6.6c0.2,-0.4 0.1,-0.9 -0.3,-1.1c-0.4,-0.2 -0.9,-0.1 -1.1,0.3l-3.9,6.7c-6.3,-2.8 -13.4,-2.8 -19.7,0l-3.9,-6.7c-0.2,-0.4 -0.7,-0.5 -1.1,-0.3C38.8,38.328 38.7,38.828 38.9,39.228l3.8,6.6C36.2,49.428 31.7,56.028 31,63.928h46C76.3,56.028 71.8,49.428 65.3,45.828zM43.4,57.328c-0.8,0 -1.5,-0.5 -1.8,-1.2c-0.3,-0.7 -0.1,-1.5 0.4,-2.1c0.5,-0.5 1.4,-0.7 2.1,-0.4c0.7,0.3 1.2,1 1.2,1.8C45.3,56.528 44.5,57.328 43.4,57.328L43.4,57.328zM64.6,57.328c-0.8,0 -1.5,-0.5 -1.8,-1.2s-0.1,-1.5 0.4,-2.1c0.5,-0.5 1.4,-0.7 2.1,-0.4c0.7,0.3 1.2,1 1.2,1.8C66.5,56.528 65.6,57.328 64.6,57.328L64.6,57.328z"
        android:strokeWidth="1"
        android:strokeColor="#00000000" />
</vector>


================================================
File: qna-feed/src/main/res/font/roboto.ttf
================================================
[Non-text file]


================================================
File: qna-feed/src/main/res/font/roboto_bold.ttf
================================================
[Non-text file]


================================================
File: qna-feed/src/main/res/font/roboto_medium.ttf
================================================
[Non-text file]


================================================
File: qna-feed/src/main/res/layout/activity_feed_qna_auth.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/white">

        <TextView
            android:id="@+id/tv_heading"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="30dp"
            android:fontFamily="@font/roboto_medium"
            android:gravity="center"
            android:text="@string/app_name"
            android:textColor="@color/black"
            android:textSize="20sp"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <TextView
            android:id="@+id/tv_api_key"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="30dp"
            android:text="@string/enter_api_key"
            android:textColor="@color/black"
            android:textSize="16sp"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_heading" />

        <EditText
            android:id="@+id/et_api_key"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="5dp"
            android:backgroundTint="@color/black"
            android:hint="@string/api_key"
            android:inputType="text"
            android:textColor="@color/black"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_api_key"
            tools:ignore="Autofill" />

        <TextView
            android:id="@+id/tv_user_name"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="20dp"
            android:text="@string/user_name"
            android:textColor="@color/black"
            android:textSize="16sp"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/et_api_key" />

        <EditText
            android:id="@+id/et_user_name"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="5dp"
            android:backgroundTint="@color/black"
            android:hint="@string/user_name"
            android:inputType="text"
            android:textColor="@color/black"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_user_name"
            tools:ignore="Autofill" />

        <TextView
            android:id="@+id/tv_user_id"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="20dp"
            android:text="@string/user_id"
            android:textColor="@color/black"
            android:textSize="16sp"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/et_user_name" />

        <EditText
            android:id="@+id/et_user_id"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="5dp"
            android:backgroundTint="@color/black"
            android:hint="@string/user_id"
            android:inputType="text"
            android:textColor="@color/black"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_user_id"
            tools:ignore="Autofill" />

        <Button
            android:id="@+id/btn_login"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="50dp"
            android:text="@string/start"
            android:textColor="@color/white"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/et_user_id" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: qna-feed/src/main/res/layout/activity_main.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <FrameLayout
            android:id="@+id/frame_layout"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            app:layout_constraintBottom_toTopOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: qna-feed/src/main/res/mipmap-anydpi-v26/ic_launcher.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
    <background android:drawable="@drawable/ic_launcher_background" />
    <foreground android:drawable="@drawable/ic_launcher_foreground" />
    <monochrome android:drawable="@drawable/ic_launcher_foreground" />
</adaptive-icon>


================================================
File: qna-feed/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
    <background android:drawable="@drawable/ic_launcher_background" />
    <foreground android:drawable="@drawable/ic_launcher_foreground" />
    <monochrome android:drawable="@drawable/ic_launcher_foreground" />
</adaptive-icon>


================================================
File: qna-feed/src/main/res/mipmap-hdpi/ic_launcher.webp
================================================
[Non-text file]


================================================
File: qna-feed/src/main/res/mipmap-hdpi/ic_launcher_round.webp
================================================
[Non-text file]


================================================
File: qna-feed/src/main/res/mipmap-mdpi/ic_launcher.webp
================================================
[Non-text file]


================================================
File: qna-feed/src/main/res/mipmap-mdpi/ic_launcher_round.webp
================================================
[Non-text file]


================================================
File: qna-feed/src/main/res/mipmap-xhdpi/ic_launcher.webp
================================================
[Non-text file]


================================================
File: qna-feed/src/main/res/mipmap-xhdpi/ic_launcher_round.webp
================================================
[Non-text file]


================================================
File: qna-feed/src/main/res/mipmap-xxhdpi/ic_launcher.webp
================================================
[Non-text file]


================================================
File: qna-feed/src/main/res/mipmap-xxhdpi/ic_launcher_round.webp
================================================
[Non-text file]


================================================
File: qna-feed/src/main/res/mipmap-xxxhdpi/ic_launcher.webp
================================================
[Non-text file]


================================================
File: qna-feed/src/main/res/mipmap-xxxhdpi/ic_launcher_round.webp
================================================
[Non-text file]


================================================
File: qna-feed/src/main/res/values/colors.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <color name="purple_200">#FFBB86FC</color>
    <color name="purple_500">#FF6200EE</color>
    <color name="purple_700">#FF3700B3</color>
    <color name="teal_200">#FF03DAC5</color>
    <color name="teal_700">#FF018786</color>
    <color name="black">#FF000000</color>
    <color name="white">#FFFFFFFF</color>
</resources>


================================================
File: qna-feed/src/main/res/values/strings.xml
================================================
<resources>
    <string name="app_name">LikeMinds QnA Feed Android</string>
    <string name="start">Start</string>
    <string name="api_key">Api Key</string>
    <string name="enter_api_key">Enter API Key</string>
    <string name="user_name">User Name</string>
    <string name="user_id">User Id</string>
    <string name="login">Login</string>
    <string name="enter_user_name">Enter user name</string>
    <string name="enter_user_id">Enter user id</string>
</resources>


================================================
File: qna-feed/src/main/res/values/styles.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<resources>

    <style name="LMFeedAppTheme" parent="Theme.Material3.Light.NoActionBar">
        <item name="colorPrimary">@color/lm_feed_majorelle_blue</item>
        <item name="colorPrimaryDark">@color/lm_feed_maastricht_blue_40</item>
        <item name="colorAccent">@color/lm_feed_majorelle_blue</item>
        <item name="windowActionModeOverlay">true</item>
    </style>

    <style name="LMFeedAppTheme.AppBarOverlay" parent="ThemeOverlay.AppCompat.Dark.ActionBar" />

    <style name="LMFeedAppTheme.NoActionBar">
        <item name="windowActionBar">false</item>
        <item name="windowNoTitle">true</item>
    </style>
</resources>


================================================
File: qna-feed/src/main/res/values/themes.xml
================================================
<resources xmlns:tools="http://schemas.android.com/tools">
    <!-- Base application theme. -->
    <style name="Base.Theme.Likemindsfeedandroid" parent="Theme.Material3.Light.NoActionBar">
        <!-- Customize your light theme here. -->
        <!-- <item name="colorPrimary">@color/my_light_primary</item> -->
    </style>

    <style name="Theme.Likemindsfeedandroid" parent="Base.Theme.Likemindsfeedandroid" />
</resources>


================================================
File: qna-feed/src/main/res/values-night/themes.xml
================================================
<resources xmlns:tools="http://schemas.android.com/tools">
    <!-- Base application theme. -->
    <style name="Base.Theme.Likemindsfeedandroid" parent="Theme.Material3.DayNight.NoActionBar">
        <!-- Customize your dark theme here. -->
        <!-- <item name="colorPrimary">@color/my_dark_primary</item> -->
    </style>
</resources>


================================================
File: qna-feed/src/test/java/com/example/feedqna/ExampleUnitTest.kt
================================================
package com.example.feedqna

import org.junit.Test

import org.junit.Assert.*

/**
 * Example local unit test, which will execute on the development machine (host).
 *
 * See [testing documentation](http://d.android.com/tools/testing).
 */
class ExampleUnitTest {
    @Test
    fun addition_isCorrect() {
        assertEquals(4, 2 + 2)
    }
}


================================================
File: social-feed/proguard-rules.pro
================================================
# Add project specific ProGuard rules here.
# You can control the set of applied configuration files using the
# proguardFiles setting in build.gradle.
#
# For more details, see
#   http://developer.android.com/guide/developing/tools/proguard.html

# If your project uses WebView with JS, uncomment the following
# and specify the fully qualified class name to the JavaScript interface
# class:
#-keepclassmembers class fqcn.of.javascript.interface.for.webview {
#   public *;
#}

# Uncomment this to preserve the line number information for
# debugging stack traces.
#-keepattributes SourceFile,LineNumberTable

# If you keep the line number information, uncomment this to
# hide the original source file name.
#-renamesourcefileattribute SourceFile

-keep class androidx.databinding.DataBindingComponent {*;}


================================================
File: social-feed/.gitignore
================================================
/build
/src/google-services.json



================================================
File: social-feed/src/androidTest/java/com/likeminds/feedsocial/ExampleInstrumentedTest.kt
================================================
package com.likeminds.feedsocial

import androidx.test.platform.app.InstrumentationRegistry
import androidx.test.ext.junit.runners.AndroidJUnit4

import org.junit.Test
import org.junit.runner.RunWith

import org.junit.Assert.*

/**
 * Instrumented test, which will execute on an Android device.
 *
 * See [testing documentation](http://d.android.com/tools/testing).
 */
@RunWith(AndroidJUnit4::class)
class ExampleInstrumentedTest {
    @Test
    fun useAppContext() {
        // Context of the app under test.
        val appContext = InstrumentationRegistry.getInstrumentation().targetContext
        assertEquals("com.likeminds.feedexample", appContext.packageName)
    }
}


================================================
File: social-feed/src/main/AndroidManifest.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">

    <application
        android:name=".LMSocialFeed"
        android:allowBackup="false"
        android:dataExtractionRules="@xml/data_extraction_rules"
        android:fullBackupContent="@xml/backup_rules"
        android:icon="@mipmap/ic_app_icon"
        android:label="@string/app_name"
        android:roundIcon="@mipmap/ic_app_icon_round"
        android:supportsRtl="true"
        android:theme="@style/Theme.Likemindsfeedandroid"
        tools:targetApi="31">
        <activity
            android:name=".auth.view.LMSocialFeedAuthActivity"
            android:exported="true"
            android:theme="@style/LMFeedAppTheme.NoActionBar">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />

                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data
                    android:host="www.socialfeed.com"
                    android:scheme="https" />
                <data
                    android:host="socialfeed.com"
                    android:scheme="https" />
            </intent-filter>
        </activity>
        <activity
            android:name=".MainActivity"
            android:exported="false"
            android:screenOrientation="portrait"
            android:theme="@style/LMFeedAppTheme.NoActionBar" />

        <activity
            android:name=".SocialFeedActivity"
            android:exported="false"
            android:screenOrientation="portrait"
            android:theme="@style/LMFeedAppTheme.NoActionBar" />

        <service
            android:name=".LMSocialFeedMessagingService"
            android:exported="false">
            <intent-filter>
                <action android:name="com.google.firebase.MESSAGING_EVENT" />
            </intent-filter>
        </service>
    </application>

</manifest>


================================================
File: social-feed/src/main/java/com/likeminds/feedsocial/GetTokensTask.kt
================================================
package com.likeminds.feedsocial

import android.content.Context
import android.util.Log
import com.likeminds.feedsocial.LMSocialFeed.Companion.LM_SOCIAL_FEED_TAG
import com.likeminds.feedsocial.auth.util.LMSocialFeedAuthPreferences
import kotlinx.coroutines.Dispatchers
import kotlinx.coroutines.withContext
import org.json.JSONObject
import java.io.*
import java.net.HttpURLConnection
import java.net.URL

class GetTokensTask {

    private lateinit var lmSocialFeedAuthPreferences: LMSocialFeedAuthPreferences

    // Get tokens from the server
    suspend fun getTokens(context: Context, isProd: Boolean): Pair<String, String> {
        return withContext(Dispatchers.IO) {
            //get api url
            val apiUrl = if (isProd) {
                "https://auth.likeminds.community/sdk/initiate"
            } else {
                "https://betaauth.likeminds.community/sdk/initiate"
            }

            lmSocialFeedAuthPreferences = LMSocialFeedAuthPreferences(context)

            // Create connection
            val url = URL(apiUrl)
            val connection = url.openConnection() as HttpURLConnection

            // Set HTTP method and required headers
            connection.apply {
                requestMethod = "POST"
                doOutput = true
                setRequestProperty(
                    "Content-Type",
                    "application/json"
                )
                setRequestProperty("x-api-key", lmSocialFeedAuthPreferences.getApiKey())
                setRequestProperty("x-version-code", "15")
                setRequestProperty("x-platform-code", "an")
                setRequestProperty("x-sdk-source", "feed")
            }

            // Create request body
            val request = JSONObject().apply {
                put("uuid", lmSocialFeedAuthPreferences.getUserId())
                put("user_name", lmSocialFeedAuthPreferences.getUserName())
                put("token_expiry_beta", 1)
                put("rtm_token_expiry_beta", 2)
            }

            // Write POST data
            val writer = OutputStreamWriter(connection.outputStream)
            writer.write(request.toString())
            writer.flush()
            writer.close()

            // Get response
            val responseCode = connection.responseCode
            if (responseCode == HttpURLConnection.HTTP_OK) {
                val reader = BufferedReader(InputStreamReader(connection.inputStream))
                val response = StringBuilder()
                var line: String?
                while (reader.readLine().also { line = it } != null) {
                    response.append(line)
                }
                reader.close()
                response.toString()

                val responseObject = JSONObject(response.toString())
                val data = responseObject.getJSONObject("data")
                val accessToken = data.getString("access_token")
                val refreshToken = data.getString("refresh_token")
                Pair(accessToken, refreshToken)
            } else {
                Log.e(LM_SOCIAL_FEED_TAG, "Error: HTTP $responseCode")
                Pair("", "")
            }
        }
    }
}


================================================
File: social-feed/src/main/java/com/likeminds/feedsocial/LMSocialFeed.kt
================================================
package com.likeminds.feedsocial

import android.annotation.SuppressLint
import android.app.Application
import android.provider.Settings
import android.util.Log
import com.likeminds.feed.android.core.*
import kotlinx.coroutines.runBlocking


class LMSocialFeed : Application(), LMFeedCoreCallback {

    companion object {
        const val LM_SOCIAL_FEED_TAG = "LMSocialFeed"
    }

    @SuppressLint("HardwareIds")
    override fun onCreate() {
        super.onCreate()

        val deviceId = Settings.Secure.getString(contentResolver, Settings.Secure.ANDROID_ID) ?: ""
        LMFeedCore.setup(
            application = this,
            LMFeedTheme.SOCIAL_FEED,
            enablePushNotifications = true,
            deviceId = deviceId,
            domain = "https://www.samplefeed.com",
            lmFeedCoreCallback = this
        )
    }

    override fun onAccessTokenExpiredAndRefreshed(accessToken: String, refreshToken: String) {
        Log.d(
            LM_SOCIAL_FEED_TAG, """
            Example Layer Callback -> onAccessTokenExpiredAndRefreshed
            accessToken: $accessToken
            refreshToken: $refreshToken
        """.trimIndent()
        )
    }

    override fun onRefreshTokenExpired(): Pair<String?, String?> {
        return runBlocking {
            Log.d(
                LM_SOCIAL_FEED_TAG, """
                Example Layer Callback -> onRefreshTokenExpired
            """.trimIndent()
            )

            val task = GetTokensTask()
            val tokens = task.getTokens(applicationContext, true)
            Log.d(LM_SOCIAL_FEED_TAG, "tokens: $tokens")
            tokens
        }
    }
}


================================================
File: social-feed/src/main/java/com/likeminds/feedsocial/LMSocialFeedMessagingService.kt
================================================
package com.likeminds.feedsocial

import android.util.Log
import com.google.firebase.messaging.FirebaseMessagingService
import com.google.firebase.messaging.RemoteMessage
import com.likeminds.feed.android.core.LMFeedCoreApplication.Companion.LOG_TAG
import com.likeminds.feed.android.core.pushnotification.LMFeedNotificationHandler

class LMSocialFeedMessagingService : FirebaseMessagingService() {

    private lateinit var mNotificationHandler: LMFeedNotificationHandler

    override fun onCreate() {
        super.onCreate()
        mNotificationHandler = LMFeedNotificationHandler.getInstance()
        mNotificationHandler.create(this.application)
    }

    override fun onNewToken(token: String) {
        super.onNewToken(token)
        Log.d(LOG_TAG, "token generated: $token")
    }

    override fun onMessageReceived(message: RemoteMessage) {
        super.onMessageReceived(message)
        Log.d(LOG_TAG, "message generated: ${message.data}")
        mNotificationHandler.handleNotification(message.data)
    }
}


================================================
File: social-feed/src/main/java/com/likeminds/feedsocial/MainActivity.kt
================================================
package com.likeminds.feedsocial

import android.annotation.SuppressLint
import android.content.Intent
import android.os.Bundle
import android.provider.Settings
import android.util.Log
import androidx.appcompat.app.AppCompatActivity
import com.likeminds.feedsocial.auth.util.LMSocialFeedAuthPreferences
import com.likeminds.feedsocial.auth.view.LMSocialFeedAuthActivity
import com.likeminds.feedsocial.databinding.ActivityMainBinding
import com.likeminds.likemindsfeed.LMFeedClient
import com.likeminds.likemindsfeed.user.model.LogoutRequest
import kotlinx.coroutines.*

class MainActivity : AppCompatActivity() {

    private lateinit var lmSocialFeedAuthPreferences: LMSocialFeedAuthPreferences
    private lateinit var binding: ActivityMainBinding

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        binding = ActivityMainBinding.inflate(layoutInflater)
        setContentView(binding.root)

        lmSocialFeedAuthPreferences = LMSocialFeedAuthPreferences(this)

        binding.btnLogout.setOnClickListener {
            logout()
        }

        binding.btnStartFeed.setOnClickListener {
            val intent = Intent(this, SocialFeedActivity::class.java)
            startActivity(intent)
        }

    }

    private fun logout() {
        CoroutineScope(Dispatchers.IO).launch {
            val client = LMFeedClient.getInstance()
            val logoutResponse = client.logout(
                LogoutRequest.Builder()
                    .deviceId(deviceId())
                    .build()
            )
            if (logoutResponse.success) {
                lmSocialFeedAuthPreferences.clearPrefs()
                val intent = Intent(this@MainActivity, LMSocialFeedAuthActivity::class.java)
                finish()
                startActivity(intent)
            } else {
                Log.e("PUI", "logout failed error: ${logoutResponse.errorMessage}")
            }
        }
    }

    @SuppressLint("HardwareIds")
    fun deviceId(): String {
        return Settings.Secure.getString(contentResolver, Settings.Secure.ANDROID_ID)
            ?: ""
    }


}


================================================
File: social-feed/src/main/java/com/likeminds/feedsocial/SocialFeedActivity.kt
================================================
package com.likeminds.feedsocial

import android.os.Bundle
import android.util.Log
import androidx.appcompat.app.AppCompatActivity
import com.likeminds.feed.android.core.LMFeedCore
import com.likeminds.feed.android.core.socialfeed.view.LMFeedSocialFeedFragment
import com.likeminds.feed.android.core.utils.feed.LMFeedType.PERSONALISED_FEED
import com.likeminds.feedsocial.LMSocialFeed.Companion.LM_SOCIAL_FEED_TAG
import com.likeminds.feedsocial.auth.util.LMSocialFeedAuthPreferences
import kotlinx.coroutines.*

class SocialFeedActivity : AppCompatActivity() {

    private lateinit var lmSocialFeedAuthPreferences: LMSocialFeedAuthPreferences

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_social_feed)

        lmSocialFeedAuthPreferences = LMSocialFeedAuthPreferences(this)

        //without API Key Security
        LMFeedCore.showFeed(
            this,
            apiKey = lmSocialFeedAuthPreferences.getApiKey(),
            uuid = lmSocialFeedAuthPreferences.getUserId(),
            userName = lmSocialFeedAuthPreferences.getUserName(),
            success = {
                replaceFragment()
            },
            error = {
                Log.e("Example", "$it")
            }
        )

        //with API Key Security
//        callInitiateUser { accessToken, refreshToken ->
//            LMFeedCore.showFeed(
//                this,
//                accessToken,
//                refreshToken,
//                success = {
//                    replaceFragment()
//                },
//                error = {
//                    Log.e(LM_SOCIAL_FEED_TAG, "$it")
//                }
//            )
//        }
    }

    private fun replaceFragment() {
        val containerViewId = R.id.frame_layout
        val fragment = LMFeedSocialFeedFragment.getInstance(PERSONALISED_FEED)

        val transaction = supportFragmentManager.beginTransaction()
        transaction.replace(containerViewId, fragment, containerViewId.toString())
        transaction.commit()
    }

    private fun callInitiateUser(callback: (String, String) -> Unit) {
        CoroutineScope(Dispatchers.IO).launch {
            val task = GetTokensTask()
            val tokens = task.getTokens(applicationContext, true)
            Log.d(LM_SOCIAL_FEED_TAG, "tokens: $tokens")
            callback(tokens.first, tokens.second)
        }
    }
}


================================================
File: social-feed/src/main/java/com/likeminds/feedsocial/auth/util/LMSocialFeedAuthPreferences.kt
================================================
package com.likeminds.feedsocial.auth.util

import android.annotation.SuppressLint
import android.content.Context
import android.content.SharedPreferences
import android.provider.Settings

class LMSocialFeedAuthPreferences(context: Context) {

    companion object {
        const val SOCIAL_FEED_AUTH_PREFS = "social_feed_auth_prefs"
        const val API_KEY = "api_key"
        const val USER_NAME = "user_name"
        const val USER_ID = "user_id"
        const val IS_LOGGED_IN = "is_logged_in"
    }

    private val preferences: SharedPreferences =
        context.getSharedPreferences(SOCIAL_FEED_AUTH_PREFS, Context.MODE_PRIVATE)

    @SuppressLint("HardwareIds")
    private val deviceId =
        Settings.Secure.getString(context.contentResolver, Settings.Secure.ANDROID_ID)

    fun getApiKey(): String {
        return preferences.getString(API_KEY, "") ?: ""
    }

    fun saveApiKey(apiKey: String) {
        preferences.edit().putString(API_KEY, apiKey).apply()
    }

    fun getUserName(): String {
        return preferences.getString(USER_NAME, "") ?: ""
    }

    fun saveUserName(userName: String) {
        preferences.edit().putString(USER_NAME, userName).apply()
    }

    fun getUserId(): String {
        return preferences.getString(USER_ID, "") ?: ""
    }

    fun saveUserId(userId: String) {
        preferences.edit().putString(USER_ID, userId).apply()
    }

    fun getIsLoggedIn(): Boolean {
        return preferences.getBoolean(IS_LOGGED_IN, false)
    }

    fun saveIsLoggedIn(isLoggedIn: Boolean) {
        preferences.edit().putBoolean(IS_LOGGED_IN, isLoggedIn).apply()
    }

    @SuppressLint("HardwareIds")
    fun getDeviceId(): String {
        return deviceId ?: ""
    }

    fun clearPrefs() {
        saveApiKey("")
        saveUserName("")
        saveUserId("")
        saveIsLoggedIn(false)
    }
}



================================================
File: social-feed/src/main/java/com/likeminds/feedsocial/auth/view/LMSocialFeedAuthActivity.kt
================================================
package com.likeminds.feedsocial.auth.view

import android.content.Intent
import android.os.Bundle
import androidx.appcompat.app.AppCompatActivity
import com.likeminds.feed.android.core.utils.LMFeedRoute
import com.likeminds.feed.android.core.utils.LMFeedViewUtils
import com.likeminds.feedsocial.MainActivity
import com.likeminds.feedsocial.R
import com.likeminds.feedsocial.auth.util.LMSocialFeedAuthPreferences
import com.likeminds.feedsocial.databinding.ActivityFeedSocialAuthBinding

class LMSocialFeedAuthActivity : AppCompatActivity() {

    private lateinit var binding: ActivityFeedSocialAuthBinding

    private lateinit var lmSocialFeedAuthPreferences: LMSocialFeedAuthPreferences

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        lmSocialFeedAuthPreferences = LMSocialFeedAuthPreferences(this)
        binding = ActivityFeedSocialAuthBinding.inflate(layoutInflater)
        setContentView(binding.root)

        val isLoggedIn = lmSocialFeedAuthPreferences.getIsLoggedIn()

        if (isLoggedIn) {
            // user already logged in, navigate using deep linking or to [MainActivity]
            if (intent.data != null) {
                parseDeepLink()
            } else {
                navigateToMainActivity()
            }
        } else {
            // user is not logged in, ask login details.
            loginUser()
        }
    }

    // parses deep link to start corresponding activity
    private fun parseDeepLink() {
        //get intent for route
        val intent = LMFeedRoute.handleDeepLink(
            this,
            intent.data.toString()
        )
        startActivity(intent)
        finish()
    }

    // navigates user to [MainActivity]
    private fun navigateToMainActivity() {
        val intent = Intent(this, MainActivity::class.java)
        startActivity(intent)
        finish()
    }

    // validates user input and save login details
    private fun loginUser() {
        binding.apply {
            val context = root.context

            btnLogin.setOnClickListener {
                val apiKey = etApiKey.text.toString().trim()
                val userName = etUserName.text.toString().trim()
                val userId = etUserId.text.toString().trim()

                if (apiKey.isEmpty()) {
                    LMFeedViewUtils.showShortToast(
                        context,
                        getString(R.string.enter_api_key)
                    )
                    return@setOnClickListener
                }

                if (userName.isEmpty()) {
                    LMFeedViewUtils.showShortToast(
                        context,
                        getString(R.string.enter_user_name)
                    )
                    return@setOnClickListener
                }

                if (userId.isEmpty()) {
                    LMFeedViewUtils.showShortToast(
                        context,
                        getString(R.string.enter_user_id)
                    )
                    return@setOnClickListener
                }

                // save login details to auth prefs
                lmSocialFeedAuthPreferences.saveIsLoggedIn(true)
                lmSocialFeedAuthPreferences.saveApiKey(apiKey)
                lmSocialFeedAuthPreferences.saveUserName(userName)
                lmSocialFeedAuthPreferences.saveUserId(userId)

                navigateToMainActivity()
            }
        }
    }
}


================================================
File: social-feed/src/main/res/drawable/ic_launcher_background.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="108dp"
    android:height="108dp"
    android:viewportWidth="108"
    android:viewportHeight="108">
    <path
        android:fillColor="#3DDC84"
        android:pathData="M0,0h108v108h-108z" />
    <path
        android:fillColor="#00000000"
        android:pathData="M9,0L9,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,0L19,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M29,0L29,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M39,0L39,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M49,0L49,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M59,0L59,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M69,0L69,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M79,0L79,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M89,0L89,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M99,0L99,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,9L108,9"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,19L108,19"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,29L108,29"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,39L108,39"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,49L108,49"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,59L108,59"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,69L108,69"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,79L108,79"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,89L108,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,99L108,99"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,29L89,29"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,39L89,39"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,49L89,49"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,59L89,59"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,69L89,69"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,79L89,79"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M29,19L29,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M39,19L39,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M49,19L49,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M59,19L59,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M69,19L69,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M79,19L79,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
</vector>



================================================
File: social-feed/src/main/res/drawable/ic_launcher_foreground.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:aapt="http://schemas.android.com/aapt"
    android:width="108dp"
    android:height="108dp"
    android:viewportWidth="108"
    android:viewportHeight="108">
    <path android:pathData="M31,63.928c0,0 6.4,-11 12.1,-13.1c7.2,-2.6 26,-1.4 26,-1.4l38.1,38.1L107,108.928l-32,-1L31,63.928z">
        <aapt:attr name="android:fillColor">
            <gradient
                android:endX="85.84757"
                android:endY="92.4963"
                android:startX="42.9492"
                android:startY="49.59793"
                android:type="linear">
                <item
                    android:color="#44000000"
                    android:offset="0.0" />
                <item
                    android:color="#00000000"
                    android:offset="1.0" />
            </gradient>
        </aapt:attr>
    </path>
    <path
        android:fillColor="#FFFFFF"
        android:fillType="nonZero"
        android:pathData="M65.3,45.828l3.8,-6.6c0.2,-0.4 0.1,-0.9 -0.3,-1.1c-0.4,-0.2 -0.9,-0.1 -1.1,0.3l-3.9,6.7c-6.3,-2.8 -13.4,-2.8 -19.7,0l-3.9,-6.7c-0.2,-0.4 -0.7,-0.5 -1.1,-0.3C38.8,38.328 38.7,38.828 38.9,39.228l3.8,6.6C36.2,49.428 31.7,56.028 31,63.928h46C76.3,56.028 71.8,49.428 65.3,45.828zM43.4,57.328c-0.8,0 -1.5,-0.5 -1.8,-1.2c-0.3,-0.7 -0.1,-1.5 0.4,-2.1c0.5,-0.5 1.4,-0.7 2.1,-0.4c0.7,0.3 1.2,1 1.2,1.8C45.3,56.528 44.5,57.328 43.4,57.328L43.4,57.328zM64.6,57.328c-0.8,0 -1.5,-0.5 -1.8,-1.2s-0.1,-1.5 0.4,-2.1c0.5,-0.5 1.4,-0.7 2.1,-0.4c0.7,0.3 1.2,1 1.2,1.8C66.5,56.528 65.6,57.328 64.6,57.328L64.6,57.328z"
        android:strokeWidth="1"
        android:strokeColor="#00000000" />
</vector>


================================================
File: social-feed/src/main/res/font/roboto.ttf
================================================
[Non-text file]


================================================
File: social-feed/src/main/res/font/roboto_bold.ttf
================================================
[Non-text file]


================================================
File: social-feed/src/main/res/font/roboto_medium.ttf
================================================
[Non-text file]


================================================
File: social-feed/src/main/res/layout/activity_feed_social_auth.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/white">

        <TextView
            android:id="@+id/tv_heading"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="30dp"
            android:fontFamily="@font/roboto_medium"
            android:gravity="center"
            android:text="@string/app_name"
            android:textColor="@color/black"
            android:textSize="20sp"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <TextView
            android:id="@+id/tv_api_key"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="30dp"
            android:text="@string/enter_api_key"
            android:textColor="@color/black"
            android:textSize="16sp"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_heading" />

        <EditText
            android:id="@+id/et_api_key"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="5dp"
            android:backgroundTint="@color/black"
            android:hint="@string/api_key"
            android:inputType="text"
            android:textColor="@color/black"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_api_key"
            tools:ignore="Autofill" />

        <TextView
            android:id="@+id/tv_user_name"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="20dp"
            android:text="@string/user_name"
            android:textColor="@color/black"
            android:textSize="16sp"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/et_api_key" />

        <EditText
            android:id="@+id/et_user_name"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="5dp"
            android:backgroundTint="@color/black"
            android:hint="@string/user_name"
            android:inputType="text"
            android:textColor="@color/black"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_user_name"
            tools:ignore="Autofill" />

        <TextView
            android:id="@+id/tv_user_id"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="20dp"
            android:text="@string/user_id"
            android:textColor="@color/black"
            android:textSize="16sp"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/et_user_name" />

        <EditText
            android:id="@+id/et_user_id"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="5dp"
            android:backgroundTint="@color/black"
            android:hint="@string/user_id"
            android:inputType="text"
            android:textColor="@color/black"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_user_id"
            tools:ignore="Autofill" />

        <Button
            android:id="@+id/btn_login"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="50dp"
            android:text="@string/start"
            android:textColor="@color/white"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/et_user_id" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: social-feed/src/main/res/layout/activity_main.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <Button
            android:id="@+id/btn_start_feed"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="200dp"
            android:text="Start Feed"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <Button
            android:id="@+id/btn_logout"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="20dp"
            android:text="Logout"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/btn_start_feed" />


    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: social-feed/src/main/res/layout/activity_social_feed.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/main"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".SocialFeedActivity">

    <FrameLayout
        android:id="@+id/frame_layout"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        app:layout_constraintBottom_toTopOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent" />

</androidx.constraintlayout.widget.ConstraintLayout>


================================================
File: social-feed/src/main/res/layout/fragment_main.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_customisable"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Customisable Text View"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: social-feed/src/main/res/mipmap-anydpi-v26/ic_launcher.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
    <background android:drawable="@drawable/ic_launcher_background" />
    <foreground android:drawable="@drawable/ic_launcher_foreground" />
    <monochrome android:drawable="@drawable/ic_launcher_foreground" />
</adaptive-icon>


================================================
File: social-feed/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
    <background android:drawable="@drawable/ic_launcher_background" />
    <foreground android:drawable="@drawable/ic_launcher_foreground" />
    <monochrome android:drawable="@drawable/ic_launcher_foreground" />
</adaptive-icon>


================================================
File: social-feed/src/main/res/mipmap-hdpi/ic_launcher.webp
================================================
[Non-text file]


================================================
File: social-feed/src/main/res/mipmap-hdpi/ic_launcher_round.webp
================================================
[Non-text file]


================================================
File: social-feed/src/main/res/mipmap-mdpi/ic_launcher.webp
================================================
[Non-text file]


================================================
File: social-feed/src/main/res/mipmap-mdpi/ic_launcher_round.webp
================================================
[Non-text file]


================================================
File: social-feed/src/main/res/mipmap-xhdpi/ic_launcher.webp
================================================
[Non-text file]


================================================
File: social-feed/src/main/res/mipmap-xhdpi/ic_launcher_round.webp
================================================
[Non-text file]


================================================
File: social-feed/src/main/res/mipmap-xxhdpi/ic_launcher.webp
================================================
[Non-text file]


================================================
File: social-feed/src/main/res/mipmap-xxhdpi/ic_launcher_round.webp
================================================
[Non-text file]


================================================
File: social-feed/src/main/res/mipmap-xxxhdpi/ic_launcher.webp
================================================
[Non-text file]


================================================
File: social-feed/src/main/res/mipmap-xxxhdpi/ic_launcher_round.webp
================================================
[Non-text file]


================================================
File: social-feed/src/main/res/values/colors.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <color name="black">#FF000000</color>
    <color name="white">#FFFFFFFF</color>
</resources>


================================================
File: social-feed/src/main/res/values/strings.xml
================================================
<resources>
    <string name="app_name">LikeMinds Social Feed Android</string>
    <string name="start">Start</string>
    <string name="api_key">Api Key</string>
    <string name="enter_api_key">Enter API Key</string>
    <string name="user_name">User Name</string>
    <string name="user_id">User Id</string>
    <string name="login">Login</string>
    <string name="enter_user_name">Enter user name</string>
    <string name="enter_user_id">Enter user id</string>
</resources>


================================================
File: social-feed/src/main/res/values/styles.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<resources>

    <style name="LMFeedAppTheme" parent="Theme.Material3.Light.NoActionBar">
        <item name="colorPrimary">@color/lm_feed_majorelle_blue</item>
        <item name="colorPrimaryDark">@color/lm_feed_maastricht_blue_40</item>
        <item name="colorAccent">@color/lm_feed_majorelle_blue</item>
        <item name="windowActionModeOverlay">true</item>
    </style>

    <style name="LMFeedAppTheme.AppBarOverlay" parent="ThemeOverlay.AppCompat.Dark.ActionBar" />

    <style name="LMFeedAppTheme.NoActionBar">
        <item name="windowActionBar">false</item>
        <item name="windowNoTitle">true</item>
    </style>
</resources>


================================================
File: social-feed/src/main/res/values/themes.xml
================================================
<resources xmlns:tools="http://schemas.android.com/tools">
    <!-- Base application theme. -->
    <style name="Base.Theme.Likemindsfeedandroid" parent="Theme.Material3.Light.NoActionBar">
        <!-- Customize your light theme here. -->
        <!-- <item name="colorPrimary">@color/my_light_primary</item> -->
    </style>

    <style name="Theme.Likemindsfeedandroid" parent="Base.Theme.Likemindsfeedandroid" />
</resources>


================================================
File: social-feed/src/main/res/values-night/themes.xml
================================================
<resources xmlns:tools="http://schemas.android.com/tools">
    <!-- Base application theme. -->
    <style name="Base.Theme.Likemindsfeedandroid" parent="Theme.Material3.DayNight.NoActionBar">
        <!-- Customize your dark theme here. -->
        <!-- <item name="colorPrimary">@color/my_dark_primary</item> -->
    </style>
</resources>


================================================
File: social-feed/src/main/res/xml/backup_rules.xml
================================================
<?xml version="1.0" encoding="utf-8"?><!--
   Sample backup rules file; uncomment and customize as necessary.
   See https://developer.android.com/guide/topics/data/autobackup
   for details.
   Note: This file is ignored for devices older that API 31
   See https://developer.android.com/about/versions/12/backup-restore
-->
<full-backup-content>
    <!--
   <include domain="sharedpref" path="."/>
   <exclude domain="sharedpref" path="device.xml"/>
-->
</full-backup-content>


================================================
File: social-feed/src/main/res/xml/data_extraction_rules.xml
================================================
<?xml version="1.0" encoding="utf-8"?><!--
   Sample data extraction rules file; uncomment and customize as necessary.
   See https://developer.android.com/about/versions/12/backup-restore#xml-changes
   for details.
-->
<data-extraction-rules>
    <cloud-backup>
        <!-- TODO: Use <include> and <exclude> to control what is backed up.
        <include .../>
        <exclude .../>
        -->
    </cloud-backup>
    <!--
    <device-transfer>
        <include .../>
        <exclude .../>
    </device-transfer>
    -->
</data-extraction-rules>


================================================
File: social-feed/src/test/java/com/likeminds/feedsocial/ExampleUnitTest.kt
================================================
package com.likeminds.feedsocial

import org.junit.Test

import org.junit.Assert.*

/**
 * Example local unit test, which will execute on the development machine (host).
 *
 * See [testing documentation](http://d.android.com/tools/testing).
 */
class ExampleUnitTest {
    @Test
    fun addition_isCorrect() {
        assertEquals(4, 2 + 2)
    }
}


================================================
File: video-feed/proguard-rules.pro
================================================
# Add project specific ProGuard rules here.
# You can control the set of applied configuration files using the
# proguardFiles setting in build.gradle.
#
# For more details, see
#   http://developer.android.com/guide/developing/tools/proguard.html

# If your project uses WebView with JS, uncomment the following
# and specify the fully qualified class name to the JavaScript interface
# class:
#-keepclassmembers class fqcn.of.javascript.interface.for.webview {
#   public *;
#}

# Uncomment this to preserve the line number information for
# debugging stack traces.
#-keepattributes SourceFile,LineNumberTable

# If you keep the line number information, uncomment this to
# hide the original source file name.
#-renamesourcefileattribute SourceFile


================================================
File: video-feed/.gitignore
================================================
/build


================================================
File: video-feed/src/androidTest/java/com/likeminds/feedvideo/ExampleInstrumentedTest.kt
================================================
package com.likeminds.feedvideo

import androidx.test.platform.app.InstrumentationRegistry
import androidx.test.ext.junit.runners.AndroidJUnit4

import org.junit.Test
import org.junit.runner.RunWith

import org.junit.Assert.*

/**
 * Instrumented test, which will execute on an Android device.
 *
 * See [testing documentation](http://d.android.com/tools/testing).
 */
@RunWith(AndroidJUnit4::class)
class ExampleInstrumentedTest {
    @Test
    fun useAppContext() {
        // Context of the app under test.
        val appContext = InstrumentationRegistry.getInstrumentation().targetContext
        assertEquals("com.likeminds.feedvideo", appContext.packageName)
    }
}


================================================
File: video-feed/src/main/AndroidManifest.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">

    <application
        android:name=".LMVideoFeed"
        android:allowBackup="false"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/Theme.Likemindsfeedandroid"
        tools:targetApi="31">

        <activity
            android:name=".auth.view.LMVideoFeedAuthActivity"
            android:exported="true"
            android:theme="@style/LMFeedAppTheme.NoActionBar">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>

            <intent-filter>
                <action android:name="android.intent.action.VIEW" />

                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data
                    android:host="www.videofeed.com"
                    android:scheme="https" />
                <data
                    android:host="videofeed.com"
                    android:scheme="https" />
            </intent-filter>
        </activity>


        <activity
            android:name=".MainActivity"
            android:exported="false"
            android:screenOrientation="portrait"
            android:theme="@style/LMFeedAppTheme.NoActionBar" />

        <service
            android:name=".LMVideoFeedMessagingService"
            android:exported="false">
            <intent-filter>
                <action android:name="com.google.firebase.MESSAGING_EVENT" />
            </intent-filter>
        </service>

    </application>

</manifest>


================================================
File: video-feed/src/main/java/com/likeminds/feedvideo/CustomReelsViewDataBinder.kt
================================================
package com.likeminds.feedvideo

import android.view.LayoutInflater
import android.view.ViewGroup
import androidx.core.content.ContextCompat
import com.likeminds.feed.android.core.R
import com.likeminds.feed.android.core.socialfeed.adapter.LMFeedPostAdapterListener
import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData
import com.likeminds.feed.android.core.socialfeed.util.LMFeedPostBinderUtils
import com.likeminds.feed.android.core.utils.LMFeedCommunityUtil
import com.likeminds.feed.android.core.utils.LMFeedStyleTransformer
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.getFormatedNumber
import com.likeminds.feed.android.core.utils.LMFeedValueUtils.pluralizeOrCapitalize
import com.likeminds.feed.android.core.utils.base.PostItemViewDataBinder
import com.likeminds.feed.android.core.utils.base.model.ITEM_POST_VIDEO_FEED
import com.likeminds.feed.android.core.utils.pluralize.model.LMFeedWordAction
import com.likeminds.feedvideo.databinding.ItemCustomReelsViewDataBinderBinding

class CustomReelsViewDataBinder(
    private val postAdapterListener: LMFeedPostAdapterListener,
    private val investClickListener: InvestClickListener
) : PostItemViewDataBinder<ItemCustomReelsViewDataBinderBinding>(postAdapterListener) {

    override val viewType: Int
        get() = ITEM_POST_VIDEO_FEED

    override fun createBinder(parent: ViewGroup): ItemCustomReelsViewDataBinderBinding {
        val binding = ItemCustomReelsViewDataBinderBinding.inflate(
            LayoutInflater.from(parent.context),
            parent,
            false
        )

        binding.apply {
            LMFeedPostBinderUtils.customizePostHeaderView(postHeader)

            LMFeedPostBinderUtils.customizePostContentView(tvPostContent)

            //set video media style to post video view
            val postVerticalVideoMediaStyle =
                LMFeedStyleTransformer.postViewStyle.postMediaViewStyle.postVerticalVideoMediaStyle
                    ?: return@apply

            postVideoView.setStyle(postVerticalVideoMediaStyle)

            setListener(this)
        }

        return binding
    }

    fun setListener(
        binding: ItemCustomReelsViewDataBinderBinding,
    ) {
        binding.apply {
            postHeader.setAuthorFrameClickListener {
                val post = this.postViewData ?: return@setAuthorFrameClickListener
                postAdapterListener.onPostAuthorHeaderClicked(position, post)
            }

            ivLike.setOnClickListener {
                val post = this.postViewData ?: return@setOnClickListener
                val updatedPost = LMFeedPostBinderUtils.updatePostForLike(post)
                postAdapterListener.onPostLikeClicked(position, updatedPost)
            }

            ivPostMenu.setOnClickListener {
                val post = this.postViewData ?: return@setOnClickListener
                postAdapterListener.onPostActionMenuClicked(position, post)
            }

            ivInvest.setOnClickListener {
                val post = this.postViewData ?: return@setOnClickListener
                investClickListener.onInvestIconClick(post)
            }
        }
    }

    override fun bindData(
        binding: ItemCustomReelsViewDataBinderBinding,
        data: LMFeedPostViewData,
        position: Int
    ) {
        binding.apply {
            this.position = position
            postViewData = data

            val iconStyle = LMFeedStyleTransformer.postViewStyle.postActionViewStyle.likeIconStyle

            val likeIcon = if (data.actionViewData.isLiked) {
                iconStyle.activeSrc
            } else {
                iconStyle.inActiveSrc
            }

            if (likeIcon != null) {
                binding.ivLike.setImageDrawable(
                    ContextCompat.getDrawable(
                        root.context,
                        likeIcon
                    )
                )
            }

            val likesCount = data.actionViewData.likesCount

            val likesCountText = if (likesCount == 0) {
                root.context.getString(
                    R.string.lm_feed_s_like,
                    LMFeedCommunityUtil.getLikeVariable()
                        .pluralizeOrCapitalize(LMFeedWordAction.FIRST_LETTER_CAPITAL_SINGULAR)
                )
            } else {
                likesCount.toLong().getFormatedNumber()
            }

            tvLikesCount.text = likesCountText

            // checks whether to bind complete data or not and execute corresponding lambda function
            LMFeedPostBinderUtils.setPostBindData(
                postHeader,
                tvPostHeading,
                tvPostContent,
                null,
                null,
                data,
                position,
                postTopicsGroup,
                postAdapterListener,
                returnBinder = {
                    return@setPostBindData
                }, executeBinder = {}
            )
        }
    }
}


================================================
File: video-feed/src/main/java/com/likeminds/feedvideo/GetTokensTask.kt
================================================
package com.likeminds.feedvideo

import android.content.Context
import android.util.Log
import com.likeminds.feedvideo.LMVideoFeed.Companion.LM_VIDEO_FEED_TAG
import com.likeminds.feedvideo.auth.util.LMVideoFeedAuthPreferences
import kotlinx.coroutines.Dispatchers
import kotlinx.coroutines.withContext
import org.json.JSONObject
import java.io.*
import java.net.HttpURLConnection
import java.net.URL

class GetTokensTask {

    private lateinit var lmVideoFeedAuthPreferences: LMVideoFeedAuthPreferences

    // Get tokens from the server
    suspend fun getTokens(context: Context, isProd: Boolean): Pair<String, String> {
        return withContext(Dispatchers.IO) {
            //get api url
            val apiUrl = if (isProd) {
                "https://auth.likeminds.community/sdk/initiate"
            } else {
                "https://betaauth.likeminds.community/sdk/initiate"
            }

            lmVideoFeedAuthPreferences = LMVideoFeedAuthPreferences(context)

            // Create connection
            val url = URL(apiUrl)
            val connection = url.openConnection() as HttpURLConnection

            // Set HTTP method and required headers
            connection.apply {
                requestMethod = "POST"
                doOutput = true
                setRequestProperty(
                    "Content-Type",
                    "application/json"
                )
                setRequestProperty("x-api-key", lmVideoFeedAuthPreferences.getApiKey())
                setRequestProperty("x-version-code", "15")
                setRequestProperty("x-platform-code", "an")
                setRequestProperty("x-sdk-source", "feed")
            }

            // Create request body
            val request = JSONObject().apply {
                put("uuid", lmVideoFeedAuthPreferences.getUserId())
                put("user_name", lmVideoFeedAuthPreferences.getUserName())
                put("token_expiry_beta", 1)
                put("rtm_token_expiry_beta", 2)
            }

            // Write POST data
            val writer = OutputStreamWriter(connection.outputStream)
            writer.write(request.toString())
            writer.flush()
            writer.close()

            // Get response
            val responseCode = connection.responseCode
            if (responseCode == HttpURLConnection.HTTP_OK) {
                val reader = BufferedReader(InputStreamReader(connection.inputStream))
                val response = StringBuilder()
                var line: String?
                while (reader.readLine().also { line = it } != null) {
                    response.append(line)
                }
                reader.close()
                response.toString()

                val responseObject = JSONObject(response.toString())
                val data = responseObject.getJSONObject("data")
                val accessToken = data.getString("access_token")
                val refreshToken = data.getString("refresh_token")
                Pair(accessToken, refreshToken)
            } else {
                Log.e(LM_VIDEO_FEED_TAG, "Error: HTTP $responseCode")
                Pair("", "")
            }
        }
    }
}


================================================
File: video-feed/src/main/java/com/likeminds/feedvideo/InvestClickListener.kt
================================================
package com.likeminds.feedvideo

import com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData

interface InvestClickListener {
    fun onInvestIconClick(postViewData: LMFeedPostViewData)
}


================================================
File: video-feed/src/main/java/com/likeminds/feedvideo/LMVideoFeed.kt
================================================
package com.likeminds.feedvideo

import android.annotation.SuppressLint
import android.app.Application
import android.provider.Settings
import android.util.Log
import com.likeminds.feed.android.core.*
import com.likeminds.feed.android.core.LMFeedCoreApplication.Companion.LOG_TAG
import kotlinx.coroutines.runBlocking

class LMVideoFeed : Application(), LMFeedCoreCallback {

    companion object {
        const val LM_VIDEO_FEED_TAG = "LMVideoFeed"
    }

    @SuppressLint("HardwareIds")
    override fun onCreate() {
        super.onCreate()

        val deviceId = Settings.Secure.getString(contentResolver, Settings.Secure.ANDROID_ID) ?: ""
        LMFeedCore.setup(
            application = this,
            LMFeedTheme.VIDEO_FEED,
            enablePushNotifications = true,
            deviceId = deviceId,
            domain = "https://www.videofeed.com",
            lmFeedCoreCallback = this
        )
    }

    override fun trackEvent(eventName: String, eventProperties: Map<String, String?>) {
        Log.d(
            LOG_TAG, """
            eventName: $eventName
            eventProperties: $eventProperties
        """.trimIndent()
        )
    }

    override fun onAccessTokenExpiredAndRefreshed(accessToken: String, refreshToken: String) {
        Log.d(
            LM_VIDEO_FEED_TAG, """
            Example Layer Callback -> onAccessTokenExpiredAndRefreshed
            accessToken: $accessToken
            refreshToken: $refreshToken
        """.trimIndent()
        )
    }

    override fun onRefreshTokenExpired(): Pair<String?, String?> {
        return runBlocking {
            Log.d(
                LM_VIDEO_FEED_TAG, """
                Example Layer Callback -> onRefreshTokenExpired
            """.trimIndent()
            )

            val task = GetTokensTask()
            val tokens = task.getTokens(applicationContext, true)
            Log.d(LM_VIDEO_FEED_TAG, "tokens: $tokens")
            tokens
        }
    }
}


================================================
File: video-feed/src/main/java/com/likeminds/feedvideo/LMVideoFeedMessagingService.kt
================================================
package com.likeminds.feedvideo

import android.util.Log
import com.google.firebase.messaging.FirebaseMessagingService
import com.google.firebase.messaging.RemoteMessage
import com.likeminds.feed.android.core.LMFeedCoreApplication.Companion.LOG_TAG
import com.likeminds.feed.android.core.pushnotification.LMFeedNotificationHandler

class LMVideoFeedMessagingService : FirebaseMessagingService() {

    private lateinit var mNotificationHandler: LMFeedNotificationHandler

    override fun onCreate() {
        super.onCreate()
        mNotificationHandler = LMFeedNotificationHandler.getInstance()
        mNotificationHandler.create(this.application)
    }

    override fun onNewToken(token: String) {
        super.onNewToken(token)
        Log.d(LOG_TAG, "token generated: $token")
    }

    override fun onMessageReceived(message: RemoteMessage) {
        super.onMessageReceived(message)
        Log.d(LOG_TAG, "message generated: ${message.data}")
        mNotificationHandler.handleNotification(message.data)
    }
}


================================================
File: video-feed/src/main/java/com/likeminds/feedvideo/MainActivity.kt
================================================
package com.likeminds.feedvideo

import android.os.Bundle
import android.util.Log
import androidx.appcompat.app.AppCompatActivity
import com.likeminds.feed.android.core.LMFeedCore
import com.likeminds.feed.android.core.utils.feed.LMFeedType
import com.likeminds.feed.android.core.videofeed.model.LMFeedVideoFeedProps
import com.likeminds.feed.android.core.videofeed.view.LMFeedVideoFeedFragment
import com.likeminds.feedvideo.auth.util.LMVideoFeedAuthPreferences
import kotlinx.coroutines.*

class MainActivity : AppCompatActivity() {
    private lateinit var lmVideoFeedAuthPreferences: LMVideoFeedAuthPreferences

    companion object {
        const val POST_ID_TO_START_WITH = "post_id_to_start_with"
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        lmVideoFeedAuthPreferences = LMVideoFeedAuthPreferences(this)

        //without API Key Security
        LMFeedCore.showFeed(
            this,
            apiKey = lmVideoFeedAuthPreferences.getApiKey(),
            uuid = lmVideoFeedAuthPreferences.getUserId(),
            userName = lmVideoFeedAuthPreferences.getUserName(),
            success = {
                replaceFragment()
            },
            error = {
                Log.e("Example", "$it")
            }
        )
    }

    private fun replaceFragment() {
        val containerViewId = R.id.frame_layout

        val startFeedWithPostId = intent.getStringExtra(POST_ID_TO_START_WITH)
        val props = if (startFeedWithPostId != null) {
            LMFeedVideoFeedProps.Builder()
                .startFeedWithPostIds(listOf(startFeedWithPostId))
                .build()
        } else {
            null
        }

        val fragment = LMFeedVideoFeedFragment.getInstance(
            feedType = LMFeedType.UNIVERSAL_FEED,
            props = props
        )

        val transaction = supportFragmentManager.beginTransaction()
        transaction.replace(containerViewId, fragment, containerViewId.toString())
        transaction.commit()
    }

    private fun callInitiateUser(callback: (String, String) -> Unit) {
        CoroutineScope(Dispatchers.IO).launch {
            val task = GetTokensTask()
            val tokens = task.getTokens(applicationContext, true)
            Log.d(LMVideoFeed.LM_VIDEO_FEED_TAG, "tokens: $tokens")
            callback(tokens.first, tokens.second)
        }
    }
}


================================================
File: video-feed/src/main/java/com/likeminds/feedvideo/auth/util/LMVideoFeedAuthPreferences.kt
================================================
package com.likeminds.feedvideo.auth.util

import android.annotation.SuppressLint
import android.content.Context
import android.content.SharedPreferences
import android.provider.Settings

class LMVideoFeedAuthPreferences(context: Context) {

    companion object {
        const val VIDEO_FEED_AUTH_PREFS = "video_feed_auth_prefs"
        const val API_KEY = "api_key"
        const val USER_NAME = "user_name"
        const val USER_ID = "user_id"
        const val IS_LOGGED_IN = "is_logged_in"
    }

    private val preferences: SharedPreferences =
        context.getSharedPreferences(VIDEO_FEED_AUTH_PREFS, Context.MODE_PRIVATE)

    @SuppressLint("HardwareIds")
    private val deviceId =
        Settings.Secure.getString(context.contentResolver, Settings.Secure.ANDROID_ID)

    fun getApiKey(): String {
        return preferences.getString(API_KEY, "") ?: ""
    }

    fun saveApiKey(apiKey: String) {
        preferences.edit().putString(API_KEY, apiKey).apply()
    }

    fun getUserName(): String {
        return preferences.getString(USER_NAME, "") ?: ""
    }

    fun saveUserName(userName: String) {
        preferences.edit().putString(USER_NAME, userName).apply()
    }

    fun getUserId(): String {
        return preferences.getString(USER_ID, "") ?: ""
    }

    fun saveUserId(userId: String) {
        preferences.edit().putString(USER_ID, userId).apply()
    }

    fun getIsLoggedIn(): Boolean {
        return preferences.getBoolean(IS_LOGGED_IN, false)
    }

    fun saveIsLoggedIn(isLoggedIn: Boolean) {
        preferences.edit().putBoolean(IS_LOGGED_IN, isLoggedIn).apply()
    }

    @SuppressLint("HardwareIds")
    fun getDeviceId(): String {
        return deviceId ?: ""
    }

    fun clearPrefs() {
        saveApiKey("")
        saveUserName("")
        saveUserId("")
        saveIsLoggedIn(false)
    }
}



================================================
File: video-feed/src/main/java/com/likeminds/feedvideo/auth/view/LMVideoFeedAuthActivity.kt
================================================
package com.likeminds.feedvideo.auth.view

import android.content.Intent
import android.os.Bundle
import androidx.appcompat.app.AppCompatActivity
import com.likeminds.feed.android.core.utils.LMFeedRoute
import com.likeminds.feed.android.core.utils.LMFeedViewUtils
import com.likeminds.feedvideo.MainActivity
import com.likeminds.feedvideo.R
import com.likeminds.feedvideo.auth.util.LMVideoFeedAuthPreferences
import com.likeminds.feedvideo.databinding.ActivityFeedVideoAuthBinding

class LMVideoFeedAuthActivity : AppCompatActivity() {

    private lateinit var binding: ActivityFeedVideoAuthBinding

    private lateinit var lmVideoFeedAuthPreferences: LMVideoFeedAuthPreferences

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        lmVideoFeedAuthPreferences = LMVideoFeedAuthPreferences(this)
        binding = ActivityFeedVideoAuthBinding.inflate(layoutInflater)
        setContentView(binding.root)

        val isLoggedIn = lmVideoFeedAuthPreferences.getIsLoggedIn()

        if (isLoggedIn) {
            // user already logged in, navigate using deep linking or to [MainActivity]
            if (intent.data != null) {
                parseDeepLink()
            } else {
                navigateToMainActivity()
            }
        } else {
            // user is not logged in, ask login details.
            loginUser()
        }
    }

    // parses deep link to start corresponding activity
    private fun parseDeepLink() {
        val postId = LMFeedRoute.getPostIdFromUrl(intent.data.toString())
        if (postId != null) {
            navigateToMainActivity(postId)
        }
    }

    // navigates user to [MainActivity]
    private fun navigateToMainActivity(postId: String? = null) {
        val intent = Intent(this, MainActivity::class.java)
        intent.putExtra(MainActivity.POST_ID_TO_START_WITH, postId)
        startActivity(intent)
        finish()
    }

    // validates user input and save login details
    private fun loginUser() {
        binding.apply {
            val context = root.context

            btnLogin.setOnClickListener {
                val apiKey = etApiKey.text.toString().trim()
                val userName = etUserName.text.toString().trim()
                val userId = etUserId.text.toString().trim()

                if (apiKey.isEmpty()) {
                    LMFeedViewUtils.showShortToast(
                        context,
                        getString(R.string.enter_api_key)
                    )
                    return@setOnClickListener
                }

                if (userName.isEmpty()) {
                    LMFeedViewUtils.showShortToast(
                        context,
                        getString(R.string.enter_user_name)
                    )
                    return@setOnClickListener
                }

                if (userId.isEmpty()) {
                    LMFeedViewUtils.showShortToast(
                        context,
                        getString(R.string.enter_user_id)
                    )
                    return@setOnClickListener
                }

                // save login details to auth prefs
                lmVideoFeedAuthPreferences.saveIsLoggedIn(true)
                lmVideoFeedAuthPreferences.saveApiKey(apiKey)
                lmVideoFeedAuthPreferences.saveUserName(userName)
                lmVideoFeedAuthPreferences.saveUserId(userId)

                navigateToMainActivity()
            }
        }
    }
}


================================================
File: video-feed/src/main/res/drawable/ic_launcher_background.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="108dp"
    android:height="108dp"
    android:viewportWidth="108"
    android:viewportHeight="108">
    <path
        android:fillColor="#3DDC84"
        android:pathData="M0,0h108v108h-108z" />
    <path
        android:fillColor="#00000000"
        android:pathData="M9,0L9,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,0L19,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M29,0L29,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M39,0L39,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M49,0L49,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M59,0L59,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M69,0L69,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M79,0L79,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M89,0L89,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M99,0L99,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,9L108,9"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,19L108,19"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,29L108,29"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,39L108,39"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,49L108,49"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,59L108,59"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,69L108,69"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,79L108,79"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,89L108,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,99L108,99"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,29L89,29"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,39L89,39"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,49L89,49"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,59L89,59"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,69L89,69"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,79L89,79"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M29,19L29,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M39,19L39,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M49,19L49,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M59,19L59,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M69,19L69,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M79,19L79,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
</vector>



================================================
File: video-feed/src/main/res/drawable/ic_launcher_foreground.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:aapt="http://schemas.android.com/aapt"
    android:width="108dp"
    android:height="108dp"
    android:viewportWidth="108"
    android:viewportHeight="108">
    <path android:pathData="M31,63.928c0,0 6.4,-11 12.1,-13.1c7.2,-2.6 26,-1.4 26,-1.4l38.1,38.1L107,108.928l-32,-1L31,63.928z">
        <aapt:attr name="android:fillColor">
            <gradient
                android:endX="85.84757"
                android:endY="92.4963"
                android:startX="42.9492"
                android:startY="49.59793"
                android:type="linear">
                <item
                    android:color="#44000000"
                    android:offset="0.0" />
                <item
                    android:color="#00000000"
                    android:offset="1.0" />
            </gradient>
        </aapt:attr>
    </path>
    <path
        android:fillColor="#FFFFFF"
        android:fillType="nonZero"
        android:pathData="M65.3,45.828l3.8,-6.6c0.2,-0.4 0.1,-0.9 -0.3,-1.1c-0.4,-0.2 -0.9,-0.1 -1.1,0.3l-3.9,6.7c-6.3,-2.8 -13.4,-2.8 -19.7,0l-3.9,-6.7c-0.2,-0.4 -0.7,-0.5 -1.1,-0.3C38.8,38.328 38.7,38.828 38.9,39.228l3.8,6.6C36.2,49.428 31.7,56.028 31,63.928h46C76.3,56.028 71.8,49.428 65.3,45.828zM43.4,57.328c-0.8,0 -1.5,-0.5 -1.8,-1.2c-0.3,-0.7 -0.1,-1.5 0.4,-2.1c0.5,-0.5 1.4,-0.7 2.1,-0.4c0.7,0.3 1.2,1 1.2,1.8C45.3,56.528 44.5,57.328 43.4,57.328L43.4,57.328zM64.6,57.328c-0.8,0 -1.5,-0.5 -1.8,-1.2s-0.1,-1.5 0.4,-2.1c0.5,-0.5 1.4,-0.7 2.1,-0.4c0.7,0.3 1.2,1 1.2,1.8C66.5,56.528 65.6,57.328 64.6,57.328L64.6,57.328z"
        android:strokeWidth="1"
        android:strokeColor="#00000000" />
</vector>


================================================
File: video-feed/src/main/res/drawable/ic_video_feed_invest.xml
================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android" android:height="24dp" android:tint="#000000" android:viewportHeight="24" android:viewportWidth="24" android:width="24dp">
      
    <path android:fillColor="@android:color/white" android:pathData="M20,2L4,2c-1,0 -2,0.9 -2,2v3.01c0,0.72 0.43,1.34 1,1.69L3,20c0,1.1 1.1,2 2,2h14c0.9,0 2,-0.9 2,-2L21,8.7c0.57,-0.35 1,-0.97 1,-1.69L22,4c0,-1.1 -1,-2 -2,-2zM15,14L9,14v-2h6v2zM20,7L4,7L4,4l16,-0.02L20,7z"/>
    
</vector>



================================================
File: video-feed/src/main/res/layout/activity_feed_video_auth.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/white">

        <TextView
            android:id="@+id/tv_heading"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="30dp"
            android:fontFamily="@font/roboto_medium"
            android:gravity="center"
            android:text="@string/app_name"
            android:textColor="@color/black"
            android:textSize="20sp"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <TextView
            android:id="@+id/tv_api_key"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="30dp"
            android:text="@string/enter_api_key"
            android:textColor="@color/black"
            android:textSize="16sp"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_heading" />

        <EditText
            android:id="@+id/et_api_key"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="5dp"
            android:backgroundTint="@color/black"
            android:hint="@string/api_key"
            android:inputType="text"
            android:textColor="@color/black"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_api_key"
            tools:ignore="Autofill" />

        <TextView
            android:id="@+id/tv_user_name"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="20dp"
            android:text="@string/user_name"
            android:textColor="@color/black"
            android:textSize="16sp"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/et_api_key" />

        <EditText
            android:id="@+id/et_user_name"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="5dp"
            android:backgroundTint="@color/black"
            android:hint="@string/user_name"
            android:inputType="text"
            android:textColor="@color/black"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_user_name"
            tools:ignore="Autofill" />

        <TextView
            android:id="@+id/tv_user_id"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="20dp"
            android:text="@string/user_id"
            android:textColor="@color/black"
            android:textSize="16sp"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/et_user_name" />

        <EditText
            android:id="@+id/et_user_id"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="5dp"
            android:backgroundTint="@color/black"
            android:hint="@string/user_id"
            android:inputType="text"
            android:textColor="@color/black"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/tv_user_id"
            tools:ignore="Autofill" />

        <Button
            android:id="@+id/btn_login"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="20dp"
            android:layout_marginTop="50dp"
            android:text="@string/start"
            android:textColor="@color/white"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/et_user_id" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: video-feed/src/main/res/layout/activity_main.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <FrameLayout
            android:id="@+id/frame_layout"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            app:layout_constraintBottom_toTopOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: video-feed/src/main/res/layout/fragment_main.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_customisable"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Customisable Text View"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>


================================================
File: video-feed/src/main/res/layout/item_custom_reels_view_data_binder.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <!--    Rest of the layout-->

    <data>

        <variable
            name="position"
            type="int" />

        <variable
            name="postViewData"
            type="com.likeminds.feed.android.core.socialfeed.model.LMFeedPostViewData" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <com.likeminds.feed.android.core.ui.widgets.post.postmedia.view.LMFeedPostVerticalVideoMediaView
            android:id="@+id/post_video_view"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent" />

        <com.likeminds.feed.android.core.ui.widgets.post.postheaderview.view.LMFeedPostHeaderView
            android:id="@+id/post_header"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="@dimen/lm_feed_large_margin"
            android:layout_marginBottom="@dimen/lm_feed_large_margin"
            app:layout_constraintBottom_toTopOf="@id/tv_post_heading"
            app:layout_constraintEnd_toStartOf="@id/post_action_view"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_goneMarginBottom="@dimen/lm_feed_regular_margin" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedChipGroup
            android:id="@+id/post_topics_group"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/lm_feed_regular_margin"
            android:visibility="gone"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/post_header" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_post_heading"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_large_margin"
            android:layout_marginEnd="@dimen/lm_feed_extra_extra_large_margin"
            android:layout_marginBottom="@dimen/lm_feed_large_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
            android:visibility="gone"
            app:layout_constraintBottom_toTopOf="@id/tv_post_content"
            app:layout_constraintEnd_toStartOf="@id/post_action_view"
            app:layout_constraintStart_toStartOf="parent"
            tools:fontFamily="@font/roboto_medium"
            tools:textColor="@color/lm_feed_dark_grey"
            tools:textSize="@dimen/lm_feed_text_large" />

        <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
            android:id="@+id/tv_post_content"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/lm_feed_large_margin"
            android:layout_marginEnd="@dimen/lm_feed_extra_extra_large_margin"
            android:layout_marginBottom="@dimen/lm_feed_large_margin"
            android:lineSpacingExtra="@dimen/lm_feed_line_spacing_extra_extra_small"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toStartOf="@id/post_action_view"
            app:layout_constraintStart_toStartOf="parent"
            tools:fontFamily="@font/lm_feed_roboto"
            tools:textColor="@color/lm_feed_grey"
            tools:textSize="@dimen/lm_feed_text_large" />

        <androidx.constraintlayout.widget.ConstraintLayout
            android:id="@+id/post_action_view"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginEnd="@dimen/lm_feed_large_margin"
            android:layout_marginBottom="@dimen/lm_feed_vertical_post_action_bottom_margin"
            android:padding="@dimen/lm_feed_small_padding"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            tools:background="?android:attr/selectableItemBackground">

            <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
                android:id="@+id/iv_invest"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                android:padding="@dimen/lm_feed_small_padding"
                android:scaleType="fitCenter"
                android:tint="@color/white"
                android:visibility="visible"
                app:layout_constraintBottom_toTopOf="@id/iv_like"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:srcCompat="@drawable/ic_video_feed_invest"
                tools:ignore="ContentDescription"
                tools:visibility="visible" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
                android:id="@+id/iv_like"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:padding="@dimen/lm_feed_small_padding"
                android:scaleType="fitCenter"
                android:visibility="visible"
                app:layout_constraintBottom_toTopOf="@id/tv_likes_count"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                tools:ignore="ContentDescription"
                tools:srcCompat="@drawable/lm_feed_ic_like_filled"
                tools:visibility="visible" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                android:id="@+id/tv_likes_count"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginBottom="@dimen/lm_feed_medium_margin"
                android:foreground="?selectableItemBackground"
                android:textColor="@color/lm_feed_white"
                android:textStyle="normal"
                android:visibility="visible"
                app:layout_constraintBottom_toTopOf="@id/iv_comment"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                tools:fontFamily="@font/lm_feed_roboto"
                tools:ignore="UnusedAttribute"
                tools:text="31k"
                tools:textSize="@dimen/lm_feed_text_medium" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
                android:id="@+id/iv_comment"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:padding="@dimen/lm_feed_small_padding"
                android:scaleType="fitCenter"
                android:visibility="gone"
                app:layout_constraintBottom_toTopOf="@+id/tv_comments_count"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                tools:ignore="ContentDescription"
                tools:srcCompat="@drawable/lm_feed_ic_comment"
                tools:visibility="gone" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                android:id="@+id/tv_comments_count"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginBottom="@dimen/lm_feed_medium_margin"
                android:foreground="?selectableItemBackground"
                android:gravity="center"
                android:maxLines="1"
                android:textStyle="normal"
                android:visibility="gone"
                app:layout_constraintBottom_toTopOf="@id/iv_share"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                tools:fontFamily="@font/lm_feed_roboto"
                tools:text="3,145"
                tools:textAlignment="center"
                tools:textColor="@color/lm_feed_grey"
                tools:textSize="@dimen/lm_feed_text_medium"
                tools:visibility="gone" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
                android:id="@+id/iv_share"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginBottom="@dimen/lm_feed_small_margin"
                android:foreground="?selectableItemBackground"
                android:padding="@dimen/lm_feed_small_padding"
                android:scaleType="fitCenter"
                android:visibility="visible"
                app:layout_constraintBottom_toTopOf="@id/tv_share_count"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                tools:srcCompat="@drawable/lm_feed_ic_share"
                tools:visibility="gone" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedTextView
                android:id="@+id/tv_share_count"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginBottom="@dimen/lm_feed_medium_margin"
                android:foreground="?selectableItemBackground"
                android:gravity="center"
                android:textStyle="normal"
                android:visibility="gone"
                app:layout_constraintBottom_toTopOf="@id/iv_post_menu"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                tools:fontFamily="@font/lm_feed_roboto"
                tools:ignore="UnusedAttribute"
                tools:text="470"
                tools:textAlignment="center"
                tools:textColor="@color/lm_feed_grey"
                tools:textSize="@dimen/lm_feed_text_medium"
                tools:visibility="gone" />

            <com.likeminds.feed.android.core.ui.base.views.LMFeedIcon
                android:id="@+id/iv_post_menu"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:padding="@dimen/lm_feed_small_padding"
                android:scaleType="fitCenter"
                android:tint="@color/lm_feed_white"
                android:visibility="visible"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                tools:ignore="ContentDescription,UnusedAttribute"
                tools:src="@drawable/lm_feed_ic_overflow_menu"
                tools:visibility="visible" />

        </androidx.constraintlayout.widget.ConstraintLayout>

    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>


================================================
File: video-feed/src/main/res/mipmap-anydpi-v26/ic_launcher.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
    <background android:drawable="@drawable/ic_launcher_background" />
    <foreground android:drawable="@drawable/ic_launcher_foreground" />
    <monochrome android:drawable="@drawable/ic_launcher_foreground" />
</adaptive-icon>


================================================
File: video-feed/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
    <background android:drawable="@drawable/ic_launcher_background" />
    <foreground android:drawable="@drawable/ic_launcher_foreground" />
    <monochrome android:drawable="@drawable/ic_launcher_foreground" />
</adaptive-icon>


================================================
File: video-feed/src/main/res/mipmap-hdpi/ic_launcher.webp
================================================
[Non-text file]


================================================
File: video-feed/src/main/res/mipmap-hdpi/ic_launcher_round.webp
================================================
[Non-text file]


================================================
File: video-feed/src/main/res/mipmap-mdpi/ic_launcher.webp
================================================
[Non-text file]


================================================
File: video-feed/src/main/res/mipmap-mdpi/ic_launcher_round.webp
================================================
[Non-text file]


================================================
File: video-feed/src/main/res/mipmap-xhdpi/ic_launcher.webp
================================================
[Non-text file]


================================================
File: video-feed/src/main/res/mipmap-xhdpi/ic_launcher_round.webp
================================================
[Non-text file]


================================================
File: video-feed/src/main/res/mipmap-xxhdpi/ic_launcher.webp
================================================
[Non-text file]


================================================
File: video-feed/src/main/res/mipmap-xxhdpi/ic_launcher_round.webp
================================================
[Non-text file]


================================================
File: video-feed/src/main/res/mipmap-xxxhdpi/ic_launcher.webp
================================================
[Non-text file]


================================================
File: video-feed/src/main/res/mipmap-xxxhdpi/ic_launcher_round.webp
================================================
[Non-text file]


================================================
File: video-feed/src/main/res/values/colors.xml
================================================
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <color name="purple_200">#FFBB86FC</color>
    <color name="purple_500">#FF6200EE</color>
    <color name="purple_700">#FF3700B3</color>
    <color name="teal_200">#FF03DAC5</color>
    <color name="teal_700">#FF018786</color>
    <color name="black">#FF000000</color>
    <color name="white">#FFFFFFFF</color>
</resources>


================================================
File: video-feed/src/main/res/values/strings.xml
================================================
<resources>
    <string name="app_name">LikeMinds Video Feed Android</string>
    <string name="start">Start</string>
    <string name="api_key">Api Key</string>
    <string name="enter_api_key">Enter API Key</string>
    <string name="user_name">User Name</string>
    <string name="user_id">User Id</string>
    <string name="login">Login</string>
    <string name="enter_user_name">Enter user name</string>
    <string name="enter_user_id">Enter user id</string>
</resources>


================================================
File: video-feed/src/main/res/values/themes.xml
================================================
<resources xmlns:tools="http://schemas.android.com/tools">
    <!-- Base application theme. -->
    <style name="Theme.Likemindsfeedandroid" parent="Theme.MaterialComponents.DayNight.DarkActionBar">
        <!-- Primary brand color. -->
        <item name="colorPrimary">@color/purple_500</item>
        <item name="colorPrimaryVariant">@color/purple_700</item>
        <item name="colorOnPrimary">@color/white</item>
        <!-- Secondary brand color. -->
        <item name="colorSecondary">@color/teal_200</item>
        <item name="colorSecondaryVariant">@color/teal_700</item>
        <item name="colorOnSecondary">@color/black</item>
        <!-- Status bar color. -->
        <item name="android:statusBarColor">?attr/colorPrimaryVariant</item>
        <!-- Customize your theme here. -->
    </style>
</resources>


================================================
File: video-feed/src/main/res/values-night/themes.xml
================================================
<resources xmlns:tools="http://schemas.android.com/tools">
    <!-- Base application theme. -->
    <style name="Theme.Likemindsfeedandroid" parent="Theme.MaterialComponents.DayNight.DarkActionBar">
        <!-- Primary brand color. -->
        <item name="colorPrimary">@color/purple_200</item>
        <item name="colorPrimaryVariant">@color/purple_700</item>
        <item name="colorOnPrimary">@color/black</item>
        <!-- Secondary brand color. -->
        <item name="colorSecondary">@color/teal_200</item>
        <item name="colorSecondaryVariant">@color/teal_200</item>
        <item name="colorOnSecondary">@color/black</item>
        <!-- Status bar color. -->
        <item name="android:statusBarColor">?attr/colorPrimaryVariant</item>
        <!-- Customize your theme here. -->
    </style>
</resources>


================================================
File: video-feed/src/test/java/com/likeminds/feedvideo/ExampleUnitTest.kt
================================================
package com.likeminds.feedvideo

import org.junit.Test

import org.junit.Assert.*

/**
 * Example local unit test, which will execute on the development machine (host).
 *
 * See [testing documentation](http://d.android.com/tools/testing).
 */
class ExampleUnitTest {
    @Test
    fun addition_isCorrect() {
        assertEquals(4, 2 + 2)
    }
}


================================================
File: .github/pull_request_template.md
================================================
## Description

**Features**

**Bugs**

**What kind of change does this PR introduce?** (check at least one)
<!-- (Update "[ ]" to "[x]" to check a box) -->

- [ ] Bug fix (non-breaking change which fixes an issue)
- [ ] Hotfix (fix for breaking changes)
- [ ] New Feature (non-breaking change which adds functionality)
- [ ] Other, please describe:

### Author Checklist

- [ ] Assignee added
- [ ] Reviewer added
- [ ] Description added
- [ ] Unit test cases added

### Reviewer Checklist

- [ ] PR title starts with Jira ticket number prefix
- [ ] If hotfix, Add Hotfix as prefix in PR title
- [ ] Label added
- [ ] Commit messages follows standard format (added, changed, removed, code commented and chore)
- [ ] Description about the Feature/ Bugs added


---
